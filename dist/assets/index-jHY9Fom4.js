const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/tesseract-CYNMApEz.js","assets/vendor-YT48caDH.js","assets/index.es-W8bxXkLl.js","assets/ui-B4kFa1pV.js","assets/utils-D2yrYu19.js","assets/supabase-BCs24Udb.js","assets/charts-DA_SANKN.js","assets/qrcode-MSBVZ_Y1.js","assets/medicationOCR-CpZM3y2G.js"])))=>i.map(i=>d[i]);
var DF=Object.defineProperty,PF=Object.defineProperties;var MF=Object.getOwnPropertyDescriptors;var Oh=Object.getOwnPropertySymbols,TF=Object.getPrototypeOf,Vw=Object.prototype.hasOwnProperty,zw=Object.prototype.propertyIsEnumerable,RF=Reflect.get;var Sl=(e,t)=>(t=Symbol[e])?t:Symbol.for("Symbol."+e),Eg=e=>{throw TypeError(e)},qw=Math.pow,Fg=(e,t,r)=>t in e?DF(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,_=(e,t)=>{for(var r in t||(t={}))Vw.call(t,r)&&Fg(e,r,t[r]);if(Oh)for(var r of Oh(t))zw.call(t,r)&&Fg(e,r,t[r]);return e},M=(e,t)=>PF(e,MF(t));var he=(e,t)=>{var r={};for(var a in e)Vw.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&Oh)for(var a of Oh(e))t.indexOf(a)<0&&zw.call(e,a)&&(r[a]=e[a]);return r};var hr=(e,t,r)=>Fg(e,typeof t!="symbol"?t+"":t,r),Ug=(e,t,r)=>t.has(e)||Eg("Cannot "+r);var Re=(e,t,r)=>(Ug(e,t,"read from private field"),r?r.call(e):t.get(e)),cr=(e,t,r)=>t.has(e)?Eg("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),zt=(e,t,r,a)=>(Ug(e,t,"write to private field"),a?a.call(e,r):t.set(e,r),r),sa=(e,t,r)=>(Ug(e,t,"access private method"),r);var Hh=(e,t,r,a)=>({set _(n){zt(e,t,n,r)},get _(){return Re(e,t,a)}}),Gw=(e,t,r)=>RF(TF(e),r,t);var Ae=(e,t,r)=>new Promise((a,n)=>{var i=l=>{try{A(r.next(l))}catch(c){n(c)}},o=l=>{try{A(r.throw(l))}catch(c){n(c)}},A=l=>l.done?a(l.value):Promise.resolve(l.value).then(i,o);A((r=r.apply(e,t)).next())}),Cs=function(e,t){this[0]=e,this[1]=t},Qi=(e,t,r)=>{var a=(o,A,l,c)=>{try{var d=r[o](A),h=(A=d.value)instanceof Cs,m=d.done;Promise.resolve(h?A[0]:A).then(u=>h?a(o==="return"?o:"next",A[1]?{done:u.done,value:u.value}:u,l,c):l({value:u,done:m})).catch(u=>a("throw",u,l,c))}catch(u){c(u)}},n=o=>i[o]=A=>new Promise((l,c)=>a(o,A,l,c)),i={};return r=r.apply(e,t),i[Sl("asyncIterator")]=()=>i,n("next"),n("throw"),n("return"),i},Ww=e=>{var t=e[Sl("asyncIterator")],r=!1,a,n={};return t==null?(t=e[Sl("iterator")](),a=i=>n[i]=o=>t[i](o)):(t=t.call(e),a=i=>n[i]=o=>{if(r){if(r=!1,i==="throw")throw o;return o}return r=!0,{done:!1,value:new Cs(new Promise(A=>{var l=t[i](o);l instanceof Object||Eg("Object expected"),A(l)}),1)}}),n[Sl("iterator")]=()=>n,a("next"),"throw"in t?a("throw"):n.throw=i=>{throw i},"return"in t&&a("return"),n},aa=(e,t,r)=>(t=e[Sl("asyncIterator")])?t.call(e):(e=e[Sl("iterator")](),t={},r=(a,n)=>(n=e[a])&&(t[a]=i=>new Promise((o,A,l)=>(i=n.call(e,i),l=i.done,Promise.resolve(i.value).then(c=>o({value:c,done:l}),A)))),r("next"),r("return"),t);import{j as s,V as J5,R as X5,A as Y5,C as Z5,T as eB,D as tB,P as OF,c as mi,a as Fc,u as Rs,b as rp,d as vr,e as Nt,f as rn,g as Nv,h as _v,i as HF,k as Sv,l as pc,m as Ec,n as Fv,o as KF,S as Uc,p as Tn,q as hm,r as rB,s as sp,t as sB,v as aB,F as nB,w as iB,x as oB,y as $F,z as AB,B as lB,O as ap,E as np,G as cB,H as ip,I as op,J as dB,K as uB,L as VF,M as zF,N as hB,Q as qF,U as fB,W as mB,X as GF,Y as pB,Z as WF,_ as gB,$ as xB,a0 as JF,a1 as XF,a2 as vB,a3 as YF,a4 as ZF,a5 as eE,a6 as tE}from"./ui-B4kFa1pV.js";import{a as rE,r as b,R as rt,b as sE,c as aE}from"./vendor-YT48caDH.js";import{c as wB,t as nE,b as Ig,a as hd,d as iE,e as fd,i as Qa,s as Qg,f as da,g as Vi,h as Za,j as Ev,k as Jw,l as fi,m as Au,n as Uv,o as bB,p as tx,q as oE,r as AE,u as rx,v as lE,w as cE,x as kg,y as Xw,z as dE,A as uE,B as hE,C as yB,D as BB,E as Iv,F as Qv,G as fE,H as mE,I as yr,J as jB,K as pE}from"./utils-D2yrYu19.js";import{c as gE,_ as zd}from"./supabase-BCs24Udb.js";import{R as Bo,T as CB,B as Kh,C as _A,X as SA,Y as xo,a as FA,L as Yw,b as $h,c as Zw,d as xE}from"./charts-DA_SANKN.js";import{b as fm}from"./qrcode-MSBVZ_Y1.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&a(o)}).observe(document,{childList:!0,subtree:!0});function r(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(n){if(n.ep)return;n.ep=!0;const i=r(n);fetch(n.href,i)}})();var NB,e2=rE;NB=e2.createRoot,e2.hydrateRoot;const vE=1,wE=1e6;let Lg=0;function bE(){return Lg=(Lg+1)%Number.MAX_SAFE_INTEGER,Lg.toString()}const Dg=new Map,t2=e=>{if(Dg.has(e))return;const t=setTimeout(()=>{Dg.delete(e),qd({type:"REMOVE_TOAST",toastId:e})},wE);Dg.set(e,t)},yE=(e,t)=>{switch(t.type){case"ADD_TOAST":return M(_({},e),{toasts:[t.toast,...e.toasts].slice(0,vE)});case"UPDATE_TOAST":return M(_({},e),{toasts:e.toasts.map(r=>r.id===t.toast.id?_(_({},r),t.toast):r)});case"DISMISS_TOAST":{const{toastId:r}=t;return r?t2(r):e.toasts.forEach(a=>{t2(a.id)}),M(_({},e),{toasts:e.toasts.map(a=>a.id===r||r===void 0?M(_({},a),{open:!1}):a)})}case"REMOVE_TOAST":return t.toastId===void 0?M(_({},e),{toasts:[]}):M(_({},e),{toasts:e.toasts.filter(r=>r.id!==t.toastId)})}},Tf=[];let Rf={toasts:[]};function qd(e){Rf=yE(Rf,e),Tf.forEach(t=>{t(Rf)})}function BE(t){var e=he(t,[]);const r=bE(),a=i=>qd({type:"UPDATE_TOAST",toast:M(_({},i),{id:r})}),n=()=>qd({type:"DISMISS_TOAST",toastId:r});return qd({type:"ADD_TOAST",toast:M(_({},e),{id:r,open:!0,onOpenChange:i=>{i||n()}})}),{id:r,dismiss:n,update:a}}function ir(){const[e,t]=b.useState(Rf);return b.useEffect(()=>(Tf.push(t),()=>{const r=Tf.indexOf(t);r>-1&&Tf.splice(r,1)}),[e]),M(_({},e),{toast:BE,dismiss:r=>qd({type:"DISMISS_TOAST",toastId:r})})}const r2=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,s2=wB,Yi=(e,t)=>r=>{var a;if((t==null?void 0:t.variants)==null)return s2(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:n,defaultVariants:i}=t,o=Object.keys(n).map(c=>{const d=r==null?void 0:r[c],h=i==null?void 0:i[c];if(d===null)return null;const m=r2(d)||r2(h);return n[c][m]}),A=r&&Object.entries(r).reduce((c,d)=>{let[h,m]=d;return m===void 0||(c[h]=m),c},{}),l=t==null||(a=t.compoundVariants)===null||a===void 0?void 0:a.reduce((c,d)=>{let p=d,{class:h,className:m}=p,u=he(p,["class","className"]);return Object.entries(u).every(g=>{let[y,x]=g;return Array.isArray(x)?x.includes(_(_({},i),A)[y]):_(_({},i),A)[y]===x})?[...c,h,m]:c},[]);return s2(e,o,l,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jE=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),_B=(...e)=>e.filter((t,r,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var CE={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NE=b.forwardRef((c,l)=>{var d=c,{color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:a,className:n="",children:i,iconNode:o}=d,A=he(d,["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"]);return b.createElement("svg",_(M(_({ref:l},CE),{width:t,height:t,stroke:e,strokeWidth:a?Number(r)*24/Number(t):r,className:_B("lucide",n)}),A),[...o.map(([h,m])=>b.createElement(h,m)),...Array.isArray(i)?i:[i]])});/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=(e,t)=>{const r=b.forwardRef((o,i)=>{var A=o,{className:a}=A,n=he(A,["className"]);return b.createElement(NE,_({ref:i,iconNode:t,className:_B(`lucide-${jE(e)}`,a)},n))});return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tr=qe("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _E=qe("ArrowDownWideNarrow",[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M11 4h10",key:"1w87gc"}],["path",{d:"M11 8h7",key:"djye34"}],["path",{d:"M11 12h4",key:"q8tih4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zi=qe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oi=qe("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SE=qe("ArrowUpNarrowWide",[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sx=qe("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FE=qe("Bath",[["path",{d:"M10 4 8 6",key:"1rru8s"}],["path",{d:"M17 19v2",key:"ts1sot"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"M7 19v2",key:"12npes"}],["path",{d:"M9 5 7.621 3.621A2.121 2.121 0 0 0 4 5v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-5",key:"14ym8i"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a2=qe("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EE=qe("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mm=qe("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pm=qe("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Us=qe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const On=qe("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lu=qe("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UE=qe("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wo=qe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mu=qe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IE=qe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tu=qe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SB=qe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ts=qe("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rr=qe("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ax=qe("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QE=qe("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FB=qe("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nx=qe("Clipboard",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yr=qe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nd=qe("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ap=qe("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ba=qe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jo=qe("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n2=qe("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tl=qe("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zs=qe("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XA=qe("FileImage",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["circle",{cx:"10",cy:"12",r:"2",key:"737tya"}],["path",{d:"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22",key:"wt3hpn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xt=qe("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EB=qe("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lp=qe("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qr=qe("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gm=qe("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kE=qe("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kv=qe("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UB=qe("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IB=qe("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LE=qe("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ms=qe("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gi=qe("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i2=qe("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ix=qe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ox=qe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xm=qe("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DE=qe("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PE=qe("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ME=qe("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TE=qe("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RE=qe("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ax=qe("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QB=qe("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OE=qe("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lx=qe("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o2=qe("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mr=qe("Pill",[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cx=qe("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xr=qe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vm=qe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cu=qe("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hn=qe("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HE=qe("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xo=qe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KE=qe("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ru=qe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $E=qe("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kB=qe("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VE=qe("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zE=qe("ShieldX",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m14.5 9.5-5 5",key:"17q4r4"}],["path",{d:"m9.5 9.5 5 5",key:"18nt4w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tA=qe("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qE=qe("SlidersVertical",[["line",{x1:"4",x2:"4",y1:"21",y2:"14",key:"1p332r"}],["line",{x1:"4",x2:"4",y1:"10",y2:"3",key:"gb41h5"}],["line",{x1:"12",x2:"12",y1:"21",y2:"12",key:"hf2csr"}],["line",{x1:"12",x2:"12",y1:"8",y2:"3",key:"1kfi7u"}],["line",{x1:"20",x2:"20",y1:"21",y2:"16",key:"1lhrwl"}],["line",{x1:"20",x2:"20",y1:"12",y2:"3",key:"16vvfq"}],["line",{x1:"2",x2:"6",y1:"14",y2:"14",key:"1uebub"}],["line",{x1:"10",x2:"14",y1:"8",y2:"8",key:"1yglbp"}],["line",{x1:"18",x2:"22",y1:"16",y2:"16",key:"1jxqpz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LB=qe("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gd=qe("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wm=qe("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rl=qe("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Of=qe("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wi=qe("Stethoscope",[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DB=qe("SwitchCamera",[["path",{d:"M11 19H4a2 2 0 0 1-2-2V7a2 2 0 0 1 2-2h5",key:"mtk2lu"}],["path",{d:"M13 5h7a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-5",key:"120jsl"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}],["path",{d:"m18 22-3-3 3-3",key:"kgdoj7"}],["path",{d:"m6 2 3 3-3 3",key:"1fnbkv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GE=qe("Syringe",[["path",{d:"m18 2 4 4",key:"22kx64"}],["path",{d:"m17 7 3-3",key:"1w1zoj"}],["path",{d:"M19 9 8.7 19.3c-1 1-2.5 1-3.4 0l-.6-.6c-1-1-1-2.5 0-3.4L15 5",key:"1exhtz"}],["path",{d:"m9 11 4 4",key:"rovt3i"}],["path",{d:"m5 19-3 3",key:"59f2uf"}],["path",{d:"m14 4 6 6",key:"yqp9t2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WE=qe("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dx=qe("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const du=qe("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PB=qe("Thermometer",[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MB=qe("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lv=qe("Toilet",[["path",{d:"M7 12h13a1 1 0 0 1 1 1 5 5 0 0 1-5 5h-.598a.5.5 0 0 0-.424.765l1.544 2.47a.5.5 0 0 1-.424.765H5.402a.5.5 0 0 1-.424-.765L7 18",key:"kc4kqr"}],["path",{d:"M8 18a5 5 0 0 1-5-5V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v8",key:"1tqs57"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ha=qe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const di=qe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gc=qe("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ji=qe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JE=qe("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Or=qe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xs=qe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sl=qe("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XE=qe("WashingMachine",[["path",{d:"M3 6h3",key:"155dbl"}],["path",{d:"M17 6h.01",key:"e2y6kg"}],["rect",{width:"18",height:"20",x:"3",y:"2",rx:"2",key:"od3kk9"}],["circle",{cx:"12",cy:"13",r:"5",key:"nlbqau"}],["path",{d:"M12 18a2.5 2.5 0 0 0 0-5 2.5 2.5 0 0 1 0-5",key:"17lach"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ja=qe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YE=qe("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);function ze(...e){return nE(wB(e))}const ZE=OF,TB=b.forwardRef((a,r)=>{var n=a,{className:e}=n,t=he(n,["className"]);return s.jsx(J5,_({ref:r,className:ze("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e)},t))});TB.displayName=J5.displayName;const eU=Yi("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),RB=b.forwardRef((n,a)=>{var i=n,{className:e,variant:t}=i,r=he(i,["className","variant"]);return s.jsx(X5,_({ref:a,className:ze(eU({variant:t}),e)},r))});RB.displayName=X5.displayName;const tU=b.forwardRef((a,r)=>{var n=a,{className:e}=n,t=he(n,["className"]);return s.jsx(Y5,_({ref:r,className:ze("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",e)},t))});tU.displayName=Y5.displayName;const OB=b.forwardRef((a,r)=>{var n=a,{className:e}=n,t=he(n,["className"]);return s.jsx(Z5,M(_({ref:r,className:ze("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":""},t),{children:s.jsx(ja,{className:"h-4 w-4"})}))});OB.displayName=Z5.displayName;const HB=b.forwardRef((a,r)=>{var n=a,{className:e}=n,t=he(n,["className"]);return s.jsx(eB,_({ref:r,className:ze("text-sm font-semibold",e)},t))});HB.displayName=eB.displayName;const KB=b.forwardRef((a,r)=>{var n=a,{className:e}=n,t=he(n,["className"]);return s.jsx(tB,_({ref:r,className:ze("text-sm opacity-90",e)},t))});KB.displayName=tB.displayName;function rU(){const{toasts:e}=ir();return s.jsxs(ZE,{children:[e.map(function(o){var A=o,{id:t,title:r,description:a,action:n}=A,i=he(A,["id","title","description","action"]);return s.jsxs(RB,M(_({},i),{children:[s.jsxs("div",{className:"grid gap-1",children:[r&&s.jsx(HB,{children:r}),a&&s.jsx(KB,{children:a})]}),n,s.jsx(OB,{})]}),t)}),s.jsx(TB,{})]})}var A2=["light","dark"],sU="(prefers-color-scheme: dark)",aU=b.createContext(void 0),nU={setTheme:e=>{},themes:[]},iU=()=>{var e;return(e=b.useContext(aU))!=null?e:nU};b.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:a,enableColorScheme:n,defaultTheme:i,value:o,attrs:A,nonce:l})=>{let c=i==="system",d=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${A.map(p=>`'${p}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,h=n?A2.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",m=(p,g=!1,y=!0)=>{let x=o?o[p]:p,B=g?p+"|| ''":`'${x}'`,j="";return n&&y&&!g&&A2.includes(p)&&(j+=`d.style.colorScheme = '${p}';`),r==="class"?g||x?j+=`c.add(${B})`:j+="null":x&&(j+=`d[s](n,${B})`),j},u=e?`!function(){${d}${m(e)}}()`:a?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${c})){var t='${sU}',m=window.matchMedia(t);if(m.media!==t||m.matches){${m("dark")}}else{${m("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${m(o?"x[e]":"e",!0)}}${c?"":"else{"+m(i,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${m(o?"x[e]":"e",!0)}}else{${m(i,!1,!1)};}${h}}catch(t){}}();`;return b.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:u}})});var oU=e=>{switch(e){case"success":return cU;case"info":return uU;case"warning":return dU;case"error":return hU;default:return null}},AU=Array(12).fill(0),lU=({visible:e,className:t})=>rt.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},rt.createElement("div",{className:"sonner-spinner"},AU.map((r,a)=>rt.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${a}`})))),cU=rt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},rt.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),dU=rt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},rt.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),uU=rt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},rt.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),hU=rt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},rt.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),fU=rt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},rt.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),rt.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),mU=()=>{let[e,t]=rt.useState(document.hidden);return rt.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},ux=1,pU=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let r=this.subscribers.indexOf(t);this.subscribers.splice(r,1)}),this.publish=t=>{this.subscribers.forEach(r=>r(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var r;let l=t,{message:a}=l,n=he(l,["message"]),i=typeof(t==null?void 0:t.id)=="number"||((r=t.id)==null?void 0:r.length)>0?t.id:ux++,o=this.toasts.find(c=>c.id===i),A=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),o?this.toasts=this.toasts.map(c=>c.id===i?(this.publish(M(_(_({},c),t),{id:i,title:a})),M(_(_({},c),t),{id:i,dismissible:A,title:a})):c):this.addToast(M(_({title:a},n),{dismissible:A,id:i})),i},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(r=>{this.subscribers.forEach(a=>a({id:r.id,dismiss:!0}))}),this.subscribers.forEach(r=>r({id:t,dismiss:!0})),t),this.message=(t,r)=>this.create(M(_({},r),{message:t})),this.error=(t,r)=>this.create(M(_({},r),{message:t,type:"error"})),this.success=(t,r)=>this.create(M(_({},r),{type:"success",message:t})),this.info=(t,r)=>this.create(M(_({},r),{type:"info",message:t})),this.warning=(t,r)=>this.create(M(_({},r),{type:"warning",message:t})),this.loading=(t,r)=>this.create(M(_({},r),{type:"loading",message:t})),this.promise=(t,r)=>{if(!r)return;let a;r.loading!==void 0&&(a=this.create(M(_({},r),{promise:t,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0})));let n=t instanceof Promise?t:t(),i=a!==void 0,o,A=n.then(c=>Ae(this,null,function*(){if(o=["resolve",c],rt.isValidElement(c))i=!1,this.create({id:a,type:"default",message:c});else if(xU(c)&&!c.ok){i=!1;let d=typeof r.error=="function"?yield r.error(`HTTP error! status: ${c.status}`):r.error,h=typeof r.description=="function"?yield r.description(`HTTP error! status: ${c.status}`):r.description;this.create({id:a,type:"error",message:d,description:h})}else if(r.success!==void 0){i=!1;let d=typeof r.success=="function"?yield r.success(c):r.success,h=typeof r.description=="function"?yield r.description(c):r.description;this.create({id:a,type:"success",message:d,description:h})}})).catch(c=>Ae(this,null,function*(){if(o=["reject",c],r.error!==void 0){i=!1;let d=typeof r.error=="function"?yield r.error(c):r.error,h=typeof r.description=="function"?yield r.description(c):r.description;this.create({id:a,type:"error",message:d,description:h})}})).finally(()=>{var c;i&&(this.dismiss(a),a=void 0),(c=r.finally)==null||c.call(r)}),l=()=>new Promise((c,d)=>A.then(()=>o[0]==="reject"?d(o[1]):c(o[1])).catch(d));return typeof a!="string"&&typeof a!="number"?{unwrap:l}:Object.assign(a,{unwrap:l})},this.custom=(t,r)=>{let a=(r==null?void 0:r.id)||ux++;return this.create(_({jsx:t(a),id:a},r)),a},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Ea=new pU,gU=(e,t)=>{let r=(t==null?void 0:t.id)||ux++;return Ea.addToast(M(_({title:e},t),{id:r})),r},xU=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",vU=gU,wU=()=>Ea.toasts,bU=()=>Ea.getActiveToasts(),Pg=Object.assign(vU,{success:Ea.success,info:Ea.info,warning:Ea.warning,error:Ea.error,custom:Ea.custom,message:Ea.message,promise:Ea.promise,dismiss:Ea.dismiss,loading:Ea.loading},{getHistory:wU,getToasts:bU});function yU(e,{insertAt:t}={}){if(typeof document=="undefined")return;let r=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css",t==="top"&&r.firstChild?r.insertBefore(a,r.firstChild):r.appendChild(a),a.styleSheet?a.styleSheet.cssText=e:a.appendChild(document.createTextNode(e))}yU(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Vh(e){return e.label!==void 0}var BU=3,jU="32px",CU="16px",l2=4e3,NU=356,_U=14,SU=20,FU=200;function In(...e){return e.filter(Boolean).join(" ")}function EU(e){let[t,r]=e.split("-"),a=[];return t&&a.push(t),r&&a.push(r),a}var UU=e=>{var t,r,a,n,i,o,A,l,c,d,h;let{invert:m,toast:u,unstyled:p,interacting:g,setHeights:y,visibleToasts:x,heights:B,index:j,toasts:w,expanded:N,removeToast:I,defaultRichColors:U,closeButton:D,style:L,cancelButtonStyle:P,actionButtonStyle:S,className:E="",descriptionClassName:Q="",duration:V,position:ae,gap:Y,loadingIcon:q,expandByDefault:K,classNames:Z,icons:fe,closeButtonAriaLabel:we="Close toast",pauseWhenPageIsHidden:T}=e,[G,X]=rt.useState(null),[se,le]=rt.useState(null),[de,Ne]=rt.useState(!1),[je,Ie]=rt.useState(!1),[Oe,ue]=rt.useState(!1),[ke,ge]=rt.useState(!1),[J,xe]=rt.useState(!1),[Te,Xe]=rt.useState(0),[Qe,Ye]=rt.useState(0),We=rt.useRef(u.duration||V||l2),xt=rt.useRef(null),ye=rt.useRef(null),gt=j===0,yt=j+1<=x,ct=u.type,me=u.dismissible!==!1,Je=u.className||"",st=u.descriptionClassName||"",nt=rt.useMemo(()=>B.findIndex(Ft=>Ft.toastId===u.id)||0,[B,u.id]),ht=rt.useMemo(()=>{var Ft;return(Ft=u.closeButton)!=null?Ft:D},[u.closeButton,D]),rr=rt.useMemo(()=>u.duration||V||l2,[u.duration,V]),Jt=rt.useRef(0),ot=rt.useRef(0),Qt=rt.useRef(0),sr=rt.useRef(null),[_t,Yt]=ae.split("-"),Tt=rt.useMemo(()=>B.reduce((Ft,Ot,ar)=>ar>=nt?Ft:Ft+Ot.height,0),[B,nt]),Lr=mU(),es=u.invert||m,dr=ct==="loading";ot.current=rt.useMemo(()=>nt*Y+Tt,[nt,Tt]),rt.useEffect(()=>{We.current=rr},[rr]),rt.useEffect(()=>{Ne(!0)},[]),rt.useEffect(()=>{let Ft=ye.current;if(Ft){let Ot=Ft.getBoundingClientRect().height;return Ye(Ot),y(ar=>[{toastId:u.id,height:Ot,position:u.position},...ar]),()=>y(ar=>ar.filter($r=>$r.toastId!==u.id))}},[y,u.id]),rt.useLayoutEffect(()=>{if(!de)return;let Ft=ye.current,Ot=Ft.style.height;Ft.style.height="auto";let ar=Ft.getBoundingClientRect().height;Ft.style.height=Ot,Ye(ar),y($r=>$r.find(ft=>ft.toastId===u.id)?$r.map(ft=>ft.toastId===u.id?M(_({},ft),{height:ar}):ft):[{toastId:u.id,height:ar,position:u.position},...$r])},[de,u.title,u.description,y,u.id]);let jt=rt.useCallback(()=>{Ie(!0),Xe(ot.current),y(Ft=>Ft.filter(Ot=>Ot.toastId!==u.id)),setTimeout(()=>{I(u)},FU)},[u,I,y,ot]);rt.useEffect(()=>{if(u.promise&&ct==="loading"||u.duration===1/0||u.type==="loading")return;let Ft;return N||g||T&&Lr?(()=>{if(Qt.current<Jt.current){let Ot=new Date().getTime()-Jt.current;We.current=We.current-Ot}Qt.current=new Date().getTime()})():We.current!==1/0&&(Jt.current=new Date().getTime(),Ft=setTimeout(()=>{var Ot;(Ot=u.onAutoClose)==null||Ot.call(u,u),jt()},We.current)),()=>clearTimeout(Ft)},[N,g,u,ct,T,Lr,jt]),rt.useEffect(()=>{u.delete&&jt()},[jt,u.delete]);function lr(){var Ft,Ot,ar;return fe!=null&&fe.loading?rt.createElement("div",{className:In(Z==null?void 0:Z.loader,(Ft=u==null?void 0:u.classNames)==null?void 0:Ft.loader,"sonner-loader"),"data-visible":ct==="loading"},fe.loading):q?rt.createElement("div",{className:In(Z==null?void 0:Z.loader,(Ot=u==null?void 0:u.classNames)==null?void 0:Ot.loader,"sonner-loader"),"data-visible":ct==="loading"},q):rt.createElement(lU,{className:In(Z==null?void 0:Z.loader,(ar=u==null?void 0:u.classNames)==null?void 0:ar.loader),visible:ct==="loading"})}return rt.createElement("li",{tabIndex:0,ref:ye,className:In(E,Je,Z==null?void 0:Z.toast,(t=u==null?void 0:u.classNames)==null?void 0:t.toast,Z==null?void 0:Z.default,Z==null?void 0:Z[ct],(r=u==null?void 0:u.classNames)==null?void 0:r[ct]),"data-sonner-toast":"","data-rich-colors":(a=u.richColors)!=null?a:U,"data-styled":!(u.jsx||u.unstyled||p),"data-mounted":de,"data-promise":!!u.promise,"data-swiped":J,"data-removed":je,"data-visible":yt,"data-y-position":_t,"data-x-position":Yt,"data-index":j,"data-front":gt,"data-swiping":Oe,"data-dismissible":me,"data-type":ct,"data-invert":es,"data-swipe-out":ke,"data-swipe-direction":se,"data-expanded":!!(N||K&&de),style:_(_({"--index":j,"--toasts-before":j,"--z-index":w.length-j,"--offset":`${je?Te:ot.current}px`,"--initial-height":K?"auto":`${Qe}px`},L),u.style),onDragEnd:()=>{ue(!1),X(null),sr.current=null},onPointerDown:Ft=>{dr||!me||(xt.current=new Date,Xe(ot.current),Ft.target.setPointerCapture(Ft.pointerId),Ft.target.tagName!=="BUTTON"&&(ue(!0),sr.current={x:Ft.clientX,y:Ft.clientY}))},onPointerUp:()=>{var Ft,Ot,ar,$r;if(ke||!me)return;sr.current=null;let ft=Number(((Ft=ye.current)==null?void 0:Ft.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Is=Number(((Ot=ye.current)==null?void 0:Ot.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Os=new Date().getTime()-((ar=xt.current)==null?void 0:ar.getTime()),Dr=G==="x"?ft:Is,ts=Math.abs(Dr)/Os;if(Math.abs(Dr)>=SU||ts>.11){Xe(ot.current),($r=u.onDismiss)==null||$r.call(u,u),le(G==="x"?ft>0?"right":"left":Is>0?"down":"up"),jt(),ge(!0),xe(!1);return}ue(!1),X(null)},onPointerMove:Ft=>{var Ot,ar,$r,ft;if(!sr.current||!me||((Ot=window.getSelection())==null?void 0:Ot.toString().length)>0)return;let Is=Ft.clientY-sr.current.y,Os=Ft.clientX-sr.current.x,Dr=(ar=e.swipeDirections)!=null?ar:EU(ae);!G&&(Math.abs(Os)>1||Math.abs(Is)>1)&&X(Math.abs(Os)>Math.abs(Is)?"x":"y");let ts={x:0,y:0};G==="y"?(Dr.includes("top")||Dr.includes("bottom"))&&(Dr.includes("top")&&Is<0||Dr.includes("bottom")&&Is>0)&&(ts.y=Is):G==="x"&&(Dr.includes("left")||Dr.includes("right"))&&(Dr.includes("left")&&Os<0||Dr.includes("right")&&Os>0)&&(ts.x=Os),(Math.abs(ts.x)>0||Math.abs(ts.y)>0)&&xe(!0),($r=ye.current)==null||$r.style.setProperty("--swipe-amount-x",`${ts.x}px`),(ft=ye.current)==null||ft.style.setProperty("--swipe-amount-y",`${ts.y}px`)}},ht&&!u.jsx?rt.createElement("button",{"aria-label":we,"data-disabled":dr,"data-close-button":!0,onClick:dr||!me?()=>{}:()=>{var Ft;jt(),(Ft=u.onDismiss)==null||Ft.call(u,u)},className:In(Z==null?void 0:Z.closeButton,(n=u==null?void 0:u.classNames)==null?void 0:n.closeButton)},(i=fe==null?void 0:fe.close)!=null?i:fU):null,u.jsx||b.isValidElement(u.title)?u.jsx?u.jsx:typeof u.title=="function"?u.title():u.title:rt.createElement(rt.Fragment,null,ct||u.icon||u.promise?rt.createElement("div",{"data-icon":"",className:In(Z==null?void 0:Z.icon,(o=u==null?void 0:u.classNames)==null?void 0:o.icon)},u.promise||u.type==="loading"&&!u.icon?u.icon||lr():null,u.type!=="loading"?u.icon||(fe==null?void 0:fe[ct])||oU(ct):null):null,rt.createElement("div",{"data-content":"",className:In(Z==null?void 0:Z.content,(A=u==null?void 0:u.classNames)==null?void 0:A.content)},rt.createElement("div",{"data-title":"",className:In(Z==null?void 0:Z.title,(l=u==null?void 0:u.classNames)==null?void 0:l.title)},typeof u.title=="function"?u.title():u.title),u.description?rt.createElement("div",{"data-description":"",className:In(Q,st,Z==null?void 0:Z.description,(c=u==null?void 0:u.classNames)==null?void 0:c.description)},typeof u.description=="function"?u.description():u.description):null),b.isValidElement(u.cancel)?u.cancel:u.cancel&&Vh(u.cancel)?rt.createElement("button",{"data-button":!0,"data-cancel":!0,style:u.cancelButtonStyle||P,onClick:Ft=>{var Ot,ar;Vh(u.cancel)&&me&&((ar=(Ot=u.cancel).onClick)==null||ar.call(Ot,Ft),jt())},className:In(Z==null?void 0:Z.cancelButton,(d=u==null?void 0:u.classNames)==null?void 0:d.cancelButton)},u.cancel.label):null,b.isValidElement(u.action)?u.action:u.action&&Vh(u.action)?rt.createElement("button",{"data-button":!0,"data-action":!0,style:u.actionButtonStyle||S,onClick:Ft=>{var Ot,ar;Vh(u.action)&&((ar=(Ot=u.action).onClick)==null||ar.call(Ot,Ft),!Ft.defaultPrevented&&jt())},className:In(Z==null?void 0:Z.actionButton,(h=u==null?void 0:u.classNames)==null?void 0:h.actionButton)},u.action.label):null))};function c2(){if(typeof window=="undefined"||typeof document=="undefined")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function IU(e,t){let r={};return[e,t].forEach((a,n)=>{let i=n===1,o=i?"--mobile-offset":"--offset",A=i?CU:jU;function l(c){["top","right","bottom","left"].forEach(d=>{r[`${o}-${d}`]=typeof c=="number"?`${c}px`:c})}typeof a=="number"||typeof a=="string"?l(a):typeof a=="object"?["top","right","bottom","left"].forEach(c=>{a[c]===void 0?r[`${o}-${c}`]=A:r[`${o}-${c}`]=typeof a[c]=="number"?`${a[c]}px`:a[c]}):l(A)}),r}var QU=b.forwardRef(function(e,t){let{invert:r,position:a="bottom-right",hotkey:n=["altKey","KeyT"],expand:i,closeButton:o,className:A,offset:l,mobileOffset:c,theme:d="light",richColors:h,duration:m,style:u,visibleToasts:p=BU,toastOptions:g,dir:y=c2(),gap:x=_U,loadingIcon:B,icons:j,containerAriaLabel:w="Notifications",pauseWhenPageIsHidden:N}=e,[I,U]=rt.useState([]),D=rt.useMemo(()=>Array.from(new Set([a].concat(I.filter(T=>T.position).map(T=>T.position)))),[I,a]),[L,P]=rt.useState([]),[S,E]=rt.useState(!1),[Q,V]=rt.useState(!1),[ae,Y]=rt.useState(d!=="system"?d:typeof window!="undefined"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),q=rt.useRef(null),K=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),Z=rt.useRef(null),fe=rt.useRef(!1),we=rt.useCallback(T=>{U(G=>{var X;return(X=G.find(se=>se.id===T.id))!=null&&X.delete||Ea.dismiss(T.id),G.filter(({id:se})=>se!==T.id)})},[]);return rt.useEffect(()=>Ea.subscribe(T=>{if(T.dismiss){U(G=>G.map(X=>X.id===T.id?M(_({},X),{delete:!0}):X));return}setTimeout(()=>{sE.flushSync(()=>{U(G=>{let X=G.findIndex(se=>se.id===T.id);return X!==-1?[...G.slice(0,X),_(_({},G[X]),T),...G.slice(X+1)]:[T,...G]})})})}),[]),rt.useEffect(()=>{if(d!=="system"){Y(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?Y("dark"):Y("light")),typeof window=="undefined")return;let T=window.matchMedia("(prefers-color-scheme: dark)");try{T.addEventListener("change",({matches:G})=>{Y(G?"dark":"light")})}catch(G){T.addListener(({matches:X})=>{try{Y(X?"dark":"light")}catch(se){console.error(se)}})}},[d]),rt.useEffect(()=>{I.length<=1&&E(!1)},[I]),rt.useEffect(()=>{let T=G=>{var X,se;n.every(le=>G[le]||G.code===le)&&(E(!0),(X=q.current)==null||X.focus()),G.code==="Escape"&&(document.activeElement===q.current||(se=q.current)!=null&&se.contains(document.activeElement))&&E(!1)};return document.addEventListener("keydown",T),()=>document.removeEventListener("keydown",T)},[n]),rt.useEffect(()=>{if(q.current)return()=>{Z.current&&(Z.current.focus({preventScroll:!0}),Z.current=null,fe.current=!1)}},[q.current]),rt.createElement("section",{ref:t,"aria-label":`${w} ${K}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},D.map((T,G)=>{var X;let[se,le]=T.split("-");return I.length?rt.createElement("ol",{key:T,dir:y==="auto"?c2():y,tabIndex:-1,ref:q,className:A,"data-sonner-toaster":!0,"data-theme":ae,"data-y-position":se,"data-lifted":S&&I.length>1&&!i,"data-x-position":le,style:_(_({"--front-toast-height":`${((X=L[0])==null?void 0:X.height)||0}px`,"--width":`${NU}px`,"--gap":`${x}px`},u),IU(l,c)),onBlur:de=>{fe.current&&!de.currentTarget.contains(de.relatedTarget)&&(fe.current=!1,Z.current&&(Z.current.focus({preventScroll:!0}),Z.current=null))},onFocus:de=>{de.target instanceof HTMLElement&&de.target.dataset.dismissible==="false"||fe.current||(fe.current=!0,Z.current=de.relatedTarget)},onMouseEnter:()=>E(!0),onMouseMove:()=>E(!0),onMouseLeave:()=>{Q||E(!1)},onDragEnd:()=>E(!1),onPointerDown:de=>{de.target instanceof HTMLElement&&de.target.dataset.dismissible==="false"||V(!0)},onPointerUp:()=>V(!1)},I.filter(de=>!de.position&&G===0||de.position===T).map((de,Ne)=>{var je,Ie;return rt.createElement(UU,{key:de.id,icons:j,index:Ne,toast:de,defaultRichColors:h,duration:(je=g==null?void 0:g.duration)!=null?je:m,className:g==null?void 0:g.className,descriptionClassName:g==null?void 0:g.descriptionClassName,invert:r,visibleToasts:p,closeButton:(Ie=g==null?void 0:g.closeButton)!=null?Ie:o,interacting:Q,position:T,style:g==null?void 0:g.style,unstyled:g==null?void 0:g.unstyled,classNames:g==null?void 0:g.classNames,cancelButtonStyle:g==null?void 0:g.cancelButtonStyle,actionButtonStyle:g==null?void 0:g.actionButtonStyle,removeToast:we,toasts:I.filter(Oe=>Oe.position==de.position),heights:L.filter(Oe=>Oe.position==de.position),setHeights:P,expandByDefault:i,gap:x,loadingIcon:B,expanded:S,pauseWhenPageIsHidden:N,swipeDirections:e.swipeDirections})})):null}))});const kU=t=>{var e=he(t,[]);const{theme:r="system"}=iU();return s.jsx(QU,_({theme:r,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}}},e))};var[cp,cq]=mi("Tooltip",[Fc]),dp=Fc(),$B="TooltipProvider",LU=700,hx="tooltip.open",[DU,Dv]=cp($B),VB=e=>{const{__scopeTooltip:t,delayDuration:r=LU,skipDelayDuration:a=300,disableHoverableContent:n=!1,children:i}=e,o=b.useRef(!0),A=b.useRef(!1),l=b.useRef(0);return b.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),s.jsx(DU,{scope:t,isOpenDelayedRef:o,delayDuration:r,onOpen:b.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:b.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,a)},[a]),isPointerInTransitRef:A,onPointerInTransitChange:b.useCallback(c=>{A.current=c},[]),disableHoverableContent:n,children:i})};VB.displayName=$B;var uu="Tooltip",[PU,up]=cp(uu),zB=e=>{const{__scopeTooltip:t,children:r,open:a,defaultOpen:n,onOpenChange:i,disableHoverableContent:o,delayDuration:A}=e,l=Dv(uu,e.__scopeTooltip),c=dp(t),[d,h]=b.useState(null),m=pc(),u=b.useRef(0),p=o!=null?o:l.disableHoverableContent,g=A!=null?A:l.delayDuration,y=b.useRef(!1),[x,B]=Ec({prop:a,defaultProp:n!=null?n:!1,onChange:U=>{U?(l.onOpen(),document.dispatchEvent(new CustomEvent(hx))):l.onClose(),i==null||i(U)},caller:uu}),j=b.useMemo(()=>x?y.current?"delayed-open":"instant-open":"closed",[x]),w=b.useCallback(()=>{window.clearTimeout(u.current),u.current=0,y.current=!1,B(!0)},[B]),N=b.useCallback(()=>{window.clearTimeout(u.current),u.current=0,B(!1)},[B]),I=b.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>{y.current=!0,B(!0),u.current=0},g)},[g,B]);return b.useEffect(()=>()=>{u.current&&(window.clearTimeout(u.current),u.current=0)},[]),s.jsx(Fv,M(_({},c),{children:s.jsx(PU,{scope:t,contentId:m,open:x,stateAttribute:j,trigger:d,onTriggerChange:h,onTriggerEnter:b.useCallback(()=>{l.isOpenDelayedRef.current?I():w()},[l.isOpenDelayedRef,I,w]),onTriggerLeave:b.useCallback(()=>{p?N():(window.clearTimeout(u.current),u.current=0)},[N,p]),onOpen:w,onClose:N,disableHoverableContent:p,children:r})}))};zB.displayName=uu;var fx="TooltipTrigger",qB=b.forwardRef((e,t)=>{const m=e,{__scopeTooltip:r}=m,a=he(m,["__scopeTooltip"]),n=up(fx,r),i=Dv(fx,r),o=dp(r),A=b.useRef(null),l=Rs(t,A,n.onTriggerChange),c=b.useRef(!1),d=b.useRef(!1),h=b.useCallback(()=>c.current=!1,[]);return b.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),s.jsx(rp,M(_({asChild:!0},o),{children:s.jsx(vr.button,M(_({"aria-describedby":n.open?n.contentId:void 0,"data-state":n.stateAttribute},a),{ref:l,onPointerMove:Nt(e.onPointerMove,u=>{u.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(n.onTriggerEnter(),d.current=!0)}),onPointerLeave:Nt(e.onPointerLeave,()=>{n.onTriggerLeave(),d.current=!1}),onPointerDown:Nt(e.onPointerDown,()=>{n.open&&n.onClose(),c.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:Nt(e.onFocus,()=>{c.current||n.onOpen()}),onBlur:Nt(e.onBlur,n.onClose),onClick:Nt(e.onClick,n.onClose)}))}))});qB.displayName=fx;var MU="TooltipPortal",[dq,TU]=cp(MU,{forceMount:void 0}),xc="TooltipContent",GB=b.forwardRef((e,t)=>{const r=TU(xc,e.__scopeTooltip),A=e,{forceMount:a=r.forceMount,side:n="top"}=A,i=he(A,["forceMount","side"]),o=up(xc,e.__scopeTooltip);return s.jsx(rn,{present:a||o.open,children:o.disableHoverableContent?s.jsx(WB,M(_({side:n},i),{ref:t})):s.jsx(RU,M(_({side:n},i),{ref:t}))})}),RU=b.forwardRef((e,t)=>{const r=up(xc,e.__scopeTooltip),a=Dv(xc,e.__scopeTooltip),n=b.useRef(null),i=Rs(t,n),[o,A]=b.useState(null),{trigger:l,onClose:c}=r,d=n.current,{onPointerInTransitChange:h}=a,m=b.useCallback(()=>{A(null),h(!1)},[h]),u=b.useCallback((p,g)=>{const y=p.currentTarget,x={x:p.clientX,y:p.clientY},B=VU(x,y.getBoundingClientRect()),j=zU(x,B),w=qU(g.getBoundingClientRect()),N=WU([...j,...w]);A(N),h(!0)},[h]);return b.useEffect(()=>()=>m(),[m]),b.useEffect(()=>{if(l&&d){const p=y=>u(y,d),g=y=>u(y,l);return l.addEventListener("pointerleave",p),d.addEventListener("pointerleave",g),()=>{l.removeEventListener("pointerleave",p),d.removeEventListener("pointerleave",g)}}},[l,d,u,m]),b.useEffect(()=>{if(o){const p=g=>{const y=g.target,x={x:g.clientX,y:g.clientY},B=(l==null?void 0:l.contains(y))||(d==null?void 0:d.contains(y)),j=!GU(x,o);B?m():j&&(m(),c())};return document.addEventListener("pointermove",p),()=>document.removeEventListener("pointermove",p)}},[l,d,o,c,m]),s.jsx(WB,M(_({},e),{ref:i}))}),[OU,HU]=cp(uu,{isInside:!1}),KU=KF("TooltipContent"),WB=b.forwardRef((e,t)=>{const h=e,{__scopeTooltip:r,children:a,"aria-label":n,onEscapeKeyDown:i,onPointerDownOutside:o}=h,A=he(h,["__scopeTooltip","children","aria-label","onEscapeKeyDown","onPointerDownOutside"]),l=up(xc,r),c=dp(r),{onClose:d}=l;return b.useEffect(()=>(document.addEventListener(hx,d),()=>document.removeEventListener(hx,d)),[d]),b.useEffect(()=>{if(l.trigger){const m=u=>{const p=u.target;p!=null&&p.contains(l.trigger)&&d()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[l.trigger,d]),s.jsx(Nv,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:m=>m.preventDefault(),onDismiss:d,children:s.jsxs(_v,M(_(_({"data-state":l.stateAttribute},c),A),{ref:t,style:M(_({},A.style),{"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"}),children:[s.jsx(KU,{children:a}),s.jsx(OU,{scope:r,isInside:!0,children:s.jsx(HF,{id:l.contentId,role:"tooltip",children:n||a})})]}))})});GB.displayName=xc;var JB="TooltipArrow",$U=b.forwardRef((e,t)=>{const o=e,{__scopeTooltip:r}=o,a=he(o,["__scopeTooltip"]),n=dp(r);return HU(JB,r).isInside?null:s.jsx(Sv,M(_(_({},n),a),{ref:t}))});$U.displayName=JB;function VU(e,t){const r=Math.abs(t.top-e.y),a=Math.abs(t.bottom-e.y),n=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(r,a,n,i)){case i:return"left";case n:return"right";case r:return"top";case a:return"bottom";default:throw new Error("unreachable")}}function zU(e,t,r=5){const a=[];switch(t){case"top":a.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":a.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":a.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":a.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return a}function qU(e){const{top:t,right:r,bottom:a,left:n}=e;return[{x:n,y:t},{x:r,y:t},{x:r,y:a},{x:n,y:a}]}function GU(e,t){const{x:r,y:a}=e;let n=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const A=t[i],l=t[o],c=A.x,d=A.y,h=l.x,m=l.y;d>a!=m>a&&r<(h-c)*(a-d)/(m-d)+c&&(n=!n)}return n}function WU(e){const t=e.slice();return t.sort((r,a)=>r.x<a.x?-1:r.x>a.x?1:r.y<a.y?-1:r.y>a.y?1:0),JU(t)}function JU(e){if(e.length<=1)return e.slice();const t=[];for(let a=0;a<e.length;a++){const n=e[a];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(n.y-o.y)>=(i.y-o.y)*(n.x-o.x))t.pop();else break}t.push(n)}t.pop();const r=[];for(let a=e.length-1;a>=0;a--){const n=e[a];for(;r.length>=2;){const i=r[r.length-1],o=r[r.length-2];if((i.x-o.x)*(n.y-o.y)>=(i.y-o.y)*(n.x-o.x))r.pop();else break}r.push(n)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var XU=VB,YU=zB,ZU=qB,XB=GB;const YB=XU,e6=YU,t6=ZU,ZB=b.forwardRef((n,a)=>{var i=n,{className:e,sideOffset:t=4}=i,r=he(i,["className","sideOffset"]);return s.jsx(XB,_({ref:a,sideOffset:t,className:ze("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e)},r))});ZB.displayName=XB.displayName;var hp=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},fp=typeof window=="undefined"||"Deno"in globalThis;function Ln(){}function r6(e,t){return typeof e=="function"?e(t):e}function s6(e){return typeof e=="number"&&e>=0&&e!==1/0}function a6(e,t){return Math.max(e+(t||0)-Date.now(),0)}function mx(e,t){return typeof e=="function"?e(t):e}function n6(e,t){return typeof e=="function"?e(t):e}function d2(e,t){const{type:r="all",exact:a,fetchStatus:n,predicate:i,queryKey:o,stale:A}=e;if(o){if(a){if(t.queryHash!==Pv(o,t.options))return!1}else if(!fu(t.queryKey,o))return!1}if(r!=="all"){const l=t.isActive();if(r==="active"&&!l||r==="inactive"&&l)return!1}return!(typeof A=="boolean"&&t.isStale()!==A||n&&n!==t.state.fetchStatus||i&&!i(t))}function u2(e,t){const{exact:r,status:a,predicate:n,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(hu(t.options.mutationKey)!==hu(i))return!1}else if(!fu(t.options.mutationKey,i))return!1}return!(a&&t.state.status!==a||n&&!n(t))}function Pv(e,t){return((t==null?void 0:t.queryKeyHashFn)||hu)(e)}function hu(e){return JSON.stringify(e,(t,r)=>px(r)?Object.keys(r).sort().reduce((a,n)=>(a[n]=r[n],a),{}):r)}function fu(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>fu(e[r],t[r])):!1}function ej(e,t){if(e===t)return e;const r=h2(e)&&h2(t);if(r||px(e)&&px(t)){const a=r?e:Object.keys(e),n=a.length,i=r?t:Object.keys(t),o=i.length,A=r?[]:{},l=new Set(a);let c=0;for(let d=0;d<o;d++){const h=r?d:i[d];(!r&&l.has(h)||r)&&e[h]===void 0&&t[h]===void 0?(A[h]=void 0,c++):(A[h]=ej(e[h],t[h]),A[h]===e[h]&&e[h]!==void 0&&c++)}return n===o&&c===n?e:A}return t}function h2(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function px(e){if(!f2(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!f2(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function f2(e){return Object.prototype.toString.call(e)==="[object Object]"}function i6(e){return new Promise(t=>{setTimeout(t,e)})}function o6(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?ej(e,t):t}function A6(e,t,r=0){const a=[...e,t];return r&&a.length>r?a.slice(1):a}function l6(e,t,r=0){const a=[t,...e];return r&&a.length>r?a.slice(0,-1):a}var Mv=Symbol();function tj(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Mv?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var VA,Eo,Ac,H5,c6=(H5=class extends hp{constructor(){super();cr(this,VA);cr(this,Eo);cr(this,Ac);zt(this,Ac,t=>{if(!fp&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){Re(this,Eo)||this.setEventListener(Re(this,Ac))}onUnsubscribe(){var t;this.hasListeners()||((t=Re(this,Eo))==null||t.call(this),zt(this,Eo,void 0))}setEventListener(t){var r;zt(this,Ac,t),(r=Re(this,Eo))==null||r.call(this),zt(this,Eo,t(a=>{typeof a=="boolean"?this.setFocused(a):this.onFocus()}))}setFocused(t){Re(this,VA)!==t&&(zt(this,VA,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof Re(this,VA)=="boolean"?Re(this,VA):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},VA=new WeakMap,Eo=new WeakMap,Ac=new WeakMap,H5),rj=new c6,lc,Uo,cc,K5,d6=(K5=class extends hp{constructor(){super();cr(this,lc,!0);cr(this,Uo);cr(this,cc);zt(this,cc,t=>{if(!fp&&window.addEventListener){const r=()=>t(!0),a=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",a,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",a)}}})}onSubscribe(){Re(this,Uo)||this.setEventListener(Re(this,cc))}onUnsubscribe(){var t;this.hasListeners()||((t=Re(this,Uo))==null||t.call(this),zt(this,Uo,void 0))}setEventListener(t){var r;zt(this,cc,t),(r=Re(this,Uo))==null||r.call(this),zt(this,Uo,t(this.setOnline.bind(this)))}setOnline(t){Re(this,lc)!==t&&(zt(this,lc,t),this.listeners.forEach(a=>{a(t)}))}isOnline(){return Re(this,lc)}},lc=new WeakMap,Uo=new WeakMap,cc=new WeakMap,K5),bm=new d6;function u6(){let e,t;const r=new Promise((n,i)=>{e=n,t=i});r.status="pending",r.catch(()=>{});function a(n){Object.assign(r,n),delete r.resolve,delete r.reject}return r.resolve=n=>{a({status:"fulfilled",value:n}),e(n)},r.reject=n=>{a({status:"rejected",reason:n}),t(n)},r}function h6(e){return Math.min(1e3*qw(2,e),3e4)}function sj(e){return(e!=null?e:"online")==="online"?bm.isOnline():!0}var aj=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Mg(e){return e instanceof aj}function nj(e){let t=!1,r=0,a=!1,n;const i=u6(),o=g=>{var y;a||(m(new aj(g)),(y=e.abort)==null||y.call(e))},A=()=>{t=!0},l=()=>{t=!1},c=()=>rj.isFocused()&&(e.networkMode==="always"||bm.isOnline())&&e.canRun(),d=()=>sj(e.networkMode)&&e.canRun(),h=g=>{var y;a||(a=!0,(y=e.onSuccess)==null||y.call(e,g),n==null||n(),i.resolve(g))},m=g=>{var y;a||(a=!0,(y=e.onError)==null||y.call(e,g),n==null||n(),i.reject(g))},u=()=>new Promise(g=>{var y;n=x=>{(a||c())&&g(x)},(y=e.onPause)==null||y.call(e)}).then(()=>{var g;n=void 0,a||(g=e.onContinue)==null||g.call(e)}),p=()=>{if(a)return;let g;const y=r===0?e.initialPromise:void 0;try{g=y!=null?y:e.fn()}catch(x){g=Promise.reject(x)}Promise.resolve(g).then(h).catch(x=>{var I,U,D;if(a)return;const B=(I=e.retry)!=null?I:fp?0:3,j=(U=e.retryDelay)!=null?U:h6,w=typeof j=="function"?j(r,x):j,N=B===!0||typeof B=="number"&&r<B||typeof B=="function"&&B(r,x);if(t||!N){m(x);return}r++,(D=e.onFail)==null||D.call(e,r,x),i6(w).then(()=>c()?void 0:u()).then(()=>{t?m(x):p()})})};return{promise:i,cancel:o,continue:()=>(n==null||n(),i),cancelRetry:A,continueRetry:l,canStart:d,start:()=>(d()?p():u().then(p),i)}}var f6=e=>setTimeout(e,0);function m6(){let e=[],t=0,r=A=>{A()},a=A=>{A()},n=f6;const i=A=>{t?e.push(A):n(()=>{r(A)})},o=()=>{const A=e;e=[],A.length&&n(()=>{a(()=>{A.forEach(l=>{r(l)})})})};return{batch:A=>{let l;t++;try{l=A()}finally{t--,t||o()}return l},batchCalls:A=>(...l)=>{i(()=>{A(...l)})},schedule:i,setNotifyFunction:A=>{r=A},setBatchNotifyFunction:A=>{a=A},setScheduler:A=>{n=A}}}var ba=m6(),zA,$5,ij=($5=class{constructor(){cr(this,zA)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),s6(this.gcTime)&&zt(this,zA,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e!=null?e:fp?1/0:5*60*1e3)}clearGcTimeout(){Re(this,zA)&&(clearTimeout(Re(this,zA)),zt(this,zA,void 0))}},zA=new WeakMap,$5),dc,qA,un,GA,la,Du,WA,Pn,Ri,V5,p6=(V5=class extends ij{constructor(t){var r;super();cr(this,Pn);cr(this,dc);cr(this,qA);cr(this,un);cr(this,GA);cr(this,la);cr(this,Du);cr(this,WA);zt(this,WA,!1),zt(this,Du,t.defaultOptions),this.setOptions(t.options),this.observers=[],zt(this,GA,t.client),zt(this,un,Re(this,GA).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,zt(this,dc,x6(this.options)),this.state=(r=t.state)!=null?r:Re(this,dc),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=Re(this,la))==null?void 0:t.promise}setOptions(t){this.options=_(_({},Re(this,Du)),t),this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Re(this,un).remove(this)}setData(t,r){const a=o6(this.state.data,t,this.options);return sa(this,Pn,Ri).call(this,{data:a,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),a}setState(t,r){sa(this,Pn,Ri).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var a,n;const r=(a=Re(this,la))==null?void 0:a.promise;return(n=Re(this,la))==null||n.cancel(t),r?r.then(Ln).catch(Ln):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Re(this,dc))}isActive(){return this.observers.some(t=>n6(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Mv||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>mx(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!a6(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(a=>a.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=Re(this,la))==null||r.continue()}onOnline(){var r;const t=this.observers.find(a=>a.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=Re(this,la))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),Re(this,un).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(Re(this,la)&&(Re(this,WA)?Re(this,la).cancel({revert:!0}):Re(this,la).cancelRetry()),this.scheduleGc()),Re(this,un).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||sa(this,Pn,Ri).call(this,{type:"invalidate"})}fetch(t,r){var c,d,h;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(Re(this,la))return Re(this,la).continueRetry(),Re(this,la).promise}if(t&&this.setOptions(t),!this.options.queryFn){const m=this.observers.find(u=>u.options.queryFn);m&&this.setOptions(m.options)}const a=new AbortController,n=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(zt(this,WA,!0),a.signal)})},i=()=>{const m=tj(this.options,r),p=(()=>{const g={client:Re(this,GA),queryKey:this.queryKey,meta:this.meta};return n(g),g})();return zt(this,WA,!1),this.options.persister?this.options.persister(m,p,this):m(p)},A=(()=>{const m={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:Re(this,GA),state:this.state,fetchFn:i};return n(m),m})();(c=this.options.behavior)==null||c.onFetch(A,this),zt(this,qA,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=A.fetchOptions)==null?void 0:d.meta))&&sa(this,Pn,Ri).call(this,{type:"fetch",meta:(h=A.fetchOptions)==null?void 0:h.meta});const l=m=>{var u,p,g,y;Mg(m)&&m.silent||sa(this,Pn,Ri).call(this,{type:"error",error:m}),Mg(m)||((p=(u=Re(this,un).config).onError)==null||p.call(u,m,this),(y=(g=Re(this,un).config).onSettled)==null||y.call(g,this.state.data,m,this)),this.scheduleGc()};return zt(this,la,nj({initialPromise:r==null?void 0:r.initialPromise,fn:A.fetchFn,abort:a.abort.bind(a),onSuccess:m=>{var u,p,g,y;if(m===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(m)}catch(x){l(x);return}(p=(u=Re(this,un).config).onSuccess)==null||p.call(u,m,this),(y=(g=Re(this,un).config).onSettled)==null||y.call(g,m,this.state.error,this),this.scheduleGc()},onError:l,onFail:(m,u)=>{sa(this,Pn,Ri).call(this,{type:"failed",failureCount:m,error:u})},onPause:()=>{sa(this,Pn,Ri).call(this,{type:"pause"})},onContinue:()=>{sa(this,Pn,Ri).call(this,{type:"continue"})},retry:A.options.retry,retryDelay:A.options.retryDelay,networkMode:A.options.networkMode,canRun:()=>!0})),Re(this,la).start()}},dc=new WeakMap,qA=new WeakMap,un=new WeakMap,GA=new WeakMap,la=new WeakMap,Du=new WeakMap,WA=new WeakMap,Pn=new WeakSet,Ri=function(t){const r=a=>{var n,i;switch(t.type){case"failed":return M(_({},a),{fetchFailureCount:t.failureCount,fetchFailureReason:t.error});case"pause":return M(_({},a),{fetchStatus:"paused"});case"continue":return M(_({},a),{fetchStatus:"fetching"});case"fetch":return M(_(_({},a),g6(a.data,this.options)),{fetchMeta:(n=t.meta)!=null?n:null});case"success":return zt(this,qA,void 0),_(M(_({},a),{data:t.data,dataUpdateCount:a.dataUpdateCount+1,dataUpdatedAt:(i=t.dataUpdatedAt)!=null?i:Date.now(),error:null,isInvalidated:!1,status:"success"}),!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null});case"error":const o=t.error;return Mg(o)&&o.revert&&Re(this,qA)?M(_({},Re(this,qA)),{fetchStatus:"idle"}):M(_({},a),{error:o,errorUpdateCount:a.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:a.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"});case"invalidate":return M(_({},a),{isInvalidated:!0});case"setState":return _(_({},a),t.state)}};this.state=r(this.state),ba.batch(()=>{this.observers.forEach(a=>{a.onQueryUpdate()}),Re(this,un).notify({query:this,type:"updated",action:t})})},V5);function g6(e,t){return _({fetchFailureCount:0,fetchFailureReason:null,fetchStatus:sj(t.networkMode)?"fetching":"paused"},e===void 0&&{error:null,status:"pending"})}function x6(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,a=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?a!=null?a:Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var ai,z5,v6=(z5=class extends hp{constructor(t={}){super();cr(this,ai);this.config=t,zt(this,ai,new Map)}build(t,r,a){var A;const n=r.queryKey,i=(A=r.queryHash)!=null?A:Pv(n,r);let o=this.get(i);return o||(o=new p6({client:t,queryKey:n,queryHash:i,options:t.defaultQueryOptions(r),state:a,defaultOptions:t.getQueryDefaults(n)}),this.add(o)),o}add(t){Re(this,ai).has(t.queryHash)||(Re(this,ai).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=Re(this,ai).get(t.queryHash);r&&(t.destroy(),r===t&&Re(this,ai).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){ba.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return Re(this,ai).get(t)}getAll(){return[...Re(this,ai).values()]}find(t){const r=_({exact:!0},t);return this.getAll().find(a=>d2(r,a))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(a=>d2(t,a)):r}notify(t){ba.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){ba.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){ba.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},ai=new WeakMap,z5),ni,va,JA,ii,jo,q5,w6=(q5=class extends ij{constructor(t){super();cr(this,ii);cr(this,ni);cr(this,va);cr(this,JA);this.mutationId=t.mutationId,zt(this,va,t.mutationCache),zt(this,ni,[]),this.state=t.state||b6(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){Re(this,ni).includes(t)||(Re(this,ni).push(t),this.clearGcTimeout(),Re(this,va).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){zt(this,ni,Re(this,ni).filter(r=>r!==t)),this.scheduleGc(),Re(this,va).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){Re(this,ni).length||(this.state.status==="pending"?this.scheduleGc():Re(this,va).remove(this))}continue(){var t,r;return(r=(t=Re(this,JA))==null?void 0:t.continue())!=null?r:this.execute(this.state.variables)}execute(t){return Ae(this,null,function*(){var i,o,A,l,c,d,h,m,u,p,g,y,x,B,j,w,N,I,U,D,L;const r=()=>{sa(this,ii,jo).call(this,{type:"continue"})};zt(this,JA,nj({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(P,S)=>{sa(this,ii,jo).call(this,{type:"failed",failureCount:P,error:S})},onPause:()=>{sa(this,ii,jo).call(this,{type:"pause"})},onContinue:r,retry:(i=this.options.retry)!=null?i:0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Re(this,va).canRun(this)}));const a=this.state.status==="pending",n=!Re(this,JA).canStart();try{if(a)r();else{sa(this,ii,jo).call(this,{type:"pending",variables:t,isPaused:n}),yield(A=(o=Re(this,va).config).onMutate)==null?void 0:A.call(o,t,this);const S=yield(c=(l=this.options).onMutate)==null?void 0:c.call(l,t);S!==this.state.context&&sa(this,ii,jo).call(this,{type:"pending",context:S,variables:t,isPaused:n})}const P=yield Re(this,JA).start();return yield(h=(d=Re(this,va).config).onSuccess)==null?void 0:h.call(d,P,t,this.state.context,this),yield(u=(m=this.options).onSuccess)==null?void 0:u.call(m,P,t,this.state.context),yield(g=(p=Re(this,va).config).onSettled)==null?void 0:g.call(p,P,null,this.state.variables,this.state.context,this),yield(x=(y=this.options).onSettled)==null?void 0:x.call(y,P,null,t,this.state.context),sa(this,ii,jo).call(this,{type:"success",data:P}),P}catch(P){try{throw yield(j=(B=Re(this,va).config).onError)==null?void 0:j.call(B,P,t,this.state.context,this),yield(N=(w=this.options).onError)==null?void 0:N.call(w,P,t,this.state.context),yield(U=(I=Re(this,va).config).onSettled)==null?void 0:U.call(I,void 0,P,this.state.variables,this.state.context,this),yield(L=(D=this.options).onSettled)==null?void 0:L.call(D,void 0,P,t,this.state.context),P}finally{sa(this,ii,jo).call(this,{type:"error",error:P})}}finally{Re(this,va).runNext(this)}})}},ni=new WeakMap,va=new WeakMap,JA=new WeakMap,ii=new WeakSet,jo=function(t){const r=a=>{switch(t.type){case"failed":return M(_({},a),{failureCount:t.failureCount,failureReason:t.error});case"pause":return M(_({},a),{isPaused:!0});case"continue":return M(_({},a),{isPaused:!1});case"pending":return M(_({},a),{context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()});case"success":return M(_({},a),{data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1});case"error":return M(_({},a),{data:void 0,error:t.error,failureCount:a.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"})}};this.state=r(this.state),ba.batch(()=>{Re(this,ni).forEach(a=>{a.onMutationUpdate(t)}),Re(this,va).notify({mutation:this,type:"updated",action:t})})},q5);function b6(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var $i,Mn,Pu,G5,y6=(G5=class extends hp{constructor(t={}){super();cr(this,$i);cr(this,Mn);cr(this,Pu);this.config=t,zt(this,$i,new Set),zt(this,Mn,new Map),zt(this,Pu,0)}build(t,r,a){const n=new w6({mutationCache:this,mutationId:++Hh(this,Pu)._,options:t.defaultMutationOptions(r),state:a});return this.add(n),n}add(t){Re(this,$i).add(t);const r=zh(t);if(typeof r=="string"){const a=Re(this,Mn).get(r);a?a.push(t):Re(this,Mn).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(Re(this,$i).delete(t)){const r=zh(t);if(typeof r=="string"){const a=Re(this,Mn).get(r);if(a)if(a.length>1){const n=a.indexOf(t);n!==-1&&a.splice(n,1)}else a[0]===t&&Re(this,Mn).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=zh(t);if(typeof r=="string"){const a=Re(this,Mn).get(r),n=a==null?void 0:a.find(i=>i.state.status==="pending");return!n||n===t}else return!0}runNext(t){var a,n;const r=zh(t);if(typeof r=="string"){const i=(a=Re(this,Mn).get(r))==null?void 0:a.find(o=>o!==t&&o.state.isPaused);return(n=i==null?void 0:i.continue())!=null?n:Promise.resolve()}else return Promise.resolve()}clear(){ba.batch(()=>{Re(this,$i).forEach(t=>{this.notify({type:"removed",mutation:t})}),Re(this,$i).clear(),Re(this,Mn).clear()})}getAll(){return Array.from(Re(this,$i))}find(t){const r=_({exact:!0},t);return this.getAll().find(a=>u2(r,a))}findAll(t={}){return this.getAll().filter(r=>u2(t,r))}notify(t){ba.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return ba.batch(()=>Promise.all(t.map(r=>r.continue().catch(Ln))))}},$i=new WeakMap,Mn=new WeakMap,Pu=new WeakMap,G5);function zh(e){var t;return(t=e.options.scope)==null?void 0:t.id}function m2(e){return{onFetch:(t,r)=>{var d,h,m,u,p;const a=t.options,n=(m=(h=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:m.direction,i=((u=t.state.data)==null?void 0:u.pages)||[],o=((p=t.state.data)==null?void 0:p.pageParams)||[];let A={pages:[],pageParams:[]},l=0;const c=()=>Ae(this,null,function*(){var j;let g=!1;const y=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(t.signal.aborted?g=!0:t.signal.addEventListener("abort",()=>{g=!0}),t.signal)})},x=tj(t.options,t.fetchOptions),B=(w,N,I)=>Ae(this,null,function*(){if(g)return Promise.reject();if(N==null&&w.pages.length)return Promise.resolve(w);const D=(()=>{const E={client:t.client,queryKey:t.queryKey,pageParam:N,direction:I?"backward":"forward",meta:t.options.meta};return y(E),E})(),L=yield x(D),{maxPages:P}=t.options,S=I?l6:A6;return{pages:S(w.pages,L,P),pageParams:S(w.pageParams,N,P)}});if(n&&i.length){const w=n==="backward",N=w?B6:p2,I={pages:i,pageParams:o},U=N(a,I);A=yield B(I,U,w)}else{const w=e!=null?e:i.length;do{const N=l===0?(j=o[0])!=null?j:a.initialPageParam:p2(a,A);if(l>0&&N==null)break;A=yield B(A,N),l++}while(l<w)}return A});t.options.persister?t.fetchFn=()=>{var g,y;return(y=(g=t.options).persister)==null?void 0:y.call(g,c,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=c}}}function p2(e,{pages:t,pageParams:r}){const a=t.length-1;return t.length>0?e.getNextPageParam(t[a],t,r[a],r):void 0}function B6(e,{pages:t,pageParams:r}){var a;return t.length>0?(a=e.getPreviousPageParam)==null?void 0:a.call(e,t[0],t,r[0],r):void 0}var Wr,Io,Qo,uc,hc,ko,fc,mc,W5,j6=(W5=class{constructor(e={}){cr(this,Wr);cr(this,Io);cr(this,Qo);cr(this,uc);cr(this,hc);cr(this,ko);cr(this,fc);cr(this,mc);zt(this,Wr,e.queryCache||new v6),zt(this,Io,e.mutationCache||new y6),zt(this,Qo,e.defaultOptions||{}),zt(this,uc,new Map),zt(this,hc,new Map),zt(this,ko,0)}mount(){Hh(this,ko)._++,Re(this,ko)===1&&(zt(this,fc,rj.subscribe(e=>Ae(this,null,function*(){e&&(yield this.resumePausedMutations(),Re(this,Wr).onFocus())}))),zt(this,mc,bm.subscribe(e=>Ae(this,null,function*(){e&&(yield this.resumePausedMutations(),Re(this,Wr).onOnline())}))))}unmount(){var e,t;Hh(this,ko)._--,Re(this,ko)===0&&((e=Re(this,fc))==null||e.call(this),zt(this,fc,void 0),(t=Re(this,mc))==null||t.call(this),zt(this,mc,void 0))}isFetching(e){return Re(this,Wr).findAll(M(_({},e),{fetchStatus:"fetching"})).length}isMutating(e){return Re(this,Io).findAll(M(_({},e),{status:"pending"})).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=Re(this,Wr).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=Re(this,Wr).build(this,t),a=r.state.data;return a===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(mx(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(a))}getQueriesData(e){return Re(this,Wr).findAll(e).map(({queryKey:t,state:r})=>{const a=r.data;return[t,a]})}setQueryData(e,t,r){const a=this.defaultQueryOptions({queryKey:e}),n=Re(this,Wr).get(a.queryHash),i=n==null?void 0:n.state.data,o=r6(t,i);if(o!==void 0)return Re(this,Wr).build(this,a).setData(o,M(_({},r),{manual:!0}))}setQueriesData(e,t,r){return ba.batch(()=>Re(this,Wr).findAll(e).map(({queryKey:a})=>[a,this.setQueryData(a,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=Re(this,Wr).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=Re(this,Wr);ba.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=Re(this,Wr);return ba.batch(()=>(r.findAll(e).forEach(a=>{a.reset()}),this.refetchQueries(_({type:"active"},e),t)))}cancelQueries(e,t={}){const r=_({revert:!0},t),a=ba.batch(()=>Re(this,Wr).findAll(e).map(n=>n.cancel(r)));return Promise.all(a).then(Ln).catch(Ln)}invalidateQueries(e,t={}){return ba.batch(()=>{var r,a;return Re(this,Wr).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries(M(_({},e),{type:(a=(r=e==null?void 0:e.refetchType)!=null?r:e==null?void 0:e.type)!=null?a:"active"}),t)})}refetchQueries(e,t={}){var n;const r=M(_({},t),{cancelRefetch:(n=t.cancelRefetch)!=null?n:!0}),a=ba.batch(()=>Re(this,Wr).findAll(e).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let o=i.fetch(void 0,r);return r.throwOnError||(o=o.catch(Ln)),i.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(a).then(Ln)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=Re(this,Wr).build(this,t);return r.isStaleByTime(mx(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Ln).catch(Ln)}fetchInfiniteQuery(e){return e.behavior=m2(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Ln).catch(Ln)}ensureInfiniteQueryData(e){return e.behavior=m2(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return bm.isOnline()?Re(this,Io).resumePausedMutations():Promise.resolve()}getQueryCache(){return Re(this,Wr)}getMutationCache(){return Re(this,Io)}getDefaultOptions(){return Re(this,Qo)}setDefaultOptions(e){zt(this,Qo,e)}setQueryDefaults(e,t){Re(this,uc).set(hu(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...Re(this,uc).values()],r={};return t.forEach(a=>{fu(e,a.queryKey)&&Object.assign(r,a.defaultOptions)}),r}setMutationDefaults(e,t){Re(this,hc).set(hu(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...Re(this,hc).values()],r={};return t.forEach(a=>{fu(e,a.mutationKey)&&Object.assign(r,a.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t=M(_(_(_({},Re(this,Qo).queries),this.getQueryDefaults(e.queryKey)),e),{_defaulted:!0});return t.queryHash||(t.queryHash=Pv(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Mv&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:M(_(_(_({},Re(this,Qo).mutations),(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey)),e),{_defaulted:!0})}clear(){Re(this,Wr).clear(),Re(this,Io).clear()}},Wr=new WeakMap,Io=new WeakMap,Qo=new WeakMap,uc=new WeakMap,hc=new WeakMap,ko=new WeakMap,fc=new WeakMap,mc=new WeakMap,W5),C6=b.createContext(void 0),N6=({client:e,children:t})=>(b.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),s.jsx(C6.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function mu(){return mu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},mu.apply(this,arguments)}var Lo;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Lo||(Lo={}));const g2="popstate";function _6(e){e===void 0&&(e={});function t(a,n){let{pathname:i,search:o,hash:A}=a.location;return gx("",{pathname:i,search:o,hash:A},n.state&&n.state.usr||null,n.state&&n.state.key||"default")}function r(a,n){return typeof n=="string"?n:ym(n)}return F6(t,r,null,e)}function Kr(e,t){if(e===!1||e===null||typeof e=="undefined")throw new Error(t)}function oj(e,t){if(!e){typeof console!="undefined"&&console.warn(t);try{throw new Error(t)}catch(r){}}}function S6(){return Math.random().toString(36).substr(2,8)}function x2(e,t){return{usr:e.state,key:e.key,idx:t}}function gx(e,t,r,a){return r===void 0&&(r=null),mu({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Ic(t):t,{state:r,key:t&&t.key||a||S6()})}function ym(e){let{pathname:t="/",search:r="",hash:a=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),a&&a!=="#"&&(t+=a.charAt(0)==="#"?a:"#"+a),t}function Ic(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let a=e.indexOf("?");a>=0&&(t.search=e.substr(a),e=e.substr(0,a)),e&&(t.pathname=e)}return t}function F6(e,t,r,a){a===void 0&&(a={});let{window:n=document.defaultView,v5Compat:i=!1}=a,o=n.history,A=Lo.Pop,l=null,c=d();c==null&&(c=0,o.replaceState(mu({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function h(){A=Lo.Pop;let y=d(),x=y==null?null:y-c;c=y,l&&l({action:A,location:g.location,delta:x})}function m(y,x){A=Lo.Push;let B=gx(g.location,y,x);c=d()+1;let j=x2(B,c),w=g.createHref(B);try{o.pushState(j,"",w)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;n.location.assign(w)}i&&l&&l({action:A,location:g.location,delta:1})}function u(y,x){A=Lo.Replace;let B=gx(g.location,y,x);c=d();let j=x2(B,c),w=g.createHref(B);o.replaceState(j,"",w),i&&l&&l({action:A,location:g.location,delta:0})}function p(y){let x=n.location.origin!=="null"?n.location.origin:n.location.href,B=typeof y=="string"?y:ym(y);return B=B.replace(/ $/,"%20"),Kr(x,"No window.location.(origin|href) available to create URL for href: "+B),new URL(B,x)}let g={get action(){return A},get location(){return e(n,o)},listen(y){if(l)throw new Error("A history only accepts one active listener");return n.addEventListener(g2,h),l=y,()=>{n.removeEventListener(g2,h),l=null}},createHref(y){return t(n,y)},createURL:p,encodeLocation(y){let x=p(y);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:m,replace:u,go(y){return o.go(y)}};return g}var v2;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(v2||(v2={}));function E6(e,t,r){return r===void 0&&(r="/"),U6(e,t,r,!1)}function U6(e,t,r,a){let n=typeof t=="string"?Ic(t):t,i=vc(n.pathname||"/",r);if(i==null)return null;let o=Aj(e);I6(o);let A=null;for(let l=0;A==null&&l<o.length;++l){let c=K6(i);A=O6(o[l],c,a)}return A}function Aj(e,t,r,a){t===void 0&&(t=[]),r===void 0&&(r=[]),a===void 0&&(a="");let n=(i,o,A)=>{let l={relativePath:A===void 0?i.path||"":A,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(Kr(l.relativePath.startsWith(a),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(a.length));let c=Oo([a,l.relativePath]),d=r.concat(l);i.children&&i.children.length>0&&(Kr(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),Aj(i.children,t,d,c)),!(i.path==null&&!i.index)&&t.push({path:c,score:T6(c,i.index),routesMeta:d})};return e.forEach((i,o)=>{var A;if(i.path===""||!((A=i.path)!=null&&A.includes("?")))n(i,o);else for(let l of lj(i.path))n(i,o,l)}),t}function lj(e){let t=e.split("/");if(t.length===0)return[];let[r,...a]=t,n=r.endsWith("?"),i=r.replace(/\?$/,"");if(a.length===0)return n?[i,""]:[i];let o=lj(a.join("/")),A=[];return A.push(...o.map(l=>l===""?i:[i,l].join("/"))),n&&A.push(...o),A.map(l=>e.startsWith("/")&&l===""?"/":l)}function I6(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:R6(t.routesMeta.map(a=>a.childrenIndex),r.routesMeta.map(a=>a.childrenIndex)))}const Q6=/^:[\w-]+$/,k6=3,L6=2,D6=1,P6=10,M6=-2,w2=e=>e==="*";function T6(e,t){let r=e.split("/"),a=r.length;return r.some(w2)&&(a+=M6),t&&(a+=L6),r.filter(n=>!w2(n)).reduce((n,i)=>n+(Q6.test(i)?k6:i===""?D6:P6),a)}function R6(e,t){return e.length===t.length&&e.slice(0,-1).every((a,n)=>a===t[n])?e[e.length-1]-t[t.length-1]:0}function O6(e,t,r){let{routesMeta:a}=e,n={},i="/",o=[];for(let A=0;A<a.length;++A){let l=a[A],c=A===a.length-1,d=i==="/"?t:t.slice(i.length)||"/",h=Bm({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),m=l.route;if(!h&&c&&r&&!a[a.length-1].route.index&&(h=Bm({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!h)return null;Object.assign(n,h.params),o.push({params:n,pathname:Oo([i,h.pathname]),pathnameBase:q6(Oo([i,h.pathnameBase])),route:m}),h.pathnameBase!=="/"&&(i=Oo([i,h.pathnameBase]))}return o}function Bm(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,a]=H6(e.path,e.caseSensitive,e.end),n=t.match(r);if(!n)return null;let i=n[0],o=i.replace(/(.)\/+$/,"$1"),A=n.slice(1);return{params:a.reduce((c,d,h)=>{let{paramName:m,isOptional:u}=d;if(m==="*"){let g=A[h]||"";o=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const p=A[h];return u&&!p?c[m]=void 0:c[m]=(p||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:e}}function H6(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),oj(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let a=[],n="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,A,l)=>(a.push({paramName:A,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(a.push({paramName:"*"}),n+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?n+="\\/*$":e!==""&&e!=="/"&&(n+="(?:(?=\\/|$))"),[new RegExp(n,t?void 0:"i"),a]}function K6(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return oj(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function vc(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,a=e.charAt(r);return a&&a!=="/"?null:e.slice(r)||"/"}function $6(e,t){t===void 0&&(t="/");let{pathname:r,search:a="",hash:n=""}=typeof e=="string"?Ic(e):e;return{pathname:r?r.startsWith("/")?r:V6(r,t):t,search:G6(a),hash:W6(n)}}function V6(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(n=>{n===".."?r.length>1&&r.pop():n!=="."&&r.push(n)}),r.length>1?r.join("/"):"/"}function Tg(e,t,r,a){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function z6(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Tv(e,t){let r=z6(e);return t?r.map((a,n)=>n===r.length-1?a.pathname:a.pathnameBase):r.map(a=>a.pathnameBase)}function Rv(e,t,r,a){a===void 0&&(a=!1);let n;typeof e=="string"?n=Ic(e):(n=mu({},e),Kr(!n.pathname||!n.pathname.includes("?"),Tg("?","pathname","search",n)),Kr(!n.pathname||!n.pathname.includes("#"),Tg("#","pathname","hash",n)),Kr(!n.search||!n.search.includes("#"),Tg("#","search","hash",n)));let i=e===""||n.pathname==="",o=i?"/":n.pathname,A;if(o==null)A=r;else{let h=t.length-1;if(!a&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),h-=1;n.pathname=m.join("/")}A=h>=0?t[h]:"/"}let l=$6(n,A),c=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const Oo=e=>e.join("/").replace(/\/\/+/g,"/"),q6=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),G6=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,W6=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function J6(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const cj=["post","put","patch","delete"];new Set(cj);const X6=["get",...cj];new Set(X6);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pu(){return pu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},pu.apply(this,arguments)}const mp=b.createContext(null),dj=b.createContext(null),Zi=b.createContext(null),pp=b.createContext(null),pi=b.createContext({outlet:null,matches:[],isDataRoute:!1}),uj=b.createContext(null);function Y6(e,t){let{relative:r}=t===void 0?{}:t;Qc()||Kr(!1);let{basename:a,navigator:n}=b.useContext(Zi),{hash:i,pathname:o,search:A}=gp(e,{relative:r}),l=o;return a!=="/"&&(l=o==="/"?a:Oo([a,o])),n.createHref({pathname:l,search:A,hash:i})}function Qc(){return b.useContext(pp)!=null}function La(){return Qc()||Kr(!1),b.useContext(pp).location}function hj(e){b.useContext(Zi).static||b.useLayoutEffect(e)}function Zr(){let{isDataRoute:e}=b.useContext(pi);return e?hI():Z6()}function Z6(){Qc()||Kr(!1);let e=b.useContext(mp),{basename:t,future:r,navigator:a}=b.useContext(Zi),{matches:n}=b.useContext(pi),{pathname:i}=La(),o=JSON.stringify(Tv(n,r.v7_relativeSplatPath)),A=b.useRef(!1);return hj(()=>{A.current=!0}),b.useCallback(function(c,d){if(d===void 0&&(d={}),!A.current)return;if(typeof c=="number"){a.go(c);return}let h=Rv(c,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Oo([t,h.pathname])),(d.replace?a.replace:a.push)(h,d.state,d)},[t,a,o,i,e])}const eI=b.createContext(null);function tI(e){let t=b.useContext(pi).outlet;return t&&b.createElement(eI.Provider,{value:e},t)}function ll(){let{matches:e}=b.useContext(pi),t=e[e.length-1];return t?t.params:{}}function gp(e,t){let{relative:r}=t===void 0?{}:t,{future:a}=b.useContext(Zi),{matches:n}=b.useContext(pi),{pathname:i}=La(),o=JSON.stringify(Tv(n,a.v7_relativeSplatPath));return b.useMemo(()=>Rv(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function rI(e,t){return sI(e,t)}function sI(e,t,r,a){Qc()||Kr(!1);let{navigator:n}=b.useContext(Zi),{matches:i}=b.useContext(pi),o=i[i.length-1],A=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=La(),d;if(t){var h;let y=typeof t=="string"?Ic(t):t;l==="/"||(h=y.pathname)!=null&&h.startsWith(l)||Kr(!1),d=y}else d=c;let m=d.pathname||"/",u=m;if(l!=="/"){let y=l.replace(/^\//,"").split("/");u="/"+m.replace(/^\//,"").split("/").slice(y.length).join("/")}let p=E6(e,{pathname:u}),g=AI(p&&p.map(y=>Object.assign({},y,{params:Object.assign({},A,y.params),pathname:Oo([l,n.encodeLocation?n.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?l:Oo([l,n.encodeLocation?n.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),i,r,a);return t&&g?b.createElement(pp.Provider,{value:{location:pu({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Lo.Pop}},g):g}function aI(){let e=uI(),t=J6(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},t),r?b.createElement("pre",{style:n},r):null,null)}const nI=b.createElement(aI,null);class iI extends b.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?b.createElement(pi.Provider,{value:this.props.routeContext},b.createElement(uj.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function oI(e){let{routeContext:t,match:r,children:a}=e,n=b.useContext(mp);return n&&n.static&&n.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=r.route.id),b.createElement(pi.Provider,{value:t},a)}function AI(e,t,r,a){var n;if(t===void 0&&(t=[]),r===void 0&&(r=null),a===void 0&&(a=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=a)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,A=(n=r)==null?void 0:n.errors;if(A!=null){let d=o.findIndex(h=>h.route.id&&(A==null?void 0:A[h.route.id])!==void 0);d>=0||Kr(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,c=-1;if(r&&a&&a.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:m,errors:u}=r,p=h.route.loader&&m[h.route.id]===void 0&&(!u||u[h.route.id]===void 0);if(h.route.lazy||p){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,h,m)=>{let u,p=!1,g=null,y=null;r&&(u=A&&h.route.id?A[h.route.id]:void 0,g=h.route.errorElement||nI,l&&(c<0&&m===0?(p=!0,y=null):c===m&&(p=!0,y=h.route.hydrateFallbackElement||null)));let x=t.concat(o.slice(0,m+1)),B=()=>{let j;return u?j=g:p?j=y:h.route.Component?j=b.createElement(h.route.Component,null):h.route.element?j=h.route.element:j=d,b.createElement(oI,{match:h,routeContext:{outlet:d,matches:x,isDataRoute:r!=null},children:j})};return r&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?b.createElement(iI,{location:r.location,revalidation:r.revalidation,component:g,error:u,children:B(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):B()},null)}var fj=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(fj||{}),jm=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(jm||{});function lI(e){let t=b.useContext(mp);return t||Kr(!1),t}function cI(e){let t=b.useContext(dj);return t||Kr(!1),t}function dI(e){let t=b.useContext(pi);return t||Kr(!1),t}function mj(e){let t=dI(),r=t.matches[t.matches.length-1];return r.route.id||Kr(!1),r.route.id}function uI(){var e;let t=b.useContext(uj),r=cI(jm.UseRouteError),a=mj(jm.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[a]}function hI(){let{router:e}=lI(fj.UseNavigateStable),t=mj(jm.UseNavigateStable),r=b.useRef(!1);return hj(()=>{r.current=!0}),b.useCallback(function(n,i){i===void 0&&(i={}),r.current&&(typeof n=="number"?e.navigate(n):e.navigate(n,pu({fromRouteId:t},i)))},[e,t])}function fI(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function pj(e){let{to:t,replace:r,state:a,relative:n}=e;Qc()||Kr(!1);let{future:i,static:o}=b.useContext(Zi),{matches:A}=b.useContext(pi),{pathname:l}=La(),c=Zr(),d=Rv(t,Tv(A,i.v7_relativeSplatPath),l,n==="path"),h=JSON.stringify(d);return b.useEffect(()=>c(JSON.parse(h),{replace:r,state:a,relative:n}),[c,h,n,r,a]),null}function mI(e){return tI(e.context)}function gr(e){Kr(!1)}function pI(e){let{basename:t="/",children:r=null,location:a,navigationType:n=Lo.Pop,navigator:i,static:o=!1,future:A}=e;Qc()&&Kr(!1);let l=t.replace(/^\/*/,"/"),c=b.useMemo(()=>({basename:l,navigator:i,static:o,future:pu({v7_relativeSplatPath:!1},A)}),[l,A,i,o]);typeof a=="string"&&(a=Ic(a));let{pathname:d="/",search:h="",hash:m="",state:u=null,key:p="default"}=a,g=b.useMemo(()=>{let y=vc(d,l);return y==null?null:{location:{pathname:y,search:h,hash:m,state:u,key:p},navigationType:n}},[l,d,h,m,u,p,n]);return g==null?null:b.createElement(Zi.Provider,{value:c},b.createElement(pp.Provider,{children:r,value:g}))}function gI(e){let{children:t,location:r}=e;return rI(xx(t),r)}new Promise(()=>{});function xx(e,t){t===void 0&&(t=[]);let r=[];return b.Children.forEach(e,(a,n)=>{if(!b.isValidElement(a))return;let i=[...t,n];if(a.type===b.Fragment){r.push.apply(r,xx(a.props.children,i));return}a.type!==gr&&Kr(!1),!a.props.index||!a.props.children||Kr(!1);let o={id:a.props.id||i.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(o.children=xx(a.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Cm(){return Cm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Cm.apply(this,arguments)}function gj(e,t){if(e==null)return{};var r={},a=Object.keys(e),n,i;for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&(r[n]=e[n]);return r}function xI(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function vI(e,t){return e.button===0&&(!t||t==="_self")&&!xI(e)}const wI=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],bI=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],yI="6";try{window.__reactRouterVersion=yI}catch(e){}const BI=b.createContext({isTransitioning:!1}),jI="startTransition",b2=aE[jI];function CI(e){let{basename:t,children:r,future:a,window:n}=e,i=b.useRef();i.current==null&&(i.current=_6({window:n,v5Compat:!0}));let o=i.current,[A,l]=b.useState({action:o.action,location:o.location}),{v7_startTransition:c}=a||{},d=b.useCallback(h=>{c&&b2?b2(()=>l(h)):l(h)},[l,c]);return b.useLayoutEffect(()=>o.listen(d),[o,d]),b.useEffect(()=>fI(a),[a]),b.createElement(pI,{basename:t,children:r,location:A.location,navigationType:A.action,navigator:o,future:a})}const NI=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined",_I=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,SI=b.forwardRef(function(t,r){let{onClick:a,relative:n,reloadDocument:i,replace:o,state:A,target:l,to:c,preventScrollReset:d,viewTransition:h}=t,m=gj(t,wI),{basename:u}=b.useContext(Zi),p,g=!1;if(typeof c=="string"&&_I.test(c)&&(p=c,NI))try{let j=new URL(window.location.href),w=c.startsWith("//")?new URL(j.protocol+c):new URL(c),N=vc(w.pathname,u);w.origin===j.origin&&N!=null?c=N+w.search+w.hash:g=!0}catch(j){}let y=Y6(c,{relative:n}),x=EI(c,{replace:o,state:A,target:l,preventScrollReset:d,relative:n,viewTransition:h});function B(j){a&&a(j),j.defaultPrevented||x(j)}return b.createElement("a",Cm({},m,{href:p||y,onClick:g||i?a:B,ref:r,target:l}))}),xj=b.forwardRef(function(t,r){let{"aria-current":a="page",caseSensitive:n=!1,className:i="",end:o=!1,style:A,to:l,viewTransition:c,children:d}=t,h=gj(t,bI),m=gp(l,{relative:h.relative}),u=La(),p=b.useContext(dj),{navigator:g,basename:y}=b.useContext(Zi),x=p!=null&&UI(m)&&c===!0,B=g.encodeLocation?g.encodeLocation(m).pathname:m.pathname,j=u.pathname,w=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;n||(j=j.toLowerCase(),w=w?w.toLowerCase():null,B=B.toLowerCase()),w&&y&&(w=vc(w,y)||w);const N=B!=="/"&&B.endsWith("/")?B.length-1:B.length;let I=j===B||!o&&j.startsWith(B)&&j.charAt(N)==="/",U=w!=null&&(w===B||!o&&w.startsWith(B)&&w.charAt(B.length)==="/"),D={isActive:I,isPending:U,isTransitioning:x},L=I?a:void 0,P;typeof i=="function"?P=i(D):P=[i,I?"active":null,U?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let S=typeof A=="function"?A(D):A;return b.createElement(SI,Cm({},h,{"aria-current":L,className:P,ref:r,style:S,to:l,viewTransition:c}),typeof d=="function"?d(D):d)});var vx;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(vx||(vx={}));var y2;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(y2||(y2={}));function FI(e){let t=b.useContext(mp);return t||Kr(!1),t}function EI(e,t){let{target:r,replace:a,state:n,preventScrollReset:i,relative:o,viewTransition:A}=t===void 0?{}:t,l=Zr(),c=La(),d=gp(e,{relative:o});return b.useCallback(h=>{if(vI(h,r)){h.preventDefault();let m=a!==void 0?a:ym(c)===ym(d);l(e,{replace:m,state:n,preventScrollReset:i,relative:o,viewTransition:A})}},[c,l,d,a,n,r,e,i,o,A])}function UI(e,t){t===void 0&&(t={});let r=b.useContext(BI);r==null&&Kr(!1);let{basename:a}=FI(vx.useViewTransitionState),n=gp(e,{relative:t.relative});if(!r.isTransitioning)return!1;let i=vc(r.currentLocation.pathname,a)||r.currentLocation.pathname,o=vc(r.nextLocation.pathname,a)||r.nextLocation.pathname;return Bm(n.pathname,o)!=null||Bm(n.pathname,i)!=null}const vj=b.createContext(void 0),Ca=()=>{const e=b.useContext(vj);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},II=({children:e})=>{const[t,r]=b.useState(null),[a,n]=b.useState(!0),i=b.useCallback((d,h,m)=>{const u={id:`auth_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,timestamp:new Date().toISOString(),level:d,action:h,user:(t==null?void 0:t.name)||"Sistema",details:m,ip:"192.168.1."+Math.floor(Math.random()*255),module:"Autenticao"},p=JSON.parse(localStorage.getItem("bedside_system_logs")||"[]"),g=[u,...p].slice(0,1e3);localStorage.setItem("bedside_system_logs",JSON.stringify(g))},[t==null?void 0:t.name]);b.useEffect(()=>{const d=localStorage.getItem("user");if(d)try{const h=JSON.parse(d);h.isAuthenticated&&(r(h),i("info","Sesso Restaurada",`Usurio ${h.name} (${h.email}) teve sua sesso restaurada automaticamente`))}catch(h){console.error("Erro ao carregar dados do usurio:",h),localStorage.removeItem("user"),i("error","Erro de Sesso","Falha ao restaurar sesso do usurio - dados corrompidos")}n(!1)},[i]);const o=b.useCallback(d=>{r(d),localStorage.setItem("user",JSON.stringify(d)),i("info","Login Realizado",`Usurio ${d.name} (${d.email}) fez login com sucesso - Perfil: ${d.role}`)},[i]),A=b.useCallback(d=>{if(!t)return;const h=_(_({},t),d);r(h),localStorage.setItem("user",JSON.stringify(h)),i("info","Perfil Atualizado",`Usurio ${h.name} atualizou dados do perfil`)},[t,i]),l=b.useCallback(()=>{const d=t;r(null),localStorage.removeItem("user"),d&&i("info","Logout Realizado",`Usurio ${d.name} (${d.email}) fez logout do sistema`)},[t,i]),c=b.useMemo(()=>({user:t,login:o,logout:l,updateUserProfile:A,isAuthenticated:!!(t!=null&&t.isAuthenticated),isLoading:a}),[t,o,l,A,a]);return s.jsx(vj.Provider,{value:c,children:e})},wx=Yi("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-xl text-sm font-medium ring-offset-background transition-all duration-300 ease-out focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 relative overflow-hidden",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90 shadow-modern hover:shadow-modern-lg transform hover:-translate-y-0.5 active:translate-y-0 active:scale-95",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90 shadow-modern hover:shadow-modern-lg transform hover:-translate-y-0.5 active:translate-y-0 active:scale-95",outline:"border border-border bg-background hover:bg-accent hover:text-accent-foreground shadow-sm hover:shadow-modern transform hover:-translate-y-0.5 active:translate-y-0",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80 shadow-modern hover:shadow-modern-lg transform hover:-translate-y-0.5 active:translate-y-0 active:scale-95",ghost:"hover:bg-accent hover:text-accent-foreground transform hover:-translate-y-0.5 active:translate-y-0",link:"text-primary underline-offset-4 hover:underline hover:text-primary/80",glass:"bg-glass-background border border-glass-border backdrop-blur-md text-foreground hover:bg-glass-background/80 shadow-modern hover:shadow-modern-lg transform hover:-translate-y-0.5 active:translate-y-0",gradient:"bg-gradient-to-r from-primary via-accent to-primary bg-size-200 bg-pos-0 hover:bg-pos-100 text-primary-foreground shadow-modern hover:shadow-modern-lg transform hover:-translate-y-0.5 active:translate-y-0 active:scale-95",success:"bg-emerald-500 text-white hover:bg-emerald-600 shadow-modern hover:shadow-modern-lg transform hover:-translate-y-0.5 active:translate-y-0 active:scale-95",warning:"bg-amber-500 text-white hover:bg-amber-600 shadow-modern hover:shadow-modern-lg transform hover:-translate-y-0.5 active:translate-y-0 active:scale-95",info:"bg-blue-500 text-white hover:bg-blue-600 shadow-modern hover:shadow-modern-lg transform hover:-translate-y-0.5 active:translate-y-0 active:scale-95"},size:{default:"h-10 px-4 py-2",sm:"h-8 rounded-lg px-3 text-xs",lg:"h-12 rounded-xl px-8 text-base",xl:"h-14 rounded-2xl px-10 text-lg",icon:"h-10 w-10","icon-sm":"h-8 w-8 rounded-lg","icon-lg":"h-12 w-12 rounded-xl"}},defaultVariants:{variant:"default",size:"default"}}),ne=b.forwardRef((o,i)=>{var A=o,{className:e,variant:t,size:r,asChild:a=!1}=A,n=he(A,["className","variant","size","asChild"]);const l=a?Uc:"button";return s.jsx(l,_({className:ze(wx({variant:t,size:r,className:e})),ref:i},n))});ne.displayName="Button";var wj={exports:{}},bj={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wc=b;function QI(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var kI=typeof Object.is=="function"?Object.is:QI,LI=wc.useState,DI=wc.useEffect,PI=wc.useLayoutEffect,MI=wc.useDebugValue;function TI(e,t){var r=t(),a=LI({inst:{value:r,getSnapshot:t}}),n=a[0].inst,i=a[1];return PI(function(){n.value=r,n.getSnapshot=t,Rg(n)&&i({inst:n})},[e,r,t]),DI(function(){return Rg(n)&&i({inst:n}),e(function(){Rg(n)&&i({inst:n})})},[e]),MI(r),r}function Rg(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!kI(e,r)}catch(a){return!0}}function RI(e,t){return t()}var OI=typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"?RI:TI;bj.useSyncExternalStore=wc.useSyncExternalStore!==void 0?wc.useSyncExternalStore:OI;wj.exports=bj;var HI=wj.exports;function KI(){return HI.useSyncExternalStore($I,()=>!0,()=>!1)}function $I(){return()=>{}}var Ov="Avatar",[VI,uq]=mi(Ov),[zI,yj]=VI(Ov),Bj=b.forwardRef((e,t)=>{const o=e,{__scopeAvatar:r}=o,a=he(o,["__scopeAvatar"]),[n,i]=b.useState("idle");return s.jsx(zI,{scope:r,imageLoadingStatus:n,onImageLoadingStatusChange:i,children:s.jsx(vr.span,M(_({},a),{ref:t}))})});Bj.displayName=Ov;var jj="AvatarImage",Cj=b.forwardRef((e,t)=>{const c=e,{__scopeAvatar:r,src:a,onLoadingStatusChange:n=()=>{}}=c,i=he(c,["__scopeAvatar","src","onLoadingStatusChange"]),o=yj(jj,r),A=qI(a,i),l=Tn(d=>{n(d),o.onImageLoadingStatusChange(d)});return hm(()=>{A!=="idle"&&l(A)},[A,l]),A==="loaded"?s.jsx(vr.img,M(_({},i),{ref:t,src:a})):null});Cj.displayName=jj;var Nj="AvatarFallback",_j=b.forwardRef((e,t)=>{const l=e,{__scopeAvatar:r,delayMs:a}=l,n=he(l,["__scopeAvatar","delayMs"]),i=yj(Nj,r),[o,A]=b.useState(a===void 0);return b.useEffect(()=>{if(a!==void 0){const c=window.setTimeout(()=>A(!0),a);return()=>window.clearTimeout(c)}},[a]),o&&i.imageLoadingStatus!=="loaded"?s.jsx(vr.span,M(_({},n),{ref:t})):null});_j.displayName=Nj;function B2(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function qI(e,{referrerPolicy:t,crossOrigin:r}){const a=KI(),n=b.useRef(null),i=a?(n.current||(n.current=new window.Image),n.current):null,[o,A]=b.useState(()=>B2(i,e));return hm(()=>{A(B2(i,e))},[i,e]),hm(()=>{const l=h=>()=>{A(h)};if(!i)return;const c=l("loaded"),d=l("error");return i.addEventListener("load",c),i.addEventListener("error",d),t&&(i.referrerPolicy=t),typeof r=="string"&&(i.crossOrigin=r),()=>{i.removeEventListener("load",c),i.removeEventListener("error",d)}},[i,r,t]),o}var Sj=Bj,Fj=Cj,Ej=_j;const gu=b.forwardRef((a,r)=>{var n=a,{className:e}=n,t=he(n,["className"]);return s.jsx(Sj,_({ref:r,className:ze("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e)},t))});gu.displayName=Sj.displayName;const xu=b.forwardRef((a,r)=>{var n=a,{className:e}=n,t=he(n,["className"]);return s.jsx(Fj,_({ref:r,className:ze("aspect-square h-full w-full",e)},t))});xu.displayName=Fj.displayName;const vu=b.forwardRef((a,r)=>{var n=a,{className:e}=n,t=he(n,["className"]);return s.jsx(Ej,_({ref:r,className:ze("flex h-full w-full items-center justify-center rounded-full bg-muted",e)},t))});vu.displayName=Ej.displayName;var Og="rovingFocusGroup.onEntryFocus",GI={bubbles:!1,cancelable:!0},Ou="RovingFocusGroup",[bx,Uj,WI]=rB(Ou),[JI,xp]=mi(Ou,[WI]),[XI,YI]=JI(Ou),Ij=b.forwardRef((e,t)=>s.jsx(bx.Provider,{scope:e.__scopeRovingFocusGroup,children:s.jsx(bx.Slot,{scope:e.__scopeRovingFocusGroup,children:s.jsx(ZI,M(_({},e),{ref:t}))})}));Ij.displayName=Ou;var ZI=b.forwardRef((e,t)=>{const D=e,{__scopeRovingFocusGroup:r,orientation:a,loop:n=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:A,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:d=!1}=D,h=he(D,["__scopeRovingFocusGroup","orientation","loop","dir","currentTabStopId","defaultCurrentTabStopId","onCurrentTabStopIdChange","onEntryFocus","preventScrollOnEntryFocus"]),m=b.useRef(null),u=Rs(t,m),p=sp(i),[g,y]=Ec({prop:o,defaultProp:A!=null?A:null,onChange:l,caller:Ou}),[x,B]=b.useState(!1),j=Tn(c),w=Uj(r),N=b.useRef(!1),[I,U]=b.useState(0);return b.useEffect(()=>{const L=m.current;if(L)return L.addEventListener(Og,j),()=>L.removeEventListener(Og,j)},[j]),s.jsx(XI,{scope:r,orientation:a,dir:p,loop:n,currentTabStopId:g,onItemFocus:b.useCallback(L=>y(L),[y]),onItemShiftTab:b.useCallback(()=>B(!0),[]),onFocusableItemAdd:b.useCallback(()=>U(L=>L+1),[]),onFocusableItemRemove:b.useCallback(()=>U(L=>L-1),[]),children:s.jsx(vr.div,M(_({tabIndex:x||I===0?-1:0,"data-orientation":a},h),{ref:u,style:_({outline:"none"},e.style),onMouseDown:Nt(e.onMouseDown,()=>{N.current=!0}),onFocus:Nt(e.onFocus,L=>{const P=!N.current;if(L.target===L.currentTarget&&P&&!x){const S=new CustomEvent(Og,GI);if(L.currentTarget.dispatchEvent(S),!S.defaultPrevented){const E=w().filter(q=>q.focusable),Q=E.find(q=>q.active),V=E.find(q=>q.id===g),Y=[Q,V,...E].filter(Boolean).map(q=>q.ref.current);Lj(Y,d)}}N.current=!1}),onBlur:Nt(e.onBlur,()=>B(!1))}))})}),Qj="RovingFocusGroupItem",kj=b.forwardRef((e,t)=>{const y=e,{__scopeRovingFocusGroup:r,focusable:a=!0,active:n=!1,tabStopId:i,children:o}=y,A=he(y,["__scopeRovingFocusGroup","focusable","active","tabStopId","children"]),l=pc(),c=i||l,d=YI(Qj,r),h=d.currentTabStopId===c,m=Uj(r),{onFocusableItemAdd:u,onFocusableItemRemove:p,currentTabStopId:g}=d;return b.useEffect(()=>{if(a)return u(),()=>p()},[a,u,p]),s.jsx(bx.ItemSlot,{scope:r,id:c,focusable:a,active:n,children:s.jsx(vr.span,M(_({tabIndex:h?0:-1,"data-orientation":d.orientation},A),{ref:t,onMouseDown:Nt(e.onMouseDown,x=>{a?d.onItemFocus(c):x.preventDefault()}),onFocus:Nt(e.onFocus,()=>d.onItemFocus(c)),onKeyDown:Nt(e.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){d.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const B=rQ(x,d.orientation,d.dir);if(B!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let w=m().filter(N=>N.focusable).map(N=>N.ref.current);if(B==="last")w.reverse();else if(B==="prev"||B==="next"){B==="prev"&&w.reverse();const N=w.indexOf(x.currentTarget);w=d.loop?sQ(w,N+1):w.slice(N+1)}setTimeout(()=>Lj(w))}}),children:typeof o=="function"?o({isCurrentTabStop:h,hasTabStop:g!=null}):o}))})});kj.displayName=Qj;var eQ={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function tQ(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function rQ(e,t,r){const a=tQ(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(a))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(a)))return eQ[a]}function Lj(e,t=!1){const r=document.activeElement;for(const a of e)if(a===r||(a.focus({preventScroll:t}),document.activeElement!==r))return}function sQ(e,t){return e.map((r,a)=>e[(t+a)%e.length])}var Dj=Ij,Pj=kj,yx=["Enter"," "],aQ=["ArrowDown","PageUp","Home"],Mj=["ArrowUp","PageDown","End"],nQ=[...aQ,...Mj],iQ={ltr:[...yx,"ArrowRight"],rtl:[...yx,"ArrowLeft"]},oQ={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Hu="Menu",[wu,AQ,lQ]=rB(Hu),[cl,Tj]=mi(Hu,[lQ,Fc,xp]),vp=Fc(),Rj=xp(),[cQ,dl]=cl(Hu),[dQ,Ku]=cl(Hu),Oj=e=>{const{__scopeMenu:t,open:r=!1,children:a,dir:n,onOpenChange:i,modal:o=!0}=e,A=vp(t),[l,c]=b.useState(null),d=b.useRef(!1),h=Tn(i),m=sp(n);return b.useEffect(()=>{const u=()=>{d.current=!0,document.addEventListener("pointerdown",p,{capture:!0,once:!0}),document.addEventListener("pointermove",p,{capture:!0,once:!0})},p=()=>d.current=!1;return document.addEventListener("keydown",u,{capture:!0}),()=>{document.removeEventListener("keydown",u,{capture:!0}),document.removeEventListener("pointerdown",p,{capture:!0}),document.removeEventListener("pointermove",p,{capture:!0})}},[]),s.jsx(Fv,M(_({},A),{children:s.jsx(cQ,{scope:t,open:r,onOpenChange:h,content:l,onContentChange:c,children:s.jsx(dQ,{scope:t,onClose:b.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:d,dir:m,modal:o,children:a})})}))};Oj.displayName=Hu;var uQ="MenuAnchor",Hv=b.forwardRef((e,t)=>{const i=e,{__scopeMenu:r}=i,a=he(i,["__scopeMenu"]),n=vp(r);return s.jsx(rp,M(_(_({},n),a),{ref:t}))});Hv.displayName=uQ;var Kv="MenuPortal",[hQ,Hj]=cl(Kv,{forceMount:void 0}),Kj=e=>{const{__scopeMenu:t,forceMount:r,children:a,container:n}=e,i=dl(Kv,t);return s.jsx(hQ,{scope:t,forceMount:r,children:s.jsx(rn,{present:r||i.open,children:s.jsx(AB,{asChild:!0,container:n,children:a})})})};Kj.displayName=Kv;var vn="MenuContent",[fQ,$v]=cl(vn),$j=b.forwardRef((e,t)=>{const r=Hj(vn,e.__scopeMenu),A=e,{forceMount:a=r.forceMount}=A,n=he(A,["forceMount"]),i=dl(vn,e.__scopeMenu),o=Ku(vn,e.__scopeMenu);return s.jsx(wu.Provider,{scope:e.__scopeMenu,children:s.jsx(rn,{present:a||i.open,children:s.jsx(wu.Slot,{scope:e.__scopeMenu,children:o.modal?s.jsx(mQ,M(_({},n),{ref:t})):s.jsx(pQ,M(_({},n),{ref:t}))})})})}),mQ=b.forwardRef((e,t)=>{const r=dl(vn,e.__scopeMenu),a=b.useRef(null),n=Rs(t,a);return b.useEffect(()=>{const i=a.current;if(i)return sB(i)},[]),s.jsx(Vv,M(_({},e),{ref:n,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:Nt(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)}))}),pQ=b.forwardRef((e,t)=>{const r=dl(vn,e.__scopeMenu);return s.jsx(Vv,M(_({},e),{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)}))}),gQ=lB("MenuContent.ScrollLock"),Vv=b.forwardRef((e,t)=>{const Z=e,{__scopeMenu:r,loop:a=!1,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:A,onEntryFocus:l,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:m,onDismiss:u,disableOutsideScroll:p}=Z,g=he(Z,["__scopeMenu","loop","trapFocus","onOpenAutoFocus","onCloseAutoFocus","disableOutsidePointerEvents","onEntryFocus","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside","onDismiss","disableOutsideScroll"]),y=dl(vn,r),x=Ku(vn,r),B=vp(r),j=Rj(r),w=AQ(r),[N,I]=b.useState(null),U=b.useRef(null),D=Rs(t,U,y.onContentChange),L=b.useRef(0),P=b.useRef(""),S=b.useRef(0),E=b.useRef(null),Q=b.useRef("right"),V=b.useRef(0),ae=p?oB:b.Fragment,Y=p?{as:gQ,allowPinchZoom:!0}:void 0,q=fe=>{var Ne,je;const we=P.current+fe,T=w().filter(Ie=>!Ie.disabled),G=document.activeElement,X=(Ne=T.find(Ie=>Ie.ref.current===G))==null?void 0:Ne.textValue,se=T.map(Ie=>Ie.textValue),le=FQ(se,we,X),de=(je=T.find(Ie=>Ie.textValue===le))==null?void 0:je.ref.current;(function Ie(Oe){P.current=Oe,window.clearTimeout(L.current),Oe!==""&&(L.current=window.setTimeout(()=>Ie(""),1e3))})(we),de&&setTimeout(()=>de.focus())};b.useEffect(()=>()=>window.clearTimeout(L.current),[]),aB();const K=b.useCallback(fe=>{var T,G;return Q.current===((T=E.current)==null?void 0:T.side)&&UQ(fe,(G=E.current)==null?void 0:G.area)},[]);return s.jsx(fQ,{scope:r,searchRef:P,onItemEnter:b.useCallback(fe=>{K(fe)&&fe.preventDefault()},[K]),onItemLeave:b.useCallback(fe=>{var we;K(fe)||((we=U.current)==null||we.focus(),I(null))},[K]),onTriggerLeave:b.useCallback(fe=>{K(fe)&&fe.preventDefault()},[K]),pointerGraceTimerRef:S,onPointerGraceIntentChange:b.useCallback(fe=>{E.current=fe},[]),children:s.jsx(ae,M(_({},Y),{children:s.jsx(nB,{asChild:!0,trapped:n,onMountAutoFocus:Nt(i,fe=>{var we;fe.preventDefault(),(we=U.current)==null||we.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:s.jsx(Nv,{asChild:!0,disableOutsidePointerEvents:A,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:m,onDismiss:u,children:s.jsx(Dj,M(_({asChild:!0},j),{dir:x.dir,orientation:"vertical",loop:a,currentTabStopId:N,onCurrentTabStopIdChange:I,onEntryFocus:Nt(l,fe=>{x.isUsingKeyboardRef.current||fe.preventDefault()}),preventScrollOnEntryFocus:!0,children:s.jsx(_v,M(_(_({role:"menu","aria-orientation":"vertical","data-state":iC(y.open),"data-radix-menu-content":"",dir:x.dir},B),g),{ref:D,style:_({outline:"none"},g.style),onKeyDown:Nt(g.onKeyDown,fe=>{const T=fe.target.closest("[data-radix-menu-content]")===fe.currentTarget,G=fe.ctrlKey||fe.altKey||fe.metaKey,X=fe.key.length===1;T&&(fe.key==="Tab"&&fe.preventDefault(),!G&&X&&q(fe.key));const se=U.current;if(fe.target!==se||!nQ.includes(fe.key))return;fe.preventDefault();const de=w().filter(Ne=>!Ne.disabled).map(Ne=>Ne.ref.current);Mj.includes(fe.key)&&de.reverse(),_Q(de)}),onBlur:Nt(e.onBlur,fe=>{fe.currentTarget.contains(fe.target)||(window.clearTimeout(L.current),P.current="")}),onPointerMove:Nt(e.onPointerMove,bu(fe=>{const we=fe.target,T=V.current!==fe.clientX;if(fe.currentTarget.contains(we)&&T){const G=fe.clientX>V.current?"right":"left";Q.current=G,V.current=fe.clientX}}))}))}))})})}))})});$j.displayName=vn;var xQ="MenuGroup",zv=b.forwardRef((e,t)=>{const n=e,{__scopeMenu:r}=n,a=he(n,["__scopeMenu"]);return s.jsx(vr.div,M(_({role:"group"},a),{ref:t}))});zv.displayName=xQ;var vQ="MenuLabel",Vj=b.forwardRef((e,t)=>{const n=e,{__scopeMenu:r}=n,a=he(n,["__scopeMenu"]);return s.jsx(vr.div,M(_({},a),{ref:t}))});Vj.displayName=vQ;var Nm="MenuItem",j2="menu.itemSelect",wp=b.forwardRef((e,t)=>{const h=e,{disabled:r=!1,onSelect:a}=h,n=he(h,["disabled","onSelect"]),i=b.useRef(null),o=Ku(Nm,e.__scopeMenu),A=$v(Nm,e.__scopeMenu),l=Rs(t,i),c=b.useRef(!1),d=()=>{const m=i.current;if(!r&&m){const u=new CustomEvent(j2,{bubbles:!0,cancelable:!0});m.addEventListener(j2,p=>a==null?void 0:a(p),{once:!0}),$F(m,u),u.defaultPrevented?c.current=!1:o.onClose()}};return s.jsx(zj,M(_({},n),{ref:l,disabled:r,onClick:Nt(e.onClick,d),onPointerDown:m=>{var u;(u=e.onPointerDown)==null||u.call(e,m),c.current=!0},onPointerUp:Nt(e.onPointerUp,m=>{var u;c.current||(u=m.currentTarget)==null||u.click()}),onKeyDown:Nt(e.onKeyDown,m=>{const u=A.searchRef.current!=="";r||u&&m.key===" "||yx.includes(m.key)&&(m.currentTarget.click(),m.preventDefault())})}))});wp.displayName=Nm;var zj=b.forwardRef((e,t)=>{const p=e,{__scopeMenu:r,disabled:a=!1,textValue:n}=p,i=he(p,["__scopeMenu","disabled","textValue"]),o=$v(Nm,r),A=Rj(r),l=b.useRef(null),c=Rs(t,l),[d,h]=b.useState(!1),[m,u]=b.useState("");return b.useEffect(()=>{var y;const g=l.current;g&&u(((y=g.textContent)!=null?y:"").trim())},[i.children]),s.jsx(wu.ItemSlot,{scope:r,disabled:a,textValue:n!=null?n:m,children:s.jsx(Pj,M(_({asChild:!0},A),{focusable:!a,children:s.jsx(vr.div,M(_({role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":a||void 0,"data-disabled":a?"":void 0},i),{ref:c,onPointerMove:Nt(e.onPointerMove,bu(g=>{a?o.onItemLeave(g):(o.onItemEnter(g),g.defaultPrevented||g.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Nt(e.onPointerLeave,bu(g=>o.onItemLeave(g))),onFocus:Nt(e.onFocus,()=>h(!0)),onBlur:Nt(e.onBlur,()=>h(!1))}))}))})}),wQ="MenuCheckboxItem",qj=b.forwardRef((e,t)=>{const i=e,{checked:r=!1,onCheckedChange:a}=i,n=he(i,["checked","onCheckedChange"]);return s.jsx(Yj,{scope:e.__scopeMenu,checked:r,children:s.jsx(wp,M(_({role:"menuitemcheckbox","aria-checked":_m(r)?"mixed":r},n),{ref:t,"data-state":Gv(r),onSelect:Nt(n.onSelect,()=>a==null?void 0:a(_m(r)?!0:!r),{checkForDefaultPrevented:!1})}))})});qj.displayName=wQ;var Gj="MenuRadioGroup",[bQ,yQ]=cl(Gj,{value:void 0,onValueChange:()=>{}}),Wj=b.forwardRef((e,t)=>{const o=e,{value:r,onValueChange:a}=o,n=he(o,["value","onValueChange"]),i=Tn(a);return s.jsx(bQ,{scope:e.__scopeMenu,value:r,onValueChange:i,children:s.jsx(zv,M(_({},n),{ref:t}))})});Wj.displayName=Gj;var Jj="MenuRadioItem",Xj=b.forwardRef((e,t)=>{const o=e,{value:r}=o,a=he(o,["value"]),n=yQ(Jj,e.__scopeMenu),i=r===n.value;return s.jsx(Yj,{scope:e.__scopeMenu,checked:i,children:s.jsx(wp,M(_({role:"menuitemradio","aria-checked":i},a),{ref:t,"data-state":Gv(i),onSelect:Nt(a.onSelect,()=>{var A;return(A=n.onValueChange)==null?void 0:A.call(n,r)},{checkForDefaultPrevented:!1})}))})});Xj.displayName=Jj;var qv="MenuItemIndicator",[Yj,BQ]=cl(qv,{checked:!1}),Zj=b.forwardRef((e,t)=>{const o=e,{__scopeMenu:r,forceMount:a}=o,n=he(o,["__scopeMenu","forceMount"]),i=BQ(qv,r);return s.jsx(rn,{present:a||_m(i.checked)||i.checked===!0,children:s.jsx(vr.span,M(_({},n),{ref:t,"data-state":Gv(i.checked)}))})});Zj.displayName=qv;var jQ="MenuSeparator",eC=b.forwardRef((e,t)=>{const n=e,{__scopeMenu:r}=n,a=he(n,["__scopeMenu"]);return s.jsx(vr.div,M(_({role:"separator","aria-orientation":"horizontal"},a),{ref:t}))});eC.displayName=jQ;var CQ="MenuArrow",tC=b.forwardRef((e,t)=>{const i=e,{__scopeMenu:r}=i,a=he(i,["__scopeMenu"]),n=vp(r);return s.jsx(Sv,M(_(_({},n),a),{ref:t}))});tC.displayName=CQ;var NQ="MenuSub",[hq,rC]=cl(NQ),_d="MenuSubTrigger",sC=b.forwardRef((e,t)=>{const r=dl(_d,e.__scopeMenu),a=Ku(_d,e.__scopeMenu),n=rC(_d,e.__scopeMenu),i=$v(_d,e.__scopeMenu),o=b.useRef(null),{pointerGraceTimerRef:A,onPointerGraceIntentChange:l}=i,c={__scopeMenu:e.__scopeMenu},d=b.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return b.useEffect(()=>d,[d]),b.useEffect(()=>{const h=A.current;return()=>{window.clearTimeout(h),l(null)}},[A,l]),s.jsx(Hv,M(_({asChild:!0},c),{children:s.jsx(zj,M(_({id:n.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":n.contentId,"data-state":iC(r.open)},e),{ref:iB(t,n.onTriggerChange),onClick:h=>{var m;(m=e.onClick)==null||m.call(e,h),!(e.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:Nt(e.onPointerMove,bu(h=>{i.onItemEnter(h),!h.defaultPrevented&&!e.disabled&&!r.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:Nt(e.onPointerLeave,bu(h=>{var u,p;d();const m=(u=r.content)==null?void 0:u.getBoundingClientRect();if(m){const g=(p=r.content)==null?void 0:p.dataset.side,y=g==="right",x=y?-5:5,B=m[y?"left":"right"],j=m[y?"right":"left"];i.onPointerGraceIntentChange({area:[{x:h.clientX+x,y:h.clientY},{x:B,y:m.top},{x:j,y:m.top},{x:j,y:m.bottom},{x:B,y:m.bottom}],side:g}),window.clearTimeout(A.current),A.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(h),h.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:Nt(e.onKeyDown,h=>{var u;const m=i.searchRef.current!=="";e.disabled||m&&h.key===" "||iQ[a.dir].includes(h.key)&&(r.onOpenChange(!0),(u=r.content)==null||u.focus(),h.preventDefault())})}))}))});sC.displayName=_d;var aC="MenuSubContent",nC=b.forwardRef((e,t)=>{const r=Hj(vn,e.__scopeMenu),d=e,{forceMount:a=r.forceMount}=d,n=he(d,["forceMount"]),i=dl(vn,e.__scopeMenu),o=Ku(vn,e.__scopeMenu),A=rC(aC,e.__scopeMenu),l=b.useRef(null),c=Rs(t,l);return s.jsx(wu.Provider,{scope:e.__scopeMenu,children:s.jsx(rn,{present:a||i.open,children:s.jsx(wu.Slot,{scope:e.__scopeMenu,children:s.jsx(Vv,M(_({id:A.contentId,"aria-labelledby":A.triggerId},n),{ref:c,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:h=>{var m;o.isUsingKeyboardRef.current&&((m=l.current)==null||m.focus()),h.preventDefault()},onCloseAutoFocus:h=>h.preventDefault(),onFocusOutside:Nt(e.onFocusOutside,h=>{h.target!==A.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:Nt(e.onEscapeKeyDown,h=>{o.onClose(),h.preventDefault()}),onKeyDown:Nt(e.onKeyDown,h=>{var p;const m=h.currentTarget.contains(h.target),u=oQ[o.dir].includes(h.key);m&&u&&(i.onOpenChange(!1),(p=A.trigger)==null||p.focus(),h.preventDefault())})}))})})})});nC.displayName=aC;function iC(e){return e?"open":"closed"}function _m(e){return e==="indeterminate"}function Gv(e){return _m(e)?"indeterminate":e?"checked":"unchecked"}function _Q(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function SQ(e,t){return e.map((r,a)=>e[(t+a)%e.length])}function FQ(e,t,r){const n=t.length>1&&Array.from(t).every(c=>c===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=SQ(e,Math.max(i,0));n.length===1&&(o=o.filter(c=>c!==r));const l=o.find(c=>c.toLowerCase().startsWith(n.toLowerCase()));return l!==r?l:void 0}function EQ(e,t){const{x:r,y:a}=e;let n=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const A=t[i],l=t[o],c=A.x,d=A.y,h=l.x,m=l.y;d>a!=m>a&&r<(h-c)*(a-d)/(m-d)+c&&(n=!n)}return n}function UQ(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return EQ(r,t)}function bu(e){return t=>t.pointerType==="mouse"?e(t):void 0}var IQ=Oj,QQ=Hv,kQ=Kj,LQ=$j,DQ=zv,PQ=Vj,MQ=wp,TQ=qj,RQ=Wj,OQ=Xj,HQ=Zj,KQ=eC,$Q=tC,VQ=sC,zQ=nC,bp="DropdownMenu",[qQ,fq]=mi(bp,[Tj]),Na=Tj(),[GQ,oC]=qQ(bp),AC=e=>{const{__scopeDropdownMenu:t,children:r,dir:a,open:n,defaultOpen:i,onOpenChange:o,modal:A=!0}=e,l=Na(t),c=b.useRef(null),[d,h]=Ec({prop:n,defaultProp:i!=null?i:!1,onChange:o,caller:bp});return s.jsx(GQ,{scope:t,triggerId:pc(),triggerRef:c,contentId:pc(),open:d,onOpenChange:h,onOpenToggle:b.useCallback(()=>h(m=>!m),[h]),modal:A,children:s.jsx(IQ,M(_({},l),{open:d,onOpenChange:h,dir:a,modal:A,children:r}))})};AC.displayName=bp;var lC="DropdownMenuTrigger",cC=b.forwardRef((e,t)=>{const A=e,{__scopeDropdownMenu:r,disabled:a=!1}=A,n=he(A,["__scopeDropdownMenu","disabled"]),i=oC(lC,r),o=Na(r);return s.jsx(QQ,M(_({asChild:!0},o),{children:s.jsx(vr.button,M(_({type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":a?"":void 0,disabled:a},n),{ref:iB(t,i.triggerRef),onPointerDown:Nt(e.onPointerDown,l=>{!a&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:Nt(e.onKeyDown,l=>{a||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})}))}))});cC.displayName=lC;var WQ="DropdownMenuPortal",dC=e=>{const n=e,{__scopeDropdownMenu:t}=n,r=he(n,["__scopeDropdownMenu"]),a=Na(t);return s.jsx(kQ,_(_({},a),r))};dC.displayName=WQ;var uC="DropdownMenuContent",hC=b.forwardRef((e,t)=>{const A=e,{__scopeDropdownMenu:r}=A,a=he(A,["__scopeDropdownMenu"]),n=oC(uC,r),i=Na(r),o=b.useRef(!1);return s.jsx(LQ,M(_(_({id:n.contentId,"aria-labelledby":n.triggerId},i),a),{ref:t,onCloseAutoFocus:Nt(e.onCloseAutoFocus,l=>{var c;o.current||(c=n.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:Nt(e.onInteractOutside,l=>{const c=l.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0,h=c.button===2||d;(!n.modal||h)&&(o.current=!0)}),style:M(_({},e.style),{"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"})}))});hC.displayName=uC;var JQ="DropdownMenuGroup",XQ=b.forwardRef((e,t)=>{const i=e,{__scopeDropdownMenu:r}=i,a=he(i,["__scopeDropdownMenu"]),n=Na(r);return s.jsx(DQ,M(_(_({},n),a),{ref:t}))});XQ.displayName=JQ;var YQ="DropdownMenuLabel",fC=b.forwardRef((e,t)=>{const i=e,{__scopeDropdownMenu:r}=i,a=he(i,["__scopeDropdownMenu"]),n=Na(r);return s.jsx(PQ,M(_(_({},n),a),{ref:t}))});fC.displayName=YQ;var ZQ="DropdownMenuItem",mC=b.forwardRef((e,t)=>{const i=e,{__scopeDropdownMenu:r}=i,a=he(i,["__scopeDropdownMenu"]),n=Na(r);return s.jsx(MQ,M(_(_({},n),a),{ref:t}))});mC.displayName=ZQ;var ek="DropdownMenuCheckboxItem",pC=b.forwardRef((e,t)=>{const i=e,{__scopeDropdownMenu:r}=i,a=he(i,["__scopeDropdownMenu"]),n=Na(r);return s.jsx(TQ,M(_(_({},n),a),{ref:t}))});pC.displayName=ek;var tk="DropdownMenuRadioGroup",rk=b.forwardRef((e,t)=>{const i=e,{__scopeDropdownMenu:r}=i,a=he(i,["__scopeDropdownMenu"]),n=Na(r);return s.jsx(RQ,M(_(_({},n),a),{ref:t}))});rk.displayName=tk;var sk="DropdownMenuRadioItem",gC=b.forwardRef((e,t)=>{const i=e,{__scopeDropdownMenu:r}=i,a=he(i,["__scopeDropdownMenu"]),n=Na(r);return s.jsx(OQ,M(_(_({},n),a),{ref:t}))});gC.displayName=sk;var ak="DropdownMenuItemIndicator",xC=b.forwardRef((e,t)=>{const i=e,{__scopeDropdownMenu:r}=i,a=he(i,["__scopeDropdownMenu"]),n=Na(r);return s.jsx(HQ,M(_(_({},n),a),{ref:t}))});xC.displayName=ak;var nk="DropdownMenuSeparator",vC=b.forwardRef((e,t)=>{const i=e,{__scopeDropdownMenu:r}=i,a=he(i,["__scopeDropdownMenu"]),n=Na(r);return s.jsx(KQ,M(_(_({},n),a),{ref:t}))});vC.displayName=nk;var ik="DropdownMenuArrow",ok=b.forwardRef((e,t)=>{const i=e,{__scopeDropdownMenu:r}=i,a=he(i,["__scopeDropdownMenu"]),n=Na(r);return s.jsx($Q,M(_(_({},n),a),{ref:t}))});ok.displayName=ik;var Ak="DropdownMenuSubTrigger",wC=b.forwardRef((e,t)=>{const i=e,{__scopeDropdownMenu:r}=i,a=he(i,["__scopeDropdownMenu"]),n=Na(r);return s.jsx(VQ,M(_(_({},n),a),{ref:t}))});wC.displayName=Ak;var lk="DropdownMenuSubContent",bC=b.forwardRef((e,t)=>{const i=e,{__scopeDropdownMenu:r}=i,a=he(i,["__scopeDropdownMenu"]),n=Na(r);return s.jsx(zQ,M(_(_({},n),a),{ref:t,style:M(_({},e.style),{"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"})}))});bC.displayName=lk;var ck=AC,dk=cC,uk=dC,yC=hC,BC=fC,jC=mC,CC=pC,NC=gC,_C=xC,SC=vC,FC=wC,EC=bC;const UC=ck,IC=dk,hk=b.forwardRef((i,n)=>{var o=i,{className:e,inset:t,children:r}=o,a=he(o,["className","inset","children"]);return s.jsxs(FC,M(_({ref:n,className:ze("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent",t&&"pl-8",e)},a),{children:[r,s.jsx(Tu,{className:"ml-auto h-4 w-4"})]}))});hk.displayName=FC.displayName;const fk=b.forwardRef((a,r)=>{var n=a,{className:e}=n,t=he(n,["className"]);return s.jsx(EC,_({ref:r,className:ze("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e)},t))});fk.displayName=EC.displayName;const Wv=b.forwardRef((n,a)=>{var i=n,{className:e,sideOffset:t=4}=i,r=he(i,["className","sideOffset"]);return s.jsx(uk,{children:s.jsx(yC,_({ref:a,sideOffset:t,className:ze("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e)},r))})});Wv.displayName=yC.displayName;const Wd=b.forwardRef((n,a)=>{var i=n,{className:e,inset:t}=i,r=he(i,["className","inset"]);return s.jsx(jC,_({ref:a,className:ze("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t&&"pl-8",e)},r))});Wd.displayName=jC.displayName;const mk=b.forwardRef((i,n)=>{var o=i,{className:e,children:t,checked:r}=o,a=he(o,["className","children","checked"]);return s.jsxs(CC,M(_({ref:n,className:ze("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),checked:r},a),{children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(_C,{children:s.jsx(Wo,{className:"h-4 w-4"})})}),t]}))});mk.displayName=CC.displayName;const pk=b.forwardRef((n,a)=>{var i=n,{className:e,children:t}=i,r=he(i,["className","children"]);return s.jsxs(NC,M(_({ref:a,className:ze("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e)},r),{children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(_C,{children:s.jsx(QE,{className:"h-2 w-2 fill-current"})})}),t]}))});pk.displayName=NC.displayName;const Jv=b.forwardRef((n,a)=>{var i=n,{className:e,inset:t}=i,r=he(i,["className","inset"]);return s.jsx(BC,_({ref:a,className:ze("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e)},r))});Jv.displayName=BC.displayName;const yu=b.forwardRef((a,r)=>{var n=a,{className:e}=n,t=he(n,["className"]);return s.jsx(SC,_({ref:r,className:ze("-mx-1 my-1 h-px bg-muted",e)},t))});yu.displayName=SC.displayName;const Hg=1024;function rA(){const[e,t]=b.useState(void 0);return b.useEffect(()=>{const r=window.matchMedia(`(max-width: ${Hg-1}px)`),a=()=>{t(window.innerWidth<Hg)};return r.addEventListener("change",a),t(window.innerWidth<Hg),()=>r.removeEventListener("change",a)},[]),!!e}const gk=Yi("flex w-full rounded-xl border bg-background px-4 py-3 text-sm ring-offset-background transition-all duration-200 ease-out file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-1 disabled:cursor-not-allowed disabled:opacity-50",{variants:{variant:{default:"border-border hover:border-accent focus-visible:border-accent shadow-sm hover:shadow-modern focus-visible:shadow-modern",ghost:"border-transparent bg-muted/50 hover:bg-muted focus-visible:bg-background focus-visible:border-border",glass:"bg-glass-background border-glass-border backdrop-blur-md hover:bg-glass-background/80",success:"border-emerald-300 focus-visible:border-emerald-500 focus-visible:ring-emerald-500/20",error:"border-red-300 focus-visible:border-red-500 focus-visible:ring-red-500/20",warning:"border-amber-300 focus-visible:border-amber-500 focus-visible:ring-amber-500/20"},size:{default:"h-11 px-4 py-3",sm:"h-9 px-3 py-2 text-xs rounded-lg",lg:"h-13 px-5 py-4 text-base rounded-2xl"}},defaultVariants:{variant:"default",size:"default"}}),_e=b.forwardRef((o,i)=>{var A=o,{className:e,variant:t,size:r,type:a}=A,n=he(A,["className","variant","size","type"]);return s.jsx("input",_({type:a,className:ze(gk({variant:t,size:r,className:e})),ref:i},n))});_e.displayName="Input";var xk="Separator",C2="horizontal",vk=["horizontal","vertical"],QC=b.forwardRef((e,t)=>{const l=e,{decorative:r,orientation:a=C2}=l,n=he(l,["decorative","orientation"]),i=wk(a)?a:C2,A=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return s.jsx(vr.div,M(_(_({"data-orientation":i},A),n),{ref:t}))});QC.displayName=xk;function wk(e){return vk.includes(e)}var kC=QC;const Xv=b.forwardRef((i,n)=>{var o=i,{className:e,orientation:t="horizontal",decorative:r=!0}=o,a=he(o,["className","orientation","decorative"]);return s.jsx(kC,_({ref:n,decorative:r,orientation:t,className:ze("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e)},a))});Xv.displayName=kC.displayName;const bk=dB,yk=uB,LC=b.forwardRef((a,r)=>{var n=a,{className:e}=n,t=he(n,["className"]);return s.jsx(ap,M(_({className:ze("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e)},t),{ref:r}))});LC.displayName=ap.displayName;const Bk=Yi("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),DC=b.forwardRef((i,n)=>{var o=i,{side:e="right",className:t,children:r}=o,a=he(o,["side","className","children"]);return s.jsxs(yk,{children:[s.jsx(LC,{}),s.jsxs(np,M(_({ref:n,className:ze(Bk({side:e}),t)},a),{children:[r,s.jsxs(cB,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-secondary hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[s.jsx(ja,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]}))]})});DC.displayName=np.displayName;const jk=b.forwardRef((a,r)=>{var n=a,{className:e}=n,t=he(n,["className"]);return s.jsx(ip,_({ref:r,className:ze("text-lg font-semibold text-foreground",e)},t))});jk.displayName=ip.displayName;const Ck=b.forwardRef((a,r)=>{var n=a,{className:e}=n,t=he(n,["className"]);return s.jsx(op,_({ref:r,className:ze("text-sm text-muted-foreground",e)},t))});Ck.displayName=op.displayName;function N2(r){var a=r,{className:e}=a,t=he(a,["className"]);return s.jsx("div",_({className:ze("animate-pulse rounded-md bg-muted",e)},t))}const Nk="sidebar:state",_k=60*60*24*7,Sk="16rem",Fk="18rem",Ek="3rem",Uk="b",PC=b.createContext(null);function $u(){const e=b.useContext(PC);if(!e)throw new Error("useSidebar must be used within a SidebarProvider.");return e}const MC=b.forwardRef((l,A)=>{var c=l,{defaultOpen:e=!0,open:t,onOpenChange:r,className:a,style:n,children:i}=c,o=he(c,["defaultOpen","open","onOpenChange","className","style","children"]);const d=rA(),[h,m]=b.useState(!1),[u,p]=b.useState(e),g=t!=null?t:u,y=b.useCallback(w=>{const N=typeof w=="function"?w(g):w;r?r(N):p(N),document.cookie=`${Nk}=${N}; path=/; max-age=${_k}`},[r,g]),x=b.useCallback(()=>d?m(w=>!w):y(w=>!w),[d,y,m]);b.useEffect(()=>{const w=N=>{N.key===Uk&&(N.metaKey||N.ctrlKey)&&(N.preventDefault(),x())};return window.addEventListener("keydown",w),()=>window.removeEventListener("keydown",w)},[x]);const B=g?"expanded":"collapsed",j=b.useMemo(()=>({state:B,open:g,setOpen:y,isMobile:d,openMobile:h,setOpenMobile:m,toggleSidebar:x}),[B,g,y,d,h,m,x]);return s.jsx(PC.Provider,{value:j,children:s.jsx(YB,{delayDuration:0,children:s.jsx("div",M(_({style:_({"--sidebar-width":Sk,"--sidebar-width-icon":Ek},n),className:ze("group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar",a),ref:A},o),{children:i}))})})});MC.displayName="SidebarProvider";const TC=b.forwardRef((A,o)=>{var l=A,{side:e="left",variant:t="sidebar",collapsible:r="offcanvas",className:a,children:n}=l,i=he(l,["side","variant","collapsible","className","children"]);const{isMobile:c,state:d,openMobile:h,setOpenMobile:m}=$u();return r==="none"?s.jsx("div",M(_({className:ze("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",a),ref:o},i),{children:n})):c?s.jsx(bk,M(_({open:h,onOpenChange:m},i),{children:s.jsx(DC,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[280px] sm:w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden",style:{"--sidebar-width":Fk},side:e,children:s.jsx("div",{className:"flex h-full w-full flex-col overflow-y-auto",children:n})})})):s.jsxs("div",{ref:o,className:"group peer hidden text-sidebar-foreground md:block","data-state":d,"data-collapsible":d==="collapsed"?r:"","data-variant":t,"data-side":e,children:[s.jsx("div",{className:ze("relative h-svh w-[--sidebar-width] bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",t==="floating"||t==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),s.jsx("div",M(_({className:ze("fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] duration-200 ease-linear md:flex",e==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",t==="floating"||t==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",a)},i),{children:s.jsx("div",{"data-sidebar":"sidebar",className:"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:n})}))]})});TC.displayName="Sidebar";const RC=b.forwardRef((n,a)=>{var i=n,{className:e,onClick:t}=i,r=he(i,["className","onClick"]);const{toggleSidebar:o}=$u();return s.jsxs(ne,M(_({ref:a,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:ze("h-7 w-7",e),onClick:A=>{t==null||t(A),o()}},r),{children:[s.jsx(OE,{}),s.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]}))});RC.displayName="SidebarTrigger";const Ik=b.forwardRef((a,r)=>{var n=a,{className:e}=n,t=he(n,["className"]);const{toggleSidebar:i}=$u();return s.jsx("button",_({ref:r,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:i,title:"Toggle Sidebar",className:ze("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] group-data-[side=left]:-right-4 group-data-[side=right]:left-0 hover:after:bg-sidebar-border sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",e)},t))});Ik.displayName="SidebarRail";const Qk=b.forwardRef((a,r)=>{var n=a,{className:e}=n,t=he(n,["className"]);return s.jsx("main",_({ref:r,className:ze("relative flex min-h-svh flex-1 flex-col bg-background","peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",e)},t))});Qk.displayName="SidebarInset";const kk=b.forwardRef((a,r)=>{var n=a,{className:e}=n,t=he(n,["className"]);return s.jsx(_e,_({ref:r,"data-sidebar":"input",className:ze("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",e)},t))});kk.displayName="SidebarInput";const Lk=b.forwardRef((a,r)=>{var n=a,{className:e}=n,t=he(n,["className"]);return s.jsx("div",_({ref:r,"data-sidebar":"header",className:ze("flex flex-col gap-2 p-2 sm:p-4",e)},t))});Lk.displayName="SidebarHeader";const Dk=b.forwardRef((a,r)=>{var n=a,{className:e}=n,t=he(n,["className"]);return s.jsx("div",_({ref:r,"data-sidebar":"footer",className:ze("flex flex-col gap-2 p-2 sm:p-4",e)},t))});Dk.displayName="SidebarFooter";const Pk=b.forwardRef((a,r)=>{var n=a,{className:e}=n,t=he(n,["className"]);return s.jsx(Xv,_({ref:r,"data-sidebar":"separator",className:ze("mx-2 w-auto bg-sidebar-border",e)},t))});Pk.displayName="SidebarSeparator";const OC=b.forwardRef((a,r)=>{var n=a,{className:e}=n,t=he(n,["className"]);return s.jsx("div",_({ref:r,"data-sidebar":"content",className:ze("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",e)},t))});OC.displayName="SidebarContent";const HC=b.forwardRef((a,r)=>{var n=a,{className:e}=n,t=he(n,["className"]);return s.jsx("div",_({ref:r,"data-sidebar":"group",className:ze("relative flex w-full min-w-0 flex-col p-2",e)},t))});HC.displayName="SidebarGroup";const KC=b.forwardRef((n,a)=>{var i=n,{className:e,asChild:t=!1}=i,r=he(i,["className","asChild"]);const o=t?Uc:"div";return s.jsx(o,_({ref:a,"data-sidebar":"group-label",className:ze("flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opa] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",e)},r))});KC.displayName="SidebarGroupLabel";const Mk=b.forwardRef((n,a)=>{var i=n,{className:e,asChild:t=!1}=i,r=he(i,["className","asChild"]);const o=t?Uc:"button";return s.jsx(o,_({ref:a,"data-sidebar":"group-action",className:ze("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",e)},r))});Mk.displayName="SidebarGroupAction";const $C=b.forwardRef((a,r)=>{var n=a,{className:e}=n,t=he(n,["className"]);return s.jsx("div",_({ref:r,"data-sidebar":"group-content",className:ze("w-full text-sm",e)},t))});$C.displayName="SidebarGroupContent";const VC=b.forwardRef((a,r)=>{var n=a,{className:e}=n,t=he(n,["className"]);return s.jsx("ul",_({ref:r,"data-sidebar":"menu",className:ze("flex w-full min-w-0 flex-col gap-1",e)},t))});VC.displayName="SidebarMenu";const zC=b.forwardRef((a,r)=>{var n=a,{className:e}=n,t=he(n,["className"]);return s.jsx("li",_({ref:r,"data-sidebar":"menu-item",className:ze("group/menu-item relative",e)},t))});zC.displayName="SidebarMenuItem";const Tk=Yi("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),qC=b.forwardRef((l,A)=>{var c=l,{asChild:e=!1,isActive:t=!1,variant:r="default",size:a="default",tooltip:n,className:i}=c,o=he(c,["asChild","isActive","variant","size","tooltip","className"]);const d=e?Uc:"button",{isMobile:h,state:m}=$u(),u=s.jsx(d,_({ref:A,"data-sidebar":"menu-button","data-size":a,"data-active":t,className:ze(Tk({variant:r,size:a}),i)},o));return n?(typeof n=="string"&&(n={children:n}),s.jsxs(e6,{children:[s.jsx(t6,{asChild:!0,children:u}),s.jsx(ZB,_({side:"right",align:"center",hidden:m!=="collapsed"||h},n))]})):u});qC.displayName="SidebarMenuButton";const Rk=b.forwardRef((i,n)=>{var o=i,{className:e,asChild:t=!1,showOnHover:r=!1}=o,a=he(o,["className","asChild","showOnHover"]);const A=t?Uc:"button";return s.jsx(A,_({ref:n,"data-sidebar":"menu-action",className:ze("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform peer-hover/menu-button:text-sidebar-accent-foreground hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",r&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",e)},a))});Rk.displayName="SidebarMenuAction";const Ok=b.forwardRef((a,r)=>{var n=a,{className:e}=n,t=he(n,["className"]);return s.jsx("div",_({ref:r,"data-sidebar":"menu-badge",className:ze("pointer-events-none absolute right-1 flex h-5 min-w-5 select-none items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",e)},t))});Ok.displayName="SidebarMenuBadge";const Hk=b.forwardRef((n,a)=>{var i=n,{className:e,showIcon:t=!1}=i,r=he(i,["className","showIcon"]);const o=b.useMemo(()=>`${Math.floor(Math.random()*40)+50}%`,[]);return s.jsxs("div",M(_({ref:a,"data-sidebar":"menu-skeleton",className:ze("flex h-8 items-center gap-2 rounded-md px-2",e)},r),{children:[t&&s.jsx(N2,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),s.jsx(N2,{className:"h-4 max-w-[--skeleton-width] flex-1","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":o}})]}))});Hk.displayName="SidebarMenuSkeleton";const Kk=b.forwardRef((a,r)=>{var n=a,{className:e}=n,t=he(n,["className"]);return s.jsx("ul",_({ref:r,"data-sidebar":"menu-sub",className:ze("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",e)},t))});Kk.displayName="SidebarMenuSub";const $k=b.forwardRef((r,t)=>{var e=he(r,[]);return s.jsx("li",_({ref:t},e))});$k.displayName="SidebarMenuSubItem";const Vk=b.forwardRef((o,i)=>{var A=o,{asChild:e=!1,size:t="md",isActive:r,className:a}=A,n=he(A,["asChild","size","isActive","className"]);const l=e?Uc:"a";return s.jsx(l,_({ref:i,"data-sidebar":"menu-sub-button","data-size":t,"data-active":r,className:ze("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring aria-disabled:pointer-events-none aria-disabled:opacity-50 hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",t==="sm"&&"text-xs",t==="md"&&"text-sm","group-data-[collapsible=icon]:hidden",a)},n))});Vk.displayName="SidebarMenuSubButton";const md="/nurse-logo.svg",Kg="medicare-custom-logo";function GC(){const[e,t]=b.useState({logoUrl:md,isCustomLogo:!1});b.useEffect(()=>{const o=localStorage.getItem(Kg);if(o)try{const A=JSON.parse(o);t({logoUrl:A.url||md,isCustomLogo:A.isCustom||!1})}catch(A){console.error("Erro ao carregar logo personalizado:",A),t({logoUrl:md,isCustomLogo:!1})}},[]);const r=(o,A=!0)=>{t({logoUrl:o,isCustomLogo:A}),localStorage.setItem(Kg,JSON.stringify({url:o,isCustom:A}))},a=()=>{t({logoUrl:md,isCustomLogo:!1}),localStorage.removeItem(Kg)},n=o=>new Promise((A,l)=>{const c=new FileReader;c.readAsDataURL(o),c.onload=()=>A(c.result),c.onerror=d=>l(d)}),i=o=>Ae(this,null,function*(){try{if(!o.type.startsWith("image/"))throw new Error("Arquivo deve ser uma imagem");if(o.size>5*1024*1024)throw new Error("Imagem deve ter no mximo 5MB");const A=yield n(o);r(A,!0)}catch(A){throw console.error("Erro ao fazer upload do logo:",A),A}});return{logoUrl:e.logoUrl,isCustomLogo:e.isCustomLogo,updateLogo:r,resetToDefaultLogo:a,uploadLogo:i,defaultLogoUrl:md}}const Bu=({size:e="lg",className:t=""})=>{const{logoUrl:r,defaultLogoUrl:a}=GC(),n={sm:"w-8 h-8",md:"w-16 h-16",lg:"w-24 h-24",xl:"w-32 h-32","2xl":"w-40 h-40"};return s.jsx("div",{className:`${n[e]} flex items-center justify-center ${t}`,children:s.jsx("img",{src:r,alt:"Logo da Empresa",className:"w-full h-full object-contain",onError:i=>{const o=i.target;o.src=a}})})},zk=[{title:"Dashboard",url:"/",icon:lu,description:"Viso geral do sistema"},{title:"Pacientes",url:"/patients",icon:Xs,description:"Gerenciar pacientes"},{title:"Pronturios",url:"/medical-records",icon:Wi,description:"Pronturios mdicos"},{title:"Cuidados",url:"/care",icon:Qr,description:"Registros de cuidados"},{title:"Medicao",url:"/medication-plan",icon:mr,description:"Plano de medicao"},{title:"Relatrios",url:"/reports",icon:Xt,description:"Relatrios e anlises"},{title:"Configuraes",url:"/settings",icon:Ru,description:"Configuraes do sistema"}];function qk(){const{state:e}=$u();La().pathname;const r=e==="collapsed",a=rA(),[n,i]=b.useState(null),o=({isActive:A})=>A?"bg-gradient-to-r from-primary to-primary/90 text-primary-foreground font-semibold shadow-lg shadow-primary/25 scale-[1.02] border-l-4 border-primary-foreground/20":"hover:bg-gradient-to-r hover:from-muted/80 hover:to-muted/60 text-muted-foreground hover:text-foreground hover:shadow-md hover:scale-[1.01] hover:border-l-2 hover:border-primary/30";return s.jsx(TC,{className:"transition-all duration-300 ease-out h-screen",collapsible:"icon",children:s.jsxs(OC,{className:"border-r border-border/50 bg-gradient-to-b from-card/80 to-card/60 backdrop-blur-md shadow-xl h-full flex flex-col md:bg-gradient-to-b md:from-card/80 md:to-card/60 max-md:bg-white/90 max-md:backdrop-blur-xl max-md:shadow-2xl",children:[s.jsx("div",{className:`border-b border-border/30 flex-shrink-0 ${a?"p-3":"p-4"}`,children:s.jsxs("div",{className:"flex items-center justify-center gap-3",children:[s.jsx("div",{className:`bg-gradient-to-br from-white to-gray-50 rounded-xl shadow-lg flex-shrink-0 transition-transform duration-300 hover:scale-105 ${a?"p-1.5":"p-2"}`,children:s.jsx(Bu,{size:a?"sm":"md"})}),!r&&s.jsxs("div",{className:"transition-all duration-300 ease-out text-center",children:[s.jsx("h2",{className:`font-bold text-foreground bg-gradient-to-r from-primary to-primary/80 bg-clip-text text-transparent ${a?"text-base":"text-lg"}`,children:"MediCare"}),s.jsx("p",{className:"text-muted-foreground font-medium text-xs",children:"Sistema de Gesto"})]})]})}),s.jsxs(HC,{className:`flex-1 overflow-y-auto ${a?"py-3":"py-4"}`,children:[s.jsx(KC,{className:`text-muted-foreground font-semibold text-xs uppercase tracking-wider text-center ${a?"px-3 py-1":"px-4 py-2"}`,children:!r&&"Navegao"}),s.jsx($C,{children:s.jsx(VC,{className:`space-y-1 ${a?"px-1.5":"px-2"}`,children:zk.map(A=>s.jsx(zC,{children:s.jsx(qC,{asChild:!0,children:s.jsxs(xj,{to:A.url,end:!0,className:({isActive:l})=>`${o({isActive:l})} flex items-center justify-center gap-3 rounded-xl transition-all duration-300 ease-out group relative overflow-hidden ${r?"":"justify-start"} ${a?"px-2.5 py-2.5 min-h-[44px]":"px-3 py-3"}`,onMouseEnter:()=>i(A.title),onMouseLeave:()=>i(null),children:[s.jsxs("div",{className:`relative z-10 flex items-center gap-3 w-full ${r?"justify-center":"justify-start"}`,children:[s.jsx(A.icon,{className:"transition-transform duration-300 group-hover:scale-110 flex-shrink-0 h-5 w-5"}),!r&&s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("span",{className:"font-medium block truncate text-sm",children:A.title}),n===A.title&&!a&&s.jsx("span",{className:"text-xs opacity-75 block truncate animate-in slide-in-from-left-2 duration-200",children:A.description})]}),!r&&!a&&s.jsx(Tu,{className:"h-4 w-4 opacity-0 group-hover:opacity-100 transition-all duration-300 transform group-hover:translate-x-1"})]}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]})})},A.title))})})]}),s.jsx("div",{className:`border-t border-border/30 bg-gradient-to-r from-muted/20 to-transparent flex-shrink-0 ${a?"p-3":"p-4"}`,children:s.jsxs("div",{className:`flex items-center gap-3 group cursor-pointer hover:bg-muted/30 rounded-lg transition-all duration-300 ${r?"justify-center":"justify-start"} ${a?"p-1.5":"p-2"}`,children:[s.jsx("div",{className:`bg-gradient-to-br from-green-400 to-green-600 rounded-full flex items-center justify-center shadow-lg group-hover:shadow-green-500/25 transition-all duration-300 flex-shrink-0 ${a?"w-7 h-7":"w-8 h-8"}`,children:s.jsx(Tr,{className:`text-white animate-pulse ${a?"h-3.5 w-3.5":"h-4 w-4"}`})}),!r&&s.jsxs("div",{className:"flex-1 transition-all duration-300",children:[s.jsxs("div",{className:`font-semibold text-foreground flex items-center gap-2 ${a?"text-xs":"text-sm"}`,children:["Sistema Online",s.jsx("div",{className:`bg-green-500 rounded-full animate-pulse ${a?"w-1.5 h-1.5":"w-2 h-2"}`})]}),s.jsx("p",{className:"text-muted-foreground text-xs",children:"Todos os sistemas funcionais"})]})]})})]})})}const Gk="http://supabasekong-o48k40w0koggco4ocok4gs0o.31.97.64.167.sslip.io",Wk="eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJzdXBhYmFzZSIsImlhdCI6MTc1NzM2MDgyMCwiZXhwIjo0OTEzMDM0NDIwLCJyb2xlIjoiYW5vbiJ9.mDC5HL6lFytb7Y0lowHRS0PBiQwpFXxXfIBe3UNx6oA",et=gE(Gk,Wk,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0},realtime:{params:{eventsPerSecond:10}},global:{headers:{"x-application-name":"medicare-v1"}}});function Jk(){const[e,t]=b.useState([]),[r,a]=b.useState(0),[n,i]=b.useState(!0),o=b.useCallback(()=>Ae(this,null,function*(){try{i(!0);const{data:c,error:d}=yield et.from("events").select(`
          id,
          type,
          created_at,
          patient_id,
          notes,
          volume_ml,
          bathroom_type
        `).gte("created_at",new Date(Date.now()-24*60*60*1e3).toISOString()).order("created_at",{ascending:!1}).limit(20);if(d)throw d;const h=[...new Set((c==null?void 0:c.map(x=>x.patient_id))||[])];if(h.length===0){t([]),a(0);return}const{data:m,error:u}=yield et.from("patients").select("id, name, created_at").in("id",h);if(u)throw u;const p=new Map((m||[]).map(x=>[x.id,M(_({},x),{full_name:x.name})])),y=[...(c||[]).map(x=>{const B=p.get(x.patient_id);return{id:`care_${x.id}`,type:"care_record",title:_2(x.type),message:S2(x),patientName:(B==null?void 0:B.full_name)||"Paciente desconhecido",patientId:x.patient_id,timestamp:x.created_at,read:!1}})].sort((x,B)=>new Date(B.timestamp).getTime()-new Date(x.timestamp).getTime()).slice(0,15);t(y),a(y.length)}catch(c){console.error("Erro ao buscar notificaes:",c)}finally{i(!1)}}),[]);b.useEffect(()=>{o();const c=et.channel("events_notifications").on("postgres_changes",{event:"INSERT",schema:"public",table:"events"},d=>Ae(this,null,function*(){const{data:h}=yield et.from("patients").select("name").eq("id",d.new.patient_id).single(),m={id:d.new.id,type:d.new.type,created_at:d.new.created_at,patient_id:d.new.patient_id,volume_ml:d.new.volume_ml,bathroom_type:d.new.bathroom_type,notes:d.new.notes},u={id:`care_${d.new.id}`,type:"care_record",title:_2(d.new.type),message:S2(m),patientName:(h==null?void 0:h.name)||"Paciente",patientId:d.new.patient_id,timestamp:d.new.created_at,read:!1};t(p=>[u,...p.slice(0,14)]),a(p=>p+1)})).subscribe();return()=>{c.unsubscribe()}},[o]);const A=b.useCallback(c=>{t(d=>d.map(h=>h.id===c?M(_({},h),{read:!0}):h)),a(d=>Math.max(0,d-1))},[]),l=b.useCallback(()=>{t(c=>c.map(d=>M(_({},d),{read:!0}))),a(0)},[]);return b.useMemo(()=>({notifications:e,unreadCount:r,loading:n,markAsRead:A,markAllAsRead:l,refresh:o}),[e,r,n,A,l,o])}function _2(e){switch(e){case"feeding":return"Alimentao";case"bathroom":return"Banheiro";case"mood":return"Humor";case"sleep":return"Sono";default:return"Cuidado"}}function S2(e){switch(e.type){case"feeding":return`Alimentao registrada${e.volume_ml?` - ${e.volume_ml}ml`:""}`;case"bathroom":return`Uso do banheiro registrado${e.bathroom_type?` - ${e.bathroom_type}`:""}`;case"mood":return"Estado de humor registrado";case"sleep":return"Perodo de sono registrado";default:return"Novo registro de cuidado"}}const Xk=Yi("inline-flex items-center rounded-full border px-3 py-1 text-xs font-medium transition-all duration-200 ease-out focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-1",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/90 shadow-sm hover:shadow-modern",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80 shadow-sm hover:shadow-modern",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/90 shadow-sm hover:shadow-modern",outline:"text-foreground border-border hover:bg-accent hover:text-accent-foreground",success:"border-transparent bg-emerald-500 text-white hover:bg-emerald-600 shadow-sm hover:shadow-modern",warning:"border-transparent bg-amber-500 text-white hover:bg-amber-600 shadow-sm hover:shadow-modern",info:"border-transparent bg-blue-500 text-white hover:bg-blue-600 shadow-sm hover:shadow-modern",glass:"bg-glass-background border-glass-border backdrop-blur-md text-foreground hover:bg-glass-background/80",gradient:"border-transparent bg-gradient-to-r from-primary to-accent text-primary-foreground hover:from-primary/90 hover:to-accent/90 shadow-sm hover:shadow-modern"},size:{default:"px-3 py-1 text-xs",sm:"px-2 py-0.5 text-xs rounded-md",lg:"px-4 py-1.5 text-sm rounded-lg"}},defaultVariants:{variant:"default",size:"default"}});function At(a){var n=a,{className:e,variant:t}=n,r=he(n,["className","variant"]);return s.jsx("div",_({className:ze(Xk({variant:t}),e)},r))}function Yk(e,t){return b.useReducer((r,a)=>{const n=t[r][a];return n!=null?n:r},e)}var Yv="ScrollArea",[WC,mq]=mi(Yv),[Zk,jn]=WC(Yv),JC=b.forwardRef((e,t)=>{const S=e,{__scopeScrollArea:r,type:a="hover",dir:n,scrollHideDelay:i=600}=S,o=he(S,["__scopeScrollArea","type","dir","scrollHideDelay"]),[A,l]=b.useState(null),[c,d]=b.useState(null),[h,m]=b.useState(null),[u,p]=b.useState(null),[g,y]=b.useState(null),[x,B]=b.useState(0),[j,w]=b.useState(0),[N,I]=b.useState(!1),[U,D]=b.useState(!1),L=Rs(t,E=>l(E)),P=sp(n);return s.jsx(Zk,{scope:r,type:a,dir:P,scrollHideDelay:i,scrollArea:A,viewport:c,onViewportChange:d,content:h,onContentChange:m,scrollbarX:u,onScrollbarXChange:p,scrollbarXEnabled:N,onScrollbarXEnabledChange:I,scrollbarY:g,onScrollbarYChange:y,scrollbarYEnabled:U,onScrollbarYEnabledChange:D,onCornerWidthChange:B,onCornerHeightChange:w,children:s.jsx(vr.div,M(_({dir:P},o),{ref:L,style:_({position:"relative","--radix-scroll-area-corner-width":x+"px","--radix-scroll-area-corner-height":j+"px"},e.style)}))})});JC.displayName=Yv;var XC="ScrollAreaViewport",YC=b.forwardRef((e,t)=>{const c=e,{__scopeScrollArea:r,children:a,nonce:n}=c,i=he(c,["__scopeScrollArea","children","nonce"]),o=jn(XC,r),A=b.useRef(null),l=Rs(t,A,o.onViewportChange);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),s.jsx(vr.div,M(_({"data-radix-scroll-area-viewport":""},i),{ref:l,style:_({overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden"},e.style),children:s.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:a})}))]})});YC.displayName=XC;var gi="ScrollAreaScrollbar",Zv=b.forwardRef((e,t)=>{const l=e,{forceMount:r}=l,a=he(l,["forceMount"]),n=jn(gi,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=n,A=e.orientation==="horizontal";return b.useEffect(()=>(A?i(!0):o(!0),()=>{A?i(!1):o(!1)}),[A,i,o]),n.type==="hover"?s.jsx(eL,M(_({},a),{ref:t,forceMount:r})):n.type==="scroll"?s.jsx(tL,M(_({},a),{ref:t,forceMount:r})):n.type==="auto"?s.jsx(ZC,M(_({},a),{ref:t,forceMount:r})):n.type==="always"?s.jsx(e1,M(_({},a),{ref:t})):null});Zv.displayName=gi;var eL=b.forwardRef((e,t)=>{const A=e,{forceMount:r}=A,a=he(A,["forceMount"]),n=jn(gi,e.__scopeScrollArea),[i,o]=b.useState(!1);return b.useEffect(()=>{const l=n.scrollArea;let c=0;if(l){const d=()=>{window.clearTimeout(c),o(!0)},h=()=>{c=window.setTimeout(()=>o(!1),n.scrollHideDelay)};return l.addEventListener("pointerenter",d),l.addEventListener("pointerleave",h),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",d),l.removeEventListener("pointerleave",h)}}},[n.scrollArea,n.scrollHideDelay]),s.jsx(rn,{present:r||i,children:s.jsx(ZC,M(_({"data-state":i?"visible":"hidden"},a),{ref:t}))})}),tL=b.forwardRef((e,t)=>{const c=e,{forceMount:r}=c,a=he(c,["forceMount"]),n=jn(gi,e.__scopeScrollArea),i=e.orientation==="horizontal",o=Bp(()=>l("SCROLL_END"),100),[A,l]=Yk("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return b.useEffect(()=>{if(A==="idle"){const d=window.setTimeout(()=>l("HIDE"),n.scrollHideDelay);return()=>window.clearTimeout(d)}},[A,n.scrollHideDelay,l]),b.useEffect(()=>{const d=n.viewport,h=i?"scrollLeft":"scrollTop";if(d){let m=d[h];const u=()=>{const p=d[h];m!==p&&(l("SCROLL"),o()),m=p};return d.addEventListener("scroll",u),()=>d.removeEventListener("scroll",u)}},[n.viewport,i,l,o]),s.jsx(rn,{present:r||A!=="hidden",children:s.jsx(e1,M(_({"data-state":A==="hidden"?"hidden":"visible"},a),{ref:t,onPointerEnter:Nt(e.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:Nt(e.onPointerLeave,()=>l("POINTER_LEAVE"))}))})}),ZC=b.forwardRef((e,t)=>{const r=jn(gi,e.__scopeScrollArea),c=e,{forceMount:a}=c,n=he(c,["forceMount"]),[i,o]=b.useState(!1),A=e.orientation==="horizontal",l=Bp(()=>{if(r.viewport){const d=r.viewport.offsetWidth<r.viewport.scrollWidth,h=r.viewport.offsetHeight<r.viewport.scrollHeight;o(A?d:h)}},10);return bc(r.viewport,l),bc(r.content,l),s.jsx(rn,{present:a||i,children:s.jsx(e1,M(_({"data-state":i?"visible":"hidden"},n),{ref:t}))})}),e1=b.forwardRef((e,t)=>{const m=e,{orientation:r="vertical"}=m,a=he(m,["orientation"]),n=jn(gi,e.__scopeScrollArea),i=b.useRef(null),o=b.useRef(0),[A,l]=b.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=aN(A.viewport,A.content),d=M(_({},a),{sizes:A,onSizesChange:l,hasThumb:c>0&&c<1,onThumbChange:u=>i.current=u,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:u=>o.current=u});function h(u,p){return oL(u,o.current,A,p)}return r==="horizontal"?s.jsx(rL,M(_({},d),{ref:t,onThumbPositionChange:()=>{if(n.viewport&&i.current){const u=n.viewport.scrollLeft,p=F2(u,A,n.dir);i.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:u=>{n.viewport&&(n.viewport.scrollLeft=u)},onDragScroll:u=>{n.viewport&&(n.viewport.scrollLeft=h(u,n.dir))}})):r==="vertical"?s.jsx(sL,M(_({},d),{ref:t,onThumbPositionChange:()=>{if(n.viewport&&i.current){const u=n.viewport.scrollTop,p=F2(u,A);i.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:u=>{n.viewport&&(n.viewport.scrollTop=u)},onDragScroll:u=>{n.viewport&&(n.viewport.scrollTop=h(u))}})):null}),rL=b.forwardRef((e,t)=>{const d=e,{sizes:r,onSizesChange:a}=d,n=he(d,["sizes","onSizesChange"]),i=jn(gi,e.__scopeScrollArea),[o,A]=b.useState(),l=b.useRef(null),c=Rs(t,l,i.onScrollbarXChange);return b.useEffect(()=>{l.current&&A(getComputedStyle(l.current))},[l]),s.jsx(tN,M(_({"data-orientation":"horizontal"},n),{ref:c,sizes:r,style:_({bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":yp(r)+"px"},e.style),onThumbPointerDown:h=>e.onThumbPointerDown(h.x),onDragScroll:h=>e.onDragScroll(h.x),onWheelScroll:(h,m)=>{if(i.viewport){const u=i.viewport.scrollLeft+h.deltaX;e.onWheelScroll(u),iN(u,m)&&h.preventDefault()}},onResize:()=>{l.current&&i.viewport&&o&&a({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:Fm(o.paddingLeft),paddingEnd:Fm(o.paddingRight)}})}}))}),sL=b.forwardRef((e,t)=>{const d=e,{sizes:r,onSizesChange:a}=d,n=he(d,["sizes","onSizesChange"]),i=jn(gi,e.__scopeScrollArea),[o,A]=b.useState(),l=b.useRef(null),c=Rs(t,l,i.onScrollbarYChange);return b.useEffect(()=>{l.current&&A(getComputedStyle(l.current))},[l]),s.jsx(tN,M(_({"data-orientation":"vertical"},n),{ref:c,sizes:r,style:_({top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":yp(r)+"px"},e.style),onThumbPointerDown:h=>e.onThumbPointerDown(h.y),onDragScroll:h=>e.onDragScroll(h.y),onWheelScroll:(h,m)=>{if(i.viewport){const u=i.viewport.scrollTop+h.deltaY;e.onWheelScroll(u),iN(u,m)&&h.preventDefault()}},onResize:()=>{l.current&&i.viewport&&o&&a({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:Fm(o.paddingTop),paddingEnd:Fm(o.paddingBottom)}})}}))}),[aL,eN]=WC(gi),tN=b.forwardRef((e,t)=>{const L=e,{__scopeScrollArea:r,sizes:a,hasThumb:n,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:A,onThumbPositionChange:l,onDragScroll:c,onWheelScroll:d,onResize:h}=L,m=he(L,["__scopeScrollArea","sizes","hasThumb","onThumbChange","onThumbPointerUp","onThumbPointerDown","onThumbPositionChange","onDragScroll","onWheelScroll","onResize"]),u=jn(gi,r),[p,g]=b.useState(null),y=Rs(t,P=>g(P)),x=b.useRef(null),B=b.useRef(""),j=u.viewport,w=a.content-a.viewport,N=Tn(d),I=Tn(l),U=Bp(h,10);function D(P){if(x.current){const S=P.clientX-x.current.left,E=P.clientY-x.current.top;c({x:S,y:E})}}return b.useEffect(()=>{const P=S=>{const E=S.target;(p==null?void 0:p.contains(E))&&N(S,w)};return document.addEventListener("wheel",P,{passive:!1}),()=>document.removeEventListener("wheel",P,{passive:!1})},[j,p,w,N]),b.useEffect(I,[a,I]),bc(p,U),bc(u.content,U),s.jsx(aL,{scope:r,scrollbar:p,hasThumb:n,onThumbChange:Tn(i),onThumbPointerUp:Tn(o),onThumbPositionChange:I,onThumbPointerDown:Tn(A),children:s.jsx(vr.div,M(_({},m),{ref:y,style:_({position:"absolute"},m.style),onPointerDown:Nt(e.onPointerDown,P=>{P.button===0&&(P.target.setPointerCapture(P.pointerId),x.current=p.getBoundingClientRect(),B.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",u.viewport&&(u.viewport.style.scrollBehavior="auto"),D(P))}),onPointerMove:Nt(e.onPointerMove,D),onPointerUp:Nt(e.onPointerUp,P=>{const S=P.target;S.hasPointerCapture(P.pointerId)&&S.releasePointerCapture(P.pointerId),document.body.style.webkitUserSelect=B.current,u.viewport&&(u.viewport.style.scrollBehavior=""),x.current=null})}))})}),Sm="ScrollAreaThumb",rN=b.forwardRef((e,t)=>{const i=e,{forceMount:r}=i,a=he(i,["forceMount"]),n=eN(Sm,e.__scopeScrollArea);return s.jsx(rn,{present:r||n.hasThumb,children:s.jsx(nL,_({ref:t},a))})}),nL=b.forwardRef((e,t)=>{const h=e,{__scopeScrollArea:r,style:a}=h,n=he(h,["__scopeScrollArea","style"]),i=jn(Sm,r),o=eN(Sm,r),{onThumbPositionChange:A}=o,l=Rs(t,m=>o.onThumbChange(m)),c=b.useRef(void 0),d=Bp(()=>{c.current&&(c.current(),c.current=void 0)},100);return b.useEffect(()=>{const m=i.viewport;if(m){const u=()=>{if(d(),!c.current){const p=AL(m,A);c.current=p,A()}};return A(),m.addEventListener("scroll",u),()=>m.removeEventListener("scroll",u)}},[i.viewport,d,A]),s.jsx(vr.div,M(_({"data-state":o.hasThumb?"visible":"hidden"},n),{ref:l,style:_({width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)"},a),onPointerDownCapture:Nt(e.onPointerDownCapture,m=>{const p=m.target.getBoundingClientRect(),g=m.clientX-p.left,y=m.clientY-p.top;o.onThumbPointerDown({x:g,y})}),onPointerUp:Nt(e.onPointerUp,o.onThumbPointerUp)}))});rN.displayName=Sm;var t1="ScrollAreaCorner",sN=b.forwardRef((e,t)=>{const r=jn(t1,e.__scopeScrollArea),a=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&a?s.jsx(iL,M(_({},e),{ref:t})):null});sN.displayName=t1;var iL=b.forwardRef((e,t)=>{const d=e,{__scopeScrollArea:r}=d,a=he(d,["__scopeScrollArea"]),n=jn(t1,r),[i,o]=b.useState(0),[A,l]=b.useState(0),c=!!(i&&A);return bc(n.scrollbarX,()=>{var m;const h=((m=n.scrollbarX)==null?void 0:m.offsetHeight)||0;n.onCornerHeightChange(h),l(h)}),bc(n.scrollbarY,()=>{var m;const h=((m=n.scrollbarY)==null?void 0:m.offsetWidth)||0;n.onCornerWidthChange(h),o(h)}),c?s.jsx(vr.div,M(_({},a),{ref:t,style:_({width:i,height:A,position:"absolute",right:n.dir==="ltr"?0:void 0,left:n.dir==="rtl"?0:void 0,bottom:0},e.style)})):null});function Fm(e){return e?parseInt(e,10):0}function aN(e,t){const r=e/t;return isNaN(r)?0:r}function yp(e){const t=aN(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,a=(e.scrollbar.size-r)*t;return Math.max(a,18)}function oL(e,t,r,a="ltr"){const n=yp(r),i=n/2,o=t||i,A=n-o,l=r.scrollbar.paddingStart+o,c=r.scrollbar.size-r.scrollbar.paddingEnd-A,d=r.content-r.viewport,h=a==="ltr"?[0,d]:[d*-1,0];return nN([l,c],h)(e)}function F2(e,t,r="ltr"){const a=yp(t),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-n,o=t.content-t.viewport,A=i-a,l=r==="ltr"?[0,o]:[o*-1,0],c=VF(e,l);return nN([0,o],[0,A])(c)}function nN(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const a=(t[1]-t[0])/(e[1]-e[0]);return t[0]+a*(r-e[0])}}function iN(e,t){return e>0&&e<t}var AL=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},a=0;return function n(){const i={left:e.scrollLeft,top:e.scrollTop},o=r.left!==i.left,A=r.top!==i.top;(o||A)&&t(),r=i,a=window.requestAnimationFrame(n)}(),()=>window.cancelAnimationFrame(a)};function Bp(e,t){const r=Tn(e),a=b.useRef(0);return b.useEffect(()=>()=>window.clearTimeout(a.current),[]),b.useCallback(()=>{window.clearTimeout(a.current),a.current=window.setTimeout(r,t)},[r,t])}function bc(e,t){const r=Tn(t);hm(()=>{let a=0;if(e){const n=new ResizeObserver(()=>{cancelAnimationFrame(a),a=window.requestAnimationFrame(r)});return n.observe(e),()=>{window.cancelAnimationFrame(a),n.unobserve(e)}}},[e,r])}var oN=JC,lL=YC,cL=sN;const r1=b.forwardRef((n,a)=>{var i=n,{className:e,children:t}=i,r=he(i,["className","children"]);return s.jsxs(oN,M(_({ref:a,className:ze("relative overflow-hidden",e)},r),{children:[s.jsx(lL,{className:"h-full w-full rounded-[inherit]",children:t}),s.jsx(AN,{}),s.jsx(cL,{})]}))});r1.displayName=oN.displayName;const AN=b.forwardRef((n,a)=>{var i=n,{className:e,orientation:t="vertical"}=i,r=he(i,["className","orientation"]);return s.jsx(Zv,M(_({ref:a,orientation:t,className:ze("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e)},r),{children:s.jsx(rN,{className:"relative flex-1 rounded-full bg-border"})}))});AN.displayName=Zv.displayName;function dL({notifications:e,unreadCount:t,loading:r,onMarkAsRead:a,onMarkAllAsRead:n}){const i=A=>{switch(A){case"care_record":return s.jsx(Tr,{className:"h-4 w-4 text-blue-500"});case"patient_update":return s.jsx(Or,{className:"h-4 w-4 text-green-500"});case"vital_signs":return s.jsx(Tr,{className:"h-4 w-4 text-red-500"});case"medication":return s.jsx(mr,{className:"h-4 w-4 text-purple-500"});case"check_in":return s.jsx(Rr,{className:"h-4 w-4 text-green-600"});case"check_out":return s.jsx(Yr,{className:"h-4 w-4 text-blue-600"});case"navigation":return s.jsx(Ax,{className:"h-4 w-4 text-purple-600"});case"location_alert":return s.jsx(Ts,{className:"h-4 w-4 text-red-600"});default:return s.jsx(Xt,{className:"h-4 w-4 text-gray-500"})}},o=A=>{const l=new Date,c=new Date(A),d=Math.floor((l.getTime()-c.getTime())/(1e3*60));if(d<1)return"Agora";if(d<60)return`${d}m atrs`;const h=Math.floor(d/60);return h<24?`${h}h atrs`:`${Math.floor(h/24)}d atrs`};return s.jsxs(UC,{children:[s.jsx(IC,{asChild:!0,children:s.jsxs(ne,{variant:"ghost",size:"sm",className:"relative scale-[0.85]",children:[s.jsx(a2,{className:"h-4 w-4 sm:h-3 sm:w-3"}),t>0&&s.jsx(At,{variant:"destructive",className:"absolute -top-1 -right-1 sm:-top-0 sm:-right-0 h-6 w-6 sm:h-5 sm:w-5 rounded-full p-0 flex items-center justify-center text-xs font-bold text-white border-2 border-background",children:t>99?"99+":t})]})}),s.jsxs(Wv,{className:"w-72 sm:w-80 max-w-[90vw] scale-[0.85]",align:"end",forceMount:!0,children:[s.jsxs(Jv,{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Notificaes"}),t>0&&s.jsxs(ne,{variant:"ghost",size:"sm",onClick:n,className:"h-6 px-2 text-xs",children:[s.jsx(UE,{className:"h-3 w-3 mr-1"}),"Marcar todas como lidas"]})]}),s.jsx(yu,{}),r?s.jsx("div",{className:"p-4 text-center text-sm text-muted-foreground",children:"Carregando notificaes..."}):e.length===0?s.jsxs("div",{className:"p-4 text-center text-sm text-muted-foreground",children:[s.jsx(a2,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),"Nenhuma notificao"]}):s.jsx(r1,{className:"h-96",children:s.jsx("div",{className:"space-y-1",children:e.map(A=>s.jsxs(Wd,{className:`flex items-start space-x-3 p-3 cursor-pointer ${A.read?"":"bg-blue-50 dark:bg-blue-950/20"}`,onClick:()=>!A.read&&a(A.id),children:[s.jsx("div",{className:"flex-shrink-0 mt-0.5",children:i(A.type)}),s.jsxs("div",{className:"flex-1 min-w-0 space-y-1",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("p",{className:"text-sm font-medium text-foreground truncate",children:A.title}),!A.read&&s.jsx("div",{className:"h-2 w-2 bg-blue-500 rounded-full flex-shrink-0 ml-2"})]}),s.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2",children:A.message}),s.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[s.jsx("span",{className:"font-medium",children:A.patientName}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(Yr,{className:"h-3 w-3"}),s.jsx("span",{children:o(A.timestamp)})]})]})]})]},A.id))})}),e.length>0&&s.jsxs(s.Fragment,{children:[s.jsx(yu,{}),s.jsx("div",{className:"p-2",children:s.jsx(ne,{variant:"ghost",size:"sm",className:"w-full text-xs",children:"Ver todas as notificaes"})})]})]})]})}const Rn=dB,Bx=zF,uL=uB,lN=b.forwardRef((a,r)=>{var n=a,{className:e}=n,t=he(n,["className"]);return s.jsx(ap,_({ref:r,className:ze("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e)},t))});lN.displayName=ap.displayName;const wn=b.forwardRef((n,a)=>{var i=n,{className:e,children:t}=i,r=he(i,["className","children"]);return s.jsxs(uL,{children:[s.jsx(lN,{}),s.jsx(np,M(_({ref:a,className:ze("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg","max-h-[85vh] sm:max-h-[90vh] overflow-hidden","mx-4 sm:mx-0 w-[calc(100vw-2rem)] sm:w-full",e)},r),{children:s.jsxs("div",{className:"flex flex-col max-h-full",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsxs(cB,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none z-10",children:[s.jsx(ja,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})}),s.jsx("div",{className:"flex-1 overflow-y-auto overscroll-contain",children:t})]})}))]})});wn.displayName=np.displayName;const bn=r=>{var a=r,{className:e}=a,t=he(a,["className"]);return s.jsx("div",_({className:ze("flex flex-col space-y-1.5 text-center sm:text-left",e)},t))};bn.displayName="DialogHeader";const ec=r=>{var a=r,{className:e}=a,t=he(a,["className"]);return s.jsx("div",_({className:ze("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e)},t))};ec.displayName="DialogFooter";const yn=b.forwardRef((a,r)=>{var n=a,{className:e}=n,t=he(n,["className"]);return s.jsx(ip,_({ref:r,className:ze("text-lg font-semibold leading-none tracking-tight",e)},t))});yn.displayName=ip.displayName;const Yo=b.forwardRef((a,r)=>{var n=a,{className:e}=n,t=he(n,["className"]);return s.jsx(op,_({ref:r,className:ze("text-sm text-muted-foreground",e)},t))});Yo.displayName=op.displayName;function hL({open:e,onOpenChange:t}){var y;const{user:r,updateUserProfile:a}=Ca(),{toast:n}=ir(),[i,o]=b.useState(null),[A,l]=b.useState(null),[c,d]=b.useState(!1),h=x=>{var w;const B=(w=x.target.files)==null?void 0:w[0];if(!B)return;if(!B.type.startsWith("image/")){n({title:"Erro",description:"Por favor, selecione apenas arquivos de imagem.",variant:"destructive"});return}if(B.size>5*1024*1024){n({title:"Erro",description:"A imagem deve ter no mximo 5MB.",variant:"destructive"});return}o(B);const j=new FileReader;j.onload=N=>{var I;l((I=N.target)==null?void 0:I.result)},j.readAsDataURL(B)},m=()=>Ae(this,null,function*(){if(i){d(!0);try{const x=yield p(i);a({profilePhoto:x}),n({title:"Sucesso",description:"Foto de perfil atualizada com sucesso!"}),t(!1),o(null),l(null)}catch(x){n({title:"Erro",description:"Erro ao atualizar foto de perfil. Tente novamente.",variant:"destructive"})}finally{d(!1)}}}),u=()=>Ae(this,null,function*(){d(!0);try{a({profilePhoto:void 0}),n({title:"Sucesso",description:"Foto de perfil removida com sucesso!"}),t(!1)}catch(x){n({title:"Erro",description:"Erro ao remover foto de perfil. Tente novamente.",variant:"destructive"})}finally{d(!1)}}),p=x=>new Promise((B,j)=>{const w=new FileReader;w.onload=()=>B(w.result),w.onerror=j,w.readAsDataURL(x)}),g=()=>{o(null),l(null)};return s.jsx(Rn,{open:e,onOpenChange:t,children:s.jsxs(wn,{className:"sm:max-w-md",children:[s.jsxs(bn,{children:[s.jsx(yn,{children:"Alterar Foto de Perfil"}),s.jsx(Yo,{children:"Escolha uma nova foto para seu perfil ou remova a atual."})]}),s.jsxs("div",{className:"flex flex-col items-center space-y-6",children:[s.jsxs("div",{className:"relative",children:[s.jsxs(gu,{className:"h-24 w-24",children:[s.jsx(xu,{src:A||(r==null?void 0:r.profilePhoto),alt:r==null?void 0:r.name,className:"object-cover"}),s.jsx(vu,{className:"text-lg",children:((y=r==null?void 0:r.name)==null?void 0:y.split(" ").map(x=>x[0]).join("").toUpperCase())||s.jsx(On,{className:"h-8 w-8"})})]}),A&&s.jsx(ne,{variant:"destructive",size:"sm",className:"absolute -top-2 -right-2 h-6 w-6 rounded-full p-0",onClick:g,children:s.jsx(ja,{className:"h-3 w-3"})})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"font-medium",children:r==null?void 0:r.name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:r==null?void 0:r.email})]}),s.jsx("div",{className:"flex flex-col w-full space-y-3",children:i?s.jsxs("div",{className:"flex space-x-3",children:[s.jsx(ne,{onClick:m,disabled:c,className:"flex-1",children:c?"Salvando...":"Salvar Foto"}),s.jsx(ne,{variant:"outline",onClick:g,disabled:c,children:"Cancelar"})]}):s.jsxs(s.Fragment,{children:[s.jsx("label",{htmlFor:"photo-upload",children:s.jsx(ne,{variant:"outline",className:"w-full",asChild:!0,children:s.jsxs("span",{className:"cursor-pointer",children:[s.jsx(Ji,{className:"mr-2 h-4 w-4"}),"Escolher Nova Foto"]})})}),s.jsx("input",{id:"photo-upload",type:"file",accept:"image/*",className:"hidden",onChange:h}),(r==null?void 0:r.profilePhoto)&&s.jsx(ne,{variant:"destructive",onClick:u,disabled:c,children:c?"Removendo...":"Remover Foto Atual"})]})})]})]})})}function E2({children:e}){var p,g,y,x;const{user:t,logout:r}=Ca(),{notifications:a,unreadCount:n,loading:i,markAsRead:o,markAllAsRead:A}=Jk(),[l,c]=b.useState(!1),d=rA(),h=()=>{r()},m=B=>{switch(B){case"admin":return"bg-red-100 text-red-800 hover:bg-red-200";case"doctor":return"bg-blue-100 text-blue-800 hover:bg-blue-200";case"nurse":return"bg-green-100 text-green-800 hover:bg-green-200";default:return"bg-gray-100 text-gray-800 hover:bg-gray-200"}},u=B=>{switch(B){case"admin":return"Administrador";case"doctor":return"Mdico";case"nurse":return"Enfermeiro";default:return"Usurio"}};return s.jsxs(MC,{children:[s.jsxs("div",{className:"min-h-screen flex w-full bg-muted/20 relative",children:[s.jsx(qk,{}),s.jsxs("main",{className:"flex-1 flex flex-col overflow-hidden",children:[s.jsx("header",{className:`bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 border-b border-border/40 flex-shrink-0 ${d?"h-14":"h-16"}`,children:s.jsxs("div",{className:`flex items-center justify-between h-full ${d?"px-3":"px-4 md:px-6"}`,children:[s.jsxs("div",{className:"flex items-center gap-2 md:gap-4",children:[s.jsx("div",{className:"flex items-center gap-2",children:s.jsx("div",{className:"text-sm font-semibold text-foreground bg-gradient-to-r from-primary to-primary/80 bg-clip-text text-transparent",children:"MediCare"})}),!d&&s.jsx(RC,{className:"h-8 w-8"})]}),s.jsxs("div",{className:"flex items-center gap-2 md:gap-4",children:[s.jsx(dL,{notifications:a,unreadCount:n,loading:i,onMarkAsRead:o,onMarkAllAsRead:A}),s.jsxs(UC,{children:[s.jsx(IC,{asChild:!0,children:s.jsx(ne,{variant:"ghost",className:`relative rounded-full hover:bg-muted/80 transition-colors duration-200 ${d?"h-8 w-8":"h-10 w-10"}`,children:s.jsxs(gu,{className:`border-2 border-primary/20 ${d?"h-8 w-8":"h-10 w-10"}`,children:[s.jsx(xu,{src:t==null?void 0:t.profilePhoto,alt:(t==null?void 0:t.name)||"Usurio"}),s.jsx(vu,{className:"bg-gradient-to-br from-primary/20 to-primary/10 text-primary font-semibold text-xs",children:((p=t==null?void 0:t.name)==null?void 0:p.charAt(0))||((g=t==null?void 0:t.email)==null?void 0:g.charAt(0))||"U"})]})})}),s.jsxs(Wv,{className:`p-4 ${d?"w-72":"w-80"}`,align:"end",forceMount:!0,children:[s.jsx(Jv,{className:"font-normal p-0",children:s.jsx("div",{className:"flex flex-col space-y-3",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(gu,{className:`border-2 border-primary/20 ${d?"h-10 w-10":"h-12 w-12"}`,children:[s.jsx(xu,{src:t==null?void 0:t.profilePhoto,alt:(t==null?void 0:t.name)||"Usurio"}),s.jsx(vu,{className:"bg-gradient-to-br from-primary/20 to-primary/10 text-primary font-semibold",children:((y=t==null?void 0:t.name)==null?void 0:y.charAt(0))||((x=t==null?void 0:t.email)==null?void 0:x.charAt(0))||"U"})]}),s.jsxs("div",{className:"flex flex-col min-w-0 flex-1",children:[s.jsx("p",{className:"font-medium leading-none mb-1 truncate text-sm",children:(t==null?void 0:t.name)||"Usurio"}),s.jsx("p",{className:"leading-none text-muted-foreground mb-2 truncate text-xs",children:t==null?void 0:t.email}),s.jsx("div",{className:`inline-flex items-center rounded-full border px-2.5 py-0.5 font-semibold transition-colors ${m((t==null?void 0:t.role)||"user")} text-xs`,children:u((t==null?void 0:t.role)||"user")})]})]})})}),s.jsx(yu,{className:"my-3"}),s.jsxs(Wd,{className:"cursor-pointer hover:bg-muted/50 transition-colors duration-200 p-3 rounded-lg",onClick:()=>c(!0),children:[s.jsx(Or,{className:"mr-3 h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"text-sm",children:"Perfil"})]}),s.jsxs(Wd,{className:"cursor-pointer hover:bg-muted/50 transition-colors duration-200 p-3 rounded-lg",children:[s.jsx(Ru,{className:"mr-3 h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"text-sm",children:"Configuraes"})]}),s.jsx(yu,{className:"my-2"}),s.jsxs(Wd,{className:"cursor-pointer hover:bg-destructive/10 text-destructive transition-colors duration-200 p-3 rounded-lg",onClick:h,children:[s.jsx(ix,{className:"mr-3 h-4 w-4"}),s.jsx("span",{className:"text-sm",children:"Sair"})]})]})]})]})]})}),s.jsx("div",{className:`flex-1 overflow-y-auto space-y-4 md:space-y-6 bg-gradient-to-br from-background to-muted/20 ${d?"p-3 pt-4 pb-20":"p-4 md:p-8 pt-6"}`,children:e})]})]}),s.jsx(hL,{open:l,onOpenChange:c})]})}function U2({children:e,requiredRole:t}){const{user:r,isAuthenticated:a,isLoading:n}=Ca(),i=La();return n?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary"})}):!a||!r?s.jsx(pj,{to:"/login",state:{from:i},replace:!0}):t&&r.role!==t&&r.role!=="admin"?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Acesso Negado"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Voc no tem permisso para acessar esta pgina."}),s.jsxs("p",{className:"text-sm text-gray-500",children:["Seu nvel de acesso: ",s.jsx("span",{className:"font-medium",children:r.role})]}),s.jsxs("p",{className:"text-sm text-gray-500",children:["Nvel necessrio: ",s.jsx("span",{className:"font-medium",children:t})]})]})}):s.jsx(s.Fragment,{children:e})}function pd({children:e}){const{user:t,isAuthenticated:r,isLoading:a}=Ca(),n=La();return a?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary"})}):!r||!t?s.jsx(pj,{to:"/super-admin/login",state:{from:n},replace:!0}):t.role!=="super_admin"?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Acesso Negado"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Voc no tem permisso para acessar esta pgina."}),s.jsxs("p",{className:"text-sm text-gray-500",children:["Seu nvel de acesso: ",s.jsx("span",{className:"font-medium",children:t.role})]}),s.jsxs("p",{className:"text-sm text-gray-500",children:["Nvel necessrio: ",s.jsx("span",{className:"font-medium",children:"super_admin"})]})]})}):s.jsx(s.Fragment,{children:e})}function fL({children:e,className:t=""}){const r=La(),[a,n]=b.useState(r),[i,o]=b.useState(!1);return b.useEffect(()=>{if(r!==a){o(!0);const A=setTimeout(()=>{n(r),o(!1)},150);return()=>clearTimeout(A)}},[r,a]),s.jsx("div",{className:`${t} transition-all duration-150 ease-out ${i?"opacity-95 scale-[0.99]":"opacity-100 scale-100"}`,style:{minHeight:"100vh",willChange:"transform, opacity"},children:s.jsx("div",{className:a.pathname!==r.pathname?"opacity-0":"opacity-100 transition-opacity duration-200 ease-in-out",children:e})})}const mL=[{title:"Dashboard",url:"/",icon:lu,shortTitle:"Home"},{title:"Pacientes",url:"/patients",icon:Xs,shortTitle:"Pacientes"},{title:"Pronturios",url:"/medical-records",icon:Wi,shortTitle:"Pronturios"},{title:"Cuidados",url:"/care",icon:Qr,shortTitle:"Cuidados"},{title:"Medicao",url:"/medication-plan",icon:mr,shortTitle:"Medicao"},{title:"Relatrios",url:"/reports",icon:Xt,shortTitle:"Relatrios"},{title:"Configuraes",url:"/settings",icon:Ru,shortTitle:"Config"}];function pL(){const t=La().pathname,r=a=>a==="/"?t==="/":t.startsWith(a);return s.jsx("nav",{className:"fixed bottom-0 left-0 w-full h-[70px] bg-white dark:bg-gray-900 shadow-[0_-2px_10px_rgba(0,0,0,0.1)] dark:shadow-[0_-2px_10px_rgba(0,0,0,0.3)] flex justify-around items-center z-50",children:s.jsx("div",{className:"flex items-center justify-around w-full h-full px-2 max-w-2xl mx-auto",children:mL.map(a=>{const n=a.icon,i=r(a.url);return s.jsxs(xj,{to:a.url,className:`flex flex-col items-center justify-center min-w-0 flex-1 px-3 py-2 rounded-xl transition-all duration-300 transform active:scale-95 ${i?"text-primary bg-primary/15 scale-105 shadow-sm":"text-muted-foreground hover:text-foreground hover:bg-muted/50 hover:scale-105"}`,"aria-label":a.title,children:[s.jsxs("div",{className:`relative ${i?"animate-pulse":""}`,children:[s.jsx(n,{className:`h-5 w-5 mb-1 transition-all duration-300 ${i?"scale-110 drop-shadow-sm":""}`}),i&&s.jsx("div",{className:"absolute -top-1 -right-1 w-2 h-2 bg-primary rounded-full animate-ping"})]}),s.jsx("span",{className:`text-xs font-medium truncate max-w-full transition-all duration-300 ${i?"font-semibold text-primary":""}`,children:a.shortTitle})]},a.url)})})})}const gL=Yi("rounded-xl border bg-card text-card-foreground shadow-modern transition-all duration-300 ease-out",{variants:{variant:{default:"border-border hover:shadow-modern-lg hover:-translate-y-1",glass:"bg-glass-background border-glass-border backdrop-blur-md hover:bg-glass-background/80",elevated:"shadow-modern-lg hover:shadow-xl hover:-translate-y-2",flat:"shadow-none border-border/50 hover:border-border hover:shadow-sm",gradient:"bg-gradient-to-br from-card via-card/95 to-muted/20 border-border/50",interactive:"cursor-pointer hover:shadow-modern-lg hover:-translate-y-1 hover:border-accent/50 active:scale-98"},size:{default:"",sm:"text-sm",lg:"text-lg"}},defaultVariants:{variant:"default",size:"default"}}),Ee=b.forwardRef((i,n)=>{var o=i,{className:e,variant:t,size:r}=o,a=he(o,["className","variant","size"]);return s.jsx("div",_({ref:n,className:ze(gL({variant:t,size:r,className:e}))},a))});Ee.displayName="Card";const He=b.forwardRef((a,r)=>{var n=a,{className:e}=n,t=he(n,["className"]);return s.jsx("div",_({ref:r,className:ze("flex flex-col space-y-2 p-6",e)},t))});He.displayName="CardHeader";const Ke=b.forwardRef((a,r)=>{var n=a,{className:e}=n,t=he(n,["className"]);return s.jsx("h3",_({ref:r,className:ze("text-xl font-semibold leading-tight tracking-tight text-foreground",e)},t))});Ke.displayName="CardTitle";const St=b.forwardRef((a,r)=>{var n=a,{className:e}=n,t=he(n,["className"]);return s.jsx("p",_({ref:r,className:ze("text-sm text-muted-foreground leading-relaxed",e)},t))});St.displayName="CardDescription";const Ue=b.forwardRef((a,r)=>{var n=a,{className:e}=n,t=he(n,["className"]);return s.jsx("div",_({ref:r,className:ze("p-6 pt-0",e)},t))});Ue.displayName="CardContent";const xL=b.forwardRef((a,r)=>{var n=a,{className:e}=n,t=he(n,["className"]);return s.jsx("div",_({ref:r,className:ze("flex items-center p-6 pt-0",e)},t))});xL.displayName="CardFooter";function Pt(e,t,r,a,n){if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,r),r}function Fe(e,t,r,a){if(r==="a"&&!a)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?a:r==="a"?a.call(e):a?a.value:t.get(e)}let cN=function(){const{crypto:e}=globalThis;if(e!=null&&e.randomUUID)return cN=e.randomUUID.bind(e),e.randomUUID();const t=new Uint8Array(1),r=e?()=>e.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,a=>(+a^r()&15>>+a/4).toString(16))};function jx(e){return typeof e=="object"&&e!==null&&("name"in e&&e.name==="AbortError"||"message"in e&&String(e.message).includes("FetchRequestCanceledException"))}const Cx=e=>{if(e instanceof Error)return e;if(typeof e=="object"&&e!==null){try{if(Object.prototype.toString.call(e)==="[object Error]"){const t=new Error(e.message,e.cause?{cause:e.cause}:{});return e.stack&&(t.stack=e.stack),e.cause&&!t.cause&&(t.cause=e.cause),e.name&&(t.name=e.name),t}}catch(t){}try{return new Error(JSON.stringify(e))}catch(t){}}return new Error(e)};class Bt extends Error{}class ea extends Bt{constructor(t,r,a,n){super(`${ea.makeMessage(t,r,a)}`),this.status=t,this.headers=n,this.requestID=n==null?void 0:n.get("x-request-id"),this.error=r;const i=r;this.code=i==null?void 0:i.code,this.param=i==null?void 0:i.param,this.type=i==null?void 0:i.type}static makeMessage(t,r,a){const n=r!=null&&r.message?typeof r.message=="string"?r.message:JSON.stringify(r.message):r?JSON.stringify(r):a;return t&&n?`${t} ${n}`:t?`${t} status code (no body)`:n||"(no status code or body)"}static generate(t,r,a,n){if(!t||!n)return new jp({message:a,cause:Cx(r)});const i=r==null?void 0:r.error;return t===400?new dN(t,i,a,n):t===401?new uN(t,i,a,n):t===403?new hN(t,i,a,n):t===404?new fN(t,i,a,n):t===409?new mN(t,i,a,n):t===422?new pN(t,i,a,n):t===429?new gN(t,i,a,n):t>=500?new xN(t,i,a,n):new ea(t,i,a,n)}}class pn extends ea{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class jp extends ea{constructor({message:t,cause:r}){super(void 0,void 0,t||"Connection error.",void 0),r&&(this.cause=r)}}class s1 extends jp{constructor({message:t}={}){super({message:t!=null?t:"Request timed out."})}}class dN extends ea{}class uN extends ea{}class hN extends ea{}class fN extends ea{}class mN extends ea{}class pN extends ea{}class gN extends ea{}class xN extends ea{}class vN extends Bt{constructor(){super("Could not parse response content as the length limit was reached")}}class wN extends Bt{constructor(){super("Could not parse response content as the request was rejected by the content filter")}}class Sd extends Error{constructor(t){super(t)}}const vL=/^[a-z][a-z0-9+.-]*:/i,wL=e=>vL.test(e);let Ua=e=>(Ua=Array.isArray,Ua(e)),I2=Ua;function bN(e){return typeof e!="object"?{}:e!=null?e:{}}function bL(e){if(!e)return!0;for(const t in e)return!1;return!0}function yL(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function $g(e){return e!=null&&typeof e=="object"&&!Array.isArray(e)}const BL=(e,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new Bt(`${e} must be an integer`);if(t<0)throw new Bt(`${e} must be a positive integer`);return t},jL=e=>{try{return JSON.parse(e)}catch(t){return}},Vu=e=>new Promise(t=>setTimeout(t,e)),$l="5.22.0",CL=()=>typeof window!="undefined"&&typeof window.document!="undefined"&&typeof navigator!="undefined";function NL(){return typeof Deno!="undefined"&&Deno.build!=null?"deno":typeof EdgeRuntime!="undefined"?"edge":Object.prototype.toString.call(typeof globalThis.process!="undefined"?globalThis.process:0)==="[object process]"?"node":"unknown"}const _L=()=>{var r,a,n,i,o;const e=NL();if(e==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":$l,"X-Stainless-OS":k2(Deno.build.os),"X-Stainless-Arch":Q2(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(a=(r=Deno.version)==null?void 0:r.deno)!=null?a:"unknown"};if(typeof EdgeRuntime!="undefined")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":$l,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(e==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":$l,"X-Stainless-OS":k2((n=globalThis.process.platform)!=null?n:"unknown"),"X-Stainless-Arch":Q2((i=globalThis.process.arch)!=null?i:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(o=globalThis.process.version)!=null?o:"unknown"};const t=SL();return t?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":$l,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${t.browser}`,"X-Stainless-Runtime-Version":t.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":$l,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function SL(){if(typeof navigator=="undefined"||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:r}of e){const a=r.exec(navigator.userAgent);if(a){const n=a[1]||0,i=a[2]||0,o=a[3]||0;return{browser:t,version:`${n}.${i}.${o}`}}}return null}const Q2=e=>e==="x32"?"x32":e==="x86_64"||e==="x64"?"x64":e==="arm"?"arm":e==="aarch64"||e==="arm64"?"arm64":e?`other:${e}`:"unknown",k2=e=>(e=e.toLowerCase(),e.includes("ios")?"iOS":e==="android"?"Android":e==="darwin"?"MacOS":e==="win32"?"Windows":e==="freebsd"?"FreeBSD":e==="openbsd"?"OpenBSD":e==="linux"?"Linux":e?`Other:${e}`:"Unknown");let qh;const FL=()=>qh!=null?qh:qh=_L();function EL(){if(typeof fetch!="undefined")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new OpenAI({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function yN(...e){const t=globalThis.ReadableStream;if(typeof t=="undefined")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...e)}function BN(e){let t=Symbol.asyncIterator in e?e[Symbol.asyncIterator]():e[Symbol.iterator]();return yN({start(){},pull(a){return Ae(this,null,function*(){const{done:n,value:i}=yield t.next();n?a.close():a.enqueue(i)})},cancel(){return Ae(this,null,function*(){var a;yield(a=t.return)==null?void 0:a.call(t)})}})}function jN(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{next(){return Ae(this,null,function*(){try{const a=yield t.read();return a!=null&&a.done&&t.releaseLock(),a}catch(a){throw t.releaseLock(),a}})},return(){return Ae(this,null,function*(){const a=t.cancel();return t.releaseLock(),yield a,{done:!0,value:void 0}})},[Symbol.asyncIterator](){return this}}}function UL(e){return Ae(this,null,function*(){var a,n;if(e===null||typeof e!="object")return;if(e[Symbol.asyncIterator]){yield(n=(a=e[Symbol.asyncIterator]()).return)==null?void 0:n.call(a);return}const t=e.getReader(),r=t.cancel();t.releaseLock(),yield r})}const IL=({headers:e,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)}),CN="RFC3986",NN=e=>String(e),L2={RFC1738:e=>String(e).replace(/%20/g,"+"),RFC3986:NN},QL="RFC1738";let Nx=(e,t)=>{var r;return Nx=(r=Object.hasOwn)!=null?r:Function.prototype.call.bind(Object.prototype.hasOwnProperty),Nx(e,t)};const Zn=(()=>{const e=[];for(let t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e})(),Vg=1024,kL=(e,t,r,a,n)=>{if(e.length===0)return e;let i=e;if(typeof e=="symbol"?i=Symbol.prototype.toString.call(e):typeof e!="string"&&(i=String(e)),r==="iso-8859-1")return escape(i).replace(/%u[0-9a-f]{4}/gi,function(A){return"%26%23"+parseInt(A.slice(2),16)+"%3B"});let o="";for(let A=0;A<i.length;A+=Vg){const l=i.length>=Vg?i.slice(A,A+Vg):i,c=[];for(let d=0;d<l.length;++d){let h=l.charCodeAt(d);if(h===45||h===46||h===95||h===126||h>=48&&h<=57||h>=65&&h<=90||h>=97&&h<=122||n===QL&&(h===40||h===41)){c[c.length]=l.charAt(d);continue}if(h<128){c[c.length]=Zn[h];continue}if(h<2048){c[c.length]=Zn[192|h>>6]+Zn[128|h&63];continue}if(h<55296||h>=57344){c[c.length]=Zn[224|h>>12]+Zn[128|h>>6&63]+Zn[128|h&63];continue}d+=1,h=65536+((h&1023)<<10|l.charCodeAt(d)&1023),c[c.length]=Zn[240|h>>18]+Zn[128|h>>12&63]+Zn[128|h>>6&63]+Zn[128|h&63]}o+=c.join("")}return o};function LL(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))}function D2(e,t){if(Ua(e)){const r=[];for(let a=0;a<e.length;a+=1)r.push(t(e[a]));return r}return t(e)}const _N={brackets(e){return String(e)+"[]"},comma:"comma",indices(e,t){return String(e)+"["+t+"]"},repeat(e){return String(e)}},SN=function(e,t){Array.prototype.push.apply(e,Ua(t)?t:[t])};let Gh;const _s={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:kL,encodeValuesOnly:!1,format:CN,formatter:NN,indices:!1,serializeDate(e){return(Gh!=null?Gh:Gh=Function.prototype.call.bind(Date.prototype.toISOString))(e)},skipNulls:!1,strictNullHandling:!1};function DL(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"}const zg={};function FN(e,t,r,a,n,i,o,A,l,c,d,h,m,u,p,g,y,x){let B=e,j=x,w=0,N=!1;for(;(j=j.get(zg))!==void 0&&!N;){const P=j.get(e);if(w+=1,typeof P!="undefined"){if(P===w)throw new RangeError("Cyclic object value");N=!0}typeof j.get(zg)=="undefined"&&(w=0)}if(typeof c=="function"?B=c(t,B):B instanceof Date?B=m==null?void 0:m(B):r==="comma"&&Ua(B)&&(B=D2(B,function(P){return P instanceof Date?m==null?void 0:m(P):P})),B===null){if(i)return l&&!g?l(t,_s.encoder,y,"key",u):t;B=""}if(DL(B)||LL(B)){if(l){const P=g?t:l(t,_s.encoder,y,"key",u);return[(p==null?void 0:p(P))+"="+(p==null?void 0:p(l(B,_s.encoder,y,"value",u)))]}return[(p==null?void 0:p(t))+"="+(p==null?void 0:p(String(B)))]}const I=[];if(typeof B=="undefined")return I;let U;if(r==="comma"&&Ua(B))g&&l&&(B=D2(B,l)),U=[{value:B.length>0?B.join(",")||null:void 0}];else if(Ua(c))U=c;else{const P=Object.keys(B);U=d?P.sort(d):P}const D=A?String(t).replace(/\./g,"%2E"):String(t),L=a&&Ua(B)&&B.length===1?D+"[]":D;if(n&&Ua(B)&&B.length===0)return L+"[]";for(let P=0;P<U.length;++P){const S=U[P],E=typeof S=="object"&&typeof S.value!="undefined"?S.value:B[S];if(o&&E===null)continue;const Q=h&&A?S.replace(/\./g,"%2E"):S,V=Ua(B)?typeof r=="function"?r(L,Q):L:L+(h?"."+Q:"["+Q+"]");x.set(e,w);const ae=new WeakMap;ae.set(zg,x),SN(I,FN(E,V,r,a,n,i,o,A,r==="comma"&&g&&Ua(B)?null:l,c,d,h,m,u,p,g,y,ae))}return I}function PL(e=_s){if(typeof e.allowEmptyArrays!="undefined"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.encodeDotInKeys!="undefined"&&typeof e.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(e.encoder!==null&&typeof e.encoder!="undefined"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");const t=e.charset||_s.charset;if(typeof e.charset!="undefined"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let r=CN;if(typeof e.format!="undefined"){if(!Nx(L2,e.format))throw new TypeError("Unknown format option provided.");r=e.format}const a=L2[r];let n=_s.filter;(typeof e.filter=="function"||Ua(e.filter))&&(n=e.filter);let i;if(e.arrayFormat&&e.arrayFormat in _N?i=e.arrayFormat:"indices"in e?i=e.indices?"indices":"repeat":i=_s.arrayFormat,"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const o=typeof e.allowDots=="undefined"?e.encodeDotInKeys?!0:_s.allowDots:!!e.allowDots;return{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:_s.addQueryPrefix,allowDots:o,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:_s.allowEmptyArrays,arrayFormat:i,charset:t,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:_s.charsetSentinel,commaRoundTrip:!!e.commaRoundTrip,delimiter:typeof e.delimiter=="undefined"?_s.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:_s.encode,encodeDotInKeys:typeof e.encodeDotInKeys=="boolean"?e.encodeDotInKeys:_s.encodeDotInKeys,encoder:typeof e.encoder=="function"?e.encoder:_s.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:_s.encodeValuesOnly,filter:n,format:r,formatter:a,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:_s.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:_s.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:_s.strictNullHandling}}function ML(e,t={}){let r=e;const a=PL(t);let n,i;typeof a.filter=="function"?(i=a.filter,r=i("",r)):Ua(a.filter)&&(i=a.filter,n=i);const o=[];if(typeof r!="object"||r===null)return"";const A=_N[a.arrayFormat],l=A==="comma"&&a.commaRoundTrip;n||(n=Object.keys(r)),a.sort&&n.sort(a.sort);const c=new WeakMap;for(let m=0;m<n.length;++m){const u=n[m];a.skipNulls&&r[u]===null||SN(o,FN(r[u],u,A,l,a.allowEmptyArrays,a.strictNullHandling,a.skipNulls,a.encodeDotInKeys,a.encode?a.encoder:null,a.filter,a.sort,a.allowDots,a.serializeDate,a.format,a.formatter,a.encodeValuesOnly,a.charset,c))}const d=o.join(a.delimiter);let h=a.addQueryPrefix===!0?"?":"";return a.charsetSentinel&&(a.charset==="iso-8859-1"?h+="utf8=%26%2310003%3B&":h+="utf8=%E2%9C%93&"),d.length>0?h+d:""}function TL(e){let t=0;for(const n of e)t+=n.length;const r=new Uint8Array(t);let a=0;for(const n of e)r.set(n,a),a+=n.length;return r}let Wh;function a1(e){let t;return(Wh!=null?Wh:(t=new globalThis.TextEncoder,Wh=t.encode.bind(t)))(e)}let Jh;function P2(e){let t;return(Jh!=null?Jh:(t=new globalThis.TextDecoder,Jh=t.decode.bind(t)))(e)}var za,qa;class Cp{constructor(){za.set(this,void 0),qa.set(this,void 0),Pt(this,za,new Uint8Array),Pt(this,qa,null)}decode(t){if(t==null)return[];const r=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?a1(t):t;Pt(this,za,TL([Fe(this,za,"f"),r]));const a=[];let n;for(;(n=RL(Fe(this,za,"f"),Fe(this,qa,"f")))!=null;){if(n.carriage&&Fe(this,qa,"f")==null){Pt(this,qa,n.index);continue}if(Fe(this,qa,"f")!=null&&(n.index!==Fe(this,qa,"f")+1||n.carriage)){a.push(P2(Fe(this,za,"f").subarray(0,Fe(this,qa,"f")-1))),Pt(this,za,Fe(this,za,"f").subarray(Fe(this,qa,"f"))),Pt(this,qa,null);continue}const i=Fe(this,qa,"f")!==null?n.preceding-1:n.preceding,o=P2(Fe(this,za,"f").subarray(0,i));a.push(o),Pt(this,za,Fe(this,za,"f").subarray(n.index)),Pt(this,qa,null)}return a}flush(){return Fe(this,za,"f").length?this.decode(`
`):[]}}za=new WeakMap,qa=new WeakMap;Cp.NEWLINE_CHARS=new Set([`
`,"\r"]);Cp.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function RL(e,t){for(let n=t!=null?t:0;n<e.length;n++){if(e[n]===10)return{preceding:n,index:n+1,carriage:!1};if(e[n]===13)return{preceding:n,index:n+1,carriage:!0}}return null}function OL(e){for(let a=0;a<e.length-1;a++){if(e[a]===10&&e[a+1]===10||e[a]===13&&e[a+1]===13)return a+2;if(e[a]===13&&e[a+1]===10&&a+3<e.length&&e[a+2]===13&&e[a+3]===10)return a+4}return-1}const Em={off:0,error:200,warn:300,info:400,debug:500},M2=(e,t,r)=>{if(e){if(yL(Em,e))return e;Gs(r).warn(`${t} was set to ${JSON.stringify(e)}, expected one of ${JSON.stringify(Object.keys(Em))}`)}};function Fd(){}function Xh(e,t,r){return!t||Em[e]>Em[r]?Fd:t[e].bind(t)}const HL={error:Fd,warn:Fd,info:Fd,debug:Fd};let T2=new WeakMap;function Gs(e){var i;const t=e.logger,r=(i=e.logLevel)!=null?i:"off";if(!t)return HL;const a=T2.get(t);if(a&&a[0]===r)return a[1];const n={error:Xh("error",t,r),warn:Xh("warn",t,r),info:Xh("info",t,r),debug:Xh("debug",t,r)};return T2.set(t,[r,n]),n}const UA=e=>(e.options&&(e.options=_({},e.options),delete e.options.headers),e.headers&&(e.headers=Object.fromEntries((e.headers instanceof Headers?[...e.headers]:Object.entries(e.headers)).map(([t,r])=>[t,t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":r]))),"retryOfRequestLogID"in e&&(e.retryOfRequestLogID&&(e.retryOf=e.retryOfRequestLogID),delete e.retryOfRequestLogID),e);var gd;class li{constructor(t,r,a){this.iterator=t,gd.set(this,void 0),this.controller=r,Pt(this,gd,a)}static fromSSEResponse(t,r,a){let n=!1;const i=a?Gs(a):console;function o(){return Qi(this,null,function*(){if(n)throw new Bt("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");n=!0;let A=!1;try{try{for(var l=aa(KL(t,r)),c,d,h;c=!(d=yield new Cs(l.next())).done;c=!1){const m=d.value;if(!A){if(m.data.startsWith("[DONE]")){A=!0;continue}if(m.event===null||!m.event.startsWith("thread.")){let u;try{u=JSON.parse(m.data)}catch(p){throw i.error("Could not parse message into JSON:",m.data),i.error("From chunk:",m.raw),p}if(u&&u.error)throw new ea(void 0,u.error,void 0,t.headers);yield u}else{let u;try{u=JSON.parse(m.data)}catch(p){throw console.error("Could not parse message into JSON:",m.data),console.error("From chunk:",m.raw),p}if(m.event=="error")throw new ea(void 0,u.error,u.message,void 0);yield{event:m.event,data:u}}}}}catch(d){h=[d]}finally{try{c&&(d=l.return)&&(yield new Cs(d.call(l)))}finally{if(h)throw h[0]}}A=!0}catch(m){if(jx(m))return;throw m}finally{A||r.abort()}})}return new li(o,r,a)}static fromReadableStream(t,r,a){let n=!1;function i(){return Qi(this,null,function*(){const A=new Cp,l=jN(t);try{for(var c=aa(l),d,h,m;d=!(h=yield new Cs(c.next())).done;d=!1){const u=h.value;for(const p of A.decode(u))yield p}}catch(h){m=[h]}finally{try{d&&(h=c.return)&&(yield new Cs(h.call(c)))}finally{if(m)throw m[0]}}for(const u of A.flush())yield u})}function o(){return Qi(this,null,function*(){if(n)throw new Bt("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");n=!0;let A=!1;try{try{for(var l=aa(i()),c,d,h;c=!(d=yield new Cs(l.next())).done;c=!1){const m=d.value;A||m&&(yield JSON.parse(m))}}catch(d){h=[d]}finally{try{c&&(d=l.return)&&(yield new Cs(d.call(l)))}finally{if(h)throw h[0]}}A=!0}catch(m){if(jx(m))return;throw m}finally{A||r.abort()}})}return new li(o,r,a)}[(gd=new WeakMap,Symbol.asyncIterator)](){return this.iterator()}tee(){const t=[],r=[],a=this.iterator(),n=i=>({next:()=>{if(i.length===0){const o=a.next();t.push(o),r.push(o)}return i.shift()}});return[new li(()=>n(t),this.controller,Fe(this,gd,"f")),new li(()=>n(r),this.controller,Fe(this,gd,"f"))]}toReadableStream(){const t=this;let r;return yN({start(){return Ae(this,null,function*(){r=t[Symbol.asyncIterator]()})},pull(n){return Ae(this,null,function*(){try{const{value:i,done:o}=yield r.next();if(o)return n.close();const A=a1(JSON.stringify(i)+`
`);n.enqueue(A)}catch(i){n.error(i)}})},cancel(){return Ae(this,null,function*(){var n;yield(n=r.return)==null?void 0:n.call(r)})}})}}function KL(e,t){return Qi(this,null,function*(){if(!e.body)throw t.abort(),typeof globalThis.navigator!="undefined"&&globalThis.navigator.product==="ReactNative"?new Bt("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Bt("Attempted to iterate over a response with no body");const r=new VL,a=new Cp,n=jN(e.body);try{for(var i=aa($L(n)),o,A,l;o=!(A=yield new Cs(i.next())).done;o=!1){const c=A.value;for(const d of a.decode(c)){const h=r.decode(d);h&&(yield h)}}}catch(A){l=[A]}finally{try{o&&(A=i.return)&&(yield new Cs(A.call(i)))}finally{if(l)throw l[0]}}for(const c of a.flush()){const d=r.decode(c);d&&(yield d)}})}function $L(e){return Qi(this,null,function*(){let t=new Uint8Array;try{for(var r=aa(e),a,n,i;a=!(n=yield new Cs(r.next())).done;a=!1){const o=n.value;if(o==null)continue;const A=o instanceof ArrayBuffer?new Uint8Array(o):typeof o=="string"?a1(o):o;let l=new Uint8Array(t.length+A.length);l.set(t),l.set(A,t.length),t=l;let c;for(;(c=OL(t))!==-1;)yield t.slice(0,c),t=t.slice(c)}}catch(n){i=[n]}finally{try{a&&(n=r.return)&&(yield new Cs(n.call(r)))}finally{if(i)throw i[0]}}t.length>0&&(yield t)})}class VL{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const i={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],i}if(this.chunks.push(t),t.startsWith(":"))return null;let[r,a,n]=zL(t,":");return n.startsWith(" ")&&(n=n.substring(1)),r==="event"?this.event=n:r==="data"&&this.data.push(n),null}}function zL(e,t){const r=e.indexOf(t);return r!==-1?[e.substring(0,r),t,e.substring(r+t.length)]:[e,"",""]}function EN(e,t){return Ae(this,null,function*(){const{response:r,requestLogID:a,retryOfRequestLogID:n,startTime:i}=t,o=yield Ae(this,null,function*(){var h;if(t.options.stream)return Gs(e).debug("response",r.status,r.url,r.headers,r.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(r,t.controller,e):li.fromSSEResponse(r,t.controller,e);if(r.status===204)return null;if(t.options.__binaryResponse)return r;const A=r.headers.get("content-type"),l=(h=A==null?void 0:A.split(";")[0])==null?void 0:h.trim();if((l==null?void 0:l.includes("application/json"))||(l==null?void 0:l.endsWith("+json"))){const m=yield r.json();return UN(m,r)}return yield r.text()});return Gs(e).debug(`[${a}] response parsed`,UA({retryOfRequestLogID:n,url:r.url,status:r.status,body:o,durationMs:Date.now()-i})),o})}function UN(e,t){return!e||typeof e!="object"||Array.isArray(e)?e:Object.defineProperty(e,"_request_id",{value:t.headers.get("x-request-id"),enumerable:!1})}var Ed;class Np extends Promise{constructor(t,r,a=EN){super(n=>{n(null)}),this.responsePromise=r,this.parseResponse=a,Ed.set(this,void 0),Pt(this,Ed,t)}_thenUnwrap(t){return new Np(Fe(this,Ed,"f"),this.responsePromise,(r,a)=>Ae(this,null,function*(){return UN(t(yield this.parseResponse(r,a),a),a.response)}))}asResponse(){return this.responsePromise.then(t=>t.response)}withResponse(){return Ae(this,null,function*(){const[t,r]=yield Promise.all([this.parse(),this.asResponse()]);return{data:t,response:r,request_id:r.headers.get("x-request-id")}})}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse(Fe(this,Ed,"f"),t))),this.parsedPromise}then(t,r){return this.parse().then(t,r)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}Ed=new WeakMap;var Yh;class n1{constructor(t,r,a,n){Yh.set(this,void 0),Pt(this,Yh,t),this.options=n,this.response=r,this.body=a}hasNextPage(){return this.getPaginatedItems().length?this.nextPageRequestOptions()!=null:!1}getNextPage(){return Ae(this,null,function*(){const t=this.nextPageRequestOptions();if(!t)throw new Bt("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");return yield Fe(this,Yh,"f").requestAPIList(this.constructor,t)})}iterPages(){return Qi(this,null,function*(){let t=this;for(yield t;t.hasNextPage();)t=yield new Cs(t.getNextPage()),yield t})}[(Yh=new WeakMap,Symbol.asyncIterator)](){return Qi(this,null,function*(){try{for(var t=aa(this.iterPages()),r,a,n;r=!(a=yield new Cs(t.next())).done;r=!1){const i=a.value;for(const o of i.getPaginatedItems())yield o}}catch(a){n=[a]}finally{try{r&&(a=t.return)&&(yield new Cs(a.call(t)))}finally{if(n)throw n[0]}}})}}class qL extends Np{constructor(t,r,a){super(t,r,(n,i)=>Ae(this,null,function*(){return new a(n,i.response,yield EN(n,i),i.options)}))}[Symbol.asyncIterator](){return Qi(this,null,function*(){const t=yield new Cs(this);try{for(var r=aa(t),a,n,i;a=!(n=yield new Cs(r.next())).done;a=!1){const o=n.value;yield o}}catch(n){i=[n]}finally{try{a&&(n=r.return)&&(yield new Cs(n.call(r)))}finally{if(i)throw i[0]}}})}}class _p extends n1{constructor(t,r,a,n){super(t,r,a,n),this.data=a.data||[],this.object=a.object}getPaginatedItems(){var t;return(t=this.data)!=null?t:[]}nextPageRequestOptions(){return null}}class vs extends n1{constructor(t,r,a,n){super(t,r,a,n),this.data=a.data||[],this.has_more=a.has_more||!1}getPaginatedItems(){var t;return(t=this.data)!=null?t:[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageRequestOptions(){var a;const t=this.getPaginatedItems(),r=(a=t[t.length-1])==null?void 0:a.id;return r?M(_({},this.options),{query:M(_({},bN(this.options.query)),{after:r})}):null}}class GL extends n1{constructor(t,r,a,n){super(t,r,a,n),this.data=a.data||[],this.has_more=a.has_more||!1,this.last_id=a.last_id||""}getPaginatedItems(){var t;return(t=this.data)!=null?t:[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageRequestOptions(){const t=this.last_id;return t?M(_({},this.options),{query:M(_({},bN(this.options.query)),{after:t})}):null}}const IN=()=>{var e;if(typeof File=="undefined"){const{process:t}=globalThis,r=typeof((e=t==null?void 0:t.versions)==null?void 0:e.node)=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(r?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Jd(e,t,r){return IN(),new File(e,t!=null?t:"unknown_file",r)}function Hf(e){return(typeof e=="object"&&e!==null&&("name"in e&&e.name&&String(e.name)||"url"in e&&e.url&&String(e.url)||"filename"in e&&e.filename&&String(e.filename)||"path"in e&&e.path&&String(e.path))||"").split(/[\\/]/).pop()||void 0}const QN=e=>e!=null&&typeof e=="object"&&typeof e[Symbol.asyncIterator]=="function",al=(e,t)=>Ae(void 0,null,function*(){return M(_({},e),{body:yield JL(e.body,t)})}),R2=new WeakMap;function WL(e){const t=typeof e=="function"?e:e.fetch,r=R2.get(t);if(r)return r;const a=Ae(this,null,function*(){try{const n="Response"in t?t.Response:(yield t("data:,")).constructor,i=new FormData;return i.toString()!==(yield new n(i).text())}catch(n){return!0}});return R2.set(t,a),a}const JL=(e,t)=>Ae(void 0,null,function*(){if(!(yield WL(t)))throw new TypeError("The provided fetch function does not support file uploads with the current global FormData class.");const r=new FormData;return yield Promise.all(Object.entries(e||{}).map(([a,n])=>_x(r,a,n))),r}),XL=e=>e instanceof Blob&&"name"in e,_x=(e,t,r)=>Ae(void 0,null,function*(){if(r!==void 0){if(r==null)throw new TypeError(`Received null for "${t}"; to pass null in FormData, you must use the string 'null'`);if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")e.append(t,String(r));else if(r instanceof Response)e.append(t,Jd([yield r.blob()],Hf(r)));else if(QN(r))e.append(t,Jd([yield new Response(BN(r)).blob()],Hf(r)));else if(XL(r))e.append(t,r,Hf(r));else if(Array.isArray(r))yield Promise.all(r.map(a=>_x(e,t+"[]",a)));else if(typeof r=="object")yield Promise.all(Object.entries(r).map(([a,n])=>_x(e,`${t}[${a}]`,n)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${r} instead`)}}),kN=e=>e!=null&&typeof e=="object"&&typeof e.size=="number"&&typeof e.type=="string"&&typeof e.text=="function"&&typeof e.slice=="function"&&typeof e.arrayBuffer=="function",YL=e=>e!=null&&typeof e=="object"&&typeof e.name=="string"&&typeof e.lastModified=="number"&&kN(e),ZL=e=>e!=null&&typeof e=="object"&&typeof e.url=="string"&&typeof e.blob=="function";function e8(e,t,r){return Ae(this,null,function*(){if(IN(),e=yield e,YL(e))return e instanceof File?e:Jd([yield e.arrayBuffer()],e.name);if(ZL(e)){const n=yield e.blob();return t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()),Jd(yield Sx(n),t,r)}const a=yield Sx(e);if(t||(t=Hf(e)),!(r!=null&&r.type)){const n=a.find(i=>typeof i=="object"&&"type"in i&&i.type);typeof n=="string"&&(r=M(_({},r),{type:n}))}return Jd(a,t,r)})}function Sx(e){return Ae(this,null,function*(){var o;let t=[];if(typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)t.push(e);else if(kN(e))t.push(e instanceof Blob?e:yield e.arrayBuffer());else if(QN(e))try{for(var r=aa(e),a,n,i;a=!(n=yield r.next()).done;a=!1){const A=n.value;t.push(...yield Sx(A))}}catch(n){i=[n]}finally{try{a&&(n=r.return)&&(yield n.call(r))}finally{if(i)throw i[0]}}else{const A=(o=e==null?void 0:e.constructor)==null?void 0:o.name;throw new Error(`Unexpected data type: ${typeof e}${A?`; constructor: ${A}`:""}${t8(e)}`)}return t})}function t8(e){return typeof e!="object"||e===null?"":`; props: [${Object.getOwnPropertyNames(e).map(r=>`"${r}"`).join(", ")}]`}class It{constructor(t){this._client=t}}function LN(e){return e.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const O2=Object.freeze(Object.create(null)),r8=(e=LN)=>function(r,...a){if(r.length===1)return r[0];let n=!1;const i=[],o=r.reduce((d,h,m)=>{var g,y,x;/[?#]/.test(h)&&(n=!0);const u=a[m];let p=(n?encodeURIComponent:e)(""+u);return m!==a.length&&(u==null||typeof u=="object"&&u.toString===((x=Object.getPrototypeOf((y=Object.getPrototypeOf((g=u.hasOwnProperty)!=null?g:O2))!=null?y:O2))==null?void 0:x.toString))&&(p=u+"",i.push({start:d.length+h.length,length:p.length,error:`Value of type ${Object.prototype.toString.call(u).slice(8,-1)} is not a valid path parameter`})),d+h+(m===a.length?"":p)},""),A=o.split(/[?#]/,1)[0],l=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let c;for(;(c=l.exec(A))!==null;)i.push({start:c.index,length:c[0].length,error:`Value "${c[0]}" can't be safely passed as a path parameter`});if(i.sort((d,h)=>d.start-h.start),i.length>0){let d=0;const h=i.reduce((m,u)=>{const p=" ".repeat(u.start-d),g="^".repeat(u.length);return d=u.start+u.length,m+p+g},"");throw new Bt(`Path parameters result in path with invalid segments:
${i.map(m=>m.error).join(`
`)}
${o}
${h}`)}return o},Ze=r8(LN);let DN=class extends It{list(t,r={},a){return this._client.getAPIList(Ze`/chat/completions/${t}/messages`,vs,_({query:r},a))}};function Um(e){return e!==void 0&&"function"in e&&e.function!==void 0}function i1(e){return(e==null?void 0:e.$brand)==="auto-parseable-response-format"}function zu(e){return(e==null?void 0:e.$brand)==="auto-parseable-tool"}function s8(e,t){return!t||!PN(t)?M(_({},e),{choices:e.choices.map(r=>(MN(r.message.tool_calls),M(_({},r),{message:_(M(_({},r.message),{parsed:null}),r.message.tool_calls?{tool_calls:r.message.tool_calls}:void 0)})))}):o1(e,t)}function o1(e,t){const r=e.choices.map(a=>{var n,i;if(a.finish_reason==="length")throw new vN;if(a.finish_reason==="content_filter")throw new wN;return MN(a.message.tool_calls),M(_({},a),{message:M(_(_({},a.message),a.message.tool_calls?{tool_calls:(i=(n=a.message.tool_calls)==null?void 0:n.map(o=>n8(t,o)))!=null?i:void 0}:void 0),{parsed:a.message.content&&!a.message.refusal?a8(t,a.message.content):null})})});return M(_({},e),{choices:r})}function a8(e,t){var r,a;return((r=e.response_format)==null?void 0:r.type)!=="json_schema"?null:((a=e.response_format)==null?void 0:a.type)==="json_schema"?"$parseRaw"in e.response_format?e.response_format.$parseRaw(t):JSON.parse(t):null}function n8(e,t){var a;const r=(a=e.tools)==null?void 0:a.find(n=>{var i;return Um(n)&&((i=n.function)==null?void 0:i.name)===t.function.name});return M(_({},t),{function:M(_({},t.function),{parsed_arguments:zu(r)?r.$parseRaw(t.function.arguments):r!=null&&r.function.strict?JSON.parse(t.function.arguments):null})})}function i8(e,t){var a;if(!e||!("tools"in e)||!e.tools)return!1;const r=(a=e.tools)==null?void 0:a.find(n=>{var i;return Um(n)&&((i=n.function)==null?void 0:i.name)===t.function.name});return Um(r)&&(zu(r)||(r==null?void 0:r.function.strict)||!1)}function PN(e){var t,r;return i1(e.response_format)?!0:(r=(t=e.tools)==null?void 0:t.some(a=>zu(a)||a.type==="function"&&a.function.strict===!0))!=null?r:!1}function MN(e){for(const t of e||[])if(t.type!=="function")throw new Bt(`Currently only \`function\` tool calls are supported; Received \`${t.type}\``)}function o8(e){for(const t of e!=null?e:[]){if(t.type!=="function")throw new Bt(`Currently only \`function\` tool types support auto-parsing; Received \`${t.type}\``);if(t.function.strict!==!0)throw new Bt(`The \`${t.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}const Im=e=>(e==null?void 0:e.role)==="assistant",TN=e=>(e==null?void 0:e.role)==="tool";var Fx,Kf,$f,Ud,Id,Vf,Qd,Oi,kd,Qm,km,Vl,RN;class A1{constructor(){Fx.add(this),this.controller=new AbortController,Kf.set(this,void 0),$f.set(this,()=>{}),Ud.set(this,()=>{}),Id.set(this,void 0),Vf.set(this,()=>{}),Qd.set(this,()=>{}),Oi.set(this,{}),kd.set(this,!1),Qm.set(this,!1),km.set(this,!1),Vl.set(this,!1),Pt(this,Kf,new Promise((t,r)=>{Pt(this,$f,t,"f"),Pt(this,Ud,r,"f")})),Pt(this,Id,new Promise((t,r)=>{Pt(this,Vf,t,"f"),Pt(this,Qd,r,"f")})),Fe(this,Kf,"f").catch(()=>{}),Fe(this,Id,"f").catch(()=>{})}_run(t){setTimeout(()=>{t().then(()=>{this._emitFinal(),this._emit("end")},Fe(this,Fx,"m",RN).bind(this))},0)}_connected(){this.ended||(Fe(this,$f,"f").call(this),this._emit("connect"))}get ended(){return Fe(this,kd,"f")}get errored(){return Fe(this,Qm,"f")}get aborted(){return Fe(this,km,"f")}abort(){this.controller.abort()}on(t,r){return(Fe(this,Oi,"f")[t]||(Fe(this,Oi,"f")[t]=[])).push({listener:r}),this}off(t,r){const a=Fe(this,Oi,"f")[t];if(!a)return this;const n=a.findIndex(i=>i.listener===r);return n>=0&&a.splice(n,1),this}once(t,r){return(Fe(this,Oi,"f")[t]||(Fe(this,Oi,"f")[t]=[])).push({listener:r,once:!0}),this}emitted(t){return new Promise((r,a)=>{Pt(this,Vl,!0),t!=="error"&&this.once("error",a),this.once(t,r)})}done(){return Ae(this,null,function*(){Pt(this,Vl,!0),yield Fe(this,Id,"f")})}_emit(t,...r){if(Fe(this,kd,"f"))return;t==="end"&&(Pt(this,kd,!0),Fe(this,Vf,"f").call(this));const a=Fe(this,Oi,"f")[t];if(a&&(Fe(this,Oi,"f")[t]=a.filter(n=>!n.once),a.forEach(({listener:n})=>n(...r))),t==="abort"){const n=r[0];!Fe(this,Vl,"f")&&!(a!=null&&a.length)&&Promise.reject(n),Fe(this,Ud,"f").call(this,n),Fe(this,Qd,"f").call(this,n),this._emit("end");return}if(t==="error"){const n=r[0];!Fe(this,Vl,"f")&&!(a!=null&&a.length)&&Promise.reject(n),Fe(this,Ud,"f").call(this,n),Fe(this,Qd,"f").call(this,n),this._emit("end")}}_emitFinal(){}}Kf=new WeakMap,$f=new WeakMap,Ud=new WeakMap,Id=new WeakMap,Vf=new WeakMap,Qd=new WeakMap,Oi=new WeakMap,kd=new WeakMap,Qm=new WeakMap,km=new WeakMap,Vl=new WeakMap,Fx=new WeakSet,RN=function(t){if(Pt(this,Qm,!0),t instanceof Error&&t.name==="AbortError"&&(t=new pn),t instanceof pn)return Pt(this,km,!0),this._emit("abort",t);if(t instanceof Bt)return this._emit("error",t);if(t instanceof Error){const r=new Bt(t.message);return r.cause=t,this._emit("error",r)}return this._emit("error",new Bt(String(t)))};function A8(e){return typeof e.parse=="function"}var ga,Ex,Lm,Ux,Ix,Qx,ON,HN;const l8=10;class KN extends A1{constructor(){super(...arguments),ga.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(t){var a;this._chatCompletions.push(t),this._emit("chatCompletion",t);const r=(a=t.choices[0])==null?void 0:a.message;return r&&this._addMessage(r),t}_addMessage(t,r=!0){if("content"in t||(t.content=null),this.messages.push(t),r){if(this._emit("message",t),TN(t)&&t.content)this._emit("functionToolCallResult",t.content);else if(Im(t)&&t.tool_calls)for(const a of t.tool_calls)a.type==="function"&&this._emit("functionToolCall",a.function)}}finalChatCompletion(){return Ae(this,null,function*(){yield this.done();const t=this._chatCompletions[this._chatCompletions.length-1];if(!t)throw new Bt("stream ended without producing a ChatCompletion");return t})}finalContent(){return Ae(this,null,function*(){return yield this.done(),Fe(this,ga,"m",Ex).call(this)})}finalMessage(){return Ae(this,null,function*(){return yield this.done(),Fe(this,ga,"m",Lm).call(this)})}finalFunctionToolCall(){return Ae(this,null,function*(){return yield this.done(),Fe(this,ga,"m",Ux).call(this)})}finalFunctionToolCallResult(){return Ae(this,null,function*(){return yield this.done(),Fe(this,ga,"m",Ix).call(this)})}totalUsage(){return Ae(this,null,function*(){return yield this.done(),Fe(this,ga,"m",Qx).call(this)})}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){const t=this._chatCompletions[this._chatCompletions.length-1];t&&this._emit("finalChatCompletion",t);const r=Fe(this,ga,"m",Lm).call(this);r&&this._emit("finalMessage",r);const a=Fe(this,ga,"m",Ex).call(this);a&&this._emit("finalContent",a);const n=Fe(this,ga,"m",Ux).call(this);n&&this._emit("finalFunctionToolCall",n);const i=Fe(this,ga,"m",Ix).call(this);i!=null&&this._emit("finalFunctionToolCallResult",i),this._chatCompletions.some(o=>o.usage)&&this._emit("totalUsage",Fe(this,ga,"m",Qx).call(this))}_createChatCompletion(t,r,a){return Ae(this,null,function*(){const n=a==null?void 0:a.signal;n&&(n.aborted&&this.controller.abort(),n.addEventListener("abort",()=>this.controller.abort())),Fe(this,ga,"m",ON).call(this,r);const i=yield t.chat.completions.create(M(_({},r),{stream:!1}),M(_({},a),{signal:this.controller.signal}));return this._connected(),this._addChatCompletion(o1(i,r))})}_runChatCompletion(t,r,a){return Ae(this,null,function*(){for(const n of r.messages)this._addMessage(n,!1);return yield this._createChatCompletion(t,r,a)})}_runTools(t,r,a){return Ae(this,null,function*(){var p,g,y;const n="tool",u=r,{tool_choice:i="auto",stream:o}=u,A=he(u,["tool_choice","stream"]),l=typeof i!="string"&&i.type==="function"&&((p=i==null?void 0:i.function)==null?void 0:p.name),{maxChatCompletions:c=l8}=a||{},d=r.tools.map(x=>{if(zu(x)){if(!x.$callback)throw new Bt("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:x.$callback,name:x.function.name,description:x.function.description||"",parameters:x.function.parameters,parse:x.$parseRaw,strict:!0}}}return x}),h={};for(const x of d)x.type==="function"&&(h[x.function.name||x.function.function.name]=x.function);const m="tools"in r?d.map(x=>x.type==="function"?{type:"function",function:{name:x.function.name||x.function.function.name,parameters:x.function.parameters,description:x.function.description,strict:x.function.strict}}:x):void 0;for(const x of r.messages)this._addMessage(x,!1);for(let x=0;x<c;++x){const j=(g=(yield this._createChatCompletion(t,M(_({},A),{tool_choice:i,tools:m,messages:[...this.messages]}),a)).choices[0])==null?void 0:g.message;if(!j)throw new Bt("missing message in ChatCompletion response");if(!((y=j.tool_calls)!=null&&y.length))return;for(const w of j.tool_calls){if(w.type!=="function")continue;const N=w.id,{name:I,arguments:U}=w.function,D=h[I];if(D){if(l&&l!==I){const E=`Invalid tool_call: ${JSON.stringify(I)}. ${JSON.stringify(l)} requested. Please try again`;this._addMessage({role:n,tool_call_id:N,content:E});continue}}else{const E=`Invalid tool_call: ${JSON.stringify(I)}. Available options are: ${Object.keys(h).map(Q=>JSON.stringify(Q)).join(", ")}. Please try again`;this._addMessage({role:n,tool_call_id:N,content:E});continue}let L;try{L=A8(D)?yield D.parse(U):U}catch(E){const Q=E instanceof Error?E.message:String(E);this._addMessage({role:n,tool_call_id:N,content:Q});continue}const P=yield D.function(L,this),S=Fe(this,ga,"m",HN).call(this,P);if(this._addMessage({role:n,tool_call_id:N,content:S}),l)return}}})}}ga=new WeakSet,Ex=function(){var t;return(t=Fe(this,ga,"m",Lm).call(this).content)!=null?t:null},Lm=function(){var r,a;let t=this.messages.length;for(;t-- >0;){const n=this.messages[t];if(Im(n))return M(_({},n),{content:(r=n.content)!=null?r:null,refusal:(a=n.refusal)!=null?a:null})}throw new Bt("stream ended without producing a ChatCompletionMessage with role=assistant")},Ux=function(){var t,r;for(let a=this.messages.length-1;a>=0;a--){const n=this.messages[a];if(Im(n)&&((t=n==null?void 0:n.tool_calls)!=null&&t.length))return(r=n.tool_calls.filter(i=>i.type==="function").at(-1))==null?void 0:r.function}},Ix=function(){for(let t=this.messages.length-1;t>=0;t--){const r=this.messages[t];if(TN(r)&&r.content!=null&&typeof r.content=="string"&&this.messages.some(a=>{var n;return a.role==="assistant"&&((n=a.tool_calls)==null?void 0:n.some(i=>i.type==="function"&&i.id===r.tool_call_id))}))return r.content}},Qx=function(){const t={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:r}of this._chatCompletions)r&&(t.completion_tokens+=r.completion_tokens,t.prompt_tokens+=r.prompt_tokens,t.total_tokens+=r.total_tokens);return t},ON=function(t){if(t.n!=null&&t.n>1)throw new Bt("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},HN=function(t){return typeof t=="string"?t:t===void 0?"undefined":JSON.stringify(t)};class l1 extends KN{static runTools(t,r,a){const n=new l1,i=M(_({},a),{headers:M(_({},a==null?void 0:a.headers),{"X-Stainless-Helper-Method":"runTools"})});return n._run(()=>n._runTools(t,r,i)),n}_addMessage(t,r=!0){super._addMessage(t,r),Im(t)&&t.content&&this._emit("content",t.content)}}const $N=1,VN=2,zN=4,qN=8,GN=16,WN=32,JN=64,XN=128,YN=256,ZN=XN|YN,e4=GN|WN|ZN|JN,t4=$N|VN|e4,r4=zN|qN,c8=t4|r4,Ls={STR:$N,NUM:VN,ARR:zN,OBJ:qN,NULL:GN,BOOL:WN,NAN:JN,INFINITY:XN,MINUS_INFINITY:YN,INF:ZN,SPECIAL:e4,ATOM:t4,COLLECTION:r4,ALL:c8};class d8 extends Error{}class u8 extends Error{}function h8(e,t=Ls.ALL){if(typeof e!="string")throw new TypeError(`expecting str, got ${typeof e}`);if(!e.trim())throw new Error(`${e} is empty`);return f8(e.trim(),t)}const f8=(e,t)=>{const r=e.length;let a=0;const n=m=>{throw new d8(`${m} at position ${a}`)},i=m=>{throw new u8(`${m} at position ${a}`)},o=()=>(h(),a>=r&&n("Unexpected end of input"),e[a]==='"'?A():e[a]==="{"?l():e[a]==="["?c():e.substring(a,a+4)==="null"||Ls.NULL&t&&r-a<4&&"null".startsWith(e.substring(a))?(a+=4,null):e.substring(a,a+4)==="true"||Ls.BOOL&t&&r-a<4&&"true".startsWith(e.substring(a))?(a+=4,!0):e.substring(a,a+5)==="false"||Ls.BOOL&t&&r-a<5&&"false".startsWith(e.substring(a))?(a+=5,!1):e.substring(a,a+8)==="Infinity"||Ls.INFINITY&t&&r-a<8&&"Infinity".startsWith(e.substring(a))?(a+=8,1/0):e.substring(a,a+9)==="-Infinity"||Ls.MINUS_INFINITY&t&&1<r-a&&r-a<9&&"-Infinity".startsWith(e.substring(a))?(a+=9,-1/0):e.substring(a,a+3)==="NaN"||Ls.NAN&t&&r-a<3&&"NaN".startsWith(e.substring(a))?(a+=3,NaN):d()),A=()=>{const m=a;let u=!1;for(a++;a<r&&(e[a]!=='"'||u&&e[a-1]==="\\");)u=e[a]==="\\"?!u:!1,a++;if(e.charAt(a)=='"')try{return JSON.parse(e.substring(m,++a-Number(u)))}catch(p){i(String(p))}else if(Ls.STR&t)try{return JSON.parse(e.substring(m,a-Number(u))+'"')}catch(p){return JSON.parse(e.substring(m,e.lastIndexOf("\\"))+'"')}n("Unterminated string literal")},l=()=>{a++,h();const m={};try{for(;e[a]!=="}";){if(h(),a>=r&&Ls.OBJ&t)return m;const u=A();h(),a++;try{const p=o();Object.defineProperty(m,u,{value:p,writable:!0,enumerable:!0,configurable:!0})}catch(p){if(Ls.OBJ&t)return m;throw p}h(),e[a]===","&&a++}}catch(u){if(Ls.OBJ&t)return m;n("Expected '}' at end of object")}return a++,m},c=()=>{a++;const m=[];try{for(;e[a]!=="]";)m.push(o()),h(),e[a]===","&&a++}catch(u){if(Ls.ARR&t)return m;n("Expected ']' at end of array")}return a++,m},d=()=>{if(a===0){e==="-"&&Ls.NUM&t&&n("Not sure what '-' is");try{return JSON.parse(e)}catch(u){if(Ls.NUM&t)try{return e[e.length-1]==="."?JSON.parse(e.substring(0,e.lastIndexOf("."))):JSON.parse(e.substring(0,e.lastIndexOf("e")))}catch(p){}i(String(u))}}const m=a;for(e[a]==="-"&&a++;e[a]&&!",]}".includes(e[a]);)a++;a==r&&!(Ls.NUM&t)&&n("Unterminated number literal");try{return JSON.parse(e.substring(m,a))}catch(u){e.substring(m,a)==="-"&&Ls.NUM&t&&n("Not sure what '-' is");try{return JSON.parse(e.substring(m,e.lastIndexOf("e")))}catch(p){i(String(p))}}},h=()=>{for(;a<r&&` 
\r	`.includes(e[a]);)a++};return o()},H2=e=>h8(e,Ls.ALL^Ls.NUM);var Ns,ki,Fl,vo,qg,Zh,Gg,Wg,Jg,ef,Xg,K2;class tc extends KN{constructor(t){super(),Ns.add(this),ki.set(this,void 0),Fl.set(this,void 0),vo.set(this,void 0),Pt(this,ki,t),Pt(this,Fl,[])}get currentChatCompletionSnapshot(){return Fe(this,vo,"f")}static fromReadableStream(t){const r=new tc(null);return r._run(()=>r._fromReadableStream(t)),r}static createChatCompletion(t,r,a){const n=new tc(r);return n._run(()=>n._runChatCompletion(t,M(_({},r),{stream:!0}),M(_({},a),{headers:M(_({},a==null?void 0:a.headers),{"X-Stainless-Helper-Method":"stream"})}))),n}_createChatCompletion(t,r,a){return Ae(this,null,function*(){var d;Gw(tc.prototype,this,"_createChatCompletion");const n=a==null?void 0:a.signal;n&&(n.aborted&&this.controller.abort(),n.addEventListener("abort",()=>this.controller.abort())),Fe(this,Ns,"m",qg).call(this);const i=yield t.chat.completions.create(M(_({},r),{stream:!0}),M(_({},a),{signal:this.controller.signal}));this._connected();try{for(var o=aa(i),A,l,c;A=!(l=yield o.next()).done;A=!1){const h=l.value;Fe(this,Ns,"m",Gg).call(this,h)}}catch(l){c=[l]}finally{try{A&&(l=o.return)&&(yield l.call(o))}finally{if(c)throw c[0]}}if((d=i.controller.signal)!=null&&d.aborted)throw new pn;return this._addChatCompletion(Fe(this,Ns,"m",ef).call(this))})}_fromReadableStream(t,r){return Ae(this,null,function*(){var d;const a=r==null?void 0:r.signal;a&&(a.aborted&&this.controller.abort(),a.addEventListener("abort",()=>this.controller.abort())),Fe(this,Ns,"m",qg).call(this),this._connected();const n=li.fromReadableStream(t,this.controller);let i;try{for(var o=aa(n),A,l,c;A=!(l=yield o.next()).done;A=!1){const h=l.value;i&&i!==h.id&&this._addChatCompletion(Fe(this,Ns,"m",ef).call(this)),Fe(this,Ns,"m",Gg).call(this,h),i=h.id}}catch(l){c=[l]}finally{try{A&&(l=o.return)&&(yield l.call(o))}finally{if(c)throw c[0]}}if((d=n.controller.signal)!=null&&d.aborted)throw new pn;return this._addChatCompletion(Fe(this,Ns,"m",ef).call(this))})}[(ki=new WeakMap,Fl=new WeakMap,vo=new WeakMap,Ns=new WeakSet,qg=function(){this.ended||Pt(this,vo,void 0)},Zh=function(r){let a=Fe(this,Fl,"f")[r.index];return a||(a={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},Fe(this,Fl,"f")[r.index]=a,a)},Gg=function(r){var n,i,o,A,l,c,d,h,m,u,p,g,y,x,B,j,w,N,I,U;if(this.ended)return;const a=Fe(this,Ns,"m",K2).call(this,r);this._emit("chunk",r,a);for(const D of r.choices){const L=a.choices[D.index];D.delta.content!=null&&((n=L.message)==null?void 0:n.role)==="assistant"&&((i=L.message)!=null&&i.content)&&(this._emit("content",D.delta.content,L.message.content),this._emit("content.delta",{delta:D.delta.content,snapshot:L.message.content,parsed:L.message.parsed})),D.delta.refusal!=null&&((o=L.message)==null?void 0:o.role)==="assistant"&&((A=L.message)!=null&&A.refusal)&&this._emit("refusal.delta",{delta:D.delta.refusal,snapshot:L.message.refusal}),((l=D.logprobs)==null?void 0:l.content)!=null&&((c=L.message)==null?void 0:c.role)==="assistant"&&this._emit("logprobs.content.delta",{content:(d=D.logprobs)==null?void 0:d.content,snapshot:(m=(h=L.logprobs)==null?void 0:h.content)!=null?m:[]}),((u=D.logprobs)==null?void 0:u.refusal)!=null&&((p=L.message)==null?void 0:p.role)==="assistant"&&this._emit("logprobs.refusal.delta",{refusal:(g=D.logprobs)==null?void 0:g.refusal,snapshot:(x=(y=L.logprobs)==null?void 0:y.refusal)!=null?x:[]});const P=Fe(this,Ns,"m",Zh).call(this,L);L.finish_reason&&(Fe(this,Ns,"m",Jg).call(this,L),P.current_tool_call_index!=null&&Fe(this,Ns,"m",Wg).call(this,L,P.current_tool_call_index));for(const S of(B=D.delta.tool_calls)!=null?B:[])P.current_tool_call_index!==S.index&&(Fe(this,Ns,"m",Jg).call(this,L),P.current_tool_call_index!=null&&Fe(this,Ns,"m",Wg).call(this,L,P.current_tool_call_index)),P.current_tool_call_index=S.index;for(const S of(j=D.delta.tool_calls)!=null?j:[]){const E=(w=L.message.tool_calls)==null?void 0:w[S.index];E!=null&&E.type&&((E==null?void 0:E.type)==="function"?this._emit("tool_calls.function.arguments.delta",{name:(N=E.function)==null?void 0:N.name,index:S.index,arguments:E.function.arguments,parsed_arguments:E.function.parsed_arguments,arguments_delta:(U=(I=S.function)==null?void 0:I.arguments)!=null?U:""}):(E==null||E.type,void 0))}}},Wg=function(r,a){var o,A,l;if(Fe(this,Ns,"m",Zh).call(this,r).done_tool_calls.has(a))return;const i=(o=r.message.tool_calls)==null?void 0:o[a];if(!i)throw new Error("no tool call snapshot");if(!i.type)throw new Error("tool call snapshot missing `type`");if(i.type==="function"){const c=(l=(A=Fe(this,ki,"f"))==null?void 0:A.tools)==null?void 0:l.find(d=>Um(d)&&d.function.name===i.function.name);this._emit("tool_calls.function.arguments.done",{name:i.function.name,index:a,arguments:i.function.arguments,parsed_arguments:zu(c)?c.$parseRaw(i.function.arguments):c!=null&&c.function.strict?JSON.parse(i.function.arguments):null})}else i.type},Jg=function(r){var n,i;const a=Fe(this,Ns,"m",Zh).call(this,r);if(r.message.content&&!a.content_done){a.content_done=!0;const o=Fe(this,Ns,"m",Xg).call(this);this._emit("content.done",{content:r.message.content,parsed:o?o.$parseRaw(r.message.content):null})}r.message.refusal&&!a.refusal_done&&(a.refusal_done=!0,this._emit("refusal.done",{refusal:r.message.refusal})),(n=r.logprobs)!=null&&n.content&&!a.logprobs_content_done&&(a.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:r.logprobs.content})),(i=r.logprobs)!=null&&i.refusal&&!a.logprobs_refusal_done&&(a.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:r.logprobs.refusal}))},ef=function(){if(this.ended)throw new Bt("stream has ended, this shouldn't happen");const r=Fe(this,vo,"f");if(!r)throw new Bt("request ended without sending any chunks");return Pt(this,vo,void 0),Pt(this,Fl,[]),m8(r,Fe(this,ki,"f"))},Xg=function(){var a;const r=(a=Fe(this,ki,"f"))==null?void 0:a.response_format;return i1(r)?r:null},K2=function(r){var m,u,g,y,x,B;var a,n,i,o;let A=Fe(this,vo,"f");const d=r,{choices:l}=d,c=he(d,["choices"]);A?Object.assign(A,c):A=Pt(this,vo,M(_({},c),{choices:[]}));for(const N of r.choices){const I=N,{delta:U,finish_reason:D,index:L,logprobs:P=null}=I,S=he(I,["delta","finish_reason","index","logprobs"]);let E=A.choices[L];if(E||(E=A.choices[L]=_({finish_reason:D,index:L,message:{},logprobs:P},S)),P)if(!E.logprobs)E.logprobs=Object.assign({},P);else{const h=P,{content:Z,refusal:fe}=h,we=he(h,["content","refusal"]);Object.assign(E.logprobs,we),Z&&((m=(a=E.logprobs).content)!=null||(a.content=[]),E.logprobs.content.push(...Z)),fe&&((u=(n=E.logprobs).refusal)!=null||(n.refusal=[]),E.logprobs.refusal.push(...fe))}if(D&&(E.finish_reason=D,Fe(this,ki,"f")&&PN(Fe(this,ki,"f")))){if(D==="length")throw new vN;if(D==="content_filter")throw new wN}if(Object.assign(E,S),!U)continue;const p=U,{content:Q,refusal:V,function_call:ae,role:Y,tool_calls:q}=p,K=he(p,["content","refusal","function_call","role","tool_calls"]);if(Object.assign(E.message,K),V&&(E.message.refusal=(E.message.refusal||"")+V),Y&&(E.message.role=Y),ae&&(E.message.function_call?(ae.name&&(E.message.function_call.name=ae.name),ae.arguments&&((g=(i=E.message.function_call).arguments)!=null||(i.arguments=""),E.message.function_call.arguments+=ae.arguments)):E.message.function_call=ae),Q&&(E.message.content=(E.message.content||"")+Q,!E.message.refusal&&Fe(this,Ns,"m",Xg).call(this)&&(E.message.parsed=H2(E.message.content))),q){E.message.tool_calls||(E.message.tool_calls=[]);for(const j of q){const w=j,{index:Z,id:fe,type:we,function:T}=w,G=he(w,["index","id","type","function"]);const X=(y=(o=E.message.tool_calls)[Z])!=null?y:o[Z]={};Object.assign(X,G),fe&&(X.id=fe),we&&(X.type=we),T&&((B=X.function)!=null||(X.function={name:(x=T.name)!=null?x:"",arguments:""})),T!=null&&T.name&&(X.function.name=T.name),T!=null&&T.arguments&&(X.function.arguments+=T.arguments,i8(Fe(this,ki,"f"),X)&&(X.function.parsed_arguments=H2(X.function.arguments)))}}}return A},Symbol.asyncIterator)](){const t=[],r=[];let a=!1;return this.on("chunk",n=>{const i=r.shift();i?i.resolve(n):t.push(n)}),this.on("end",()=>{a=!0;for(const n of r)n.resolve(void 0);r.length=0}),this.on("abort",n=>{a=!0;for(const i of r)i.reject(n);r.length=0}),this.on("error",n=>{a=!0;for(const i of r)i.reject(n);r.length=0}),{next:()=>Ae(this,null,function*(){return t.length?{value:t.shift(),done:!1}:a?{value:void 0,done:!0}:new Promise((i,o)=>r.push({resolve:i,reject:o})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0})}),return:()=>Ae(this,null,function*(){return this.abort(),{value:void 0,done:!0}})}}toReadableStream(){return new li(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function m8(e,t){const c=e,{id:r,choices:a,created:n,model:i,system_fingerprint:o}=c,A=he(c,["id","choices","created","model","system_fingerprint"]),l=_(M(_({},A),{id:r,choices:a.map(g=>{var y=g,{message:d,finish_reason:h,index:m,logprobs:u}=y,p=he(y,["message","finish_reason","index","logprobs"]);var U,D,L;if(!h)throw new Bt(`missing finish_reason for choice ${m}`);const I=d,{content:x=null,function_call:B,tool_calls:j}=I,w=he(I,["content","function_call","tool_calls"]),N=d.role;if(!N)throw new Bt(`missing role for choice ${m}`);if(B){const{arguments:P,name:S}=B;if(P==null)throw new Bt(`missing function_call.arguments for choice ${m}`);if(!S)throw new Bt(`missing function_call.name for choice ${m}`);return M(_({},p),{message:{content:x,function_call:{arguments:P,name:S},role:N,refusal:(U=d.refusal)!=null?U:null},finish_reason:h,index:m,logprobs:u})}return j?M(_({},p),{index:m,finish_reason:h,logprobs:u,message:M(_({},w),{role:N,content:x,refusal:(D=d.refusal)!=null?D:null,tool_calls:j.map((P,S)=>{const Z=P,{function:E,type:Q,id:V}=Z,ae=he(Z,["function","type","id"]),fe=E||{},{arguments:Y,name:q}=fe,K=he(fe,["arguments","name"]);if(V==null)throw new Bt(`missing choices[${m}].tool_calls[${S}].id
${tf(e)}`);if(Q==null)throw new Bt(`missing choices[${m}].tool_calls[${S}].type
${tf(e)}`);if(q==null)throw new Bt(`missing choices[${m}].tool_calls[${S}].function.name
${tf(e)}`);if(Y==null)throw new Bt(`missing choices[${m}].tool_calls[${S}].function.arguments
${tf(e)}`);return M(_({},ae),{id:V,type:Q,function:M(_({},K),{name:q,arguments:Y})})})})}):M(_({},p),{message:M(_({},w),{content:x,role:N,refusal:(L=d.refusal)!=null?L:null}),finish_reason:h,index:m,logprobs:u})}),created:n,model:i,object:"chat.completion"}),o?{system_fingerprint:o}:{});return s8(l,t)}function tf(e){return JSON.stringify(e)}class Dm extends tc{static fromReadableStream(t){const r=new Dm(null);return r._run(()=>r._fromReadableStream(t)),r}static runTools(t,r,a){const n=new Dm(r),i=M(_({},a),{headers:M(_({},a==null?void 0:a.headers),{"X-Stainless-Helper-Method":"runTools"})});return n._run(()=>n._runTools(t,r,i)),n}}let c1=class extends It{constructor(){super(...arguments),this.messages=new DN(this._client)}create(t,r){var a;return this._client.post("/chat/completions",M(_({body:t},r),{stream:(a=t.stream)!=null?a:!1}))}retrieve(t,r){return this._client.get(Ze`/chat/completions/${t}`,r)}update(t,r,a){return this._client.post(Ze`/chat/completions/${t}`,_({body:r},a))}list(t={},r){return this._client.getAPIList("/chat/completions",vs,_({query:t},r))}delete(t,r){return this._client.delete(Ze`/chat/completions/${t}`,r)}parse(t,r){return o8(t.tools),this._client.chat.completions.create(t,M(_({},r),{headers:M(_({},r==null?void 0:r.headers),{"X-Stainless-Helper-Method":"chat.completions.parse"})}))._thenUnwrap(a=>o1(a,t))}runTools(t,r){return t.stream?Dm.runTools(this._client,t,r):l1.runTools(this._client,t,r)}stream(t,r){return tc.createChatCompletion(this._client,t,r)}};c1.Messages=DN;class d1 extends It{constructor(){super(...arguments),this.completions=new c1(this._client)}}d1.Completions=c1;const s4=Symbol("brand.privateNullableHeaders");function*p8(e){if(!e)return;if(s4 in e){const{values:a,nulls:n}=e;yield*Ww(a.entries());for(const i of n)yield[i,null];return}let t=!1,r;e instanceof Headers?r=e.entries():I2(e)?r=e:(t=!0,r=Object.entries(e!=null?e:{}));for(let a of r){const n=a[0];if(typeof n!="string")throw new TypeError("expected header name to be a string");const i=I2(a[1])?a[1]:[a[1]];let o=!1;for(const A of i)A!==void 0&&(t&&!o&&(o=!0,yield[n,null]),yield[n,A])}}const Ct=e=>{const t=new Headers,r=new Set;for(const a of e){const n=new Set;for(const[i,o]of p8(a)){const A=i.toLowerCase();n.has(A)||(t.delete(i),n.add(A)),o===null?(t.delete(i),r.add(A)):(t.append(i,o),r.delete(A))}}return{[s4]:!0,values:t,nulls:r}};class a4 extends It{create(t,r){return this._client.post("/audio/speech",M(_({body:t},r),{headers:Ct([{Accept:"application/octet-stream"},r==null?void 0:r.headers]),__binaryResponse:!0}))}}class n4 extends It{create(t,r){var a;return this._client.post("/audio/transcriptions",al(M(_({body:t},r),{stream:(a=t.stream)!=null?a:!1,__metadata:{model:t.model}}),this._client))}}class i4 extends It{create(t,r){return this._client.post("/audio/translations",al(M(_({body:t},r),{__metadata:{model:t.model}}),this._client))}}class qu extends It{constructor(){super(...arguments),this.transcriptions=new n4(this._client),this.translations=new i4(this._client),this.speech=new a4(this._client)}}qu.Transcriptions=n4;qu.Translations=i4;qu.Speech=a4;class o4 extends It{create(t,r){return this._client.post("/batches",_({body:t},r))}retrieve(t,r){return this._client.get(Ze`/batches/${t}`,r)}list(t={},r){return this._client.getAPIList("/batches",vs,_({query:t},r))}cancel(t,r){return this._client.post(Ze`/batches/${t}/cancel`,r)}}class A4 extends It{create(t,r){return this._client.post("/assistants",M(_({body:t},r),{headers:Ct([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])}))}retrieve(t,r){return this._client.get(Ze`/assistants/${t}`,M(_({},r),{headers:Ct([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])}))}update(t,r,a){return this._client.post(Ze`/assistants/${t}`,M(_({body:r},a),{headers:Ct([{"OpenAI-Beta":"assistants=v2"},a==null?void 0:a.headers])}))}list(t={},r){return this._client.getAPIList("/assistants",vs,M(_({query:t},r),{headers:Ct([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])}))}delete(t,r){return this._client.delete(Ze`/assistants/${t}`,M(_({},r),{headers:Ct([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])}))}}class l4 extends It{create(t,r){return this._client.post("/realtime/sessions",M(_({body:t},r),{headers:Ct([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])}))}}class c4 extends It{create(t,r){return this._client.post("/realtime/transcription_sessions",M(_({body:t},r),{headers:Ct([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])}))}}let Sp=class extends It{constructor(){super(...arguments),this.sessions=new l4(this._client),this.transcriptionSessions=new c4(this._client)}};Sp.Sessions=l4;Sp.TranscriptionSessions=c4;class d4 extends It{create(t,r,a){return this._client.post(Ze`/threads/${t}/messages`,M(_({body:r},a),{headers:Ct([{"OpenAI-Beta":"assistants=v2"},a==null?void 0:a.headers])}))}retrieve(t,r,a){const{thread_id:n}=r;return this._client.get(Ze`/threads/${n}/messages/${t}`,M(_({},a),{headers:Ct([{"OpenAI-Beta":"assistants=v2"},a==null?void 0:a.headers])}))}update(t,r,a){const o=r,{thread_id:n}=o,i=he(o,["thread_id"]);return this._client.post(Ze`/threads/${n}/messages/${t}`,M(_({body:i},a),{headers:Ct([{"OpenAI-Beta":"assistants=v2"},a==null?void 0:a.headers])}))}list(t,r={},a){return this._client.getAPIList(Ze`/threads/${t}/messages`,vs,M(_({query:r},a),{headers:Ct([{"OpenAI-Beta":"assistants=v2"},a==null?void 0:a.headers])}))}delete(t,r,a){const{thread_id:n}=r;return this._client.delete(Ze`/threads/${n}/messages/${t}`,M(_({},a),{headers:Ct([{"OpenAI-Beta":"assistants=v2"},a==null?void 0:a.headers])}))}}class u4 extends It{retrieve(t,r,a){const A=r,{thread_id:n,run_id:i}=A,o=he(A,["thread_id","run_id"]);return this._client.get(Ze`/threads/${n}/runs/${i}/steps/${t}`,M(_({query:o},a),{headers:Ct([{"OpenAI-Beta":"assistants=v2"},a==null?void 0:a.headers])}))}list(t,r,a){const o=r,{thread_id:n}=o,i=he(o,["thread_id"]);return this._client.getAPIList(Ze`/threads/${n}/runs/${t}/steps`,vs,M(_({query:i},a),{headers:Ct([{"OpenAI-Beta":"assistants=v2"},a==null?void 0:a.headers])}))}}const g8=e=>{if(typeof Buffer!="undefined"){const t=Buffer.from(e,"base64");return Array.from(new Float32Array(t.buffer,t.byteOffset,t.length/Float32Array.BYTES_PER_ELEMENT))}else{const t=atob(e),r=t.length,a=new Uint8Array(r);for(let n=0;n<r;n++)a[n]=t.charCodeAt(n);return Array.from(new Float32Array(a.buffer))}};var Yg={};const El=e=>{var t,r,a,n,i;if(typeof globalThis.process!="undefined")return(r=(t=Yg==null?void 0:Yg[e])==null?void 0:t.trim())!=null?r:void 0;if(typeof globalThis.Deno!="undefined")return(i=(n=(a=globalThis.Deno.env)==null?void 0:a.get)==null?void 0:n.call(a,e))==null?void 0:i.trim()};var Ws,TA,kx,si,zf,Dn,RA,Xl,LA,Pm,Wa,qf,Gf,Xd,Ld,Dd,$2,V2,z2,q2,G2,W2,J2;class Yd extends A1{constructor(){super(...arguments),Ws.add(this),kx.set(this,[]),si.set(this,{}),zf.set(this,{}),Dn.set(this,void 0),RA.set(this,void 0),Xl.set(this,void 0),LA.set(this,void 0),Pm.set(this,void 0),Wa.set(this,void 0),qf.set(this,void 0),Gf.set(this,void 0),Xd.set(this,void 0)}[(kx=new WeakMap,si=new WeakMap,zf=new WeakMap,Dn=new WeakMap,RA=new WeakMap,Xl=new WeakMap,LA=new WeakMap,Pm=new WeakMap,Wa=new WeakMap,qf=new WeakMap,Gf=new WeakMap,Xd=new WeakMap,Ws=new WeakSet,Symbol.asyncIterator)](){const t=[],r=[];let a=!1;return this.on("event",n=>{const i=r.shift();i?i.resolve(n):t.push(n)}),this.on("end",()=>{a=!0;for(const n of r)n.resolve(void 0);r.length=0}),this.on("abort",n=>{a=!0;for(const i of r)i.reject(n);r.length=0}),this.on("error",n=>{a=!0;for(const i of r)i.reject(n);r.length=0}),{next:()=>Ae(this,null,function*(){return t.length?{value:t.shift(),done:!1}:a?{value:void 0,done:!0}:new Promise((i,o)=>r.push({resolve:i,reject:o})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0})}),return:()=>Ae(this,null,function*(){return this.abort(),{value:void 0,done:!0}})}}static fromReadableStream(t){const r=new TA;return r._run(()=>r._fromReadableStream(t)),r}_fromReadableStream(t,r){return Ae(this,null,function*(){var c;const a=r==null?void 0:r.signal;a&&(a.aborted&&this.controller.abort(),a.addEventListener("abort",()=>this.controller.abort())),this._connected();const n=li.fromReadableStream(t,this.controller);try{for(var i=aa(n),o,A,l;o=!(A=yield i.next()).done;o=!1){const d=A.value;Fe(this,Ws,"m",Ld).call(this,d)}}catch(A){l=[A]}finally{try{o&&(A=i.return)&&(yield A.call(i))}finally{if(l)throw l[0]}}if((c=n.controller.signal)!=null&&c.aborted)throw new pn;return this._addRun(Fe(this,Ws,"m",Dd).call(this))})}toReadableStream(){return new li(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(t,r,a,n){const i=new TA;return i._run(()=>i._runToolAssistantStream(t,r,a,M(_({},n),{headers:M(_({},n==null?void 0:n.headers),{"X-Stainless-Helper-Method":"stream"})}))),i}_createToolAssistantStream(t,r,a,n){return Ae(this,null,function*(){var m;const i=n==null?void 0:n.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort()));const o=M(_({},a),{stream:!0}),A=yield t.submitToolOutputs(r,o,M(_({},n),{signal:this.controller.signal}));this._connected();try{for(var l=aa(A),c,d,h;c=!(d=yield l.next()).done;c=!1){const u=d.value;Fe(this,Ws,"m",Ld).call(this,u)}}catch(d){h=[d]}finally{try{c&&(d=l.return)&&(yield d.call(l))}finally{if(h)throw h[0]}}if((m=A.controller.signal)!=null&&m.aborted)throw new pn;return this._addRun(Fe(this,Ws,"m",Dd).call(this))})}static createThreadAssistantStream(t,r,a){const n=new TA;return n._run(()=>n._threadAssistantStream(t,r,M(_({},a),{headers:M(_({},a==null?void 0:a.headers),{"X-Stainless-Helper-Method":"stream"})}))),n}static createAssistantStream(t,r,a,n){const i=new TA;return i._run(()=>i._runAssistantStream(t,r,a,M(_({},n),{headers:M(_({},n==null?void 0:n.headers),{"X-Stainless-Helper-Method":"stream"})}))),i}currentEvent(){return Fe(this,qf,"f")}currentRun(){return Fe(this,Gf,"f")}currentMessageSnapshot(){return Fe(this,Dn,"f")}currentRunStepSnapshot(){return Fe(this,Xd,"f")}finalRunSteps(){return Ae(this,null,function*(){return yield this.done(),Object.values(Fe(this,si,"f"))})}finalMessages(){return Ae(this,null,function*(){return yield this.done(),Object.values(Fe(this,zf,"f"))})}finalRun(){return Ae(this,null,function*(){if(yield this.done(),!Fe(this,RA,"f"))throw Error("Final run was not received.");return Fe(this,RA,"f")})}_createThreadAssistantStream(t,r,a){return Ae(this,null,function*(){var h;const n=a==null?void 0:a.signal;n&&(n.aborted&&this.controller.abort(),n.addEventListener("abort",()=>this.controller.abort()));const i=M(_({},r),{stream:!0}),o=yield t.createAndRun(i,M(_({},a),{signal:this.controller.signal}));this._connected();try{for(var A=aa(o),l,c,d;l=!(c=yield A.next()).done;l=!1){const m=c.value;Fe(this,Ws,"m",Ld).call(this,m)}}catch(c){d=[c]}finally{try{l&&(c=A.return)&&(yield c.call(A))}finally{if(d)throw d[0]}}if((h=o.controller.signal)!=null&&h.aborted)throw new pn;return this._addRun(Fe(this,Ws,"m",Dd).call(this))})}_createAssistantStream(t,r,a,n){return Ae(this,null,function*(){var m;const i=n==null?void 0:n.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort()));const o=M(_({},a),{stream:!0}),A=yield t.create(r,o,M(_({},n),{signal:this.controller.signal}));this._connected();try{for(var l=aa(A),c,d,h;c=!(d=yield l.next()).done;c=!1){const u=d.value;Fe(this,Ws,"m",Ld).call(this,u)}}catch(d){h=[d]}finally{try{c&&(d=l.return)&&(yield d.call(l))}finally{if(h)throw h[0]}}if((m=A.controller.signal)!=null&&m.aborted)throw new pn;return this._addRun(Fe(this,Ws,"m",Dd).call(this))})}static accumulateDelta(t,r){for(const[a,n]of Object.entries(r)){if(!t.hasOwnProperty(a)){t[a]=n;continue}let i=t[a];if(i==null){t[a]=n;continue}if(a==="index"||a==="type"){t[a]=n;continue}if(typeof i=="string"&&typeof n=="string")i+=n;else if(typeof i=="number"&&typeof n=="number")i+=n;else if($g(i)&&$g(n))i=this.accumulateDelta(i,n);else if(Array.isArray(i)&&Array.isArray(n)){if(i.every(o=>typeof o=="string"||typeof o=="number")){i.push(...n);continue}for(const o of n){if(!$g(o))throw new Error(`Expected array delta entry to be an object but got: ${o}`);const A=o.index;if(A==null)throw console.error(o),new Error("Expected array delta entry to have an `index` property");if(typeof A!="number")throw new Error(`Expected array delta entry \`index\` property to be a number but got ${A}`);const l=i[A];l==null?i.push(o):i[A]=this.accumulateDelta(l,o)}continue}else throw Error(`Unhandled record type: ${a}, deltaValue: ${n}, accValue: ${i}`);t[a]=i}return t}_addRun(t){return t}_threadAssistantStream(t,r,a){return Ae(this,null,function*(){return yield this._createThreadAssistantStream(r,t,a)})}_runAssistantStream(t,r,a,n){return Ae(this,null,function*(){return yield this._createAssistantStream(r,t,a,n)})}_runToolAssistantStream(t,r,a,n){return Ae(this,null,function*(){return yield this._createToolAssistantStream(r,t,a,n)})}}TA=Yd,Ld=function(t){if(!this.ended)switch(Pt(this,qf,t),Fe(this,Ws,"m",z2).call(this,t),t.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.incomplete":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":Fe(this,Ws,"m",J2).call(this,t);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":Fe(this,Ws,"m",V2).call(this,t);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":Fe(this,Ws,"m",$2).call(this,t);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},Dd=function(){if(this.ended)throw new Bt("stream has ended, this shouldn't happen");if(!Fe(this,RA,"f"))throw Error("Final run has not been received");return Fe(this,RA,"f")},$2=function(t){const[r,a]=Fe(this,Ws,"m",G2).call(this,t,Fe(this,Dn,"f"));Pt(this,Dn,r),Fe(this,zf,"f")[r.id]=r;for(const n of a){const i=r.content[n.index];(i==null?void 0:i.type)=="text"&&this._emit("textCreated",i.text)}switch(t.event){case"thread.message.created":this._emit("messageCreated",t.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",t.data.delta,r),t.data.delta.content)for(const n of t.data.delta.content){if(n.type=="text"&&n.text){let i=n.text,o=r.content[n.index];if(o&&o.type=="text")this._emit("textDelta",i,o.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if(n.index!=Fe(this,Xl,"f")){if(Fe(this,LA,"f"))switch(Fe(this,LA,"f").type){case"text":this._emit("textDone",Fe(this,LA,"f").text,Fe(this,Dn,"f"));break;case"image_file":this._emit("imageFileDone",Fe(this,LA,"f").image_file,Fe(this,Dn,"f"));break}Pt(this,Xl,n.index)}Pt(this,LA,r.content[n.index])}break;case"thread.message.completed":case"thread.message.incomplete":if(Fe(this,Xl,"f")!==void 0){const n=t.data.content[Fe(this,Xl,"f")];if(n)switch(n.type){case"image_file":this._emit("imageFileDone",n.image_file,Fe(this,Dn,"f"));break;case"text":this._emit("textDone",n.text,Fe(this,Dn,"f"));break}}Fe(this,Dn,"f")&&this._emit("messageDone",t.data),Pt(this,Dn,void 0)}},V2=function(t){const r=Fe(this,Ws,"m",q2).call(this,t);switch(Pt(this,Xd,r),t.event){case"thread.run.step.created":this._emit("runStepCreated",t.data);break;case"thread.run.step.delta":const a=t.data.delta;if(a.step_details&&a.step_details.type=="tool_calls"&&a.step_details.tool_calls&&r.step_details.type=="tool_calls")for(const i of a.step_details.tool_calls)i.index==Fe(this,Pm,"f")?this._emit("toolCallDelta",i,r.step_details.tool_calls[i.index]):(Fe(this,Wa,"f")&&this._emit("toolCallDone",Fe(this,Wa,"f")),Pt(this,Pm,i.index),Pt(this,Wa,r.step_details.tool_calls[i.index]),Fe(this,Wa,"f")&&this._emit("toolCallCreated",Fe(this,Wa,"f")));this._emit("runStepDelta",t.data.delta,r);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":Pt(this,Xd,void 0),t.data.step_details.type=="tool_calls"&&Fe(this,Wa,"f")&&(this._emit("toolCallDone",Fe(this,Wa,"f")),Pt(this,Wa,void 0)),this._emit("runStepDone",t.data,r);break}},z2=function(t){Fe(this,kx,"f").push(t),this._emit("event",t)},q2=function(t){switch(t.event){case"thread.run.step.created":return Fe(this,si,"f")[t.data.id]=t.data,t.data;case"thread.run.step.delta":let r=Fe(this,si,"f")[t.data.id];if(!r)throw Error("Received a RunStepDelta before creation of a snapshot");let a=t.data;if(a.delta){const n=TA.accumulateDelta(r,a.delta);Fe(this,si,"f")[t.data.id]=n}return Fe(this,si,"f")[t.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":Fe(this,si,"f")[t.data.id]=t.data;break}if(Fe(this,si,"f")[t.data.id])return Fe(this,si,"f")[t.data.id];throw new Error("No snapshot available")},G2=function(t,r){let a=[];switch(t.event){case"thread.message.created":return[t.data,a];case"thread.message.delta":if(!r)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let n=t.data;if(n.delta.content)for(const i of n.delta.content)if(i.index in r.content){let o=r.content[i.index];r.content[i.index]=Fe(this,Ws,"m",W2).call(this,i,o)}else r.content[i.index]=i,a.push(i);return[r,a];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(r)return[r,a];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},W2=function(t,r){return TA.accumulateDelta(r,t)},J2=function(t){switch(Pt(this,Gf,t.data),t.event){case"thread.run.created":break;case"thread.run.queued":break;case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":case"thread.run.incomplete":Pt(this,RA,t.data),Fe(this,Wa,"f")&&(this._emit("toolCallDone",Fe(this,Wa,"f")),Pt(this,Wa,void 0));break}};let u1=class extends It{constructor(){super(...arguments),this.steps=new u4(this._client)}create(t,r,a){var A;const o=r,{include:n}=o,i=he(o,["include"]);return this._client.post(Ze`/threads/${t}/runs`,M(_({query:{include:n},body:i},a),{headers:Ct([{"OpenAI-Beta":"assistants=v2"},a==null?void 0:a.headers]),stream:(A=r.stream)!=null?A:!1}))}retrieve(t,r,a){const{thread_id:n}=r;return this._client.get(Ze`/threads/${n}/runs/${t}`,M(_({},a),{headers:Ct([{"OpenAI-Beta":"assistants=v2"},a==null?void 0:a.headers])}))}update(t,r,a){const o=r,{thread_id:n}=o,i=he(o,["thread_id"]);return this._client.post(Ze`/threads/${n}/runs/${t}`,M(_({body:i},a),{headers:Ct([{"OpenAI-Beta":"assistants=v2"},a==null?void 0:a.headers])}))}list(t,r={},a){return this._client.getAPIList(Ze`/threads/${t}/runs`,vs,M(_({query:r},a),{headers:Ct([{"OpenAI-Beta":"assistants=v2"},a==null?void 0:a.headers])}))}cancel(t,r,a){const{thread_id:n}=r;return this._client.post(Ze`/threads/${n}/runs/${t}/cancel`,M(_({},a),{headers:Ct([{"OpenAI-Beta":"assistants=v2"},a==null?void 0:a.headers])}))}createAndPoll(t,r,a){return Ae(this,null,function*(){const n=yield this.create(t,r,a);return yield this.poll(n.id,{thread_id:t},a)})}createAndStream(t,r,a){return Yd.createAssistantStream(t,this._client.beta.threads.runs,r,a)}poll(t,r,a){return Ae(this,null,function*(){var i,o;const n=Ct([a==null?void 0:a.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":(o=(i=a==null?void 0:a.pollIntervalMs)==null?void 0:i.toString())!=null?o:void 0}]);for(;;){const{data:A,response:l}=yield this.retrieve(t,r,M(_({},a),{headers:_(_({},a==null?void 0:a.headers),n)})).withResponse();switch(A.status){case"queued":case"in_progress":case"cancelling":let c=5e3;if(a!=null&&a.pollIntervalMs)c=a.pollIntervalMs;else{const d=l.headers.get("openai-poll-after-ms");if(d){const h=parseInt(d);isNaN(h)||(c=h)}}yield Vu(c);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return A}}})}stream(t,r,a){return Yd.createAssistantStream(t,this._client.beta.threads.runs,r,a)}submitToolOutputs(t,r,a){var A;const o=r,{thread_id:n}=o,i=he(o,["thread_id"]);return this._client.post(Ze`/threads/${n}/runs/${t}/submit_tool_outputs`,M(_({body:i},a),{headers:Ct([{"OpenAI-Beta":"assistants=v2"},a==null?void 0:a.headers]),stream:(A=r.stream)!=null?A:!1}))}submitToolOutputsAndPoll(t,r,a){return Ae(this,null,function*(){const n=yield this.submitToolOutputs(t,r,a);return yield this.poll(n.id,r,a)})}submitToolOutputsStream(t,r,a){return Yd.createToolAssistantStream(t,this._client.beta.threads.runs,r,a)}};u1.Steps=u4;class Fp extends It{constructor(){super(...arguments),this.runs=new u1(this._client),this.messages=new d4(this._client)}create(t={},r){return this._client.post("/threads",M(_({body:t},r),{headers:Ct([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])}))}retrieve(t,r){return this._client.get(Ze`/threads/${t}`,M(_({},r),{headers:Ct([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])}))}update(t,r,a){return this._client.post(Ze`/threads/${t}`,M(_({body:r},a),{headers:Ct([{"OpenAI-Beta":"assistants=v2"},a==null?void 0:a.headers])}))}delete(t,r){return this._client.delete(Ze`/threads/${t}`,M(_({},r),{headers:Ct([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])}))}createAndRun(t,r){var a;return this._client.post("/threads/runs",M(_({body:t},r),{headers:Ct([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers]),stream:(a=t.stream)!=null?a:!1}))}createAndRunPoll(t,r){return Ae(this,null,function*(){const a=yield this.createAndRun(t,r);return yield this.runs.poll(a.id,{thread_id:a.thread_id},r)})}createAndRunStream(t,r){return Yd.createThreadAssistantStream(t,this._client.beta.threads,r)}}Fp.Runs=u1;Fp.Messages=d4;class Gu extends It{constructor(){super(...arguments),this.realtime=new Sp(this._client),this.assistants=new A4(this._client),this.threads=new Fp(this._client)}}Gu.Realtime=Sp;Gu.Assistants=A4;Gu.Threads=Fp;class h4 extends It{create(t,r){var a;return this._client.post("/completions",M(_({body:t},r),{stream:(a=t.stream)!=null?a:!1}))}}let f4=class extends It{retrieve(t,r,a){const{container_id:n}=r;return this._client.get(Ze`/containers/${n}/files/${t}/content`,M(_({},a),{headers:Ct([{Accept:"application/binary"},a==null?void 0:a.headers]),__binaryResponse:!0}))}},h1=class extends It{constructor(){super(...arguments),this.content=new f4(this._client)}create(t,r,a){return this._client.post(Ze`/containers/${t}/files`,al(_({body:r},a),this._client))}retrieve(t,r,a){const{container_id:n}=r;return this._client.get(Ze`/containers/${n}/files/${t}`,a)}list(t,r={},a){return this._client.getAPIList(Ze`/containers/${t}/files`,vs,_({query:r},a))}delete(t,r,a){const{container_id:n}=r;return this._client.delete(Ze`/containers/${n}/files/${t}`,M(_({},a),{headers:Ct([{Accept:"*/*"},a==null?void 0:a.headers])}))}};h1.Content=f4;class f1 extends It{constructor(){super(...arguments),this.files=new h1(this._client)}create(t,r){return this._client.post("/containers",_({body:t},r))}retrieve(t,r){return this._client.get(Ze`/containers/${t}`,r)}list(t={},r){return this._client.getAPIList("/containers",vs,_({query:t},r))}delete(t,r){return this._client.delete(Ze`/containers/${t}`,M(_({},r),{headers:Ct([{Accept:"*/*"},r==null?void 0:r.headers])}))}}f1.Files=h1;class m4 extends It{create(t,r,a){const o=r,{include:n}=o,i=he(o,["include"]);return this._client.post(Ze`/conversations/${t}/items`,_({query:{include:n},body:i},a))}retrieve(t,r,a){const o=r,{conversation_id:n}=o,i=he(o,["conversation_id"]);return this._client.get(Ze`/conversations/${n}/items/${t}`,_({query:i},a))}list(t,r={},a){return this._client.getAPIList(Ze`/conversations/${t}/items`,GL,_({query:r},a))}delete(t,r,a){const{conversation_id:n}=r;return this._client.delete(Ze`/conversations/${n}/items/${t}`,a)}}class m1 extends It{constructor(){super(...arguments),this.items=new m4(this._client)}create(t,r){return this._client.post("/conversations",_({body:t},r))}retrieve(t,r){return this._client.get(Ze`/conversations/${t}`,r)}update(t,r,a){return this._client.post(Ze`/conversations/${t}`,_({body:r},a))}delete(t,r){return this._client.delete(Ze`/conversations/${t}`,r)}}m1.Items=m4;class p4 extends It{create(t,r){const a=!!t.encoding_format;let n=a?t.encoding_format:"base64";a&&Gs(this._client).debug("embeddings/user defined encoding_format:",t.encoding_format);const i=this._client.post("/embeddings",_({body:M(_({},t),{encoding_format:n})},r));return a?i:(Gs(this._client).debug("embeddings/decoding base64 embeddings from base64"),i._thenUnwrap(o=>(o&&o.data&&o.data.forEach(A=>{const l=A.embedding;A.embedding=g8(l)}),o)))}}class g4 extends It{retrieve(t,r,a){const{eval_id:n,run_id:i}=r;return this._client.get(Ze`/evals/${n}/runs/${i}/output_items/${t}`,a)}list(t,r,a){const o=r,{eval_id:n}=o,i=he(o,["eval_id"]);return this._client.getAPIList(Ze`/evals/${n}/runs/${t}/output_items`,vs,_({query:i},a))}}class p1 extends It{constructor(){super(...arguments),this.outputItems=new g4(this._client)}create(t,r,a){return this._client.post(Ze`/evals/${t}/runs`,_({body:r},a))}retrieve(t,r,a){const{eval_id:n}=r;return this._client.get(Ze`/evals/${n}/runs/${t}`,a)}list(t,r={},a){return this._client.getAPIList(Ze`/evals/${t}/runs`,vs,_({query:r},a))}delete(t,r,a){const{eval_id:n}=r;return this._client.delete(Ze`/evals/${n}/runs/${t}`,a)}cancel(t,r,a){const{eval_id:n}=r;return this._client.post(Ze`/evals/${n}/runs/${t}`,a)}}p1.OutputItems=g4;class g1 extends It{constructor(){super(...arguments),this.runs=new p1(this._client)}create(t,r){return this._client.post("/evals",_({body:t},r))}retrieve(t,r){return this._client.get(Ze`/evals/${t}`,r)}update(t,r,a){return this._client.post(Ze`/evals/${t}`,_({body:r},a))}list(t={},r){return this._client.getAPIList("/evals",vs,_({query:t},r))}delete(t,r){return this._client.delete(Ze`/evals/${t}`,r)}}g1.Runs=p1;let x4=class extends It{create(t,r){return this._client.post("/files",al(_({body:t},r),this._client))}retrieve(t,r){return this._client.get(Ze`/files/${t}`,r)}list(t={},r){return this._client.getAPIList("/files",vs,_({query:t},r))}delete(t,r){return this._client.delete(Ze`/files/${t}`,r)}content(t,r){return this._client.get(Ze`/files/${t}/content`,M(_({},r),{headers:Ct([{Accept:"application/binary"},r==null?void 0:r.headers]),__binaryResponse:!0}))}waitForProcessing(n){return Ae(this,arguments,function*(t,{pollInterval:r=5e3,maxWait:a=30*60*1e3}={}){const i=new Set(["processed","error","deleted"]),o=Date.now();let A=yield this.retrieve(t);for(;!A.status||!i.has(A.status);)if(yield Vu(r),A=yield this.retrieve(t),Date.now()-o>a)throw new s1({message:`Giving up on waiting for file ${t} to finish processing after ${a} milliseconds.`});return A})}};class v4 extends It{}let w4=class extends It{run(t,r){return this._client.post("/fine_tuning/alpha/graders/run",_({body:t},r))}validate(t,r){return this._client.post("/fine_tuning/alpha/graders/validate",_({body:t},r))}};class x1 extends It{constructor(){super(...arguments),this.graders=new w4(this._client)}}x1.Graders=w4;class b4 extends It{create(t,r,a){return this._client.getAPIList(Ze`/fine_tuning/checkpoints/${t}/permissions`,_p,_({body:r,method:"post"},a))}retrieve(t,r={},a){return this._client.get(Ze`/fine_tuning/checkpoints/${t}/permissions`,_({query:r},a))}delete(t,r,a){const{fine_tuned_model_checkpoint:n}=r;return this._client.delete(Ze`/fine_tuning/checkpoints/${n}/permissions/${t}`,a)}}let v1=class extends It{constructor(){super(...arguments),this.permissions=new b4(this._client)}};v1.Permissions=b4;class y4 extends It{list(t,r={},a){return this._client.getAPIList(Ze`/fine_tuning/jobs/${t}/checkpoints`,vs,_({query:r},a))}}class w1 extends It{constructor(){super(...arguments),this.checkpoints=new y4(this._client)}create(t,r){return this._client.post("/fine_tuning/jobs",_({body:t},r))}retrieve(t,r){return this._client.get(Ze`/fine_tuning/jobs/${t}`,r)}list(t={},r){return this._client.getAPIList("/fine_tuning/jobs",vs,_({query:t},r))}cancel(t,r){return this._client.post(Ze`/fine_tuning/jobs/${t}/cancel`,r)}listEvents(t,r={},a){return this._client.getAPIList(Ze`/fine_tuning/jobs/${t}/events`,vs,_({query:r},a))}pause(t,r){return this._client.post(Ze`/fine_tuning/jobs/${t}/pause`,r)}resume(t,r){return this._client.post(Ze`/fine_tuning/jobs/${t}/resume`,r)}}w1.Checkpoints=y4;class kc extends It{constructor(){super(...arguments),this.methods=new v4(this._client),this.jobs=new w1(this._client),this.checkpoints=new v1(this._client),this.alpha=new x1(this._client)}}kc.Methods=v4;kc.Jobs=w1;kc.Checkpoints=v1;kc.Alpha=x1;class B4 extends It{}class b1 extends It{constructor(){super(...arguments),this.graderModels=new B4(this._client)}}b1.GraderModels=B4;class j4 extends It{createVariation(t,r){return this._client.post("/images/variations",al(_({body:t},r),this._client))}edit(t,r){var a;return this._client.post("/images/edits",al(M(_({body:t},r),{stream:(a=t.stream)!=null?a:!1}),this._client))}generate(t,r){var a;return this._client.post("/images/generations",M(_({body:t},r),{stream:(a=t.stream)!=null?a:!1}))}}class C4 extends It{retrieve(t,r){return this._client.get(Ze`/models/${t}`,r)}list(t){return this._client.getAPIList("/models",_p,t)}delete(t,r){return this._client.delete(Ze`/models/${t}`,r)}}class N4 extends It{create(t,r){return this._client.post("/moderations",_({body:t},r))}}class _4 extends It{create(t,r){return this._client.post("/realtime/client_secrets",_({body:t},r))}}class y1 extends It{constructor(){super(...arguments),this.clientSecrets=new _4(this._client)}}y1.ClientSecrets=_4;function x8(e,t){return!t||!w8(t)?M(_({},e),{output_parsed:null,output:e.output.map(r=>r.type==="function_call"?M(_({},r),{parsed_arguments:null}):r.type==="message"?M(_({},r),{content:r.content.map(a=>M(_({},a),{parsed:null}))}):r)}):S4(e,t)}function S4(e,t){const r=e.output.map(n=>{if(n.type==="function_call")return M(_({},n),{parsed_arguments:B8(t,n)});if(n.type==="message"){const i=n.content.map(o=>o.type==="output_text"?M(_({},o),{parsed:v8(t,o.text)}):o);return M(_({},n),{content:i})}return n}),a=Object.assign({},e,{output:r});return Object.getOwnPropertyDescriptor(e,"output_text")||Lx(a),Object.defineProperty(a,"output_parsed",{enumerable:!0,get(){for(const n of a.output)if(n.type==="message"){for(const i of n.content)if(i.type==="output_text"&&i.parsed!==null)return i.parsed}return null}}),a}function v8(e,t){var r,a,n,i;return((a=(r=e.text)==null?void 0:r.format)==null?void 0:a.type)!=="json_schema"?null:"$parseRaw"in((n=e.text)==null?void 0:n.format)?((i=e.text)==null?void 0:i.format).$parseRaw(t):JSON.parse(t)}function w8(e){var t;return!!i1((t=e.text)==null?void 0:t.format)}function b8(e){return(e==null?void 0:e.$brand)==="auto-parseable-tool"}function y8(e,t){return e.find(r=>r.type==="function"&&r.name===t)}function B8(e,t){var a;const r=y8((a=e.tools)!=null?a:[],t.name);return M(_(_({},t),t),{parsed_arguments:b8(r)?r.$parseRaw(t.arguments):r!=null&&r.strict?JSON.parse(t.arguments):null})}function Lx(e){const t=[];for(const r of e.output)if(r.type==="message")for(const a of r.content)a.type==="output_text"&&t.push(a.text);e.output_text=t.join("")}var Ul,rf,wo,sf,X2,Y2,Z2,eb;class B1 extends A1{constructor(t){super(),Ul.add(this),rf.set(this,void 0),wo.set(this,void 0),sf.set(this,void 0),Pt(this,rf,t)}static createResponse(t,r,a){const n=new B1(r);return n._run(()=>n._createOrRetrieveResponse(t,r,M(_({},a),{headers:M(_({},a==null?void 0:a.headers),{"X-Stainless-Helper-Method":"stream"})}))),n}_createOrRetrieveResponse(t,r,a){return Ae(this,null,function*(){var A,m;const n=a==null?void 0:a.signal;n&&(n.aborted&&this.controller.abort(),n.addEventListener("abort",()=>this.controller.abort())),Fe(this,Ul,"m",X2).call(this);let i,o=null;"response_id"in r?(i=yield t.responses.retrieve(r.response_id,{stream:!0},M(_({},a),{signal:this.controller.signal,stream:!0})),o=(A=r.starting_after)!=null?A:null):i=yield t.responses.create(M(_({},r),{stream:!0}),M(_({},a),{signal:this.controller.signal})),this._connected();try{for(var l=aa(i),c,d,h;c=!(d=yield l.next()).done;c=!1){const u=d.value;Fe(this,Ul,"m",Y2).call(this,u,o)}}catch(d){h=[d]}finally{try{c&&(d=l.return)&&(yield d.call(l))}finally{if(h)throw h[0]}}if((m=i.controller.signal)!=null&&m.aborted)throw new pn;return Fe(this,Ul,"m",Z2).call(this)})}[(rf=new WeakMap,wo=new WeakMap,sf=new WeakMap,Ul=new WeakSet,X2=function(){this.ended||Pt(this,wo,void 0)},Y2=function(r,a){if(this.ended)return;const n=(o,A)=>{(a==null||A.sequence_number>a)&&this._emit(o,A)},i=Fe(this,Ul,"m",eb).call(this,r);switch(n("event",r),r.type){case"response.output_text.delta":{const o=i.output[r.output_index];if(!o)throw new Bt(`missing output at index ${r.output_index}`);if(o.type==="message"){const A=o.content[r.content_index];if(!A)throw new Bt(`missing content at index ${r.content_index}`);if(A.type!=="output_text")throw new Bt(`expected content to be 'output_text', got ${A.type}`);n("response.output_text.delta",M(_({},r),{snapshot:A.text}))}break}case"response.function_call_arguments.delta":{const o=i.output[r.output_index];if(!o)throw new Bt(`missing output at index ${r.output_index}`);o.type==="function_call"&&n("response.function_call_arguments.delta",M(_({},r),{snapshot:o.arguments}));break}default:n(r.type,r);break}},Z2=function(){if(this.ended)throw new Bt("stream has ended, this shouldn't happen");const r=Fe(this,wo,"f");if(!r)throw new Bt("request ended without sending any events");Pt(this,wo,void 0);const a=j8(r,Fe(this,rf,"f"));return Pt(this,sf,a),a},eb=function(r){var n;let a=Fe(this,wo,"f");if(!a){if(r.type!=="response.created")throw new Bt(`When snapshot hasn't been set yet, expected 'response.created' event, got ${r.type}`);return a=Pt(this,wo,r.response),a}switch(r.type){case"response.output_item.added":{a.output.push(r.item);break}case"response.content_part.added":{const i=a.output[r.output_index];if(!i)throw new Bt(`missing output at index ${r.output_index}`);const o=i.type,A=r.part;o==="message"&&A.type!=="reasoning_text"?i.content.push(A):o==="reasoning"&&A.type==="reasoning_text"&&(i.content||(i.content=[]),i.content.push(A));break}case"response.output_text.delta":{const i=a.output[r.output_index];if(!i)throw new Bt(`missing output at index ${r.output_index}`);if(i.type==="message"){const o=i.content[r.content_index];if(!o)throw new Bt(`missing content at index ${r.content_index}`);if(o.type!=="output_text")throw new Bt(`expected content to be 'output_text', got ${o.type}`);o.text+=r.delta}break}case"response.function_call_arguments.delta":{const i=a.output[r.output_index];if(!i)throw new Bt(`missing output at index ${r.output_index}`);i.type==="function_call"&&(i.arguments+=r.delta);break}case"response.reasoning_text.delta":{const i=a.output[r.output_index];if(!i)throw new Bt(`missing output at index ${r.output_index}`);if(i.type==="reasoning"){const o=(n=i.content)==null?void 0:n[r.content_index];if(!o)throw new Bt(`missing content at index ${r.content_index}`);if(o.type!=="reasoning_text")throw new Bt(`expected content to be 'reasoning_text', got ${o.type}`);o.text+=r.delta}break}case"response.completed":{Pt(this,wo,r.response);break}}return a},Symbol.asyncIterator)](){const t=[],r=[];let a=!1;return this.on("event",n=>{const i=r.shift();i?i.resolve(n):t.push(n)}),this.on("end",()=>{a=!0;for(const n of r)n.resolve(void 0);r.length=0}),this.on("abort",n=>{a=!0;for(const i of r)i.reject(n);r.length=0}),this.on("error",n=>{a=!0;for(const i of r)i.reject(n);r.length=0}),{next:()=>Ae(this,null,function*(){return t.length?{value:t.shift(),done:!1}:a?{value:void 0,done:!0}:new Promise((i,o)=>r.push({resolve:i,reject:o})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0})}),return:()=>Ae(this,null,function*(){return this.abort(),{value:void 0,done:!0}})}}finalResponse(){return Ae(this,null,function*(){yield this.done();const t=Fe(this,sf,"f");if(!t)throw new Bt("stream ended without producing a ChatCompletion");return t})}}function j8(e,t){return x8(e,t)}class F4 extends It{list(t,r={},a){return this._client.getAPIList(Ze`/responses/${t}/input_items`,vs,_({query:r},a))}}class j1 extends It{constructor(){super(...arguments),this.inputItems=new F4(this._client)}create(t,r){var a;return this._client.post("/responses",M(_({body:t},r),{stream:(a=t.stream)!=null?a:!1}))._thenUnwrap(n=>("object"in n&&n.object==="response"&&Lx(n),n))}retrieve(t,r={},a){var n;return this._client.get(Ze`/responses/${t}`,M(_({query:r},a),{stream:(n=r==null?void 0:r.stream)!=null?n:!1}))._thenUnwrap(i=>("object"in i&&i.object==="response"&&Lx(i),i))}delete(t,r){return this._client.delete(Ze`/responses/${t}`,M(_({},r),{headers:Ct([{Accept:"*/*"},r==null?void 0:r.headers])}))}parse(t,r){return this._client.responses.create(t,r)._thenUnwrap(a=>S4(a,t))}stream(t,r){return B1.createResponse(this._client,t,r)}cancel(t,r){return this._client.post(Ze`/responses/${t}/cancel`,r)}}j1.InputItems=F4;class E4 extends It{create(t,r,a){return this._client.post(Ze`/uploads/${t}/parts`,al(_({body:r},a),this._client))}}class C1 extends It{constructor(){super(...arguments),this.parts=new E4(this._client)}create(t,r){return this._client.post("/uploads",_({body:t},r))}cancel(t,r){return this._client.post(Ze`/uploads/${t}/cancel`,r)}complete(t,r,a){return this._client.post(Ze`/uploads/${t}/complete`,_({body:r},a))}}C1.Parts=E4;const C8=e=>Ae(void 0,null,function*(){const t=yield Promise.allSettled(e),r=t.filter(n=>n.status==="rejected");if(r.length){for(const n of r)console.error(n.reason);throw new Error(`${r.length} promise(s) failed - see the above errors`)}const a=[];for(const n of t)n.status==="fulfilled"&&a.push(n.value);return a});class U4 extends It{create(t,r,a){return this._client.post(Ze`/vector_stores/${t}/file_batches`,M(_({body:r},a),{headers:Ct([{"OpenAI-Beta":"assistants=v2"},a==null?void 0:a.headers])}))}retrieve(t,r,a){const{vector_store_id:n}=r;return this._client.get(Ze`/vector_stores/${n}/file_batches/${t}`,M(_({},a),{headers:Ct([{"OpenAI-Beta":"assistants=v2"},a==null?void 0:a.headers])}))}cancel(t,r,a){const{vector_store_id:n}=r;return this._client.post(Ze`/vector_stores/${n}/file_batches/${t}/cancel`,M(_({},a),{headers:Ct([{"OpenAI-Beta":"assistants=v2"},a==null?void 0:a.headers])}))}createAndPoll(t,r,a){return Ae(this,null,function*(){const n=yield this.create(t,r);return yield this.poll(t,n.id,a)})}listFiles(t,r,a){const o=r,{vector_store_id:n}=o,i=he(o,["vector_store_id"]);return this._client.getAPIList(Ze`/vector_stores/${n}/file_batches/${t}/files`,vs,M(_({query:i},a),{headers:Ct([{"OpenAI-Beta":"assistants=v2"},a==null?void 0:a.headers])}))}poll(t,r,a){return Ae(this,null,function*(){var i,o;const n=Ct([a==null?void 0:a.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":(o=(i=a==null?void 0:a.pollIntervalMs)==null?void 0:i.toString())!=null?o:void 0}]);for(;;){const{data:A,response:l}=yield this.retrieve(r,{vector_store_id:t},M(_({},a),{headers:n})).withResponse();switch(A.status){case"in_progress":let c=5e3;if(a!=null&&a.pollIntervalMs)c=a.pollIntervalMs;else{const d=l.headers.get("openai-poll-after-ms");if(d){const h=parseInt(d);isNaN(h)||(c=h)}}yield Vu(c);break;case"failed":case"cancelled":case"completed":return A}}})}uploadAndPoll(i,o,A){return Ae(this,arguments,function*(t,{files:r,fileIds:a=[]},n){var g;if(r==null||r.length==0)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");const l=(g=n==null?void 0:n.maxConcurrency)!=null?g:5,c=Math.min(l,r.length),d=this._client,h=r.values(),m=[...a];function u(y){return Ae(this,null,function*(){for(let x of y){const B=yield d.files.create({file:x,purpose:"assistants"},n);m.push(B.id)}})}const p=Array(c).fill(h).map(u);return yield C8(p),yield this.createAndPoll(t,{file_ids:m})})}}class I4 extends It{create(t,r,a){return this._client.post(Ze`/vector_stores/${t}/files`,M(_({body:r},a),{headers:Ct([{"OpenAI-Beta":"assistants=v2"},a==null?void 0:a.headers])}))}retrieve(t,r,a){const{vector_store_id:n}=r;return this._client.get(Ze`/vector_stores/${n}/files/${t}`,M(_({},a),{headers:Ct([{"OpenAI-Beta":"assistants=v2"},a==null?void 0:a.headers])}))}update(t,r,a){const o=r,{vector_store_id:n}=o,i=he(o,["vector_store_id"]);return this._client.post(Ze`/vector_stores/${n}/files/${t}`,M(_({body:i},a),{headers:Ct([{"OpenAI-Beta":"assistants=v2"},a==null?void 0:a.headers])}))}list(t,r={},a){return this._client.getAPIList(Ze`/vector_stores/${t}/files`,vs,M(_({query:r},a),{headers:Ct([{"OpenAI-Beta":"assistants=v2"},a==null?void 0:a.headers])}))}delete(t,r,a){const{vector_store_id:n}=r;return this._client.delete(Ze`/vector_stores/${n}/files/${t}`,M(_({},a),{headers:Ct([{"OpenAI-Beta":"assistants=v2"},a==null?void 0:a.headers])}))}createAndPoll(t,r,a){return Ae(this,null,function*(){const n=yield this.create(t,r,a);return yield this.poll(t,n.id,a)})}poll(t,r,a){return Ae(this,null,function*(){var i,o;const n=Ct([a==null?void 0:a.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":(o=(i=a==null?void 0:a.pollIntervalMs)==null?void 0:i.toString())!=null?o:void 0}]);for(;;){const A=yield this.retrieve(r,{vector_store_id:t},M(_({},a),{headers:n})).withResponse(),l=A.data;switch(l.status){case"in_progress":let c=5e3;if(a!=null&&a.pollIntervalMs)c=a.pollIntervalMs;else{const d=A.response.headers.get("openai-poll-after-ms");if(d){const h=parseInt(d);isNaN(h)||(c=h)}}yield Vu(c);break;case"failed":case"completed":return l}}})}upload(t,r,a){return Ae(this,null,function*(){const n=yield this._client.files.create({file:r,purpose:"assistants"},a);return this.create(t,{file_id:n.id},a)})}uploadAndPoll(t,r,a){return Ae(this,null,function*(){const n=yield this.upload(t,r,a);return yield this.poll(t,n.id,a)})}content(t,r,a){const{vector_store_id:n}=r;return this._client.getAPIList(Ze`/vector_stores/${n}/files/${t}/content`,_p,M(_({},a),{headers:Ct([{"OpenAI-Beta":"assistants=v2"},a==null?void 0:a.headers])}))}}class Ep extends It{constructor(){super(...arguments),this.files=new I4(this._client),this.fileBatches=new U4(this._client)}create(t,r){return this._client.post("/vector_stores",M(_({body:t},r),{headers:Ct([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])}))}retrieve(t,r){return this._client.get(Ze`/vector_stores/${t}`,M(_({},r),{headers:Ct([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])}))}update(t,r,a){return this._client.post(Ze`/vector_stores/${t}`,M(_({body:r},a),{headers:Ct([{"OpenAI-Beta":"assistants=v2"},a==null?void 0:a.headers])}))}list(t={},r){return this._client.getAPIList("/vector_stores",vs,M(_({query:t},r),{headers:Ct([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])}))}delete(t,r){return this._client.delete(Ze`/vector_stores/${t}`,M(_({},r),{headers:Ct([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])}))}search(t,r,a){return this._client.getAPIList(Ze`/vector_stores/${t}/search`,_p,M(_({body:r,method:"post"},a),{headers:Ct([{"OpenAI-Beta":"assistants=v2"},a==null?void 0:a.headers])}))}}Ep.Files=I4;Ep.FileBatches=U4;var zl,Q4,Wf;class k4 extends It{constructor(){super(...arguments),zl.add(this)}unwrap(i,o){return Ae(this,arguments,function*(t,r,a=this._client.webhookSecret,n=300){return yield this.verifySignature(t,r,a,n),JSON.parse(t)})}verifySignature(i,o){return Ae(this,arguments,function*(t,r,a=this._client.webhookSecret,n=300){if(typeof crypto=="undefined"||typeof crypto.subtle.importKey!="function"||typeof crypto.subtle.verify!="function")throw new Error("Webhook signature verification is only supported when the `crypto` global is defined");Fe(this,zl,"m",Q4).call(this,a);const A=Ct([r]).values,l=Fe(this,zl,"m",Wf).call(this,A,"webhook-signature"),c=Fe(this,zl,"m",Wf).call(this,A,"webhook-timestamp"),d=Fe(this,zl,"m",Wf).call(this,A,"webhook-id"),h=parseInt(c,10);if(isNaN(h))throw new Sd("Invalid webhook timestamp format");const m=Math.floor(Date.now()/1e3);if(m-h>n)throw new Sd("Webhook timestamp is too old");if(h>m+n)throw new Sd("Webhook timestamp is too new");const u=l.split(" ").map(x=>x.startsWith("v1,")?x.substring(3):x),p=a.startsWith("whsec_")?Buffer.from(a.replace("whsec_",""),"base64"):Buffer.from(a,"utf-8"),g=d?`${d}.${c}.${t}`:`${c}.${t}`,y=yield crypto.subtle.importKey("raw",p,{name:"HMAC",hash:"SHA-256"},!1,["verify"]);for(const x of u)try{const B=Buffer.from(x,"base64");if(yield crypto.subtle.verify("HMAC",y,B,new TextEncoder().encode(g)))return}catch(B){continue}throw new Sd("The given webhook signature does not match the expected signature")})}}zl=new WeakSet,Q4=function(t){if(typeof t!="string"||t.length===0)throw new Error("The webhook secret must either be set using the env var, OPENAI_WEBHOOK_SECRET, on the client class, OpenAI({ webhookSecret: '123' }), or passed to this function")},Wf=function(t,r){if(!t)throw new Error("Headers are required");const a=t.get(r);if(a==null)throw new Error(`Missing required header: ${r}`);return a};var Dx,N1,Jf,L4;class Wt{constructor(d={}){var h=d,{baseURL:t=El("OPENAI_BASE_URL"),apiKey:r=El("OPENAI_API_KEY"),organization:a=(A=>(A=El("OPENAI_ORG_ID"))!=null?A:null)(),project:n=(l=>(l=El("OPENAI_PROJECT_ID"))!=null?l:null)(),webhookSecret:i=(c=>(c=El("OPENAI_WEBHOOK_SECRET"))!=null?c:null)()}=h,o=he(h,["baseURL","apiKey","organization","project","webhookSecret"]);var p,g,y,x,B,j;if(Dx.add(this),Jf.set(this,void 0),this.completions=new h4(this),this.chat=new d1(this),this.embeddings=new p4(this),this.files=new x4(this),this.images=new j4(this),this.audio=new qu(this),this.moderations=new N4(this),this.models=new C4(this),this.fineTuning=new kc(this),this.graders=new b1(this),this.vectorStores=new Ep(this),this.webhooks=new k4(this),this.beta=new Gu(this),this.batches=new o4(this),this.uploads=new C1(this),this.responses=new j1(this),this.realtime=new y1(this),this.conversations=new m1(this),this.evals=new g1(this),this.containers=new f1(this),r===void 0)throw new Bt("Missing credentials. Please pass an `apiKey`, or set the `OPENAI_API_KEY` environment variable.");const m=M(_({apiKey:r,organization:a,project:n,webhookSecret:i},o),{baseURL:t||"https://api.openai.com/v1"});if(!m.dangerouslyAllowBrowser&&CL())throw new Bt(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);this.baseURL=m.baseURL,this.timeout=(p=m.timeout)!=null?p:N1.DEFAULT_TIMEOUT,this.logger=(g=m.logger)!=null?g:console;const u="warn";this.logLevel=u,this.logLevel=(x=(y=M2(m.logLevel,"ClientOptions.logLevel",this))!=null?y:M2(El("OPENAI_LOG"),"process.env['OPENAI_LOG']",this))!=null?x:u,this.fetchOptions=m.fetchOptions,this.maxRetries=(B=m.maxRetries)!=null?B:2,this.fetch=(j=m.fetch)!=null?j:EL(),Pt(this,Jf,IL),this._options=m,this.apiKey=typeof r=="string"?r:"Missing Key",this.organization=a,this.project=n,this.webhookSecret=i}withOptions(t){return new this.constructor(_(M(_({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,organization:this.organization,project:this.project,webhookSecret:this.webhookSecret}),t))}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:t,nulls:r}){}authHeaders(t){return Ae(this,null,function*(){return Ct([{Authorization:`Bearer ${this.apiKey}`}])})}stringifyQuery(t){return ML(t,{arrayFormat:"brackets"})}getUserAgent(){return`${this.constructor.name}/JS ${$l}`}defaultIdempotencyKey(){return`stainless-node-retry-${cN()}`}makeStatusError(t,r,a,n){return ea.generate(t,r,a,n)}_callApiKey(){return Ae(this,null,function*(){const t=this._options.apiKey;if(typeof t!="function")return!1;let r;try{r=yield t()}catch(a){throw a instanceof Bt?a:new Bt(`Failed to get token from 'apiKey' function: ${a.message}`,{cause:a})}if(typeof r!="string"||!r)throw new Bt(`Expected 'apiKey' function argument to return a string but it returned ${r}`);return this.apiKey=r,!0})}buildURL(t,r,a){const n=!Fe(this,Dx,"m",L4).call(this)&&a||this.baseURL,i=wL(t)?new URL(t):new URL(n+(n.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),o=this.defaultQuery();return bL(o)||(r=_(_({},o),r)),typeof r=="object"&&r&&!Array.isArray(r)&&(i.search=this.stringifyQuery(r)),i.toString()}prepareOptions(t){return Ae(this,null,function*(){yield this._callApiKey()})}prepareRequest(n,i){return Ae(this,arguments,function*(t,{url:r,options:a}){})}get(t,r){return this.methodRequest("get",t,r)}post(t,r){return this.methodRequest("post",t,r)}patch(t,r){return this.methodRequest("patch",t,r)}put(t,r){return this.methodRequest("put",t,r)}delete(t,r){return this.methodRequest("delete",t,r)}methodRequest(t,r,a){return this.request(Promise.resolve(a).then(n=>_({method:t,path:r},n)))}request(t,r=null){return new Np(this,this.makeRequest(t,r,void 0))}makeRequest(t,r,a){return Ae(this,null,function*(){var x,B,j;const n=yield t,i=(x=n.maxRetries)!=null?x:this.maxRetries;r==null&&(r=i),yield this.prepareOptions(n);const{req:o,url:A,timeout:l}=yield this.buildRequest(n,{retryCount:i-r});yield this.prepareRequest(o,{url:A,options:n});const c="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),d=a===void 0?"":`, retryOf: ${a}`,h=Date.now();if(Gs(this).debug(`[${c}] sending request`,UA({retryOfRequestLogID:a,method:n.method,url:A,options:n,headers:o.headers})),(B=n.signal)!=null&&B.aborted)throw new pn;const m=new AbortController,u=yield this.fetchWithTimeout(A,o,l,m).catch(Cx),p=Date.now();if(u instanceof globalThis.Error){const w=`retrying, ${r} attempts remaining`;if((j=n.signal)!=null&&j.aborted)throw new pn;const N=jx(u)||/timed? ?out/i.test(String(u)+("cause"in u?String(u.cause):""));if(r)return Gs(this).info(`[${c}] connection ${N?"timed out":"failed"} - ${w}`),Gs(this).debug(`[${c}] connection ${N?"timed out":"failed"} (${w})`,UA({retryOfRequestLogID:a,url:A,durationMs:p-h,message:u.message})),this.retryRequest(n,r,a!=null?a:c);throw Gs(this).info(`[${c}] connection ${N?"timed out":"failed"} - error; no more retries left`),Gs(this).debug(`[${c}] connection ${N?"timed out":"failed"} (error; no more retries left)`,UA({retryOfRequestLogID:a,url:A,durationMs:p-h,message:u.message})),N?new s1:new jp({cause:u})}const g=[...u.headers.entries()].filter(([w])=>w==="x-request-id").map(([w,N])=>", "+w+": "+JSON.stringify(N)).join(""),y=`[${c}${d}${g}] ${o.method} ${A} ${u.ok?"succeeded":"failed"} with status ${u.status} in ${p-h}ms`;if(!u.ok){const w=yield this.shouldRetry(u);if(r&&w){const P=`retrying, ${r} attempts remaining`;return yield UL(u.body),Gs(this).info(`${y} - ${P}`),Gs(this).debug(`[${c}] response error (${P})`,UA({retryOfRequestLogID:a,url:u.url,status:u.status,headers:u.headers,durationMs:p-h})),this.retryRequest(n,r,a!=null?a:c,u.headers)}const N=w?"error; no more retries left":"error; not retryable";Gs(this).info(`${y} - ${N}`);const I=yield u.text().catch(P=>Cx(P).message),U=jL(I),D=U?void 0:I;throw Gs(this).debug(`[${c}] response error (${N})`,UA({retryOfRequestLogID:a,url:u.url,status:u.status,headers:u.headers,message:D,durationMs:Date.now()-h})),this.makeStatusError(u.status,U,D,u.headers)}return Gs(this).info(y),Gs(this).debug(`[${c}] response start`,UA({retryOfRequestLogID:a,url:u.url,status:u.status,headers:u.headers,durationMs:p-h})),{response:u,options:n,controller:m,requestLogID:c,retryOfRequestLogID:a,startTime:h}})}getAPIList(t,r,a){return this.requestAPIList(r,_({method:"get",path:t},a))}requestAPIList(t,r){const a=this.makeRequest(r,null,void 0);return new qL(this,a,t)}fetchWithTimeout(t,r,a,n){return Ae(this,null,function*(){const h=r||{},{signal:i,method:o}=h,A=he(h,["signal","method"]);i&&i.addEventListener("abort",()=>n.abort());const l=setTimeout(()=>n.abort(),a),c=globalThis.ReadableStream&&A.body instanceof globalThis.ReadableStream||typeof A.body=="object"&&A.body!==null&&Symbol.asyncIterator in A.body,d=_(M(_({signal:n.signal},c?{duplex:"half"}:{}),{method:"GET"}),A);o&&(d.method=o.toUpperCase());try{return yield this.fetch.call(void 0,t,d)}finally{clearTimeout(l)}})}shouldRetry(t){return Ae(this,null,function*(){const r=t.headers.get("x-should-retry");return r==="true"?!0:r==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500})}retryRequest(t,r,a,n){return Ae(this,null,function*(){var l;let i;const o=n==null?void 0:n.get("retry-after-ms");if(o){const c=parseFloat(o);Number.isNaN(c)||(i=c)}const A=n==null?void 0:n.get("retry-after");if(A&&!i){const c=parseFloat(A);Number.isNaN(c)?i=Date.parse(A)-Date.now():i=c*1e3}if(!(i&&0<=i&&i<60*1e3)){const c=(l=t.maxRetries)!=null?l:this.maxRetries;i=this.calculateDefaultRetryTimeoutMillis(r,c)}return yield Vu(i),this.makeRequest(t,r-1,a)})}calculateDefaultRetryTimeoutMillis(t,r){const i=r-t,o=Math.min(.5*Math.pow(2,i),8),A=1-Math.random()*.25;return o*A*1e3}buildRequest(a){return Ae(this,arguments,function*(t,{retryCount:r=0}={}){var p,g,y;const n=_({},t),{method:i,path:o,query:A,defaultBaseURL:l}=n,c=this.buildURL(o,A,l);"timeout"in n&&BL("timeout",n.timeout),n.timeout=(p=n.timeout)!=null?p:this.timeout;const{bodyHeaders:d,body:h}=this.buildBody({options:n}),m=yield this.buildHeaders({options:t,method:i,bodyHeaders:d,retryCount:r});return{req:_(_(_(_(_({method:i,headers:m},n.signal&&{signal:n.signal}),globalThis.ReadableStream&&h instanceof globalThis.ReadableStream&&{duplex:"half"}),h&&{body:h}),(g=this.fetchOptions)!=null?g:{}),(y=n.fetchOptions)!=null?y:{}),url:c,timeout:n.timeout}})}buildHeaders(i){return Ae(this,arguments,function*({options:t,method:r,bodyHeaders:a,retryCount:n}){let o={};this.idempotencyHeader&&r!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),o[this.idempotencyHeader]=t.idempotencyKey);const A=Ct([o,M(_(_({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(n)},t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{}),FL()),{"OpenAI-Organization":this.organization,"OpenAI-Project":this.project}),yield this.authHeaders(t),this._options.defaultHeaders,a,t.headers]);return this.validateHeaders(A),A.values})}buildBody({options:{body:t,headers:r}}){if(!t)return{bodyHeaders:void 0,body:void 0};const a=Ct([r]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||typeof t=="string"&&a.values.has("content-type")||globalThis.Blob&&t instanceof globalThis.Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&typeof t.next=="function")?{bodyHeaders:void 0,body:BN(t)}:Fe(this,Jf,"f").call(this,{body:t,headers:a})}}N1=Wt,Jf=new WeakMap,Dx=new WeakSet,L4=function(){return this.baseURL!=="https://api.openai.com/v1"};Wt.OpenAI=N1;Wt.DEFAULT_TIMEOUT=6e5;Wt.OpenAIError=Bt;Wt.APIError=ea;Wt.APIConnectionError=jp;Wt.APIConnectionTimeoutError=s1;Wt.APIUserAbortError=pn;Wt.NotFoundError=fN;Wt.ConflictError=mN;Wt.RateLimitError=gN;Wt.BadRequestError=dN;Wt.AuthenticationError=uN;Wt.InternalServerError=xN;Wt.PermissionDeniedError=hN;Wt.UnprocessableEntityError=pN;Wt.InvalidWebhookSignatureError=Sd;Wt.toFile=e8;Wt.Completions=h4;Wt.Chat=d1;Wt.Embeddings=p4;Wt.Files=x4;Wt.Images=j4;Wt.Audio=qu;Wt.Moderations=N4;Wt.Models=C4;Wt.FineTuning=kc;Wt.Graders=b1;Wt.VectorStores=Ep;Wt.Webhooks=k4;Wt.Beta=Gu;Wt.Batches=o4;Wt.Uploads=C1;Wt.Responses=j1;Wt.Realtime=y1;Wt.Conversations=m1;Wt.Evals=g1;Wt.Containers=f1;function D4(e){return!(!e||e.trim()===""||!e.startsWith("sk-")||e.length<20||e==="your-openai-api-key-here"||e==="sk-your-key-here")}function Xf(){try{const e=localStorage.getItem("chatSettings");if(e)return JSON.parse(e)}catch(e){console.error("Erro ao carregar configuraes do chat:",e)}return{apiKey:"",model:"gpt-3.5-turbo",temperature:.7,maxTokens:1e3,presencePenalty:.1,frequencyPenalty:.1,systemPrompt:`Voc  um assistente virtual especializado no sistema MediCare, um sistema de gesto hospitalar.

Voc tem acesso aos seguintes dados do sistema:
- Pacientes: informaes pessoais, leitos, notas mdicas
- Eventos de cuidado: medicamentos, refeies, hidratao, idas ao banheiro, observaes
- Perfis de usurios: profissionais de sade e suas funes

Suas responsabilidades:
1. Ajudar os usurios a encontrar informaes sobre pacientes
2. Fornecer relatrios sobre eventos de cuidado
3. Responder perguntas sobre o histrico mdico dos pacientes
4. Auxiliar na anlise de padres de cuidado
5. Sugerir melhorias nos cuidados com base nos dados

Sempre seja preciso, profissional e mantenha a confidencialidade mdica. Responda em portugus brasileiro.`}}let xa=Xf();D4(xa.apiKey)||console.warn("API key da OpenAI no est configurada ou  invlida. O chat no funcionar.");new Wt({apiKey:xa.apiKey||"sk-invalid",dangerouslyAllowBrowser:!0});xa.systemPrompt;class N8{constructor(){hr(this,"conversationHistory",[]);this.reloadSettings()}reloadSettings(){xa=Xf(),this.conversationHistory=[{role:"system",content:xa.systemPrompt}]}sendMessage(t,r){return Ae(this,null,function*(){var a,n;try{if(xa=Xf(),!D4(xa.apiKey))return console.error("API key da OpenAI no configurada ou invlida"),{message:"Desculpe, o servio de chat no est disponvel no momento. A chave da API OpenAI no est configurada corretamente. Por favor, configure uma chave vlida nas configuraes.",error:"API key no configurada ou invlida"};const i=new Wt({apiKey:xa.apiKey,dangerouslyAllowBrowser:!0});let o=t;r&&(o=`${t}

Dados do contexto:
${JSON.stringify(r,null,2)}`),this.conversationHistory.push({role:"user",content:o});const l=((n=(a=(yield i.chat.completions.create({model:xa.model,messages:this.conversationHistory,max_tokens:xa.maxTokens,temperature:xa.temperature,presence_penalty:xa.presencePenalty,frequency_penalty:xa.frequencyPenalty})).choices[0])==null?void 0:a.message)==null?void 0:n.content)||"Desculpe, no consegui processar sua solicitao.";return this.conversationHistory.push({role:"assistant",content:l}),this.conversationHistory.length>20&&(this.conversationHistory=[this.conversationHistory[0],...this.conversationHistory.slice(-19)]),{message:l}}catch(i){return console.error("Erro ao comunicar com OpenAI:",i),i instanceof Error&&i.message.includes("401")?{message:"Erro de autenticao com o servio de chat. Verifique as configuraes.",error:"Erro de autenticao"}:{message:"Desculpe, ocorreu um erro ao processar sua solicitao. Tente novamente.",error:i instanceof Error?i.message:"Erro desconhecido"}}})}generateSummary(t,r){return Ae(this,null,function*(){const a={patient:"Gere um resumo detalhado sobre este paciente com base nos dados fornecidos:",events:"Analise e resuma os eventos de cuidado fornecidos, identificando padres importantes:",general:"Fornea um resumo geral dos dados do sistema MediCare:"};return this.sendMessage(a[r],t)})}analyzePatterns(t,r){return Ae(this,null,function*(){const a=r?`Analise os padres nos dados com foco em: ${r}`:"Analise os padres e tendncias nos dados fornecidos";return this.sendMessage(a,t)})}clearHistory(){xa=Xf(),this.conversationHistory=[{role:"system",content:xa.systemPrompt}]}getHistory(){return[...this.conversationHistory]}}const tb=new N8;class _8{getAllData(){return Ae(this,null,function*(){try{const{data:t,error:r}=yield et.from("patients").select("*").order("created_at",{ascending:!1});if(r)throw console.error("Erro ao buscar pacientes:",r),r;const{data:a,error:n}=yield et.from("events").select("*").order("occurred_at",{ascending:!1});if(n)throw console.error("Erro ao buscar eventos:",n),n;const{data:i,error:o}=yield et.from("profiles").select("*").order("created_at",{ascending:!1});if(o)throw console.error("Erro ao buscar perfis:",o),o;const A=this.generateSummary(t||[],a||[]);return{patients:t||[],events:a||[],profiles:i||[],summary:A}}catch(t){throw console.error("Erro ao buscar dados do Supabase:",t),t}})}getPatientData(t){return Ae(this,null,function*(){try{const{data:r,error:a}=yield et.from("patients").select("*").eq("id",t).single();if(a&&a.code!=="PGRST116")throw console.error("Erro ao buscar paciente:",a),a;const{data:n,error:i}=yield et.from("events").select("*").eq("patient_id",t).order("occurred_at",{ascending:!1});if(i)throw console.error("Erro ao buscar eventos do paciente:",i),i;return{patient:r||null,events:n||[]}}catch(r){throw console.error("Erro ao buscar dados do paciente:",r),r}})}getEventsByType(t){return Ae(this,null,function*(){try{const{data:r,error:a}=yield et.from("events").select("*").eq("type",t).order("occurred_at",{ascending:!1});if(a)throw console.error(`Erro ao buscar eventos do tipo ${t}:`,a),a;return r||[]}catch(r){throw console.error(`Erro ao buscar eventos do tipo ${t}:`,r),r}})}getLastLiquidByPatient(t){return Ae(this,null,function*(){try{const{data:r,error:a}=yield et.from("events").select("*").eq("patient_id",t).eq("type","drink").order("occurred_at",{ascending:!1}).limit(1);if(a)throw console.error("Erro ao buscar ltimo lquido:",a),a;return(r==null?void 0:r[0])||null}catch(r){throw console.error("Erro ao buscar ltimo lquido:",r),r}})}getMedicationsByPatient(t,r=10){return Ae(this,null,function*(){try{const{data:a,error:n}=yield et.from("events").select("*").eq("patient_id",t).in("type",["med","medication"]).order("occurred_at",{ascending:!1}).limit(r);if(n)throw console.error("Erro ao buscar medicamentos:",n),n;return a||[]}catch(a){throw console.error("Erro ao buscar medicamentos:",a),a}})}getVitalSignsByPatient(t,r=10){return Ae(this,null,function*(){try{const{data:a,error:n}=yield et.from("events").select("*").eq("patient_id",t).eq("type","vital_signs").order("occurred_at",{ascending:!1}).limit(r);if(n)throw console.error("Erro ao buscar sinais vitais:",n),n;return a||[]}catch(a){throw console.error("Erro ao buscar sinais vitais:",a),a}})}getDrainsByPatient(t,r=10){return Ae(this,null,function*(){try{const{data:a,error:n}=yield et.from("events").select("*").eq("patient_id",t).eq("type","drain").order("occurred_at",{ascending:!1}).limit(r);if(n)throw console.error("Erro ao buscar dados de drenos:",n),n;return a||[]}catch(a){throw console.error("Erro ao buscar dados de drenos:",a),a}})}getRecentEvents(t=24){return Ae(this,null,function*(){try{const r=new Date;r.setHours(r.getHours()-t);const{data:a,error:n}=yield et.from("events").select("*").gte("occurred_at",r.toISOString()).order("occurred_at",{ascending:!1});if(n)throw console.error("Erro ao buscar eventos recentes:",n),n;return a||[]}catch(r){throw console.error("Erro ao buscar eventos recentes:",r),r}})}getActivePatients(){return Ae(this,null,function*(){try{const{data:t,error:r}=yield et.from("patients").select("*").eq("is_active",!0).order("full_name",{ascending:!0});if(r)throw console.error("Erro ao buscar pacientes ativos:",r),r;return t||[]}catch(t){throw console.error("Erro ao buscar pacientes ativos:",t),t}})}searchData(t){return Ae(this,null,function*(){try{const{data:r,error:a}=yield et.from("patients").select("*").ilike("full_name",`%${t}%`);a&&console.error("Erro ao buscar pacientes:",a);const{data:n,error:i}=yield et.from("events").select("*").or(`notes.ilike.%${t}%,meal_desc.ilike.%${t}%,med_name.ilike.%${t}%`).order("occurred_at",{ascending:!1});return i&&console.error("Erro ao buscar eventos:",i),{patients:r||[],events:n||[]}}catch(r){throw console.error("Erro ao buscar dados:",r),r}})}generateSummary(t,r){const a=t.filter(o=>o.is_active),n={};r.forEach(o=>{n[o.type]=(n[o.type]||0)+1});const i=r.slice(0,10);return{totalPatients:t.length,activePatients:a.length,totalEvents:r.length,eventsByType:n,recentEvents:i}}formatDataForAssistant(t){const{patients:r,events:a,profiles:n,summary:i}=t,o=a.reduce((l,c)=>(l[c.type]||(l[c.type]=[]),l[c.type].push(c),l),{}),A=l=>{const c=new Date(l.occurred_at).toLocaleString("pt-BR");let d=`${l.type} - ${c}`;switch(l.type){case"drink":d+=` - ${l.liquid_type||"Lquido"}: ${l.volume_ml}ml`;break;case"meal":d+=` - ${l.meal_type||"Refeio"}: ${l.consumption_percentage||0}% consumido`,l.meal_desc&&(d+=` (${l.meal_desc})`);break;case"medication":d+=` - ${l.medication_name||l.med_name}: ${l.dosage||l.med_dose}`,l.route&&(d+=` via ${l.route}`);break;case"drain":d+=` - ${l.drain_type}`,l.left_amount&&(d+=` Esq: ${l.left_amount}ml`),l.right_amount&&(d+=` Dir: ${l.right_amount}ml`);break;case"vital_signs":const h=[];l.systolic_bp&&l.diastolic_bp&&h.push(`PA: ${l.systolic_bp}/${l.diastolic_bp}mmHg`),l.heart_rate&&h.push(`FC: ${l.heart_rate}bpm`),l.temperature&&h.push(`T: ${l.temperature}C`),l.oxygen_saturation&&h.push(`SpO2: ${l.oxygen_saturation}%`),d+=` - ${h.join(", ")}`;break;case"bathroom":d+=` - ${l.bathroom_type}`;break}return l.notes&&(d+=` - Obs: ${l.notes}`),d};return`
RESUMO DO SISTEMA MEDICARE:

PACIENTES:
- Total de pacientes: ${i.totalPatients}
- Pacientes ativos: ${i.activePatients}

EVENTOS DE CUIDADO:
- Total de eventos: ${i.totalEvents}
- Eventos por tipo: ${Object.entries(i.eventsByType).map(([l,c])=>`${l}: ${c}`).join(", ")}

LTIMOS PACIENTES CADASTRADOS:
${r.slice(0,5).map(l=>`- ${l.full_name} (Leito: ${l.bed||"N/A"})`).join(`
`)}

EVENTOS RECENTES DETALHADOS:
${i.recentEvents.slice(0,10).map(l=>`- ${A(l)}`).join(`
`)}

RESUMO POR TIPO DE CUIDADO:
${Object.entries(o).map(([l,c])=>{const d=c.length,h=c.slice(0,3);return`
${l.toUpperCase()} (${d} registros):
${h.map(m=>`  - ${A(m)}`).join(`
`)}`}).join(`
`)}

PROFISSIONAIS:
- Total de profissionais: ${n.length}
${n.slice(0,3).map(l=>`- ${l.full_name} (${l.role||"Sem funo definida"})`).join(`
`)}

INSTRUES PARA CONSULTAS:
- Para buscar o ltimo lquido de um paciente, use: "ltimo lquido do paciente [nome]"
- Para medicamentos: "medicamentos do paciente [nome]"
- Para sinais vitais: "sinais vitais do paciente [nome]"
- Para drenos: "drenos do paciente [nome]"
    `.trim()}}const rb=new _8,S8=({isOpen:e,onToggle:t})=>{const[r,a]=b.useState([]),[n,i]=b.useState(""),[o,A]=b.useState(!1),[l,c]=b.useState(!1),[d,h]=b.useState(null),[m,u]=b.useState(!1),p=rA(),g=b.useRef(null),y=b.useRef(null),x=()=>{var I;(I=g.current)==null||I.scrollIntoView({behavior:"smooth"})};b.useEffect(()=>{x()},[r]),b.useEffect(()=>{e&&!d&&B()},[e]),b.useEffect(()=>{e&&!l&&setTimeout(()=>{var I;(I=y.current)==null||I.focus()},100)},[e,l]);const B=()=>Ae(void 0,null,function*(){u(!0);try{const I=yield rb.getAllData();h(I);const U={id:Date.now().toString(),role:"assistant",content:`Ol! Sou seu assistente virtual do MediCare. 

Tenho acesso a todos os dados do sistema:
 ${I.summary.activePatients} pacientes ativos de ${I.summary.totalPatients} total
 ${I.summary.totalEvents} eventos de cuidado registrados
 ${I.profiles.length} profissionais cadastrados

Como posso ajud-lo hoje? Posso fornecer informaes sobre pacientes, analisar eventos de cuidado, gerar relatrios ou responder perguntas sobre o sistema.`,timestamp:new Date};a([U])}catch(I){console.error("Erro ao carregar dados:",I);const U={id:Date.now().toString(),role:"assistant",content:"Desculpe, ocorreu um erro ao carregar os dados do sistema. Ainda posso ajud-lo com perguntas gerais.",timestamp:new Date};a([U])}finally{u(!1)}}),j=()=>Ae(void 0,null,function*(){if(!n.trim()||o)return;const I={id:Date.now().toString(),role:"user",content:n,timestamp:new Date},U={id:(Date.now()+1).toString(),role:"assistant",content:"Processando sua solicitao...",timestamp:new Date,isLoading:!0};a(D=>[...D,I,U]),i(""),A(!0);try{const D=d?{systemData:rb.formatDataForAssistant(d)}:void 0,L=yield tb.sendMessage(n,D);a(P=>{const S=P.filter(E=>!E.isLoading);if(L.error){const E={id:Date.now().toString(),role:"assistant",content:` ${L.message}`,timestamp:new Date};return console.error("Erro no chat:",L.error),[...S,E]}else{const E={id:Date.now().toString(),role:"assistant",content:L.message,timestamp:new Date};return[...S,E]}})}catch(D){console.error("Erro ao enviar mensagem:",D),a(L=>{const P=L.filter(E=>!E.isLoading),S={id:Date.now().toString(),role:"assistant",content:"Desculpe, ocorreu um erro ao processar sua mensagem. Tente novamente.",timestamp:new Date};return[...P,S]})}finally{A(!1)}}),w=I=>{I.key==="Enter"&&!I.shiftKey&&(I.preventDefault(),j())},N=()=>{a([]),tb.clearHistory(),d&&B()};return e?s.jsx("div",{className:`fixed z-[9998] ${p?"bottom-16 right-2 left-2":"bottom-8 right-4"}`,style:{zIndex:9998},children:s.jsxs(Ee,{className:`shadow-2xl border-2 transition-all duration-300 backdrop-blur-md bg-white/95 dark:bg-gray-900/95 ${l?p?"h-12":"h-16":p?"h-80 max-h-[70vh]":"w-80 h-96"} ${p?"w-full":"w-80"}`,children:[s.jsxs(He,{className:`bg-gradient-to-r from-blue-600/90 to-blue-700/90 text-white rounded-t-lg backdrop-blur-sm ${p?"pb-1 px-3 py-2":"pb-2"}`,children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(mm,{className:p?"h-3 w-3":"h-4 w-4"}),s.jsx(Ke,{className:`font-medium ${p?"text-xs":"text-sm"}`,children:p?"Assistente":"Assistente Virtual"}),m&&s.jsx(Ms,{className:"h-3 w-3 animate-spin"})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(ne,{variant:"ghost",size:"sm",onClick:()=>c(!l),className:`text-white hover:bg-blue-800/50 p-0 ${p?"h-5 w-5":"h-6 w-6"}`,children:l?s.jsx(DE,{className:"h-2.5 w-2.5"}):s.jsx(TE,{className:"h-2.5 w-2.5"})}),s.jsx(ne,{variant:"ghost",size:"sm",onClick:t,className:`text-white hover:bg-blue-800/50 p-0 ${p?"h-5 w-5":"h-6 w-6"}`,children:s.jsx(ja,{className:"h-2.5 w-2.5"})})]})]}),d&&!l&&!p&&s.jsxs("div",{className:"flex gap-1 mt-1",children:[s.jsxs(At,{variant:"secondary",className:"text-xs px-1.5 py-0.5",children:[d.summary.activePatients," ativos"]}),s.jsxs(At,{variant:"secondary",className:"text-xs px-1.5 py-0.5",children:[d.summary.totalEvents," eventos"]})]})]}),!l&&s.jsxs(Ue,{className:`p-0 flex flex-col ${p?"h-[calc(320px-48px)]":"h-[calc(384px-80px)]"}`,children:[s.jsx(r1,{className:`flex-1 ${p?"p-2":"p-3"}`,children:s.jsxs("div",{className:p?"space-y-2":"space-y-3",children:[r.map(I=>s.jsxs("div",{className:`flex ${p?"gap-1.5":"gap-2"} ${I.role==="user"?"justify-end":"justify-start"}`,children:[I.role==="assistant"&&s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:`bg-blue-100 rounded-full flex items-center justify-center ${p?"w-4 h-4":"w-6 h-6"}`,children:s.jsx(mm,{className:`text-blue-600 ${p?"h-2 w-2":"h-3 w-3"}`})})}),s.jsxs("div",{className:`max-w-[85%] rounded-lg ${p?"px-2 py-1":"px-2.5 py-1.5"} ${I.role==="user"?"bg-blue-600 text-white":"bg-gray-100/80 text-gray-900 backdrop-blur-sm"}`,children:[s.jsx("div",{className:"whitespace-pre-wrap leading-relaxed text-xs",children:I.isLoading?s.jsxs("span",{className:"flex items-center gap-1.5",children:[s.jsx(Ms,{className:`animate-spin ${p?"h-2.5 w-2.5":"h-3 w-3"}`}),s.jsx("span",{children:I.content})]}):s.jsx("span",{children:I.content})}),!p&&s.jsx("div",{className:`text-xs mt-0.5 opacity-70 ${I.role==="user"?"text-blue-100":"text-gray-500"}`,children:I.timestamp.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})})]}),I.role==="user"&&s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:`bg-gray-100 rounded-full flex items-center justify-center ${p?"w-4 h-4":"w-6 h-6"}`,children:s.jsx(Or,{className:`text-gray-600 ${p?"h-2 w-2":"h-3 w-3"}`})})})]},I.id)),s.jsx("div",{ref:g})]})}),s.jsxs("div",{className:`border-t bg-white/50 backdrop-blur-sm ${p?"p-2":"p-3"}`,children:[s.jsxs("div",{className:`flex ${p?"gap-1":"gap-2"}`,children:[s.jsx(_e,{ref:y,value:n,onChange:I=>i(I.target.value),onKeyPress:w,placeholder:p?"Pergunte...":"Digite sua pergunta...",disabled:o,className:`flex-1 chat-input ${p?"text-xs h-7":"text-xs h-8"}`}),s.jsx(ne,{onClick:j,disabled:o||!n.trim(),size:"sm",className:`${p?"px-1.5 h-7":"px-2 h-8"}`,children:o?s.jsx(Ms,{className:`animate-spin ${p?"h-2.5 w-2.5":"h-3 w-3"}`}):s.jsx(KE,{className:p?"h-2.5 w-2.5":"h-3 w-3"})})]}),r.length>1&&!p&&s.jsx("div",{className:"flex justify-center mt-2",children:s.jsx(ne,{variant:"ghost",size:"sm",onClick:N,className:"text-xs text-gray-500 hover:text-gray-700 h-6 px-2",children:"Limpar conversa"})})]})]})]})}):null},F8=({onClick:e,isOpen:t})=>t?null:s.jsx("button",{onClick:e,className:`fixed bottom-20 right-4 z-[9999] 
                 flex items-center justify-center 
                 h-12 w-12 sm:h-14 sm:w-14 
                 rounded-full bg-blue-600 hover:bg-blue-700 
                 text-white shadow-2xl 
                 transition-all duration-300 
                 hover:scale-110 active:scale-95
                 backdrop-blur-sm`,style:{position:"fixed",zIndex:9999,willChange:"transform"},children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:s.jsx("path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z"})})});var E8="Label",P4=b.forwardRef((e,t)=>s.jsx(vr.label,M(_({},e),{ref:t,onMouseDown:r=>{var n;r.target.closest("button, input, select, textarea")||((n=e.onMouseDown)==null||n.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}})));P4.displayName=E8;var M4=P4;const U8=Yi("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ie=b.forwardRef((a,r)=>{var n=a,{className:e}=n,t=he(n,["className"]);return s.jsx(M4,_({ref:r,className:ze(U8(),e)},t))});ie.displayName=M4.displayName;const kt=YF,Lt=ZF,Et=b.forwardRef((n,a)=>{var i=n,{className:e,children:t}=i,r=he(i,["className","children"]);return s.jsxs(hB,M(_({ref:a,className:ze("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e)},r),{children:[t,s.jsx(qF,{asChild:!0,children:s.jsx(Mu,{className:"h-4 w-4 opacity-50"})})]}))});Et.displayName=hB.displayName;const T4=b.forwardRef((a,r)=>{var n=a,{className:e}=n,t=he(n,["className"]);return s.jsx(fB,M(_({ref:r,className:ze("flex cursor-default items-center justify-center py-1",e)},t),{children:s.jsx(SB,{className:"h-4 w-4"})}))});T4.displayName=fB.displayName;const R4=b.forwardRef((a,r)=>{var n=a,{className:e}=n,t=he(n,["className"]);return s.jsx(mB,M(_({ref:r,className:ze("flex cursor-default items-center justify-center py-1",e)},t),{children:s.jsx(Mu,{className:"h-4 w-4"})}))});R4.displayName=mB.displayName;const Ut=b.forwardRef((i,n)=>{var o=i,{className:e,children:t,position:r="popper"}=o,a=he(o,["className","children","position"]);return s.jsx(GF,{children:s.jsxs(pB,M(_({ref:n,className:ze("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r},a),{children:[s.jsx(T4,{}),s.jsx(WF,{className:ze("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),s.jsx(R4,{})]}))})});Ut.displayName=pB.displayName;const I8=b.forwardRef((a,r)=>{var n=a,{className:e}=n,t=he(n,["className"]);return s.jsx(gB,_({ref:r,className:ze("py-1.5 pl-8 pr-2 text-sm font-semibold",e)},t))});I8.displayName=gB.displayName;const Se=b.forwardRef((n,a)=>{var i=n,{className:e,children:t}=i,r=he(i,["className","children"]);return s.jsxs(xB,M(_({ref:a,className:ze("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e)},r),{children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(JF,{children:s.jsx(Wo,{className:"h-4 w-4"})})}),s.jsx(XF,{children:t})]}))});Se.displayName=xB.displayName;const Q8=b.forwardRef((a,r)=>{var n=a,{className:e}=n,t=he(n,["className"]);return s.jsx(vB,_({ref:r,className:ze("-mx-1 my-1 h-px bg-muted",e)},t))});Q8.displayName=vB.displayName;var Up="Checkbox",[k8,Cq]=mi(Up),[L8,_1]=k8(Up);function D8(e){const{__scopeCheckbox:t,checked:r,children:a,defaultChecked:n,disabled:i,form:o,name:A,onCheckedChange:l,required:c,value:d="on",internal_do_not_use_render:h}=e,[m,u]=Ec({prop:r,defaultProp:n!=null?n:!1,onChange:l,caller:Up}),[p,g]=b.useState(null),[y,x]=b.useState(null),B=b.useRef(!1),j=p?!!o||!!p.closest("form"):!0,w={checked:m,disabled:i,setChecked:u,control:p,setControl:g,name:A,form:o,value:d,hasConsumerStoppedPropagationRef:B,required:c,defaultChecked:Ho(n)?!1:n,isFormControl:j,bubbleInput:y,setBubbleInput:x};return s.jsx(L8,M(_({scope:t},w),{children:P8(h)?h(w):a}))}var O4="CheckboxTrigger",H4=b.forwardRef((i,n)=>{var o=i,{__scopeCheckbox:e,onKeyDown:t,onClick:r}=o,a=he(o,["__scopeCheckbox","onKeyDown","onClick"]);const{control:A,value:l,disabled:c,checked:d,required:h,setControl:m,setChecked:u,hasConsumerStoppedPropagationRef:p,isFormControl:g,bubbleInput:y}=_1(O4,e),x=Rs(n,m),B=b.useRef(d);return b.useEffect(()=>{const j=A==null?void 0:A.form;if(j){const w=()=>u(B.current);return j.addEventListener("reset",w),()=>j.removeEventListener("reset",w)}},[A,u]),s.jsx(vr.button,M(_({type:"button",role:"checkbox","aria-checked":Ho(d)?"mixed":d,"aria-required":h,"data-state":q4(d),"data-disabled":c?"":void 0,disabled:c,value:l},a),{ref:x,onKeyDown:Nt(t,j=>{j.key==="Enter"&&j.preventDefault()}),onClick:Nt(r,j=>{u(w=>Ho(w)?!0:!w),y&&g&&(p.current=j.isPropagationStopped(),p.current||j.stopPropagation())})}))});H4.displayName=O4;var S1=b.forwardRef((e,t)=>{const m=e,{__scopeCheckbox:r,name:a,checked:n,defaultChecked:i,required:o,disabled:A,value:l,onCheckedChange:c,form:d}=m,h=he(m,["__scopeCheckbox","name","checked","defaultChecked","required","disabled","value","onCheckedChange","form"]);return s.jsx(D8,{__scopeCheckbox:r,checked:n,defaultChecked:i,disabled:A,required:o,onCheckedChange:c,name:a,form:d,value:l,internal_do_not_use_render:({isFormControl:u})=>s.jsxs(s.Fragment,{children:[s.jsx(H4,M(_({},h),{ref:t,__scopeCheckbox:r})),u&&s.jsx(z4,{__scopeCheckbox:r})]})})});S1.displayName=Up;var K4="CheckboxIndicator",$4=b.forwardRef((e,t)=>{const o=e,{__scopeCheckbox:r,forceMount:a}=o,n=he(o,["__scopeCheckbox","forceMount"]),i=_1(K4,r);return s.jsx(rn,{present:a||Ho(i.checked)||i.checked===!0,children:s.jsx(vr.span,M(_({"data-state":q4(i.checked),"data-disabled":i.disabled?"":void 0},n),{ref:t,style:_({pointerEvents:"none"},e.style)}))})});$4.displayName=K4;var V4="CheckboxBubbleInput",z4=b.forwardRef((a,r)=>{var n=a,{__scopeCheckbox:e}=n,t=he(n,["__scopeCheckbox"]);const{control:i,hasConsumerStoppedPropagationRef:o,checked:A,defaultChecked:l,required:c,disabled:d,name:h,value:m,form:u,bubbleInput:p,setBubbleInput:g}=_1(V4,e),y=Rs(r,g),x=eE(A),B=tE(i);b.useEffect(()=>{const w=p;if(!w)return;const N=window.HTMLInputElement.prototype,U=Object.getOwnPropertyDescriptor(N,"checked").set,D=!o.current;if(x!==A&&U){const L=new Event("click",{bubbles:D});w.indeterminate=Ho(A),U.call(w,Ho(A)?!1:A),w.dispatchEvent(L)}},[p,x,A,o]);const j=b.useRef(Ho(A)?!1:A);return s.jsx(vr.input,M(_({type:"checkbox","aria-hidden":!0,defaultChecked:l!=null?l:j.current,required:c,disabled:d,name:h,value:m,form:u},t),{tabIndex:-1,ref:y,style:M(_(_({},t.style),B),{position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"})}))});z4.displayName=V4;function P8(e){return typeof e=="function"}function Ho(e){return e==="indeterminate"}function q4(e){return Ho(e)?"indeterminate":e?"checked":"unchecked"}const ju=b.forwardRef((a,r)=>{var n=a,{className:e}=n,t=he(n,["className"]);return s.jsx(S1,M(_({ref:r,className:ze("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e)},t),{children:s.jsx($4,{className:ze("flex items-center justify-center text-current"),children:s.jsx(Wo,{className:"h-4 w-4"})})}))});ju.displayName=S1.displayName;const M8=()=>{const[e,t]=b.useState(!1),[r,a]=b.useState(null),n=u=>Ae(void 0,null,function*(){try{t(!0),a(null);let p=et.from("events").select(`
          *,
          patients(full_name, bed)
        `).order("occurred_at",{ascending:!1});u.patientId&&u.patientId!=="all"&&(p=p.eq("patient_id",u.patientId)),u.startDate&&(p=p.gte("occurred_at",u.startDate)),u.endDate&&(p=p.lte("occurred_at",u.endDate)),u.eventTypes&&u.eventTypes.length>0&&(p=p.in("type",u.eventTypes));const{data:g,error:y}=yield p;if(y)throw y;if(!g||g.length===0)throw new Error("Nenhum registro encontrado para exportar");const x=g.map(B=>{var j,w;return{id:B.id,patient_id:B.patient_id,patient_name:((j=B.patients)==null?void 0:j.full_name)||"N/A",patient_bed:((w=B.patients)==null?void 0:w.bed)||"N/A",type:B.type,occurred_at:B.occurred_at,scheduled_at:B.scheduled_at,volume_ml:B.volume_ml,meal_desc:B.meal_desc,med_name:B.med_name,med_dose:B.med_dose,bathroom_type:B.bathroom_type,notes:B.notes,created_at:B.created_at}});u.format==="json"?c(x,m("cuidados",u.format)):u.format==="csv"&&d(x,m("cuidados",u.format))}catch(p){throw a(p instanceof Error?p.message:"Erro ao exportar dados"),p}finally{t(!1)}}),i=u=>Ae(void 0,null,function*(){try{t(!0),a(null);const p=yield A(u);let g;if(u.name.endsWith(".json"))g=JSON.parse(p);else if(u.name.endsWith(".csv"))g=l(p);else throw new Error("Formato de arquivo no suportado. Use JSON ou CSV.");if(!Array.isArray(g))throw new Error("Formato de dados invlido");const y={success:!1,imported:0,errors:[],duplicates:0},x=[],B=new Set;for(let j=0;j<g.length;j++){const w=g[j];try{if(w.id){const{data:I}=yield et.from("events").select("id").eq("id",w.id).single();if(I){y.duplicates++;continue}}const N=o(w,j+1);N&&x.push(N)}catch(N){y.errors.push(`Linha ${j+1}: ${N instanceof Error?N.message:"Erro de validao"}`)}}if(x.length>0){const{data:j,error:w}=yield et.from("events").insert(x).select();if(w)throw new Error(`Erro ao inserir dados: ${w.message}`);y.imported=(j==null?void 0:j.length)||0}return y.success=y.imported>0||y.duplicates>0,y}catch(p){throw a(p instanceof Error?p.message:"Erro ao importar dados"),p}finally{t(!1)}}),o=(u,p)=>{if(!u.patient_id)throw new Error("patient_id  obrigatrio");if(!u.type||!["drink","meal","med","bathroom","note"].includes(u.type))throw new Error("type deve ser: drink, meal, med, bathroom ou note");if(!u.occurred_at)throw new Error("occurred_at  obrigatrio");const g=new Date(u.occurred_at);if(isNaN(g.getTime()))throw new Error("occurred_at deve ser uma data vlida");return{patient_id:u.patient_id,type:u.type,occurred_at:u.occurred_at,scheduled_at:u.scheduled_at||null,volume_ml:u.volume_ml?Number(u.volume_ml):null,meal_desc:u.meal_desc||null,med_name:u.med_name||null,med_dose:u.med_dose||null,bathroom_type:u.bathroom_type||null,notes:u.notes||null}},A=u=>new Promise((p,g)=>{const y=new FileReader;y.onload=x=>{var B;return p((B=x.target)==null?void 0:B.result)},y.onerror=()=>g(new Error("Erro ao ler arquivo")),y.readAsText(u)}),l=u=>{const p=u.split(`
`).filter(x=>x.trim());if(p.length<2)throw new Error("Arquivo CSV deve ter pelo menos cabealho e uma linha de dados");const g=p[0].split(",").map(x=>x.trim().replace(/"/g,"")),y=[];for(let x=1;x<p.length;x++){const B=p[x].split(",").map(w=>w.trim().replace(/"/g,"")),j={};g.forEach((w,N)=>{j[w]=B[N]||null}),y.push(j)}return y},c=(u,p)=>{const g=new Blob([JSON.stringify(u,null,2)],{type:"application/json"});h(g,p)},d=(u,p)=>{if(u.length===0)return;const g=Object.keys(u[0]),y=[g.join(","),...u.map(B=>g.map(j=>{const w=B[j];return w!=null?`"${w}"`:'""'}).join(","))].join(`
`),x=new Blob([y],{type:"text/csv;charset=utf-8;"});h(x,p)},h=(u,p)=>{const g=URL.createObjectURL(u),y=document.createElement("a");y.href=g,y.download=p,document.body.appendChild(y),y.click(),document.body.removeChild(y),URL.revokeObjectURL(g)},m=(u,p)=>{const y=new Date().toISOString().split("T")[0].replace(/-/g,"");return`${u}_${y}.${p}`};return{loading:e,error:r,exportCareEvents:n,importCareEvents:i}},sb="bedside_family_tokens",Wu=()=>{const[e,t]=b.useState(!1),[r,a]=b.useState(null),n=()=>{try{const p=localStorage.getItem(sb);return p?JSON.parse(p):[]}catch(p){return[]}},i=p=>{localStorage.setItem(sb,JSON.stringify(p))},o=b.useCallback(p=>{switch(p){case"editor":return{canEdit:!0,canView:!0,canRegisterLiquids:!0,canRegisterMedications:!0,canRegisterMeals:!0,canRegisterActivities:!0};case"viewer":return{canEdit:!1,canView:!0,canRegisterLiquids:!1,canRegisterMedications:!1,canRegisterMeals:!1,canRegisterActivities:!1};default:return{canEdit:!1,canView:!0,canRegisterLiquids:!1,canRegisterMedications:!1,canRegisterMeals:!1,canRegisterActivities:!1}}},[]),A=b.useCallback((p,g="editor")=>Ae(void 0,null,function*(){try{t(!0),a(null);const y=crypto.randomUUID()+"-"+Date.now().toString(36),x=`familia_${p.slice(-6)}_${Date.now().toString(36).slice(-4)}`,B=Math.random().toString(36).slice(-8)+Math.random().toString(36).slice(-4).toUpperCase(),j={id:crypto.randomUUID(),patient_id:p,token:y,username:x,password:B,role:g,is_active:!0,created_at:new Date().toISOString()},w=n();return w.push(j),i(w),j}catch(y){const x=y instanceof Error?y.message:"Erro ao gerar token";throw a(x),new Error(x)}finally{t(!1)}}),[]),l=b.useCallback((p,g)=>Ae(void 0,null,function*(){try{if(t(!0),a(null),console.log(" Validando token familiar:",{patientId:p,token:g.substring(0,10)+"..."}),p.startsWith("test-patient")&&g.startsWith("test-token")){console.log(" Processando paciente de teste");const w=n();let N=w.find(U=>U.patient_id===p&&U.token===g&&U.is_active);if(!N){console.log(" Criando token de teste automaticamente");const U=g.includes("viewer")?"viewer":"editor",D={id:"test-id-"+Date.now(),patient_id:p,token:g,username:`familia_${U}`,password:"senha123",role:U,is_active:!0,created_at:new Date().toISOString()},L=[...w,D];i(L),N=D,console.log(" Token de teste criado e salvo:",{role:U,token:g})}const I={id:p,full_name:"Paciente Teste",birth_date:"1990-01-01",bed:"Leito 101",notes:"Paciente de teste para desenvolvimento",is_active:!0,created_at:new Date().toISOString()};return console.log(" Validao de teste bem-sucedida"),{isValid:!0,tokenData:N,patient:I}}const y=n();console.log(" Tokens armazenados:",y.length);const x=y.find(w=>w.patient_id===p&&w.token===g&&w.is_active);if(!x)return console.error(" Token no encontrado ou inativo"),{isValid:!1};let B=null,j=null;if(p.startsWith("test-patient"))console.log(" Usando dados de paciente de teste"),B={id:p,full_name:"Joo Silva Teste",birth_date:"1980-05-15",bed:"Leito 101",notes:"Paciente de teste para sistema familiar",is_active:!0,created_at:new Date().toISOString()};else{const w=yield et.from("patients").select("*").eq("id",p).single();B=w.data,j=w.error}return j||!B?(console.error(" Paciente no encontrado:",j),{isValid:!1}):(console.log(" Token vlido e paciente encontrado"),{isValid:!0,tokenData:x,patient:B})}catch(y){const x=y instanceof Error?y.message:"Erro ao validar token";return a(x),console.error(" Erro na validao:",x),{isValid:!1}}finally{t(!1)}}),[]);return{loading:e,error:r,generateFamilyToken:A,validateFamilyToken:(p,g)=>Ae(void 0,null,function*(){try{t(!0),a(null),console.log(" Validando token familiar:",{patientId:p,token:g.substring(0,10)+"..."});const y=n();console.log(" Tokens armazenados:",y.length);let x=y.find(w=>w.patient_id===p&&w.token===g&&w.is_active);if(!x&&p.startsWith("test-patient")&&g.startsWith("test-token")){console.log(" Criando token de teste automaticamente");const w={id:"test-id-"+Date.now(),patient_id:p,token:g,username:"familia_teste",password:"senha123",role:"editor",is_active:!0,created_at:new Date().toISOString()},N=[...y,w];i(N),x=w,console.log(" Token de teste criado e salvo")}if(!x)throw console.error(" Token no encontrado ou inativo"),console.log(" Procurando por:",{patientId:p,token:g.substring(0,10)+"..."}),console.log(" Tokens disponveis:",y.map(w=>({patient_id:w.patient_id,token:w.token.substring(0,10)+"...",is_active:w.is_active}))),new Error("Token invlido ou expirado");if(console.log(" Token vlido encontrado"),p.startsWith("test-patient")){console.log(" Detectado paciente de teste, criando dados mock:",p);const w={id:p,full_name:"Paciente de Teste",birth_date:"1980-01-01",bed:"Leito Teste",notes:"Paciente criado para testes do sistema familiar",is_active:!0,created_at:new Date().toISOString()};return console.log(" Paciente de teste criado:",w.full_name),w}console.log(" Buscando dados do paciente no Supabase...");const{data:B,error:j}=yield et.from("patients").select("*").eq("id",p).eq("is_active",!0).single();if(j)throw console.error(" Erro do Supabase:",j),new Error(`Erro no banco de dados: ${j.message}`);if(!B)throw console.error(" Paciente no encontrado"),new Error("Paciente no encontrado");return console.log(" Paciente encontrado:",B.full_name),B}catch(y){const x=y instanceof Error?y.message:"Erro ao validar token";return console.error(" Erro na validao:",x),a(x),null}finally{t(!1)}}),validateTokenWithData:l,authenticateFamily:(p,g)=>Ae(void 0,null,function*(){try{t(!0),a(null);const x=n().find(w=>w.username===p&&w.password===g&&w.is_active);if(!x)throw new Error("Credenciais invlidas");if(x.patient_id.startsWith("test-patient")){console.log(" Detectado paciente de teste na autenticao, criando dados mock:",x.patient_id);const w={id:x.patient_id,full_name:"Paciente de Teste",birth_date:"1980-01-01",bed:"Leito Teste",notes:"Paciente criado para testes do sistema familiar",is_active:!0,created_at:new Date().toISOString()};return console.log(" Paciente de teste criado para autenticao:",w.full_name),{token:x,patient:w}}const{data:B,error:j}=yield et.from("patients").select("*").eq("id",x.patient_id).eq("is_active",!0).single();if(j||!B)throw new Error("Paciente no encontrado");return{token:x,patient:B}}catch(y){const x=y instanceof Error?y.message:"Erro ao autenticar";return a(x),null}finally{t(!1)}}),revokeFamilyToken:(p,g="Revogado manualmente")=>Ae(void 0,null,function*(){try{t(!0),a(null);const x=n().map(B=>B.id===p?M(_({},B),{is_active:!1,revoked_at:new Date().toISOString(),revoked_reason:g}):B);i(x)}catch(y){const x=y instanceof Error?y.message:"Erro ao revogar token";throw a(x),new Error(x)}finally{t(!1)}}),revokeAllPatientTokens:(p,g="Paciente recebeu alta")=>Ae(void 0,null,function*(){try{t(!0),a(null);const x=n().map(B=>B.patient_id===p&&B.is_active?M(_({},B),{is_active:!1,revoked_at:new Date().toISOString(),revoked_reason:g}):B);i(x)}catch(y){const x=y instanceof Error?y.message:"Erro ao revogar tokens";throw a(x),new Error(x)}finally{t(!1)}}),getPatientTokens:p=>Ae(void 0,null,function*(){try{return t(!0),a(null),n().filter(x=>x.patient_id===p&&x.is_active)}catch(g){const y=g instanceof Error?g.message:"Erro ao buscar tokens";return a(y),[]}finally{t(!1)}}),getPermissions:o}},T8=()=>{const[e,t]=b.useState(!1),[r,a]=b.useState(null),[n,i]=b.useState(0),[o,A]=b.useState(!1),[l,c]=b.useState(!1),d=Zr(),h=n<=2&&n>0,m=b.useCallback(()=>{const g=localStorage.getItem("demo_token"),y=localStorage.getItem("demo_user_id"),x=localStorage.getItem("demo_expires_at");if(!g||!y||!x)return t(!1),a(null),A(!1),i(0),!1;const B=new Date,j=new Date(x),w=j.getTime()-B.getTime(),N=Math.ceil(w/(1e3*60*60*24));if(i(Math.max(0,N)),B>j){A(!0),t(!1),c(!0),localStorage.removeItem("demo_token"),localStorage.removeItem("demo_user_id"),localStorage.removeItem("demo_expires_at"),localStorage.removeItem("demo_days_remaining");const L=JSON.parse(localStorage.getItem("demo_users")||"[]").map(P=>P.id===y?M(_({},P),{is_active:!1}):P);return localStorage.setItem("demo_users",JSON.stringify(L)),!1}const U=JSON.parse(localStorage.getItem("demo_users")||"[]").find(D=>D.id===y&&D.is_active);if(U){if(a({id:U.id,email:U.email,demo_token:U.demo_token,expires_at:U.expires_at,is_active:U.is_active}),t(!0),A(!1),N<=2&&N>0){const D=localStorage.getItem("demo_last_warning"),L=new Date().toDateString();D!==L&&(c(!0),localStorage.setItem("demo_last_warning",L))}return!0}return t(!1),a(null),!1},[]),u=b.useCallback(()=>{localStorage.removeItem("demo_token"),localStorage.removeItem("demo_user_id"),localStorage.removeItem("demo_expires_at"),localStorage.removeItem("demo_days_remaining"),localStorage.removeItem("demo_last_warning"),t(!1),a(null),i(0),A(!1),c(!1),d("/")},[d]),p=b.useCallback(()=>{c(!1)},[]);return b.useEffect(()=>{m()},[m]),b.useEffect(()=>{const g=setInterval(()=>{m()},6e4);return()=>clearInterval(g)},[m]),b.useEffect(()=>{const g=()=>{m()};return window.addEventListener("focus",g),()=>window.removeEventListener("focus",g)},[m]),{isAuthenticated:e,demoUser:r,daysRemaining:n,isExpired:o,isExpiringSoon:h,checkExpiration:m,logout:u,showExpirationWarning:l,dismissWarning:p}},xi=()=>{const[e,t]=b.useState([]);b.useState(0);const[r,a]=b.useState(!0),[n,i]=b.useState(null),{revokeAllPatientTokens:o}=Wu(),{user:A}=Ca(),{demoUser:l,isAuthenticated:c}=T8(),d=b.useMemo(()=>c&&l?_({id:l.id},l):A,[c,l,A]),h=b.useCallback(()=>Ae(void 0,null,function*(){try{a(!0),i(null);const{data:g,error:y}=yield et.from("patients").select("*").order("created_at",{ascending:!1});if(y)throw y;t(g||[])}catch(g){i(g instanceof Error?g.message:"Erro ao carregar pacientes")}finally{a(!1)}}),[]),m=b.useCallback(g=>Ae(void 0,null,function*(){try{if(!(d!=null&&d.id))throw new Error("Usurio no autenticado");const y=_(_(_(_(_({name:g.name,full_name:g.name,birth_date:g.birth_date,email:g.email||"",phone:g.phone||"",user_id:d.id},g.admission_date&&{admission_date:g.admission_date}),g.bed&&{bed:g.bed}),g.notes&&{notes:g.notes}),g.status&&{status:g.status}),g.photo&&{photo:g.photo}),{data:x,error:B}=yield et.from("patients").insert([y]).select().single();if(B)throw B;return t(j=>[x,...j]),x}catch(y){throw new Error(y instanceof Error?y.message:"Erro ao adicionar paciente")}}),[d==null?void 0:d.id]),u=b.useCallback((g,y)=>Ae(void 0,null,function*(){try{console.log(" Dados enviados para atualizao:",y);const{data:x,error:B}=yield et.from("patients").update(y).eq("id",g).select().single();if(B)throw console.error(" Erro do Supabase:",B),B;return t(j=>j.map(w=>w.id===g?x:w)),x}catch(x){throw console.error(" Erro completo:",x),new Error(x instanceof Error?x.message:"Erro ao atualizar paciente")}}),[]),p=b.useCallback(g=>Ae(void 0,null,function*(){try{yield o(g,"Paciente removido");const{error:y}=yield et.from("patients").delete().eq("id",g);if(y)throw y;t(x=>x.filter(B=>B.id!==g))}catch(y){throw new Error(y instanceof Error?y.message:"Erro ao remover paciente")}}),[o]);return b.useEffect(()=>{h()},[h]),b.useMemo(()=>({patients:e,loading:r,error:n,addPatient:m,updatePatient:u,deletePatient:p,refetch:h}),[e,r,n,m,u,p,h])},G4=({open:e,onOpenChange:t,defaultPatientId:r})=>{var N;const[a,n]=b.useState("export"),[i,o]=b.useState({patientId:r||"all",format:"json",eventTypes:[]}),[A,l]=b.useState(null),[c,d]=b.useState(null),{exportCareEvents:h,importCareEvents:m,loading:u}=M8(),{patients:p}=xi(),{toast:g}=ir(),y=[{value:"med",label:"Medicamentos",icon:""},{value:"drink",label:"Lquidos",icon:""},{value:"meal",label:"Refeies",icon:""},{value:"bathroom",label:"Higiene",icon:""},{value:"note",label:"Anotaes",icon:""}],x=()=>Ae(void 0,null,function*(){try{yield h(i),g({title:"Exportao concluda",description:"Os dados foram exportados com sucesso."}),t(!1)}catch(I){g({title:"Erro na exportao",description:I instanceof Error?I.message:"Erro desconhecido",variant:"destructive"})}}),B=()=>Ae(void 0,null,function*(){if(!A){g({title:"Arquivo necessrio",description:"Selecione um arquivo para importar.",variant:"destructive"});return}try{const I=yield m(A);d(I),I.success?g({title:"Importao concluda",description:`${I.imported} registros importados com sucesso.`}):g({title:"Problemas na importao",description:"Verifique os detalhes abaixo.",variant:"destructive"})}catch(I){g({title:"Erro na importao",description:I instanceof Error?I.message:"Erro desconhecido",variant:"destructive"})}}),j=(I,U)=>{o(D=>M(_({},D),{eventTypes:U?[...D.eventTypes||[],I]:(D.eventTypes||[]).filter(L=>L!==I)}))},w=()=>{l(null),d(null)};return s.jsx(Rn,{open:e,onOpenChange:t,children:s.jsxs(wn,{className:"max-w-2xl max-w-[95vw] sm:max-w-2xl",children:[s.jsxs(bn,{children:[s.jsxs(yn,{className:"flex items-center gap-2",children:[s.jsx(Ap,{className:"h-5 w-5"}),"Importar / Exportar Cuidados"]}),s.jsx(Yo,{children:"Gerencie seus dados de cuidados - exporte para backup ou importe dados existentes"})]}),s.jsxs("div",{className:"flex space-x-1 bg-muted p-1 rounded-lg",children:[s.jsxs(ne,{variant:a==="export"?"default":"ghost",size:"sm",onClick:()=>n("export"),className:"flex-1",children:[s.jsx(Ba,{className:"h-4 w-4 mr-2"}),"Exportar"]}),s.jsxs(ne,{variant:a==="import"?"default":"ghost",size:"sm",onClick:()=>n("import"),className:"flex-1",children:[s.jsx(Ji,{className:"h-4 w-4 mr-2"}),"Importar"]})]}),a==="export"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs(Ee,{children:[s.jsxs(He,{children:[s.jsx(Ke,{className:"text-lg",children:"Opes de Exportao"}),s.jsx(St,{children:"Configure os filtros para exportar apenas os dados necessrios"})]}),s.jsxs(Ue,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ie,{children:"Paciente"}),s.jsxs(kt,{value:i.patientId,onValueChange:I=>o(U=>M(_({},U),{patientId:I})),children:[s.jsx(Et,{children:s.jsx(Lt,{placeholder:"Todos os pacientes"})}),s.jsxs(Ut,{children:[s.jsx(Se,{value:"all",children:"Todos os pacientes"}),p.map(I=>s.jsxs(Se,{value:I.id,children:[I.full_name," ",I.bed&&`- Leito ${I.bed}`]},I.id))]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ie,{children:"Data Inicial"}),s.jsx(_e,{type:"date",value:i.startDate||"",onChange:I=>o(U=>M(_({},U),{startDate:I.target.value}))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ie,{children:"Data Final"}),s.jsx(_e,{type:"date",value:i.endDate||"",onChange:I=>o(U=>M(_({},U),{endDate:I.target.value}))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ie,{children:"Tipos de Cuidados"}),s.jsx("div",{className:"grid grid-cols-2 gap-2",children:y.map(I=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ju,{id:I.value,checked:(i.eventTypes||[]).includes(I.value),onCheckedChange:U=>j(I.value,U)}),s.jsxs(ie,{htmlFor:I.value,className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("span",{children:I.icon}),I.label]})]},I.value))}),((N=i.eventTypes)==null?void 0:N.length)===0&&s.jsx("p",{className:"text-sm text-muted-foreground",children:"Nenhum tipo selecionado = todos os tipos sero exportados"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ie,{children:"Formato do Arquivo"}),s.jsxs(kt,{value:i.format,onValueChange:I=>o(U=>M(_({},U),{format:I})),children:[s.jsx(Et,{children:s.jsx(Lt,{})}),s.jsxs(Ut,{children:[s.jsx(Se,{value:"json",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Xt,{className:"h-4 w-4"}),"JSON (recomendado para re-importao)"]})}),s.jsx(Se,{value:"csv",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Xt,{className:"h-4 w-4"}),"CSV (para planilhas)"]})})]})]})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-3",children:[s.jsx(ne,{variant:"outline",onClick:()=>t(!1),children:"Cancelar"}),s.jsxs(ne,{onClick:x,disabled:u,children:[u&&s.jsx(Ms,{className:"h-4 w-4 mr-2 animate-spin"}),s.jsx(Ba,{className:"h-4 w-4 mr-2"}),"Exportar Dados"]})]})]}),a==="import"&&s.jsxs("div",{className:"space-y-6",children:[c?s.jsxs(Ee,{children:[s.jsx(He,{children:s.jsxs(Ke,{className:"flex items-center gap-2",children:[c.success?s.jsx(Rr,{className:"h-5 w-5 text-green-600"}):s.jsx(Ts,{className:"h-5 w-5 text-red-600"}),"Resultado da Importao"]})}),s.jsxs(Ue,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:c.imported}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Importados"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:c.duplicates}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Duplicados"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-red-600",children:c.errors.length}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Erros"})]})]}),c.errors.length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(ie,{children:"Erros Encontrados:"}),s.jsx("div",{className:"max-h-32 overflow-y-auto bg-red-50 border border-red-200 rounded p-3",children:c.errors.map((I,U)=>s.jsx("div",{className:"text-sm text-red-800",children:I},U))})]})]})]}):s.jsxs(Ee,{children:[s.jsxs(He,{children:[s.jsx(Ke,{className:"text-lg",children:"Importar Cuidados"}),s.jsx(St,{children:"Selecione um arquivo JSON ou CSV para importar registros de cuidados"})]}),s.jsxs(Ue,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ie,{children:"Arquivo de Dados"}),s.jsx(_e,{type:"file",accept:".json,.csv",onChange:I=>{var U;return l(((U=I.target.files)==null?void 0:U[0])||null)}}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Formatos aceitos: JSON, CSV. Mximo 10MB."})]}),A&&s.jsx("div",{className:"p-3 bg-muted rounded-lg",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Xt,{className:"h-4 w-4"}),s.jsx("span",{className:"font-medium",children:A.name}),s.jsxs(At,{variant:"secondary",children:[(A.size/1024).toFixed(1)," KB"]})]})}),s.jsxs("div",{className:"bg-primary/5 border border-primary/20 rounded-lg p-4",children:[s.jsx("h4",{className:"font-medium text-primary mb-2",children:" Importante:"}),s.jsxs("ul",{className:"text-sm text-primary/80 space-y-1",children:[s.jsx("li",{children:" Registros duplicados (mesmo ID) sero ignorados"}),s.jsx("li",{children:" Dados invlidos sero rejeitados com relatrio de erros"}),s.jsx("li",{children:" Faa backup antes de importar dados importantes"}),s.jsx("li",{children:" Pacientes referenciados devem existir no sistema"})]})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-3",children:[s.jsx(ne,{variant:"outline",onClick:()=>t(!1),children:"Fechar"}),c?s.jsx(ne,{onClick:w,variant:"outline",children:"Nova Importao"}):s.jsxs(ne,{onClick:B,disabled:!A||u,children:[u&&s.jsx(Ms,{className:"h-4 w-4 mr-2 animate-spin"}),s.jsx(Ji,{className:"h-4 w-4 mr-2"}),"Importar Dados"]})]})]})]})})},Ar=b.forwardRef((a,r)=>{var n=a,{className:e}=n,t=he(n,["className"]);return s.jsx("textarea",_({className:ze("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r},t))});Ar.displayName="Textarea";const Zg="bedside_system_logs",R8=1e3,Ip=()=>{const[e,t]=b.useState([]),{user:r}=Ca();b.useEffect(()=>{const c=localStorage.getItem(Zg);if(c)try{const d=JSON.parse(c).map(h=>M(_({},h),{timestamp:new Date(h.timestamp)}));t(d)}catch(d){console.error("Erro ao carregar logs do localStorage:",d)}},[]),b.useEffect(()=>{if(e.length>0){const c=e.map(d=>M(_({},d),{timestamp:d.timestamp.toISOString()}));localStorage.setItem(Zg,JSON.stringify(c))}},[e]);const a=b.useCallback(()=>"192.168.1."+Math.floor(Math.random()*255),[]),n=b.useCallback((c,d,h,m="Sistema")=>{const u={id:`log_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,timestamp:new Date,level:c,action:d,user:(r==null?void 0:r.name)||"Usurio Annimo",details:h,ip:a(),module:m};t(p=>[u,...p].slice(0,R8))},[r,a]),i=b.useCallback(()=>{t([]),localStorage.removeItem(Zg)},[]),o=b.useCallback(c=>e.filter(d=>d.level===c),[e]),A=b.useCallback(c=>e.filter(d=>d.module===c),[e]),l=b.useCallback(()=>{const c={exportDate:new Date().toISOString(),totalLogs:e.length,logs:e.map(d=>M(_({},d),{timestamp:d.timestamp.toISOString()}))};return JSON.stringify(c,null,2)},[e]);return{logs:e,addLog:n,clearLogs:i,getLogsByLevel:o,getLogsByModule:A,exportLogs:l}};function O8(){const[e,t]=b.useState([]),[r,a]=b.useState(0),{user:n}=Ca(),{addLog:i}=Ip(),o=(d,h,m,u,p,g,y="medium")=>{const x={id:`checkin_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,type:d,title:h,message:m,timestamp:new Date().toISOString(),user_id:(n==null?void 0:n.id)||"",user_name:(n==null?void 0:n.name)||"Usurio",patient_id:u,patient_name:p,location:g,read:!1,priority:y};return t(B=>[x,...B.slice(0,19)]),a(B=>B+1),i("info","Notificao Check-in",`${h}: ${m}`,"Check-in System"),x.id},A=d=>{t(h=>h.map(m=>m.id===d?M(_({},m),{read:!0}):m)),a(h=>Math.max(0,h-1))},l=()=>{t(d=>d.map(h=>M(_({},h),{read:!0}))),a(0)},c=d=>{t(h=>{const m=h.find(p=>p.id===d),u=h.filter(p=>p.id!==d);return m&&!m.read&&a(p=>Math.max(0,p-1)),u})};return b.useEffect(()=>{const d=setInterval(()=>{const h=Date.now()-864e5;t(m=>{const u=m.filter(p=>new Date(p.timestamp).getTime()>h);if(u.length!==m.length){const p=m.filter(g=>!g.read&&new Date(g.timestamp).getTime()<=h).length;a(g=>Math.max(0,g-p))}return u})},36e5);return()=>clearInterval(d)},[]),{notifications:e,unreadCount:r,addCheckinNotification:o,markAsRead:A,markAllAsRead:l,removeNotification:c}}const H8=()=>{const[e,t]=b.useState([]),[r,a]=b.useState(!1),[n,i]=b.useState(!1),[o,A]=b.useState(null),[l,c]=b.useState(null),{user:d}=Ca(),{addLog:h}=Ip(),{addCheckinNotification:m}=O8(),{patients:u}=xi(),p=b.useCallback(()=>Ae(void 0,null,function*(){if(d)try{a(!0);const U=localStorage.getItem(`checkin_records_${d.id}`);U&&t(JSON.parse(U))}catch(U){const D=U instanceof Error?U.message:"Erro ao buscar registros";A(D),h("error","Erro ao buscar registros de check-in",D,"Check-in System")}finally{a(!1)}}),[d,h]),g=b.useCallback(U=>{d&&(localStorage.setItem(`checkin_records_${d.id}`,JSON.stringify(U)),t(U))},[d]),y=b.useCallback(()=>new Promise((U,D)=>{if(!navigator.geolocation){D(new Error("Geolocalizao no suportada"));return}i(!0),navigator.geolocation.getCurrentPosition(L=>{const P={latitude:L.coords.latitude,longitude:L.coords.longitude,accuracy:L.coords.accuracy};c(P),i(!1),U(P)},L=>{i(!1),D(new Error(`Erro de geolocalizao: ${L.message}`))},{enableHighAccuracy:!0,timeout:1e4,maximumAge:3e5})}),[]),x=b.useCallback((U,D)=>Ae(void 0,null,function*(){try{const L=yield fetch(`https://api.bigdatacloud.net/data/reverse-geocode-client?latitude=${U}&longitude=${D}&localityLanguage=pt`);if(!L.ok)throw new Error("Erro na geocodificao reversa");return(yield L.json()).display_name||`${U.toFixed(6)}, ${D.toFixed(6)}`}catch(L){return console.warn("Erro na geocodificao reversa:",L),`${U.toFixed(6)}, ${D.toFixed(6)}`}}),[]),B=b.useCallback((U,D)=>Ae(void 0,null,function*(){if(!d)throw new Error("Usurio no autenticado");try{if(a(!0),A(null),e.find(q=>q.user_id===d.id&&q.type==="check_in"&&!e.some(K=>K.user_id===d.id&&K.patient_id===q.patient_id&&K.type==="check_out"&&K.timestamp>q.timestamp)))throw new Error("Voc j possui um check-in ativo. Faa check-out primeiro.");const P=yield y(),S=yield x(P.latitude,P.longitude),E=Math.random()*5+.1,V=[{id:`checkin_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,user_id:d.id,patient_id:U,type:"check_in",timestamp:new Date().toISOString(),location_latitude:P.latitude,location_longitude:P.longitude,location_address:S,distance_to_patient:E,notes:D||"",created_at:new Date().toISOString(),updated_at:new Date().toISOString()},...e];g(V);const ae=u.find(q=>q.id===U),Y=(ae==null?void 0:ae.full_name)||"Paciente";m("check_in","Check-in Realizado",`Check-in realizado para ${Y} em ${S}`,U,Y,S,"medium"),h("info","Check-in Realizado",`Check-in para paciente ${Y} em ${S}`,"Check-in System")}catch(L){const P=L instanceof Error?L.message:"Erro ao fazer check-in";throw A(P),h("error","Erro no Check-in",P,"Check-in System"),L}finally{a(!1)}}),[d,e,y,x,g,u,m,h]),j=b.useCallback(U=>Ae(void 0,null,function*(){if(!d)throw new Error("Usurio no autenticado");try{a(!0),A(null);const D=e.find(ae=>ae.user_id===d.id&&ae.type==="check_in"&&!e.some(Y=>Y.user_id===d.id&&Y.patient_id===ae.patient_id&&Y.type==="check_out"&&Y.timestamp>ae.timestamp));if(!D)throw new Error("Nenhum check-in ativo encontrado");const L=yield y(),P=yield x(L.latitude,L.longitude),E=[{id:`checkout_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,user_id:d.id,patient_id:D.patient_id,type:"check_out",timestamp:new Date().toISOString(),location_latitude:L.latitude,location_longitude:L.longitude,location_address:P,notes:U||"",created_at:new Date().toISOString(),updated_at:new Date().toISOString()},...e];g(E);const Q=u.find(ae=>ae.id===D.patient_id),V=(Q==null?void 0:Q.full_name)||"Paciente";m("check_out","Check-out Realizado",`Check-out realizado para ${V} em ${P}`,D.patient_id,V,P,"medium"),h("info","Check-out Realizado",`Check-out para paciente ${V} em ${P}`,"Check-in System")}catch(D){const L=D instanceof Error?D.message:"Erro ao fazer check-out";throw A(L),h("error","Erro no Check-out",L,"Check-in System"),D}finally{a(!1)}}),[d,e,y,x,g,u,m,h]),w=b.useCallback(()=>u.map(U=>({id:U.id,full_name:U.full_name,address:`Rua ${Math.floor(Math.random()*1e3)}, ${Math.floor(Math.random()*100)}`,city:"So Paulo",state:"SP",zip_code:`${Math.floor(Math.random()*9e4)+1e4}-${Math.floor(Math.random()*900)+100}`,latitude:-23.5505+(Math.random()-.5)*.1,longitude:-46.6333+(Math.random()-.5)*.1})),[u]),N=b.useCallback(()=>d&&e.find(U=>U.user_id===d.id&&U.type==="check_in"&&!e.some(D=>D.user_id===d.id&&D.patient_id===U.patient_id&&D.type==="check_out"&&D.timestamp>U.timestamp))||null,[d,e]),I=b.useCallback((U,D="google")=>{const{latitude:L,longitude:P,address:S}=U;if(D==="waze")return`https://waze.com/ul?ll=${L},${P}&navigate=yes&zoom=17`;{const E=S||`${L},${P}`;return`https://www.google.com/maps/dir/?api=1&destination=${encodeURIComponent(E)}`}},[]);return b.useEffect(()=>{p()},[p]),{records:e,loading:r,locationLoading:n,error:o,currentLocation:l,checkin:B,checkout:j,getPatientsWithLocation:w,getActiveCheckin:N,getNavigationUrl:I,getCurrentLocation:y,refresh:p}},K8=()=>{const[e,t]=b.useState(""),[r,a]=b.useState(""),{records:n,loading:i,error:o,currentLocation:A,locationLoading:l,checkin:c,checkout:d,getPatientsWithLocation:h,getActiveCheckin:m,getNavigationUrl:u,getCurrentLocation:p}=H8(),g=m();Ca();const{patients:y}=xi(),{toast:x}=ir(),{addLog:B}=Ip(),j=h(),w=()=>Ae(void 0,null,function*(){if(!e){x({title:"Selecione um paciente",description:" necessrio selecionar um paciente para fazer check-in",variant:"destructive"});return}try{yield c(e,r),a(""),t("");const D=y.find(L=>L.id===e);x({title:"Check-in realizado!",description:`Check-in realizado para ${D==null?void 0:D.full_name}`})}catch(D){const L=D instanceof Error?D.message:"Erro ao realizar check-in";x({title:"Erro no check-in",description:L,variant:"destructive"})}}),N=()=>Ae(void 0,null,function*(){if(g)try{yield d(r),a("");const D=y.find(L=>L.id===g.patient_id);x({title:"Check-out realizado!",description:`Check-out realizado para ${D==null?void 0:D.full_name}`})}catch(D){const L=D instanceof Error?D.message:"Erro ao realizar check-out";x({title:"Erro no check-out",description:L,variant:"destructive"})}}),I=D=>{const L=(g==null?void 0:g.patient_id)||e,P=j.find(E=>E.id===L);if(!P){x({title:"Erro",description:"Paciente no encontrado",variant:"destructive"});return}const S=u(P,D);if(S==="#"){x({title:"Erro",description:"Coordenadas do paciente no disponveis",variant:"destructive"});return}window.open(S,"_blank"),B("info","Navegao Iniciada",`Navegao ${D} iniciada para paciente ${P.full_name}`,"Check-in System")};y.find(D=>D.id===e);const U=g?y.find(D=>D.id===g.patient_id):null;return s.jsxs("div",{className:"space-y-6",children:[s.jsxs(Ee,{children:[s.jsxs(He,{children:[s.jsxs(Ke,{className:"flex items-center gap-2",children:[s.jsx(xm,{className:"h-5 w-5"}),"Status de Check-in"]}),s.jsx(St,{children:g?`Voc est em check-in com ${U==null?void 0:U.full_name}`:"Nenhum check-in ativo"})]}),s.jsx(Ue,{children:g?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Rr,{className:"h-4 w-4 text-green-500"}),s.jsx(At,{variant:"secondary",className:"bg-green-100 text-green-800",children:"Check-in Ativo"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("strong",{children:"Paciente:"})," ",U==null?void 0:U.full_name]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Leito:"})," ",U==null?void 0:U.bed]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Check-in:"})," ",new Date(g.timestamp).toLocaleString("pt-BR")]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Localizao:"})," ",g.location_address]})]}),s.jsxs("div",{className:"flex gap-2 flex-wrap",children:[s.jsxs(ne,{onClick:()=>I("google"),variant:"outline",size:"sm",className:"flex items-center gap-2",children:[s.jsx(Ax,{className:"h-4 w-4"}),"Google Maps",s.jsx(n2,{className:"h-3 w-3"})]}),s.jsxs(ne,{onClick:()=>I("waze"),variant:"outline",size:"sm",className:"flex items-center gap-2",children:[s.jsx(Ax,{className:"h-4 w-4"}),"Waze",s.jsx(n2,{className:"h-3 w-3"})]})]})]}):s.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[s.jsx(Ts,{className:"h-4 w-4"}),s.jsx("span",{children:"Selecione um paciente para fazer check-in"})]})})]}),s.jsxs(Ee,{children:[s.jsxs(He,{children:[s.jsx(Ke,{children:g?"Check-out":"Check-in"}),s.jsx(St,{children:g?"Finalize o atendimento ao paciente":"Inicie o atendimento a um paciente"})]}),s.jsxs(Ue,{className:"space-y-4",children:[!g&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(ie,{htmlFor:"patient-select",children:"Selecionar Paciente"}),s.jsxs(kt,{value:e,onValueChange:t,children:[s.jsx(Et,{children:s.jsx(Lt,{placeholder:"Escolha um paciente"})}),s.jsx(Ut,{children:y.map(D=>s.jsx(Se,{value:D.id,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Or,{className:"h-4 w-4"}),D.full_name," - ",D.bed]})},D.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ie,{htmlFor:"notes",children:"Observaes (opcional)"}),s.jsx(Ar,{id:"notes",value:r,onChange:D=>a(D.target.value),placeholder:"Adicione observaes sobre o atendimento...",rows:3})]}),s.jsxs("div",{className:"flex gap-2",children:[g?s.jsx(ne,{onClick:N,disabled:i||l,className:"flex items-center gap-2",children:i?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Realizando check-out..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Yr,{className:"h-4 w-4"}),"Fazer Check-out"]})}):s.jsx(ne,{onClick:w,disabled:i||l||!e,className:"flex items-center gap-2",children:i?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Realizando check-in..."]}):s.jsxs(s.Fragment,{children:[s.jsx(xm,{className:"h-4 w-4"}),"Fazer Check-in"]})}),l&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-current"}),"Obtendo localizao..."]})]})]})]}),s.jsxs(Ee,{children:[s.jsxs(He,{children:[s.jsx(Ke,{children:"Histrico Recente"}),s.jsx(St,{children:"Seus ltimos registros de check-in/check-out"})]}),s.jsx(Ue,{children:n.length===0?s.jsx("div",{className:"text-center text-muted-foreground py-4",children:"Nenhum registro encontrado"}):s.jsx("div",{className:"space-y-3",children:n.slice(0,5).map(D=>{const L=y.find(P=>P.id===D.patient_id);return s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(At,{variant:D.type==="check_in"?"default":"secondary",className:D.type==="check_in"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800",children:D.type==="check_in"?"Check-in":"Check-out"}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:L==null?void 0:L.full_name}),s.jsx("div",{className:"text-sm text-muted-foreground",children:new Date(D.timestamp).toLocaleString("pt-BR")})]})]}),s.jsx("div",{className:"text-sm text-muted-foreground",children:D.location_address})]},D.id)})})})]})]})},ul=e=>{const[t,r]=b.useState([]),[a,n]=b.useState(!0),[i,o]=b.useState(null),{user:A,isAuthenticated:l}=Ca(),c=b.useCallback(()=>Ae(void 0,null,function*(){try{n(!0);let u=et.from("events").select(`
          *,
          patients(full_name, bed)
        `).order("occurred_at",{ascending:!1});e&&(u=u.eq("patient_id",e));const{data:p,error:g}=yield u;if(g)throw g;r(p||[])}catch(u){o(u instanceof Error?u.message:"Erro ao carregar registros")}finally{n(!1)}}),[e]),d=b.useCallback(u=>Ae(void 0,null,function*(){if(!l||!A)throw new Error("Usurio no autenticado");try{const p=_({},u);console.log(" Tentando inserir evento:",JSON.stringify(p,null,2));const{data:g,error:y}=yield et.from("events").insert(p).select().single();if(y)throw console.error(" Erro detalhado:",{message:y.message,details:y.details,hint:y.hint,code:y.code}),console.error(" Status da requisio:",y),console.error(" Dados enviados:",JSON.stringify(p,null,2)),y;return console.log(" Evento inserido com sucesso:",g),r(x=>[g,...x]),g}catch(p){throw console.error(" Erro geral no addEvent:",p),new Error(p instanceof Error?p.message:"Erro ao adicionar registro")}}),[l,A]),h=b.useCallback((u,p)=>Ae(void 0,null,function*(){try{const{data:g,error:y}=yield et.from("events").update(p).eq("id",u).select().single();if(y)throw y;return r(x=>x.map(B=>B.id===u?_(_({},B),g):B)),g}catch(g){throw new Error(g instanceof Error?g.message:"Erro ao atualizar registro")}}),[]),m=b.useCallback(u=>Ae(void 0,null,function*(){try{const{error:p}=yield et.from("events").delete().eq("id",u);if(p)throw p;r(g=>g.filter(y=>y.id!==u))}catch(p){throw new Error(p instanceof Error?p.message:"Erro ao deletar registro")}}),[]);return b.useEffect(()=>{c()},[c]),b.useMemo(()=>({events:t,loading:a,error:i,addEvent:d,updateEvent:h,deleteEvent:m,refetch:c}),[t,a,i,d,h,m,c])},ab=b.memo(()=>{const e=Zr(),{user:t}=Ca(),[r,a]=b.useState(!1),[n,i]=b.useState(null),[o,A]=b.useState(!1),{patients:l,loading:c}=xi(),{events:d}=ul(),h=rA();b.useEffect(()=>{A(!0)},[]);const m=b.useMemo(()=>{const j=new Date().toISOString().split("T")[0],w=d.filter(N=>{var I;return(I=N.occurred_at)==null?void 0:I.startsWith(j)});return{total:w.length,bathroom:w.filter(N=>N.type==="bathroom").length,mood:w.filter(N=>N.type==="mood").length,feeding:w.filter(N=>N.type==="feeding").length,sleep:w.filter(N=>N.type==="sleep").length,diaper:w.filter(N=>N.type==="diaper").length}},[d]),u=b.useMemo(()=>l.length,[l.length]),p=b.useMemo(()=>l.filter(j=>{var w;return(w=j.email)==null?void 0:w.toLowerCase().includes("crtico")}).length,[l]),g=b.useMemo(()=>(t==null?void 0:t.role)==="doctor"||(t==null?void 0:t.role)==="nurse",[t==null?void 0:t.role]),y=b.useMemo(()=>[{title:"Pacientes Ativos",value:u.toString(),description:"Pacientes internados hoje",icon:Xs,color:"from-blue-500 to-blue-600",bgColor:"bg-blue-500/10",change:"+2 desde ontem",trend:"up",onClick:()=>e("/patients")},{title:"Cuidados Registrados",value:m.total.toString(),description:"Registros nas ltimas 24h",icon:Tr,color:"from-emerald-500 to-emerald-600",bgColor:"bg-emerald-500/10",change:"+18 desde ontem",trend:"up",onClick:()=>e("/care")},{title:"Alimentao",value:m.feeding.toString(),description:"Refeies registradas hoje",icon:mr,color:"from-purple-500 to-purple-600",bgColor:"bg-purple-500/10",change:"+12 desde ontem",trend:"up",onClick:()=>e("/care")},{title:"Alertas Pendentes",value:p.toString(),description:"Requerem ateno",icon:gc,color:"from-orange-500 to-red-500",bgColor:"bg-orange-500/10",change:"-1 desde ontem",trend:"down",onClick:()=>e("/patients")}],[u,m,p,e]),x=b.useMemo(()=>l.slice(0,3).map(j=>{var N,I;const w=d.find(U=>U.patient_id===j.id);return j.birth_date&&new Date().getFullYear()-new Date(j.birth_date).getFullYear(),{id:j.id,name:j.name,room:"N/A",status:(N=j.email)!=null&&N.toLowerCase().includes("crtico")?"Crtico":"Estvel",lastCare:w?new Date(w.occurred_at||w.created_at).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit",timeZone:"America/Sao_Paulo"}):"--:--",priority:(I=j.email)!=null&&I.toLowerCase().includes("crtico")?"Alta":"Normal"}}),[l,d]),B=j=>{switch(j){case"Alta":return"bg-destructive text-destructive-foreground";case"Mdia":return"bg-warning text-warning-foreground";default:return"bg-secondary text-secondary-foreground"}};return s.jsxs("div",{className:`space-y-8 transition-all duration-1000 ${o?"opacity-100 translate-y-0":"opacity-0 translate-y-8"}`,children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500/10 via-purple-500/10 to-emerald-500/10 rounded-2xl blur-xl"}),s.jsx("div",{className:"relative bg-white/70 dark:bg-gray-900/70 backdrop-blur-xl border border-white/20 rounded-2xl p-6 shadow-2xl",children:s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[s.jsx("div",{className:"space-y-2",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-gradient-to-br from-blue-500 to-purple-600 rounded-xl shadow-lg",children:s.jsx(wm,{className:"h-6 w-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-gray-900 to-gray-600 dark:from-white dark:to-gray-300 bg-clip-text text-transparent",children:"Dashboard"}),s.jsx("p",{className:"text-muted-foreground",children:"Viso geral dos cuidados hospitalares"})]})]})}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full sm:w-auto",children:[s.jsxs(ne,{variant:"outline",onClick:()=>a(!0),className:"w-full sm:w-auto glass-button group hover:scale-105 transition-all duration-300",children:[s.jsx(Ap,{className:"h-4 w-4 mr-2 group-hover:rotate-12 transition-transform duration-300"}),s.jsx("span",{className:"hidden sm:inline",children:"Import/Export"}),s.jsx("span",{className:"sm:hidden",children:"Dados"})]}),s.jsxs(ne,{variant:"default",onClick:()=>e("/care"),className:"w-full sm:w-auto bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 shadow-lg hover:shadow-xl hover:scale-105 transition-all duration-300 group",children:[s.jsx(Tr,{className:"h-4 w-4 mr-2 group-hover:scale-110 transition-transform duration-300"}),s.jsx("span",{className:"hidden sm:inline",children:"Novo Registro"}),s.jsx("span",{className:"sm:hidden",children:"Registro"}),s.jsx(sx,{className:"h-4 w-4 ml-1 group-hover:translate-x-1 group-hover:-translate-y-1 transition-transform duration-300"})]})]})]})})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:y.map((j,w)=>s.jsxs(Ee,{className:`group relative overflow-hidden cursor-pointer transition-all duration-500 hover:scale-105 ${n===w?"shadow-2xl shadow-blue-500/25":"shadow-lg hover:shadow-xl"}`,onClick:j.onClick,onMouseEnter:()=>i(w),onMouseLeave:()=>i(null),style:{animationDelay:`${w*150}ms`,animation:o?"slideInUp 0.6s ease-out forwards":"none"},children:[s.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${j.color} opacity-0 group-hover:opacity-5 transition-opacity duration-500`}),s.jsx("div",{className:"absolute inset-0 bg-white/50 dark:bg-gray-900/50 backdrop-blur-sm opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),s.jsxs(He,{className:"relative flex flex-row items-center justify-between space-y-0 pb-3",children:[s.jsx(Ke,{className:"text-sm font-medium text-muted-foreground group-hover:text-foreground transition-colors duration-300",children:j.title}),s.jsx("div",{className:`p-3 rounded-xl bg-gradient-to-br ${j.color} shadow-lg group-hover:scale-110 group-hover:rotate-6 transition-all duration-500`,children:s.jsx(j.icon,{className:"h-5 w-5 text-white"})})]}),s.jsxs(Ue,{className:"relative",children:[s.jsx("div",{className:"text-3xl font-bold text-foreground group-hover:scale-105 transition-transform duration-300",children:j.value}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:j.description}),s.jsxs("div",{className:"flex items-center mt-3 space-x-2",children:[s.jsx("div",{className:`p-1 rounded-full ${j.trend==="up"?"bg-emerald-100 dark:bg-emerald-900/30":"bg-red-100 dark:bg-red-900/30"}`,children:s.jsx(di,{className:`h-3 w-3 ${j.trend==="up"?"text-emerald-600 dark:text-emerald-400":"text-red-600 dark:text-red-400 rotate-180"}`})}),s.jsx("span",{className:`text-sm font-medium ${j.trend==="up"?"text-emerald-600 dark:text-emerald-400":"text-red-600 dark:text-red-400"}`,children:j.change})]})]})]},w))}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs(Ee,{className:"group relative overflow-hidden bg-white/80 dark:bg-gray-900/80 backdrop-blur-xl border border-white/20 shadow-xl hover:shadow-2xl transition-all duration-500",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/5 via-transparent to-purple-500/5"}),s.jsxs(He,{className:"relative",children:[s.jsxs(Ke,{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl shadow-lg",children:s.jsx(Xs,{className:"h-5 w-5 text-white"})}),s.jsx("div",{children:s.jsx("span",{className:"text-xl font-bold bg-gradient-to-r from-gray-900 to-gray-600 dark:from-white dark:to-gray-300 bg-clip-text text-transparent",children:"Pacientes Recentes"})})]}),s.jsx(St,{className:"text-muted-foreground",children:"ltimos pacientes com registros de cuidados"})]}),s.jsx(Ue,{className:"relative space-y-4",children:x.map((j,w)=>s.jsx("div",{className:"group/item relative p-4 border border-border/50 rounded-xl hover:bg-gradient-to-r hover:from-blue-50/50 hover:to-purple-50/50 dark:hover:from-blue-900/20 dark:hover:to-purple-900/20 transition-all duration-300 cursor-pointer hover:shadow-lg hover:scale-[1.02] backdrop-blur-sm",onClick:()=>e(`/care?patient=${j.id}`),style:{animationDelay:`${(w+4)*100}ms`,animation:o?"slideInLeft 0.6s ease-out forwards":"none"},children:s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-4 min-w-0 flex-1",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"w-12 h-12 rounded-full overflow-hidden border-2 border-white shadow-lg group-hover/item:scale-110 transition-transform duration-300",children:s.jsx("div",{className:"w-full h-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white font-semibold text-lg",children:j.name.charAt(0).toUpperCase()})}),s.jsx("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 bg-emerald-500 rounded-full border-2 border-white shadow-sm"})]}),s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("p",{className:"font-semibold text-foreground truncate group-hover/item:text-blue-600 dark:group-hover/item:text-blue-400 transition-colors duration-300",children:j.name}),s.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[s.jsx("span",{className:"w-2 h-2 bg-blue-500 rounded-full"}),"Quarto ",j.room]})]})]}),s.jsxs("div",{className:"flex flex-row sm:flex-col items-center sm:items-end gap-3 sm:gap-2 w-full sm:w-auto",children:[s.jsx(At,{className:`${B(j.priority)} shadow-sm hover:shadow-md transition-shadow duration-300`,children:j.priority}),s.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground bg-gray-100/50 dark:bg-gray-800/50 px-2 py-1 rounded-full",children:[s.jsx(Yr,{className:"h-3 w-3"}),j.lastCare]})]})]})},j.id))})]}),s.jsxs(Ee,{className:"group relative overflow-hidden bg-white/80 dark:bg-gray-900/80 backdrop-blur-xl border border-white/20 shadow-xl hover:shadow-2xl transition-all duration-500",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-emerald-500/5 via-transparent to-blue-500/5"}),s.jsxs(He,{className:"relative",children:[s.jsxs(Ke,{className:"flex items-center gap-3",children:[s.jsx("div",{className:`bg-gradient-to-br from-emerald-500 to-emerald-600 rounded-xl shadow-lg ${h?"p-1.5":"p-2"}`,children:s.jsx(Tr,{className:`text-white ${h?"h-4 w-4":"h-5 w-5"}`})}),s.jsx("div",{children:s.jsx("span",{className:`font-bold bg-gradient-to-r from-gray-900 to-gray-600 dark:from-white dark:to-gray-300 bg-clip-text text-transparent ${h?"text-lg":"text-xl"}`,children:"Aes Rpidas"})})]}),s.jsx(St,{className:`text-muted-foreground ${h?"text-sm":""}`,children:"Registros frequentes de cuidados"})]}),s.jsx(Ue,{className:`relative ${h?"space-y-3":"space-y-4"}`,children:[{icon:Jo,label:"Registrar Lquidos",shortLabel:"Lquidos",color:"from-blue-500 to-cyan-500",bgColor:"bg-blue-500/10"},{icon:mr,label:"Administrar Medicamento",shortLabel:"Medicamentos",color:"from-purple-500 to-pink-500",bgColor:"bg-purple-500/10"},{icon:Qr,label:"Verificar Sinais Vitais",shortLabel:"Sinais Vitais",color:"from-red-500 to-rose-500",bgColor:"bg-red-500/10"},{icon:Tr,label:"Dbito de Dreno",shortLabel:"Dreno",color:"from-emerald-500 to-teal-500",bgColor:"bg-emerald-500/10"}].map((j,w)=>s.jsx(ne,{variant:"outline",className:`w-full justify-start text-left group/action hover:scale-[1.02] transition-all duration-300 border-border/50 hover:border-transparent hover:shadow-lg bg-white/50 dark:bg-gray-900/50 backdrop-blur-sm ${h?"h-auto p-3":"h-auto p-4"}`,onClick:()=>e("/care"),style:{animationDelay:`${(w+7)*100}ms`,animation:o?"slideInRight 0.6s ease-out forwards":"none"},children:s.jsxs("div",{className:`flex items-center w-full ${h?"gap-3":"gap-4"}`,children:[s.jsx("div",{className:`rounded-xl bg-gradient-to-br ${j.color} shadow-lg group-hover/action:scale-110 group-hover/action:rotate-6 transition-all duration-300 ${h?"p-2":"p-3"}`,children:s.jsx(j.icon,{className:`text-white ${h?"h-4 w-4":"h-5 w-5"}`})}),s.jsx("div",{className:"flex-1 min-w-0",children:s.jsx("span",{className:`font-medium text-foreground group-hover/action:text-blue-600 dark:group-hover/action:text-blue-400 transition-colors duration-300 ${h?"text-sm":""}`,children:h?j.shortLabel:j.label})}),!h&&s.jsx(sx,{className:"h-4 w-4 text-muted-foreground group-hover/action:text-blue-500 group-hover/action:translate-x-1 group-hover/action:-translate-y-1 transition-all duration-300"})]})},w))})]})]}),g&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(xm,{className:"h-5 w-5 text-blue-600"}),s.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Sistema de Check-in/Check-out"}),s.jsx(At,{variant:"secondary",className:"bg-blue-100 text-blue-800",children:(t==null?void 0:t.role)==="doctor"?"Mdico":"Enfermeira"})]}),s.jsx(K8,{})]}),s.jsx(G4,{open:r,onOpenChange:a})]})}),$8=({onClose:e,onSuccess:t})=>{const[r,a]=b.useState({name:"",birth_date:"",admission_date:"",bed:"",email:"",phone:"",notes:"",status:"estavel",photo:""}),[n,i]=b.useState(null),[o,A]=b.useState(!1),{addPatient:l}=xi(),c=p=>{const{name:g,value:y}=p.target;a(x=>M(_({},x),{[g]:y}))},d=p=>{a(g=>M(_({},g),{status:p}))},h=p=>{var y;const g=(y=p.target.files)==null?void 0:y[0];if(g){const x=new FileReader;x.onload=B=>{var w;const j=(w=B.target)==null?void 0:w.result;i(j),a(N=>M(_({},N),{photo:j}))},x.readAsDataURL(g)}},m=()=>{i(null),a(p=>M(_({},p),{photo:""}))},u=p=>Ae(void 0,null,function*(){if(p.preventDefault(),!r.name||!r.birth_date||!r.bed){Pg.error("Por favor, preencha todos os campos obrigatrios.");return}A(!0);try{const g={name:r.name,full_name:r.name,birth_date:r.birth_date,admission_date:r.admission_date||null,bed:r.bed,email:r.email||null,phone:r.phone||null,notes:r.notes||null,status:r.status,photo:r.photo||null};yield l(g),a({name:"",birth_date:"",admission_date:"",bed:"",email:"",phone:"",notes:"",status:"estavel",photo:""}),i(null),Pg.success("Paciente cadastrado com sucesso!"),t()}catch(g){console.error("Erro ao cadastrar paciente:",g),Pg.error("Erro ao cadastrar paciente. Tente novamente.")}finally{A(!1)}});return s.jsx(Rn,{open:!0,onOpenChange:e,children:s.jsxs(wn,{className:"sm:max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx(bn,{children:s.jsxs(yn,{className:"flex items-center gap-2",children:[s.jsx(JE,{className:"h-5 w-5 text-primary"}),"Cadastrar Novo Paciente"]})}),s.jsx("div",{className:"py-4",children:s.jsxs("form",{onSubmit:u,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ie,{htmlFor:"name",children:"Nome Completo *"}),s.jsx(_e,{id:"name",name:"name",value:r.name||"",onChange:c,placeholder:"Digite o nome completo",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ie,{htmlFor:"photo",children:"Foto do Paciente"}),s.jsxs("div",{className:"flex flex-col space-y-2",children:[s.jsx(_e,{id:"photo",type:"file",accept:"image/*",onChange:h,className:"cursor-pointer"}),n&&s.jsxs("div",{className:"relative w-32 h-32 mx-auto",children:[s.jsx("img",{src:n,alt:"Preview",className:"w-full h-full object-cover rounded-lg border"}),s.jsx("button",{type:"button",onClick:m,className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600 transition-colors",children:s.jsx(ja,{size:16})})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ie,{htmlFor:"birth_date",children:"Data de Nascimento *"}),s.jsx(_e,{id:"birth_date",name:"birth_date",type:"date",value:r.birth_date||"",onChange:c,required:!0})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ie,{htmlFor:"admission_date",children:"ltima Atualizao"}),s.jsx(_e,{id:"admission_date",name:"admission_date",type:"date",value:r.admission_date||"",onChange:c,placeholder:"Data da ltima atualizao"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ie,{htmlFor:"bed",children:"Leito *"}),s.jsx(_e,{id:"bed",name:"bed",value:r.bed||"",onChange:c,placeholder:"Ex: 101-A",required:!0})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ie,{htmlFor:"email",children:"Email"}),s.jsx(_e,{id:"email",name:"email",type:"email",value:r.email||"",onChange:c,placeholder:"email@exemplo.com"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ie,{htmlFor:"phone",children:"Telefone"}),s.jsx(_e,{id:"phone",name:"phone",type:"tel",value:r.phone||"",onChange:c,placeholder:"(11) 99999-9999"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ie,{htmlFor:"status",children:"Status do Paciente"}),s.jsxs(kt,{value:r.status,onValueChange:d,children:[s.jsx(Et,{children:s.jsx(Lt,{placeholder:"Selecione o status"})}),s.jsxs(Ut,{children:[s.jsx(Se,{value:"estavel",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 bg-emerald-500 rounded-full"}),"Estvel"]})}),s.jsx(Se,{value:"instavel",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full"}),"Instvel"]})}),s.jsx(Se,{value:"em_observacao",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 bg-yellow-500 rounded-full"}),"Em Observao"]})}),s.jsx(Se,{value:"em_alta",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),"Em Alta"]})})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ie,{htmlFor:"notes",children:"Observaes"}),s.jsx(Ar,{id:"notes",name:"notes",value:r.notes||"",onChange:c,placeholder:"Observaes sobre o paciente...",rows:3})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsx(ne,{type:"button",variant:"outline",onClick:e,className:"flex-1",children:"Cancelar"}),s.jsxs(ne,{type:"submit",className:"flex-1",disabled:o,children:[o&&s.jsx(Ms,{className:"mr-2 h-4 w-4 animate-spin"}),"Cadastrar Paciente"]})]})]})})]})})},V8=Yi("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),en=b.forwardRef((n,a)=>{var i=n,{className:e,variant:t}=i,r=he(i,["className","variant"]);return s.jsx("div",_({ref:a,role:"alert",className:ze(V8({variant:t}),e)},r))});en.displayName="Alert";const z8=b.forwardRef((a,r)=>{var n=a,{className:e}=n,t=he(n,["className"]);return s.jsx("h5",_({ref:r,className:ze("mb-1 font-medium leading-none tracking-tight",e)},t))});z8.displayName="AlertTitle";const tn=b.forwardRef((a,r)=>{var n=a,{className:e}=n,t=he(n,["className"]);return s.jsx("div",_({ref:r,className:ze("text-sm [&_p]:leading-relaxed",e)},t))});tn.displayName="AlertDescription";const q8=({isOpen:e,onClose:t,credentials:r,patientName:a})=>{const[n,i]=b.useState(!1),[o,A]=b.useState(null),{toast:l}=ir(),c=(m,u)=>Ae(void 0,null,function*(){try{yield navigator.clipboard.writeText(m),A(u),l({title:"Copiado!",description:`${u} copiado para a rea de transferncia.`}),setTimeout(()=>A(null),2e3)}catch(p){l({title:"Erro",description:"No foi possvel copiar para a rea de transferncia.",variant:"destructive"})}}),d=`${window.location.origin}/family/login`,h=r?`${window.location.origin}/family/${r.patient_id}/${r.token}`:"";return r?s.jsx(Rn,{open:e,onOpenChange:t,children:s.jsxs(wn,{className:"max-w-[95vw] sm:max-w-2xl",children:[s.jsxs(bn,{children:[s.jsxs(yn,{className:"flex items-center gap-2",children:[s.jsx(Or,{className:"h-5 w-5"}),"Credenciais de Acesso Familiar"]}),s.jsxs(Yo,{children:["Credenciais geradas para acesso aos dados de ",a]})]}),s.jsxs("div",{className:"space-y-6 overflow-y-auto max-h-[60vh]",children:[s.jsxs(en,{children:[s.jsx(Ts,{className:"h-4 w-4"}),s.jsxs(tn,{children:[s.jsx("strong",{children:"Importante:"})," Compartilhe essas credenciais apenas com familiares autorizados. Elas permitem acesso completo aos dados mdicos do paciente."]})]}),s.jsxs(Ee,{children:[s.jsxs(He,{children:[s.jsx(Ke,{className:"text-lg",children:"Dados de Acesso"}),s.jsx(St,{children:"Use essas credenciais para fazer login no sistema"})]}),s.jsxs(Ue,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ie,{htmlFor:"username",className:"text-sm font-medium",children:"Usurio"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(_e,{id:"username",value:r.username,readOnly:!0,className:"font-mono"}),s.jsx(ne,{variant:"outline",size:"icon",onClick:()=>c(r.username,"Usurio"),className:o==="Usurio"?"bg-green-50 border-green-200":"",children:o==="Usurio"?s.jsx(Rr,{className:"h-4 w-4 text-green-600"}):s.jsx(Nd,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ie,{htmlFor:"password",className:"text-sm font-medium",children:"Senha"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(_e,{id:"password",type:n?"text":"password",value:r.password,readOnly:!0,className:"font-mono pr-10"}),s.jsx(ne,{variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full px-3",onClick:()=>i(!n),children:n?s.jsx(tl,{className:"h-4 w-4"}):s.jsx(Zs,{className:"h-4 w-4"})})]}),s.jsx(ne,{variant:"outline",size:"icon",onClick:()=>c(r.password,"Senha"),className:o==="Senha"?"bg-green-50 border-green-200":"",children:o==="Senha"?s.jsx(Rr,{className:"h-4 w-4 text-green-600"}):s.jsx(Nd,{className:"h-4 w-4"})})]})]})]})]}),s.jsxs(Ee,{children:[s.jsxs(He,{children:[s.jsx(Ke,{className:"text-lg",children:"Links de Acesso"}),s.jsx(St,{children:"Duas formas de acessar os dados do paciente"})]}),s.jsxs(Ue,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(ie,{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(Gi,{className:"h-4 w-4"}),"Pgina de Login (Recomendado)"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(_e,{value:d,readOnly:!0,className:"text-sm"}),s.jsx(ne,{variant:"outline",size:"icon",onClick:()=>c(d,"Link de Login"),className:o==="Link de Login"?"bg-green-50 border-green-200":"",children:o==="Link de Login"?s.jsx(Rr,{className:"h-4 w-4 text-green-600"}):s.jsx(Nd,{className:"h-4 w-4"})})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Use este link e faa login com as credenciais acima"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(ie,{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(LE,{className:"h-4 w-4"}),"Acesso Direto"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(_e,{value:h,readOnly:!0,className:"text-sm"}),s.jsx(ne,{variant:"outline",size:"icon",onClick:()=>c(h,"Link Direto"),className:o==="Link Direto"?"bg-green-50 border-green-200":"",children:o==="Link Direto"?s.jsx(Rr,{className:"h-4 w-4 text-green-600"}):s.jsx(Nd,{className:"h-4 w-4"})})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Acesso direto aos dados (sem necessidade de login)"})]})]})]}),s.jsxs("div",{className:"flex items-center justify-between pt-4 border-t",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(At,{variant:"secondary",children:["Token: ",r.token.slice(0,8),"..."]}),s.jsxs(At,{variant:"outline",children:["Criado: ",new Date(r.created_at).toLocaleDateString("pt-BR")]})]}),s.jsx(ne,{onClick:t,children:"Fechar"})]})]})]})}):null},G8=()=>{var Ye,We,xt;const[e,t]=b.useState(""),[r,a]=b.useState("all"),[n,i]=b.useState(!1),[o,A]=b.useState(!1),[l,c]=b.useState(!1),[d,h]=b.useState(!1),[m,u]=b.useState(!1),[p,g]=b.useState(null),[y,x]=b.useState(""),[B,j]=b.useState(""),[w,N]=b.useState(null),[I,U]=b.useState({name:"",birth_date:"",admission_date:"",bed:"",notes:"",photo:"",status:"estavel"}),[D,L]=b.useState(null),[P,S]=b.useState("editor"),[E,Q]=b.useState(!1),[V,ae]=b.useState(!1),[Y,q]=b.useState(!1);b.useState(null);const{patients:K,loading:Z,deletePatient:fe,updatePatient:we,refetch:T}=xi(),{generateFamilyToken:G}=Wu(),{toast:X}=ir();rA();const se=Zr();b.useEffect(()=>{q(!0)},[]);const le=(ye,gt)=>Ae(void 0,null,function*(){try{yield fe(ye),X({title:"Paciente removido",description:`${gt} foi removido com sucesso.`})}catch(yt){X({title:"Erro",description:"No foi possvel remover o paciente.",variant:"destructive"})}}),de=(ye,gt)=>{j(ye),x(gt),S("editor"),c(!0)},Ne=()=>Ae(void 0,null,function*(){if(!(!B||!P)){Q(!0);try{const ye=yield G(B,P);g(ye),c(!1),A(!0)}catch(ye){X({title:"Erro",description:"No foi possvel gerar o token de acesso.",variant:"destructive"})}finally{Q(!1)}}}),je=ye=>{N(ye),h(!0)},Ie=ye=>{N(ye),U({name:ye.name,birth_date:ye.birth_date,admission_date:ye.admission_date||"",bed:ye.bed,notes:ye.notes||"",photo:ye.photo||"",status:ye.status}),L(ye.photo||null),u(!0)},Oe=()=>Ae(void 0,null,function*(){if(w){ae(!0);try{const ye=M(_({},I),{full_name:I.name});ye.admission_date===""&&delete ye.admission_date,console.log(" Atualizando paciente:",w.id,ye),yield we(w.id,ye),u(!1),X({title:"Paciente atualizado",description:"As informaes foram atualizadas com sucesso."}),T()}catch(ye){console.error(" Erro ao atualizar paciente:",ye),X({title:"Erro",description:ye instanceof Error?ye.message:"No foi possvel atualizar o paciente.",variant:"destructive"})}finally{ae(!1)}}}),ue=ye=>{var yt;const gt=(yt=ye.target.files)==null?void 0:yt[0];if(gt)if(gt.type.startsWith("image/")){const ct=new FileReader;ct.onload=me=>{var st;const Je=(st=me.target)==null?void 0:st.result;U(nt=>M(_({},nt),{photo:Je})),L(Je)},ct.readAsDataURL(gt)}else X({title:"Erro",description:"Por favor, selecione apenas arquivos de imagem.",variant:"destructive"})},ke=()=>{U(ye=>M(_({},ye),{photo:""})),L(null)},ge=ye=>{switch(ye){case"estavel":return"bg-emerald-50 text-emerald-700 border-emerald-200 shadow-emerald-100";case"instavel":return"bg-red-50 text-red-700 border-red-200 shadow-red-100";case"em_observacao":return"bg-amber-50 text-amber-700 border-amber-200 shadow-amber-100";case"em_alta":return"bg-blue-50 text-blue-700 border-blue-200 shadow-blue-100";case"Crtico":return"bg-red-50 text-red-700 border-red-200 shadow-red-100";case"Estvel":return"bg-emerald-50 text-emerald-700 border-emerald-200 shadow-emerald-100";case"Recuperao":return"bg-blue-50 text-blue-700 border-blue-200 shadow-blue-100";default:return"bg-gray-50 text-gray-700 border-gray-200 shadow-gray-100"}},J=ye=>{switch(ye){case"estavel":return"Estvel";case"instavel":return"Instvel";case"em_observacao":return"Em Observao";case"em_alta":return"Em Alta";case"Crtico":return"Crtico";case"Estvel":return"Estvel";case"Recuperao":return"Recuperao";default:return"Indefinido"}},xe=ye=>new Date().getFullYear()-new Date(ye).getFullYear(),Te=K.filter(ye=>{const gt=ye.name.toLowerCase().includes(e.toLowerCase())||ye.bed.toLowerCase().includes(e.toLowerCase())||ye.notes&&ye.notes.toLowerCase().includes(e.toLowerCase()),yt=r==="all"||ye.status===r;return gt&&yt}),Qe=(()=>{const ye=K.length,gt=K.filter(Je=>Je.status==="estavel").length,yt=K.filter(Je=>Je.status==="instavel").length,ct=K.filter(Je=>Je.status==="em_observacao").length,me=K.filter(Je=>Je.status==="em_alta").length;return{total:ye,stable:gt,unstable:yt,observation:ct,discharge:me}})();return s.jsx("div",{className:`min-h-screen bg-gradient-to-br from-slate-50 via-blue-50/30 to-indigo-50/20 transition-all duration-1000 ${Y?"opacity-100":"opacity-0"}`,children:s.jsxs("div",{className:"container mx-auto px-6 py-8 space-y-8",children:[s.jsxs("div",{className:`relative transition-all duration-800 ${Y?"animate-slide-in-up":"opacity-0 translate-y-8"}`,children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600/10 via-indigo-600/5 to-purple-600/10 rounded-2xl blur-2xl"}),s.jsx("div",{className:"relative bg-white/80 dark:bg-gray-900/80 backdrop-blur-xl border border-white/30 rounded-2xl shadow-xl p-4 hover:shadow-2xl transition-all duration-500",children:s.jsx("div",{className:"flex flex-col lg:flex-row items-start lg:items-center justify-between gap-4",children:s.jsxs("div",{className:"space-y-3 flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative p-2 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-xl shadow-md hover:shadow-lg transition-all duration-300 hover:scale-105",children:[s.jsx(Xs,{className:"h-5 w-5 text-white"}),s.jsx("div",{className:"absolute -top-0.5 -right-0.5 w-3 h-3 bg-emerald-400 rounded-full border border-white animate-pulse"})]}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-gray-900 via-blue-700 to-indigo-800 bg-clip-text text-transparent",children:"Pacientes"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm font-medium",children:"Gesto inteligente de pacientes internados"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3",children:[s.jsx("div",{className:"bg-gradient-to-br from-emerald-50 to-emerald-100/50 rounded-lg p-3 border border-emerald-200/50",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"p-1.5 bg-emerald-500 rounded-md",children:s.jsx(Qr,{className:"h-3 w-3 text-white"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-emerald-600 text-xs font-medium",children:"Estveis"}),s.jsx("p",{className:"text-lg font-bold text-emerald-700",children:Qe.stable})]})]})}),s.jsx("div",{className:"bg-gradient-to-br from-amber-50 to-amber-100/50 rounded-lg p-3 border border-amber-200/50",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"p-1.5 bg-amber-500 rounded-md",children:s.jsx(Zs,{className:"h-3 w-3 text-white"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-amber-600 text-xs font-medium",children:"Observao"}),s.jsx("p",{className:"text-lg font-bold text-amber-700",children:Qe.observation})]})]})}),s.jsx("div",{className:"bg-gradient-to-br from-red-50 to-red-100/50 rounded-lg p-3 border border-red-200/50",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"p-1.5 bg-red-500 rounded-md",children:s.jsx(Tr,{className:"h-3 w-3 text-white"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-red-600 text-xs font-medium",children:"Instveis"}),s.jsx("p",{className:"text-lg font-bold text-red-700",children:Qe.unstable})]})]})}),s.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100/50 rounded-lg p-3 border border-blue-200/50",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"p-1.5 bg-blue-500 rounded-md",children:s.jsx(di,{className:"h-3 w-3 text-white"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-blue-600 text-xs font-medium",children:"Em Alta"}),s.jsx("p",{className:"text-lg font-bold text-blue-700",children:Qe.discharge})]})]})})]}),s.jsxs("div",{className:"flex items-center justify-center gap-4 text-sm text-gray-500 dark:text-gray-400",children:[s.jsxs("span",{className:"flex items-center gap-2 bg-green-50 dark:bg-green-900/20 px-3 py-1 rounded-full",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),Te.length," de ",K.length," pacientes"]}),s.jsx("span",{className:"text-gray-300",children:""}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(wm,{className:"h-3 w-3"}),"Atualizado agora"]})]})]})})})]}),s.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-6 mb-8",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Pacientes"}),s.jsx("p",{className:"text-gray-600",children:"Gerencie e monitore todos os pacientes internados"})]}),s.jsx("div",{className:"flex items-center gap-4",children:s.jsxs(ne,{onClick:()=>i(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-medium shadow-sm",children:[s.jsx(Xr,{className:"h-5 w-5 mr-2"}),"Novo Paciente"]})})]}),s.jsx(Ee,{className:"border border-gray-200 shadow-sm bg-white",children:s.jsx(Ue,{className:"p-8",children:s.jsxs("div",{className:"flex flex-col lg:flex-row items-start lg:items-center gap-8",children:[s.jsx("div",{className:"flex-1 w-full",children:s.jsxs("div",{className:"relative",children:[s.jsx(Xo,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),s.jsx(_e,{placeholder:"Buscar pacientes...",value:e,onChange:ye=>t(ye.target.value),className:"pl-12 h-12 text-base border-gray-300 rounded-lg bg-white focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20"})]})}),s.jsxs("div",{className:"flex items-center gap-4 w-full lg:w-auto",children:[s.jsxs(kt,{value:r,onValueChange:a,children:[s.jsxs(Et,{className:"w-full lg:w-[200px] h-12 rounded-lg border-gray-300 bg-white",children:[s.jsx(lp,{className:"h-4 w-4 mr-2 text-gray-400"}),s.jsx(Lt,{placeholder:"Filtrar por status"})]}),s.jsxs(Ut,{children:[s.jsx(Se,{value:"all",children:"Todos os Status"}),s.jsx(Se,{value:"estavel",children:"Estvel"}),s.jsx(Se,{value:"instavel",children:"Instvel"}),s.jsx(Se,{value:"em_observacao",children:"Em Observao"}),s.jsx(Se,{value:"em_alta",children:"Em Alta"})]})]}),s.jsxs(ne,{variant:"outline",className:"h-12 px-6 rounded-lg border-gray-300 bg-white hover:bg-gray-50 text-gray-700",children:[s.jsx(Ba,{className:"h-4 w-4 mr-2"}),"Exportar"]})]})]})})}),Z?s.jsx("div",{className:"flex justify-center items-center py-32",children:s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx("div",{className:"w-12 h-12 border-3 border-gray-200 border-t-blue-600 rounded-full animate-spin mx-auto"}),s.jsx("p",{className:"text-gray-600",children:"Carregando pacientes..."})]})}):s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-8",children:Te.map((ye,gt)=>s.jsxs(Ee,{className:"border border-gray-200 bg-white shadow-sm hover:shadow-md transition-shadow duration-200 rounded-xl overflow-hidden",children:[s.jsx(He,{className:"p-6 pb-4",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-16 h-16 rounded-lg overflow-hidden border-2 border-gray-100 bg-gray-50",children:ye.photo?s.jsx("img",{src:ye.photo,alt:`Foto de ${ye.name}`,className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full bg-gray-200 flex items-center justify-center",children:s.jsx(Xs,{className:"h-8 w-8 text-gray-400"})})})}),s.jsxs("div",{className:"flex-1 min-w-0 space-y-2",children:[s.jsx(Ke,{className:"text-lg font-semibold text-gray-900 truncate",children:ye.name}),s.jsxs(St,{className:"text-base text-gray-600",children:[xe(ye.birth_date)," anos"]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[s.jsx(xm,{className:"h-4 w-4"}),s.jsxs("span",{children:["Leito ",ye.bed]})]})]}),s.jsx("div",{className:"flex-shrink-0",children:s.jsx(At,{className:`${ge(ye.status)} px-3 py-1 rounded-full text-sm font-medium`,children:J(ye.status)})})]})}),s.jsx(Ue,{className:"p-4 pt-0",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[s.jsx("p",{className:"text-xs font-medium text-gray-700 mb-1",children:"ltima Atualizao"}),s.jsx("p",{className:"text-sm font-semibold text-gray-900",children:ye.admission_date?new Date(ye.admission_date).toLocaleDateString("pt-BR"):new Date(ye.created_at).toLocaleDateString("pt-BR")})]}),s.jsxs("div",{className:"bg-blue-50 rounded-lg p-3",children:[s.jsx("p",{className:"text-xs font-medium text-blue-700 mb-1",children:"Observaes"}),s.jsx("p",{className:"text-xs text-gray-700 line-clamp-2",children:ye.notes||"Nenhuma observao registrada"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs(ne,{variant:"outline",size:"sm",onClick:()=>je(ye),className:"h-8 rounded-md border-gray-300 text-gray-700 hover:bg-gray-50 justify-center text-xs",children:[s.jsx(Zs,{className:"h-3 w-3 mr-1"}),"Ver"]}),s.jsxs(ne,{variant:"outline",size:"sm",onClick:()=>Ie(ye),className:"h-8 rounded-md border-gray-300 text-gray-700 hover:bg-gray-50 justify-center text-xs",children:[s.jsx(rl,{className:"h-3 w-3 mr-1"}),"Editar"]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs(ne,{variant:"outline",size:"sm",onClick:()=>se(`/medication-plan/${ye.id}`),className:"h-8 rounded-md border-blue-300 text-blue-700 hover:bg-blue-50 justify-center text-xs",children:[s.jsx(mr,{className:"h-3 w-3 mr-1"}),"Medicao"]}),s.jsxs(ne,{variant:"outline",size:"sm",onClick:()=>de(ye.id,ye.name),className:"h-8 rounded-md border-green-300 text-green-700 hover:bg-green-50 justify-center text-xs",children:[s.jsx($E,{className:"h-3 w-3 mr-1"}),"Compartilhar"]})]}),s.jsx("div",{className:"grid grid-cols-1 gap-2",children:s.jsxs(ne,{variant:"outline",size:"sm",className:"h-8 rounded-md border-red-300 text-red-700 hover:bg-red-50 justify-center text-xs",onClick:()=>le(ye.id,ye.name),children:[s.jsx(ha,{className:"h-3 w-3 mr-1"}),"Remover"]})})]})})]},ye.id))}),!Z&&Te.length===0&&s.jsxs("div",{className:"flex flex-col items-center justify-center py-20 px-4",children:[s.jsxs("div",{className:"relative mb-8",children:[s.jsx("div",{className:"w-32 h-32 bg-gradient-to-br from-slate-200/50 to-slate-300/50 rounded-full flex items-center justify-center shadow-lg",children:s.jsx(Xs,{className:"h-16 w-16 text-slate-700"})}),s.jsx("div",{className:"absolute -top-2 -right-2 w-8 h-8 bg-gradient-to-br from-slate-400 to-slate-800 rounded-full flex items-center justify-center shadow-md",children:s.jsx("div",{className:"w-2 h-2 bg-white rounded-full"})})]}),s.jsx("h3",{className:"text-2xl font-bold text-slate-900 mb-3",children:"Nenhum paciente encontrado"}),s.jsx("p",{className:"text-slate-700/80 text-center max-w-md mb-8 leading-relaxed",children:e?`No encontramos pacientes que correspondam  busca "${e}". Tente ajustar os termos de busca.`:"Ainda no h pacientes cadastrados no sistema. Comece adicionando o primeiro paciente."}),s.jsxs("div",{className:"flex gap-4",children:[e&&s.jsx(ne,{variant:"outline",onClick:()=>t(""),className:"h-12 px-6 rounded-xl border-2 border-slate-300 bg-white/90 hover:border-slate-400 hover:bg-slate-50 hover:text-slate-800 transition-all duration-200 shadow-sm hover:shadow-md font-medium",children:"Limpar busca"}),s.jsxs(ne,{onClick:()=>i(!0),className:"h-12 px-8 rounded-xl bg-gradient-to-r from-slate-400 to-slate-800 hover:from-slate-500 hover:to-slate-900 text-white font-semibold shadow-lg hover:shadow-xl transition-all duration-200 transform hover:scale-105",children:[s.jsx(Xr,{className:"h-5 w-5 mr-2"}),"Adicionar Primeiro Paciente"]})]})]}),n&&s.jsx($8,{onClose:()=>i(!1),onSuccess:()=>{T(),i(!1)}}),s.jsx(q8,{isOpen:o,credentials:p,patientName:y,onClose:()=>{A(!1),g(null),x("")}}),s.jsx(Rn,{open:l,onOpenChange:c,children:s.jsxs(wn,{className:"sm:max-w-md",children:[s.jsxs(bn,{children:[s.jsxs(yn,{className:"flex items-center gap-2",children:[s.jsx(tA,{className:"h-5 w-5 text-primary"}),"Definir Permisses de Acesso"]}),s.jsxs(Yo,{children:["Escolha o nvel de acesso para o familiar de ",s.jsx("strong",{children:y}),"."]})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ie,{htmlFor:"role-select",children:"Tipo de Acesso"}),s.jsxs(kt,{value:P,onValueChange:ye=>S(ye),children:[s.jsx(Et,{id:"role-select",children:s.jsx(Lt,{placeholder:"Selecione o tipo de acesso"})}),s.jsxs(Ut,{children:[s.jsx(Se,{value:"editor",children:s.jsxs("div",{className:"flex flex-col items-start",children:[s.jsx("span",{className:"font-medium",children:"Editor"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"Pode visualizar e registrar cuidados"})]})}),s.jsx(Se,{value:"viewer",children:s.jsxs("div",{className:"flex flex-col items-start",children:[s.jsx("span",{className:"font-medium",children:"Visualizador"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"Apenas visualizar relatrios"})]})})]})]})]}),s.jsxs("div",{className:"bg-muted/50 p-3 rounded-lg",children:[s.jsxs("h4",{className:"text-sm font-medium mb-2",children:["Permisses do ",P==="editor"?"Editor":"Visualizador",":"]}),s.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[s.jsx("li",{children:" Visualizar relatrios e histrico"}),P==="editor"&&s.jsxs(s.Fragment,{children:[s.jsx("li",{children:" Registrar lquidos e refeies"}),s.jsx("li",{children:" Registrar medicamentos"}),s.jsx("li",{children:" Registrar atividades e observaes"})]})]})]})]}),s.jsxs(ec,{children:[s.jsx(ne,{variant:"outline",onClick:()=>c(!1),disabled:E,children:"Cancelar"}),s.jsxs(ne,{onClick:Ne,disabled:E,children:[E&&s.jsx(Ms,{className:"mr-2 h-4 w-4 animate-spin"}),"Gerar Credenciais"]})]})]})}),s.jsx(Rn,{open:d,onOpenChange:h,children:s.jsxs(wn,{className:"max-w-2xl max-w-[95vw] sm:max-w-2xl max-h-[90vh] overflow-y-auto bg-gradient-to-br from-white to-slate-50/95 backdrop-blur-xl border-0 shadow-2xl",children:[s.jsx(bn,{className:"pb-6 border-b border-slate-200/50",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"w-20 h-20 rounded-2xl overflow-hidden border-3 border-white shadow-lg bg-gradient-to-br from-slate-400 to-slate-800 flex items-center justify-center",children:w!=null&&w.photo?s.jsx("img",{src:w.photo,alt:`Foto de ${w.name}`,className:"w-full h-full object-cover"}):s.jsx(Xs,{className:"h-10 w-10 text-white"})}),s.jsx("div",{className:"absolute -bottom-1 -right-1 w-6 h-6 bg-emerald-500 rounded-full border-2 border-white flex items-center justify-center",children:s.jsx("div",{className:"w-2 h-2 bg-white rounded-full animate-pulse"})})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx(yn,{className:"text-2xl font-bold text-slate-900 mb-1",children:w==null?void 0:w.name}),s.jsxs("p",{className:"text-slate-700/80 font-medium",children:["Leito ",w==null?void 0:w.bed,"  ",w?xe(w.birth_date):0," anos"]})]})]})}),w&&s.jsxs("div",{className:"py-6 space-y-6",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-slate-900 mb-2",children:"Status Atual"}),s.jsxs("span",{className:`inline-flex items-center px-4 py-2 rounded-full text-sm font-semibold shadow-sm ${(Ye=w.notes)!=null&&Ye.includes("crtico")?"bg-red-100 text-red-800 border border-red-200":"bg-emerald-100 text-emerald-800 border border-emerald-200"}`,children:[s.jsx("div",{className:`w-2 h-2 rounded-full mr-2 ${(We=w.notes)!=null&&We.includes("crtico")?"bg-red-500":"bg-emerald-500"}`}),(xt=w.notes)!=null&&xt.includes("crtico")?"Crtico":"Estvel"]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"bg-slate-50/80 rounded-xl p-4",children:[s.jsx(ie,{className:"text-slate-700 font-semibold mb-2 block",children:"Data de Nascimento"}),s.jsx("p",{className:"text-slate-900 font-medium",children:new Date(w.birth_date).toLocaleDateString("pt-BR")})]}),s.jsxs("div",{className:"bg-slate-50/80 rounded-xl p-4",children:[s.jsx(ie,{className:"text-slate-700 font-semibold mb-2 block",children:"Idade"}),s.jsxs("p",{className:"text-slate-900 font-medium",children:[xe(w.birth_date)," anos"]})]})]}),s.jsxs("div",{className:"bg-slate-50/80 rounded-xl p-4",children:[s.jsx(ie,{className:"text-slate-700 font-semibold mb-2 block",children:"ltima Atualizao"}),s.jsx("p",{className:"text-slate-900 font-medium",children:w.admission_date?new Date(w.admission_date).toLocaleDateString("pt-BR"):new Date(w.created_at).toLocaleDateString("pt-BR")})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-slate-900 mb-2",children:"Observaes Mdicas"}),s.jsx("div",{className:"bg-gradient-to-r from-slate-50/80 to-slate-100/80 rounded-xl p-4 border border-slate-200/50",children:s.jsx("p",{className:"text-slate-800 leading-relaxed",children:w.notes||"Nenhuma observao registrada no momento"})})]})]}),s.jsxs(ec,{className:"pt-6 border-t border-slate-200/50",children:[s.jsx(ne,{variant:"outline",onClick:()=>h(!1),className:"border-slate-300 bg-white/90 hover:bg-slate-50 hover:border-slate-400 text-slate-700 hover:text-slate-800",children:"Fechar"}),s.jsx(ne,{onClick:()=>{h(!1),Ie(w)},className:"bg-gradient-to-r from-slate-400 to-slate-800 hover:from-slate-500 hover:to-slate-900 text-white",children:"Editar Paciente"})]})]})}),s.jsx(Rn,{open:m,onOpenChange:u,children:s.jsxs(wn,{className:"sm:max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx(bn,{children:s.jsxs(yn,{className:"flex items-center gap-2",children:[s.jsx(rl,{className:"h-5 w-5 text-primary"}),"Editar Paciente"]})}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ie,{htmlFor:"edit-name",children:"Nome Completo *"}),s.jsx(_e,{id:"edit-name",name:"name",value:I.name,onChange:ye=>U(gt=>M(_({},gt),{name:ye.target.value})),placeholder:"Digite o nome completo",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ie,{htmlFor:"edit-birth-date",children:"Data de Nascimento *"}),s.jsx(_e,{id:"edit-birth-date",name:"birth_date",type:"date",value:I.birth_date,onChange:ye=>U(gt=>M(_({},gt),{birth_date:ye.target.value})),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ie,{htmlFor:"edit-admission-date",children:"ltima Atualizao"}),s.jsx(_e,{id:"edit-admission-date",name:"admission_date",type:"date",value:I.admission_date,onChange:ye=>U(gt=>M(_({},gt),{admission_date:ye.target.value})),placeholder:"Data da ltima atualizao"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ie,{htmlFor:"edit-bed",children:"Leito *"}),s.jsx(_e,{id:"edit-bed",name:"bed",value:I.bed,onChange:ye=>U(gt=>M(_({},gt),{bed:ye.target.value})),placeholder:"Ex: 101-A",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ie,{htmlFor:"edit-notes",children:"Observaes"}),s.jsx(Ar,{id:"edit-notes",name:"notes",value:I.notes,onChange:ye=>U(gt=>M(_({},gt),{notes:ye.target.value})),placeholder:"Observaes sobre o paciente...",rows:3})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ie,{htmlFor:"edit-status",children:"Status do Paciente"}),s.jsxs(kt,{value:I.status,onValueChange:ye=>U(gt=>M(_({},gt),{status:ye})),children:[s.jsx(Et,{children:s.jsx(Lt,{placeholder:"Selecione o status"})}),s.jsxs(Ut,{children:[s.jsx(Se,{value:"estavel",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 bg-emerald-500 rounded-full"}),"Estvel"]})}),s.jsx(Se,{value:"instavel",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full"}),"Instvel"]})}),s.jsx(Se,{value:"em_observacao",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 bg-yellow-500 rounded-full"}),"Em Observao"]})}),s.jsx(Se,{value:"em_alta",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),"Em Alta"]})})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ie,{children:"Foto do Paciente"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(_e,{type:"file",accept:"image/*",onChange:ue,className:"cursor-pointer"}),D&&s.jsxs("div",{className:"relative inline-block",children:[s.jsx("img",{src:D,alt:"Preview da foto",className:"w-20 h-20 object-cover rounded-lg border"}),s.jsx(ne,{type:"button",variant:"destructive",size:"sm",className:"absolute -top-2 -right-2 h-6 w-6 rounded-full p-0",onClick:ke,children:s.jsx(ja,{className:"h-3 w-3"})})]})]})]})]}),s.jsxs(ec,{children:[s.jsx(ne,{variant:"outline",onClick:()=>u(!1),disabled:V,children:"Cancelar"}),s.jsxs(ne,{onClick:Oe,disabled:V,children:[V&&s.jsx(Ms,{className:"mr-2 h-4 w-4 animate-spin"}),"Salvar Alteraes"]})]})]})})]})})};var Qp="Tabs",[W8,Nq]=mi(Qp,[xp]),W4=xp(),[J8,F1]=W8(Qp),J4=b.forwardRef((e,t)=>{const u=e,{__scopeTabs:r,value:a,onValueChange:n,defaultValue:i,orientation:o="horizontal",dir:A,activationMode:l="automatic"}=u,c=he(u,["__scopeTabs","value","onValueChange","defaultValue","orientation","dir","activationMode"]),d=sp(A),[h,m]=Ec({prop:a,onChange:n,defaultProp:i!=null?i:"",caller:Qp});return s.jsx(J8,{scope:r,baseId:pc(),value:h,onValueChange:m,orientation:o,dir:d,activationMode:l,children:s.jsx(vr.div,M(_({dir:d,"data-orientation":o},c),{ref:t}))})});J4.displayName=Qp;var X4="TabsList",Y4=b.forwardRef((e,t)=>{const A=e,{__scopeTabs:r,loop:a=!0}=A,n=he(A,["__scopeTabs","loop"]),i=F1(X4,r),o=W4(r);return s.jsx(Dj,M(_({asChild:!0},o),{orientation:i.orientation,dir:i.dir,loop:a,children:s.jsx(vr.div,M(_({role:"tablist","aria-orientation":i.orientation},n),{ref:t}))}))});Y4.displayName=X4;var Z4="TabsTrigger",e_=b.forwardRef((e,t)=>{const h=e,{__scopeTabs:r,value:a,disabled:n=!1}=h,i=he(h,["__scopeTabs","value","disabled"]),o=F1(Z4,r),A=W4(r),l=s_(o.baseId,a),c=a_(o.baseId,a),d=a===o.value;return s.jsx(Pj,M(_({asChild:!0},A),{focusable:!n,active:d,children:s.jsx(vr.button,M(_({type:"button",role:"tab","aria-selected":d,"aria-controls":c,"data-state":d?"active":"inactive","data-disabled":n?"":void 0,disabled:n,id:l},i),{ref:t,onMouseDown:Nt(e.onMouseDown,m=>{!n&&m.button===0&&m.ctrlKey===!1?o.onValueChange(a):m.preventDefault()}),onKeyDown:Nt(e.onKeyDown,m=>{[" ","Enter"].includes(m.key)&&o.onValueChange(a)}),onFocus:Nt(e.onFocus,()=>{const m=o.activationMode!=="manual";!d&&!n&&m&&o.onValueChange(a)})}))}))});e_.displayName=Z4;var t_="TabsContent",r_=b.forwardRef((e,t)=>{const m=e,{__scopeTabs:r,value:a,forceMount:n,children:i}=m,o=he(m,["__scopeTabs","value","forceMount","children"]),A=F1(t_,r),l=s_(A.baseId,a),c=a_(A.baseId,a),d=a===A.value,h=b.useRef(d);return b.useEffect(()=>{const u=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(u)},[]),s.jsx(rn,{present:n||d,children:({present:u})=>s.jsx(vr.div,M(_({"data-state":d?"active":"inactive","data-orientation":A.orientation,role:"tabpanel","aria-labelledby":l,hidden:!u,id:c,tabIndex:0},o),{ref:t,style:M(_({},e.style),{animationDuration:h.current?"0s":void 0}),children:u&&i}))})});r_.displayName=t_;function s_(e,t){return`${e}-trigger-${t}`}function a_(e,t){return`${e}-content-${t}`}var X8=J4,n_=Y4,i_=e_,o_=r_;const E1=X8,kp=b.forwardRef((a,r)=>{var n=a,{className:e}=n,t=he(n,["className"]);return s.jsx(n_,_({ref:r,className:ze("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e)},t))});kp.displayName=n_.displayName;const Ss=b.forwardRef((a,r)=>{var n=a,{className:e}=n,t=he(n,["className"]);return s.jsx(i_,_({ref:r,className:ze("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e)},t))});Ss.displayName=i_.displayName;const Fs=b.forwardRef((a,r)=>{var n=a,{className:e}=n,t=he(n,["className"]);return s.jsx(o_,_({ref:r,className:ze("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e)},t))});Fs.displayName=o_.displayName;const xd={GOOGLE_VISION:{endpoint:"https://vision.googleapis.com/v1/images:annotate",apiKey:""},TESSERACT:{language:"eng+por",options:{logger:e=>console.log(e)}}},MA=class MA{static getInstance(){return MA.instance||(MA.instance=new MA),MA.instance}processImage(t){return Ae(this,null,function*(){try{xd.GOOGLE_VISION.apiKey;const r=yield this.processWithTesseract(t);return r.success?r:yield this.processWithSimulation(t)}catch(r){return console.error("Erro no processamento OCR:",r),{success:!1,error:"Erro interno no processamento da imagem"}}})}processWithGoogleVision(t){return Ae(this,null,function*(){var r,a,n;try{const i=t.split(",")[1],A=yield(yield fetch(`${xd.GOOGLE_VISION.endpoint}?key=${xd.GOOGLE_VISION.apiKey}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({requests:[{image:{content:i},features:[{type:"TEXT_DETECTION",maxResults:50}]}]})})).json();if((a=(r=A.responses)==null?void 0:r[0])!=null&&a.textAnnotations){const l=((n=A.responses[0].textAnnotations[0])==null?void 0:n.description)||"";return this.parseVitalSigns(l,"google_vision")}throw new Error("Nenhum texto detectado na imagem")}catch(i){return console.error("Erro Google Vision:",i),{success:!1,error:"Erro no processamento com Google Vision API"}}})}processWithTesseract(t){return Ae(this,null,function*(){try{const r=yield zd(()=>import("./tesseract-CYNMApEz.js").then(n=>n.i),__vite__mapDeps([0,1])),{data:{text:a}}=yield r.recognize(t,xd.TESSERACT.language,xd.TESSERACT.options);return this.parseVitalSigns(a,"tesseract")}catch(r){return console.error("Erro Tesseract:",r),{success:!1,error:"Erro no processamento com Tesseract.js"}}})}processWithSimulation(t){return Ae(this,null,function*(){try{return yield new Promise(a=>setTimeout(a,1e3)),this.parseVitalSigns(`
        DRGER Infinity C500
        STI 78 bpm
        SpO2 92%
        FRI 23 rpm
        PNI 129/88 mmHg
        Temp 36.5C
        Monitor de sinais vitais
        Paciente: EDILENE MARIA BEZERRA
        Leito 2
      `,"simulation")}catch(r){return{success:!1,error:`Erro na simulao: ${r instanceof Error?r.message:"Erro desconhecido"}`}}})}parseVitalSigns(t,r){const a={};let n=.7;const i=t.toLowerCase().replace(/[^\w\s\/\-\.]/g," "),o={bloodPressure:/(?:pa|press[a]o|bp|pni)[\s:]*(\d{2,3})[\s\/x\-](\d{2,3})|(\d{2,3})[\s\/x\-](\d{2,3})[\s]*(?:mmhg|pa)/gi,heartRate:/(?:fc|hr|freq.*card|heart.*rate|sti)[\s:]*(\d{2,3})|(\d{2,3})[\s]*(?:bpm|bat)/gi,temperature:/(?:t|temp|temperatura)[\s:]*(\d{2})[\.,](\d{1,2})|(\d{2})[\.,](\d{1,2})[\s]*[c]/gi,oxygenSaturation:/(?:spo2|sat|satura[c][a]o)[\s:]*(\d{2,3})|(\d{2,3})[\s]*%/gi,respiratoryRate:/(?:fr|rr|freq.*resp|resp.*rate|fri)[\s:]*(\d{1,2})|(\d{1,2})[\s]*(?:rpm|resp)/gi},A={stiHeartRate:/sti[\s]*(\d{2,3})/gi,dragerSpO2:/spo2[\s]*(\d{2,3})/gi,friRespiratoryRate:/fri[\s]*(\d{1,2})/gi,pniBloodPressure:/pni[\s]*(\d{2,3})[\s\/](\d{2,3})/gi,largeNumbers:/\b(\d{2,3})\b/g};let l=A.stiHeartRate.exec(i);if(l&&(a.heartRate=l[1],n+=.15),l=A.dragerSpO2.exec(i),l&&(a.oxygenSaturation=l[1],n+=.15),l=A.friRespiratoryRate.exec(i),l&&(a.respiratoryRate=l[1],n+=.15),l=A.pniBloodPressure.exec(i),l&&(a.systolicBP=l[1],a.diastolicBP=l[2],n+=.15),a.systolicBP||(l=o.bloodPressure.exec(i),l&&(a.systolicBP=l[1]||l[3],a.diastolicBP=l[2]||l[4],n+=.1)),a.heartRate||(o.heartRate.lastIndex=0,l=o.heartRate.exec(i),l&&(a.heartRate=l[1]||l[2],n+=.1)),o.temperature.lastIndex=0,l=o.temperature.exec(i),l){const d=`${l[1]||l[3]}.${l[2]||l[4]}`;a.temperature=d,n+=.1}if(a.oxygenSaturation||(o.oxygenSaturation.lastIndex=0,l=o.oxygenSaturation.exec(i),l&&(a.oxygenSaturation=l[1]||l[2],n+=.1)),a.respiratoryRate||(o.respiratoryRate.lastIndex=0,l=o.respiratoryRate.exec(i),l&&(a.respiratoryRate=l[1]||l[2],n+=.1)),Object.keys(a).length<2){const d=i.match(/\b(\d{2,3})\b/g);if(d&&d.length>=3){const h=d.map(m=>parseInt(m)).sort((m,u)=>u-m);for(const m of h){if(!a.systolicBP&&m>=100&&m<=200){const u=d.find(p=>{const g=parseInt(p);return g>=60&&g<=100&&g<m});u&&(a.systolicBP=m.toString(),a.diastolicBP=u,n+=.05)}!a.oxygenSaturation&&m>=85&&m<=100&&(a.oxygenSaturation=m.toString(),n+=.05),!a.heartRate&&m>=50&&m<=150&&(a.heartRate=m.toString(),n+=.05),!a.respiratoryRate&&m>=10&&m<=40&&(a.respiratoryRate=m.toString(),n+=.05)}}}const c=this.validateVitalSigns(a);return{success:Object.keys(c).length>0,data:c,confidence:Math.min(n,1)}}validateVitalSigns(t){const r={};if(t.systolicBP){const a=parseInt(t.systolicBP);a>=90&&a<=200&&(r.systolicBP=t.systolicBP)}if(t.diastolicBP){const a=parseInt(t.diastolicBP);a>=50&&a<=120&&(r.diastolicBP=t.diastolicBP)}if(t.heartRate){const a=parseInt(t.heartRate);a>=40&&a<=200&&(r.heartRate=t.heartRate)}if(t.temperature){const a=parseFloat(t.temperature);a>=32&&a<=42&&(r.temperature=t.temperature)}if(t.oxygenSaturation){const a=parseInt(t.oxygenSaturation);a>=70&&a<=100&&(r.oxygenSaturation=t.oxygenSaturation)}if(t.respiratoryRate){const a=parseInt(t.respiratoryRate);a>=8&&a<=40&&(r.respiratoryRate=t.respiratoryRate)}return r}preprocessImage(t){return Ae(this,null,function*(){return new Promise(r=>{const a=new Image;a.onload=()=>{const n=document.createElement("canvas"),i=n.getContext("2d");n.width=a.width,n.height=a.height,i.drawImage(a,0,0);const o=i.getImageData(0,0,n.width,n.height),A=o.data;for(let l=0;l<A.length;l+=4){const c=Math.round(.299*A[l]+.587*A[l+1]+.114*A[l+2]),d=Math.min(255,Math.max(0,(c-128)*1.5+128));A[l]=d,A[l+1]=d,A[l+2]=d}i.putImageData(o,0,0),r(n.toDataURL("image/jpeg",.9))},a.src=t})})}};hr(MA,"instance");let Px=MA;const nb=Px.getInstance(),Y8=()=>{const{toast:e}=ir();return{processImage:(r,a)=>Ae(void 0,null,function*(){try{const n=yield nb.preprocessImage(r),i=yield nb.processImage(n);if(!i.success)return e({title:"Erro no Processamento",description:i.error||"No foi possvel extrair dados da imagem",variant:"destructive"}),i;if(i.data&&a){const o=yield Z8(i.data,a);o.success?(i.eventId=o.eventId,e({title:"Dados Salvos",description:"Sinais vitais registrados com sucesso no sistema",variant:"default"})):e({title:"Erro ao Salvar",description:o.error||"No foi possvel salvar os dados no sistema",variant:"destructive"})}return i}catch(n){return console.error("Erro no hook OCR:",n),e({title:"Erro Inesperado",description:"Ocorreu um erro durante o processamento da imagem",variant:"destructive"}),{success:!1,error:"Erro inesperado no processamento"}}})}},Z8=(e,t)=>Ae(void 0,null,function*(){try{const{data:{user:r}}=yield et.auth.getUser();if(!r)return{success:!1,error:"Usurio no autenticado"};const a={patient_id:t,type:"vital_signs",occurred_at:new Date().toISOString(),created_by:r.id,heart_rate:e.heartRate?parseInt(e.heartRate):null,oxygen_saturation:e.oxygenSaturation?parseInt(e.oxygenSaturation):null,respiratory_rate:e.respiratoryRate?parseInt(e.respiratoryRate):null,systolic_bp:e.systolicBP?parseInt(e.systolicBP):null,diastolic_bp:e.diastolicBP?parseInt(e.diastolicBP):null,temperature:e.temperature?parseFloat(e.temperature):null,notes:`Dados extrados via OCR - Confiana: ${Math.round((e.confidence||0)*100)}%`},{data:n,error:i}=yield et.from("events").insert(a).select("id").single();return i?(console.error("Erro ao salvar no Supabase:",i),{success:!1,error:`Erro no banco de dados: ${i.message}`}):{success:!0,eventId:n.id}}catch(r){return console.error("Erro ao salvar sinais vitais:",r),{success:!1,error:r instanceof Error?r.message:"Erro desconhecido"}}}),eD=({onDataExtracted:e,onClose:t,isOpen:r,patientId:a})=>{const[n,i]=b.useState(!1),[o,A]=b.useState(null),[l,c]=b.useState(!1),[d,h]=b.useState(null),[m,u]=b.useState(!1),[p,g]=b.useState(null),[y,x]=b.useState("environment"),B=b.useRef(null),j=b.useRef(null),w=b.useRef(null),{toast:N}=ir(),{processImage:I}=Y8(),U=b.useCallback(()=>Ae(void 0,null,function*(){try{const K={video:{facingMode:y,width:{ideal:1920},height:{ideal:1080}}},Z=yield navigator.mediaDevices.getUserMedia(K);if(w.current=Z,B.current){B.current.srcObject=Z;const fe=B.current.play();if(fe!==void 0)try{yield fe}catch(we){we.name!=="AbortError"&&console.error("Erro ao reproduzir vdeo:",we)}}i(!0)}catch(K){console.error("Erro ao acessar cmera:",K),N({title:"Erro de Cmera",description:"No foi possvel acessar a cmera. Verifique as permisses.",variant:"destructive"})}}),[y,N]),D=b.useCallback(()=>{w.current&&(w.current.getTracks().forEach(K=>K.stop()),w.current=null),i(!1)},[]),L=b.useCallback(()=>{D(),x(K=>K==="user"?"environment":"user")},[D]),P=b.useCallback(()=>{if(!B.current||!j.current)return;const K=B.current,Z=j.current,fe=Z.getContext("2d");if(!fe)return;Z.width=K.videoWidth,Z.height=K.videoHeight,fe.drawImage(K,0,0,Z.width,Z.height);const we=Z.toDataURL("image/jpeg",.9);A(we),D()},[D]),S=b.useCallback(()=>Ae(void 0,null,function*(){if(o){c(!0);try{const K=yield I(o,a);K.success&&K.data?(h(K.data),g(_({},K.data)),N({title:"Dados Extrados",description:`Confiana: ${Math.round((K.confidence||0)*100)}%`})):N({title:"Nenhum Dado Encontrado",description:"No foi possvel extrair sinais vitais da imagem. Tente novamente com uma imagem mais clara.",variant:"destructive"})}catch(K){console.error("Erro no processamento:",K),N({title:"Erro no Processamento",description:"Ocorreu um erro ao processar a imagem.",variant:"destructive"})}finally{c(!1)}}}),[o,I,N,a]),E=b.useCallback(K=>{const Z=[];return K.systolicBP&&(Number(K.systolicBP)<70||Number(K.systolicBP)>250)&&Z.push("Presso sistlica deve estar entre 70-250 mmHg"),K.diastolicBP&&(Number(K.diastolicBP)<40||Number(K.diastolicBP)>150)&&Z.push("Presso diastlica deve estar entre 40-150 mmHg"),K.heartRate&&(Number(K.heartRate)<30||Number(K.heartRate)>220)&&Z.push("Frequncia cardaca deve estar entre 30-220 bpm"),K.temperature&&(Number(K.temperature)<32||Number(K.temperature)>45)&&Z.push("Temperatura deve estar entre 32-45C"),K.oxygenSaturation&&(Number(K.oxygenSaturation)<70||Number(K.oxygenSaturation)>100)&&Z.push("Saturao de oxignio deve estar entre 70-100%"),K.respiratoryRate&&(Number(K.respiratoryRate)<8||Number(K.respiratoryRate)>60)&&Z.push("Frequncia respiratria deve estar entre 8-60 rpm"),{isValid:Z.length===0,errors:Z}},[]),Q=b.useCallback(()=>{u(!0)},[]),V=b.useCallback(()=>{u(!1),d&&g(_({},d))},[d]),ae=b.useCallback(()=>{if(!p)return;const K=E(p);if(!K.isValid){N({title:"Dados Invlidos",description:K.errors.join(", "),variant:"destructive"});return}h(p),u(!1),N({title:"Dados Atualizados",description:"Os dados foram validados e atualizados com sucesso."})},[p,E,N]),Y=b.useCallback(()=>{if(!d)return;const K=E(d);if(!K.isValid){N({title:"Validao Necessria",description:"Por favor, corrija os dados antes de confirmar: "+K.errors.join(", "),variant:"destructive"});return}e(d),t()},[d,E,e,t,N]),q=b.useCallback(()=>{A(null),h(null),c(!1),U()},[U]);return b.useEffect(()=>(r&&!n&&!o&&U(),()=>{r||(D(),A(null),h(null),c(!1))}),[r,n,o,U,D]),b.useEffect(()=>{if(n&&r){D();const K=setTimeout(()=>{r&&U()},100);return()=>clearTimeout(K)}},[y]),r?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs(Ee,{className:"w-full max-w-md mx-auto",children:[s.jsxs(He,{className:"pb-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Ke,{className:"text-lg",children:"Captura de Sinais Vitais"}),s.jsx(ne,{variant:"ghost",size:"sm",onClick:t,className:"h-8 w-8 p-0",children:s.jsx(ja,{className:"h-4 w-4"})})]}),s.jsx(St,{children:o?d?"Dados extrados com sucesso":"Processando imagem...":"Posicione o dispositivo sobre os dados dos sinais vitais"})]}),s.jsxs(Ue,{className:"space-y-4",children:[s.jsx("div",{className:"relative aspect-video bg-gray-100 rounded-lg overflow-hidden",children:o?s.jsx("img",{src:o,alt:"Imagem capturada",className:"w-full h-full object-cover"}):s.jsxs(s.Fragment,{children:[s.jsx("video",{ref:B,className:"w-full h-full object-cover",playsInline:!0,muted:!0}),s.jsx("canvas",{ref:j,className:"hidden"}),s.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:s.jsx("div",{className:"border-2 border-white border-dashed rounded-lg w-3/4 h-3/4 flex items-center justify-center",children:s.jsxs("div",{className:"text-white text-center",children:[s.jsx(On,{className:"h-8 w-8 mx-auto mb-2"}),s.jsx("p",{className:"text-sm",children:"Posicione os dados aqui"})]})})})]})}),d&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h4",{className:"font-medium text-sm",children:"Dados Detectados:"}),!m&&s.jsxs(ne,{variant:"outline",size:"sm",onClick:Q,className:"h-7 px-2",children:[s.jsx(o2,{className:"h-3 w-3 mr-1"}),"Editar"]})]}),m?s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"systolic",className:"text-xs",children:"PA Sistlica (mmHg)"}),s.jsx(_e,{id:"systolic",type:"number",value:(p==null?void 0:p.systolicBP)||"",onChange:K=>g(Z=>Z?M(_({},Z),{systolicBP:K.target.value}):{systolicBP:K.target.value,diastolicBP:"",heartRate:"",temperature:"",oxygenSaturation:"",respiratoryRate:""}),className:"h-8 text-sm",placeholder:"120"})]}),s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"diastolic",className:"text-xs",children:"PA Diastlica (mmHg)"}),s.jsx(_e,{id:"diastolic",type:"number",value:(p==null?void 0:p.diastolicBP)||"",onChange:K=>g(Z=>Z?M(_({},Z),{diastolicBP:K.target.value}):{systolicBP:"",diastolicBP:K.target.value,heartRate:"",temperature:"",oxygenSaturation:"",respiratoryRate:""}),className:"h-8 text-sm",placeholder:"80"})]}),s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"heartRate",className:"text-xs",children:"Freq. Cardaca (bpm)"}),s.jsx(_e,{id:"heartRate",type:"number",value:(p==null?void 0:p.heartRate)||"",onChange:K=>g(Z=>Z?M(_({},Z),{heartRate:K.target.value}):{systolicBP:"",diastolicBP:"",heartRate:K.target.value,temperature:"",oxygenSaturation:"",respiratoryRate:""}),className:"h-8 text-sm",placeholder:"72"})]}),s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"temperature",className:"text-xs",children:"Temperatura (C)"}),s.jsx(_e,{id:"temperature",type:"number",step:"0.1",value:(p==null?void 0:p.temperature)||"",onChange:K=>g(Z=>Z?M(_({},Z),{temperature:K.target.value}):{systolicBP:"",diastolicBP:"",heartRate:"",temperature:K.target.value,oxygenSaturation:"",respiratoryRate:""}),className:"h-8 text-sm",placeholder:"36.5"})]}),s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"oxygenSat",className:"text-xs",children:"Saturao O2 (%)"}),s.jsx(_e,{id:"oxygenSat",type:"number",value:(p==null?void 0:p.oxygenSaturation)||"",onChange:K=>g(Z=>Z?M(_({},Z),{oxygenSaturation:K.target.value}):{systolicBP:"",diastolicBP:"",heartRate:"",temperature:"",oxygenSaturation:K.target.value,respiratoryRate:""}),className:"h-8 text-sm",placeholder:"98"})]}),s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"respRate",className:"text-xs",children:"Freq. Respiratria (rpm)"}),s.jsx(_e,{id:"respRate",type:"number",value:(p==null?void 0:p.respiratoryRate)||"",onChange:K=>g(Z=>Z?M(_({},Z),{respiratoryRate:K.target.value}):{systolicBP:"",diastolicBP:"",heartRate:"",temperature:"",oxygenSaturation:"",respiratoryRate:K.target.value}),className:"h-8 text-sm",placeholder:"16"})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(ne,{onClick:ae,size:"sm",className:"flex-1 h-8",children:[s.jsx(Wo,{className:"h-3 w-3 mr-1"}),"Salvar"]}),s.jsx(ne,{variant:"outline",onClick:V,size:"sm",className:"flex-1 h-8",children:"Cancelar"})]})]}):s.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[d.systolicBP&&d.diastolicBP&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(At,{variant:"secondary",children:"PA"}),s.jsxs("span",{children:[d.systolicBP,"/",d.diastolicBP," mmHg"]})]}),d.heartRate&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(At,{variant:"secondary",children:"FC"}),s.jsxs("span",{children:[d.heartRate," bpm"]})]}),d.temperature&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(At,{variant:"secondary",children:"Temp"}),s.jsxs("span",{children:[d.temperature,"C"]})]}),d.oxygenSaturation&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(At,{variant:"secondary",children:"SpO2"}),s.jsxs("span",{children:[d.oxygenSaturation,"%"]})]}),d.respiratoryRate&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(At,{variant:"secondary",children:"FR"}),s.jsxs("span",{children:[d.respiratoryRate," rpm"]})]})]})]}),s.jsx("div",{className:"flex gap-2",children:o?d?s.jsxs(s.Fragment,{children:[s.jsxs(ne,{onClick:Y,className:"flex-1",children:[s.jsx(Wo,{className:"h-4 w-4 mr-2"}),"Confirmar"]}),s.jsx(ne,{variant:"outline",onClick:Q,className:"px-3",children:s.jsx(o2,{className:"h-4 w-4"})}),s.jsx(ne,{variant:"outline",onClick:q,className:"px-3",children:s.jsx(cu,{className:"h-4 w-4"})})]}):s.jsxs(s.Fragment,{children:[s.jsxs(ne,{onClick:S,disabled:l,className:"flex-1",children:[l?s.jsx(Ms,{className:"h-4 w-4 mr-2 animate-spin"}):s.jsx(Ts,{className:"h-4 w-4 mr-2"}),l?"Processando...":"Processar"]}),s.jsx(ne,{variant:"outline",onClick:q,disabled:l,className:"px-3",children:s.jsx(cu,{className:"h-4 w-4"})})]}):s.jsxs(s.Fragment,{children:[s.jsxs(ne,{onClick:P,disabled:!n,className:"flex-1",children:[s.jsx(On,{className:"h-4 w-4 mr-2"}),"Capturar"]}),s.jsx(ne,{variant:"outline",onClick:L,disabled:!n,className:"px-3",children:s.jsx(DB,{className:"h-4 w-4"})})]})})]})]})}):null};function tD({patientId:e,onSave:t}){const[r,a]=b.useState("liquids"),[n,i]=b.useState(!1),{toast:o}=ir(),A=rA(),l=()=>{const S=new Date,E=S.getFullYear(),Q=String(S.getMonth()+1).padStart(2,"0"),V=String(S.getDate()).padStart(2,"0"),ae=String(S.getHours()).padStart(2,"0"),Y=String(S.getMinutes()).padStart(2,"0");return`${E}-${Q}-${V}T${ae}:${Y}`},[c,d]=b.useState({type:"",amount:"",time:l(),notes:""}),[h,m]=b.useState({type:"",amount:"",time:l(),description:""}),[u,p]=b.useState({name:"",dosage:"",route:"",time:l(),notes:""}),[g,y]=b.useState({type:"",leftAmount:"",rightAmount:"",leftAspect:"",rightAspect:"",time:l(),notes:""}),[x,B]=b.useState({type:"",volume:"",time:l(),notes:""}),[j,w]=b.useState({systolicBP:"",diastolicBP:"",heartRate:"",temperature:"",oxygenSaturation:"",respiratoryRate:"",time:l(),notes:""}),[N,I]=b.useState({moodScale:"",happinessScale:"",time:l(),notes:""}),[U,D]=b.useState(!1),L=S=>{w(E=>M(_({},E),{systolicBP:S.systolicBP||E.systolicBP,diastolicBP:S.diastolicBP||E.diastolicBP,heartRate:S.heartRate||E.heartRate,temperature:S.temperature||E.temperature,oxygenSaturation:S.oxygenSaturation||E.oxygenSaturation,respiratoryRate:S.respiratoryRate||E.respiratoryRate})),o({title:"Dados Preenchidos",description:"Os campos foram preenchidos automaticamente com os dados da imagem."})},P=S=>Ae(this,null,function*(){if(S.preventDefault(),!e){o({title:"Erro",description:"Nenhum paciente selecionado",variant:"destructive"});return}i(!0);try{let E={patient_id:e,occurred_at:new Date().toISOString()},Q="";switch(r){case"liquids":if(c.type?(!c.amount||parseFloat(c.amount)<=0)&&(Q="Quantidade deve ser maior que zero"):Q="Tipo de lquido  obrigatrio",Q)throw new Error(Q);E=M(_({},E),{occurred_at:new Date(c.time).toISOString(),type:"drink",volume_ml:parseInt(c.amount),notes:`Lquido: ${c.type}${c.notes?" - "+c.notes:""}`});break;case"food":if(h.type?(!h.amount||parseFloat(h.amount)<=0)&&(Q="Quantidade deve ser maior que zero"):Q="Tipo de refeio  obrigatrio",Q)throw new Error(Q);E=M(_({},E),{occurred_at:new Date(h.time).toISOString(),type:"meal",meal_type:h.type,consumption_percentage:parseInt(h.amount),notes:`Refeio: ${h.type} - ${h.amount}%${h.description?" - "+h.description:""}`});break;case"bathroom":if(x.type||(Q="Tipo de eliminao  obrigatrio"),Q)throw new Error(Q);E=M(_({},E),{occurred_at:new Date(x.time).toISOString(),type:"bathroom",bathroom_type:x.type,volume_ml:x.volume?parseInt(x.volume):null,notes:x.notes});break;case"humor":if(!N.moodScale&&!N.happinessScale&&(Q=" necessrio preencher pelo menos uma escala (humor ou felicidade)"),Q)throw new Error(Q);E=M(_({},E),{occurred_at:new Date(N.time).toISOString(),type:"mood",mood_scale:parseInt(N.moodScale),happiness_scale:N.happinessScale?parseInt(N.happinessScale):null,mood_notes:N.notes,notes:N.notes});break;case"medication":if(u.name?u.dosage?u.route||(Q="Via de administrao  obrigatria"):Q="Dosagem  obrigatria":Q="Nome da medicao  obrigatrio",Q)throw new Error(Q);E=M(_({},E),{occurred_at:new Date(u.time).toISOString(),type:"medication",notes:`Medicao: ${u.name} - ${u.dosage} - ${u.route}${u.notes?" - "+u.notes:""}`});break;case"drain":if(g.type||(Q="Tipo de dreno  obrigatrio"),Q)throw new Error(Q);E=M(_({},E),{occurred_at:new Date(g.time).toISOString(),type:"drain",notes:`Dreno: ${g.type}${g.leftAmount?" - Esquerdo: "+g.leftAmount+"ml":""}${g.rightAmount?" - Direito: "+g.rightAmount+"ml":""}${g.notes?" - "+g.notes:""}`});break;case"vitals":if(!j.systolicBP&&!j.diastolicBP&&!j.heartRate&&!j.temperature&&!j.oxygenSaturation&&!j.respiratoryRate&&(Q="Pelo menos um sinal vital deve ser preenchido"),Q)throw new Error(Q);E=M(_({},E),{occurred_at:new Date(j.time).toISOString(),type:"vital_signs",notes:`Sinais Vitais - ${j.systolicBP?"PA: "+j.systolicBP+"/"+j.diastolicBP+" mmHg":""}${j.heartRate?" - FC: "+j.heartRate+" bpm":""}${j.temperature?" - Temp: "+j.temperature+"C":""}${j.oxygenSaturation?" - SpO2: "+j.oxygenSaturation+"%":""}${j.respiratoryRate?" - FR: "+j.respiratoryRate+" rpm":""}${j.notes?" - "+j.notes:""}`});break}switch(r){case"liquids":d({type:"",amount:"",time:l(),notes:""});break;case"food":m({type:"",amount:"",time:l(),description:""});break;case"bathroom":B({type:"",volume:"",time:l(),notes:""});break;case"humor":I({moodScale:"",happinessScale:"",time:l(),notes:""});break;case"medication":p({name:"",dosage:"",route:"",time:l(),notes:""});break;case"drain":y({type:"",leftAmount:"",rightAmount:"",leftAspect:"",rightAspect:"",time:l(),notes:""});break;case"vitals":w({systolicBP:"",diastolicBP:"",heartRate:"",temperature:"",oxygenSaturation:"",respiratoryRate:"",time:l(),notes:""});break}o({title:"Sucesso",description:"Cuidado registrado com sucesso!"}),t&&t(E)}catch(E){o({title:"Erro",description:E.message||"Erro ao registrar cuidado",variant:"destructive"})}finally{i(!1)}});return s.jsxs(s.Fragment,{children:[s.jsxs(Ee,{className:"medical-card",children:[s.jsxs(He,{className:`${A?"pb-3 px-4 pt-4":"pb-4"}`,children:[s.jsxs(Ke,{className:`flex items-center gap-2 ${A?"text-lg":"text-lg sm:text-xl"}`,children:[s.jsx(Tr,{className:`text-primary ${A?"h-4 w-4":"h-4 w-4 sm:h-5 sm:w-5"}`}),"Registro de Cuidados"]}),s.jsx(St,{className:`${A?"text-sm":"text-sm sm:text-base"}`,children:"Registre os cuidados realizados para o paciente"})]}),s.jsx(Ue,{className:`${A?"p-3":"p-3 sm:p-4 lg:p-6"}`,children:s.jsxs(E1,{value:r,onValueChange:a,className:"w-full",children:[s.jsxs(kp,{className:`grid w-full mb-4 h-auto p-1 bg-muted/50 ${A?"grid-cols-2 gap-1":"grid-cols-2 sm:grid-cols-3 lg:grid-cols-7 mb-4 sm:mb-6"}`,children:[s.jsxs(Ss,{value:"liquids",className:`flex flex-col items-center gap-1 text-xs ${A?"py-2 px-2 min-h-[60px]":"py-2 px-1 sm:px-2 sm:text-sm"}`,children:[s.jsx(Jo,{className:`${A?"h-4 w-4":"h-3 w-3 sm:h-4 sm:w-4"}`}),s.jsx("span",{className:`${A?"text-xs":"hidden sm:inline"}`,children:"Lquidos"}),s.jsx("span",{className:`${A?"hidden":"sm:hidden"}`,children:"Lq."})]}),s.jsxs(Ss,{value:"food",className:`flex flex-col items-center gap-1 text-xs ${A?"py-2 px-2 min-h-[60px]":"py-2 px-1 sm:px-2 sm:text-sm"}`,children:[s.jsx(sl,{className:`${A?"h-4 w-4":"h-3 w-3 sm:h-4 sm:w-4"}`}),s.jsx("span",{className:`${A?"text-xs":"hidden sm:inline"}`,children:"Alimentos"}),s.jsx("span",{className:`${A?"hidden":"sm:hidden"}`,children:"Alim."})]}),s.jsxs(Ss,{value:"bathroom",className:`flex flex-col items-center gap-1 text-xs ${A?"py-2 px-2 min-h-[60px]":"py-2 px-1 sm:px-2 sm:text-sm"}`,children:[s.jsx(Tr,{className:`${A?"h-4 w-4":"h-3 w-3 sm:h-4 sm:w-4"}`}),s.jsx("span",{className:`${A?"text-xs":"hidden sm:inline"}`,children:"Banheiro"}),s.jsx("span",{className:`${A?"hidden":"sm:hidden"}`,children:"Banh."})]}),s.jsxs(Ss,{value:"humor",className:`flex flex-col items-center gap-1 text-xs ${A?"py-2 px-2 min-h-[60px]":"py-2 px-1 sm:px-2 sm:text-sm"}`,children:[s.jsx(Gd,{className:`${A?"h-4 w-4":"h-3 w-3 sm:h-4 sm:w-4"}`}),s.jsx("span",{className:`${A?"text-xs":"hidden sm:inline"}`,children:"Humor"}),s.jsx("span",{className:`${A?"hidden":"sm:hidden"}`,children:"Humor"})]}),s.jsxs(Ss,{value:"medication",className:`flex flex-col items-center gap-1 text-xs ${A?"py-2 px-2 min-h-[60px]":"py-2 px-1 sm:px-2 sm:text-sm"}`,children:[s.jsx(mr,{className:`${A?"h-4 w-4":"h-3 w-3 sm:h-4 sm:w-4"}`}),s.jsx("span",{className:`${A?"text-xs":"hidden sm:inline"}`,children:"Medicao"}),s.jsx("span",{className:`${A?"hidden":"sm:hidden"}`,children:"Med."})]}),s.jsxs(Ss,{value:"drain",className:`flex flex-col items-center gap-1 text-xs ${A?"py-2 px-2 min-h-[60px]":"py-2 px-1 sm:px-2 sm:text-sm"}`,children:[s.jsx(XE,{className:`${A?"h-4 w-4":"h-3 w-3 sm:h-4 sm:w-4"}`}),s.jsx("span",{className:`${A?"text-xs":"hidden sm:inline"}`,children:"Dreno"}),s.jsx("span",{className:`${A?"hidden":"sm:hidden"}`,children:"Dreno"})]}),s.jsxs(Ss,{value:"vitals",className:`flex flex-col items-center gap-1 text-xs ${A?"py-2 px-2 min-h-[60px]":"py-2 px-1 sm:px-2 sm:text-sm"}`,children:[s.jsx(Qr,{className:`${A?"h-4 w-4":"h-3 w-3 sm:h-4 sm:w-4"}`}),s.jsx("span",{className:`${A?"text-xs":"hidden sm:inline"}`,children:"Sinais Vitais"}),s.jsx("span",{className:`${A?"hidden":"sm:hidden"}`,children:"Vitais"})]})]}),s.jsx(Fs,{value:"liquids",className:`${A?"space-y-3":"space-y-4"}`,children:s.jsxs("form",{onSubmit:P,className:`${A?"space-y-3":"space-y-4"}`,children:[s.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"liquid-type",className:"text-sm font-medium",children:"Tipo de Lquido *"}),s.jsxs(kt,{value:c.type,onValueChange:S=>d(E=>M(_({},E),{type:S})),children:[s.jsx(Et,{className:`${A?"h-12":"h-10 sm:h-11"}`,children:s.jsx(Lt,{placeholder:"Selecione o tipo"})}),s.jsxs(Ut,{children:[s.jsx(Se,{value:"gua",children:"gua"}),s.jsx(Se,{value:"Suco",children:"Suco"}),s.jsx(Se,{value:"Ch",children:"Ch"}),s.jsx(Se,{value:"Leite",children:"Leite"}),s.jsx(Se,{value:"Sopa",children:"Sopa"}),s.jsx(Se,{value:"Outro",children:"Outro"})]})]})]}),s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"liquid-amount",className:"text-sm font-medium",children:"Quantidade (ml) *"}),s.jsx(_e,{id:"liquid-amount",type:"number",placeholder:"0",value:c.amount,onChange:S=>d(E=>M(_({},E),{amount:S.target.value})),min:"1",className:`${A?"h-12":"h-10 sm:h-11"}`})]})]}),s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"liquid-time",className:"text-sm font-medium",children:"Horrio"}),s.jsx(_e,{id:"liquid-time",type:"datetime-local",value:c.time,onChange:S=>d(E=>M(_({},E),{time:S.target.value})),className:`${A?"h-12":"h-10 sm:h-11"}`})]}),s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"liquid-notes",className:"text-sm font-medium",children:"Observaes"}),s.jsx(Ar,{id:"liquid-notes",placeholder:"Observaes adicionais...",value:c.notes,onChange:S=>d(E=>M(_({},E),{notes:S.target.value})),className:`resize-none ${A?"min-h-[100px]":"min-h-[80px] sm:min-h-[100px]"}`})]}),s.jsxs(ne,{type:"submit",disabled:n,className:`w-full gap-2 ${A?"h-12 text-base":"h-10 sm:h-11"}`,children:[s.jsx(hn,{className:"h-4 w-4"}),n?"Salvando...":"Salvar Registro"]})]})}),s.jsx(Fs,{value:"food",className:`${A?"space-y-3":"space-y-4"}`,children:s.jsxs("form",{onSubmit:P,className:`${A?"space-y-3":"space-y-4"}`,children:[s.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"food-type",className:"text-sm font-medium",children:"Tipo de Refeio *"}),s.jsxs(kt,{value:h.type,onValueChange:S=>m(E=>M(_({},E),{type:S})),children:[s.jsx(Et,{className:`${A?"h-12":"h-10 sm:h-11"}`,children:s.jsx(Lt,{placeholder:"Selecione o tipo"})}),s.jsxs(Ut,{children:[s.jsx(Se,{value:"Caf da Manh",children:"Caf da Manh"}),s.jsx(Se,{value:"Almoo",children:"Almoo"}),s.jsx(Se,{value:"Jantar",children:"Jantar"}),s.jsx(Se,{value:"Lanche",children:"Lanche"})]})]})]}),s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"food-amount",className:"text-sm font-medium",children:"Quantidade Consumida (%) *"}),s.jsx(_e,{id:"food-amount",type:"number",min:"0",max:"100",placeholder:"0",value:h.amount,onChange:S=>m(E=>M(_({},E),{amount:S.target.value})),className:`${A?"h-12":"h-10 sm:h-11"}`})]})]}),s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"food-time",className:"text-sm font-medium",children:"Horrio"}),s.jsx(_e,{id:"food-time",type:"datetime-local",value:h.time,onChange:S=>m(E=>M(_({},E),{time:S.target.value})),className:`${A?"h-12":"h-10 sm:h-11"}`})]}),s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"food-description",className:"text-sm font-medium",children:"Descrio dos Alimentos"}),s.jsx(Ar,{id:"food-description",placeholder:"Descreva os alimentos consumidos...",value:h.description,onChange:S=>m(E=>M(_({},E),{description:S.target.value})),className:`resize-none ${A?"min-h-[100px]":"min-h-[80px] sm:min-h-[100px]"}`})]}),s.jsxs(ne,{type:"submit",disabled:n,className:`w-full gap-2 ${A?"h-12 text-base":"h-10 sm:h-11"}`,children:[s.jsx(hn,{className:"h-4 w-4"}),n?"Salvando...":"Salvar Registro"]})]})}),s.jsx(Fs,{value:"medication",className:`${A?"space-y-3":"space-y-4"}`,children:s.jsxs("form",{onSubmit:P,className:`${A?"space-y-3":"space-y-4"}`,children:[s.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"med-name",className:"text-sm font-medium",children:"Nome do Medicamento *"}),s.jsx(_e,{id:"med-name",placeholder:"Nome do medicamento",className:`${A?"h-12":"h-10 sm:h-11"}`,value:u.name,onChange:S=>p(E=>M(_({},E),{name:S.target.value}))})]}),s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"med-dosage",className:"text-sm font-medium",children:"Dosagem *"}),s.jsx(_e,{id:"med-dosage",placeholder:"Ex: 500mg",value:u.dosage,onChange:S=>p(E=>M(_({},E),{dosage:S.target.value})),className:`${A?"h-12":"h-10 sm:h-11"}`})]})]}),s.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"med-route",className:"text-sm font-medium",children:"Via de Administrao *"}),s.jsxs(kt,{value:u.route,onValueChange:S=>p(E=>M(_({},E),{route:S})),children:[s.jsx(Et,{className:`${A?"h-12":"h-10 sm:h-11"}`,children:s.jsx(Lt,{placeholder:"Selecione a via"})}),s.jsxs(Ut,{children:[s.jsx(Se,{value:"Oral",children:"Oral"}),s.jsx(Se,{value:"Intravenosa",children:"Intravenosa"}),s.jsx(Se,{value:"Intramuscular",children:"Intramuscular"}),s.jsx(Se,{value:"Tpica",children:"Tpica"}),s.jsx(Se,{value:"Outra",children:"Outra"})]})]})]}),s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"med-time",className:"text-sm font-medium",children:"Horrio de Administrao"}),s.jsx(_e,{id:"med-time",type:"datetime-local",value:u.time,onChange:S=>p(E=>M(_({},E),{time:S.target.value})),className:`${A?"h-12":"h-10 sm:h-11"}`})]})]}),s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"med-notes",className:"text-sm font-medium",children:"Observaes"}),s.jsx(Ar,{id:"med-notes",placeholder:"Reaes, efeitos observados...",value:u.notes,onChange:S=>p(E=>M(_({},E),{notes:S.target.value})),className:`resize-none ${A?"min-h-[100px]":"min-h-[80px] sm:min-h-[100px]"}`})]}),s.jsxs(ne,{type:"submit",disabled:n,className:`w-full gap-2 ${A?"h-12 text-base":"h-10 sm:h-11"}`,children:[s.jsx(hn,{className:"h-4 w-4"}),n?"Salvando...":"Salvar Registro"]})]})}),s.jsx(Fs,{value:"drain",className:`${A?"space-y-3":"space-y-4"}`,children:s.jsxs("form",{onSubmit:P,className:`${A?"space-y-3":"space-y-4"}`,children:[s.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"drain-type",className:"text-sm font-medium",children:"Tipo de Dreno *"}),s.jsxs(kt,{value:g.type,onValueChange:S=>y(E=>M(_({},E),{type:S})),children:[s.jsx(Et,{className:`${A?"h-12":"h-10 sm:h-11"}`,children:s.jsx(Lt,{placeholder:"Selecione o tipo"})}),s.jsxs(Ut,{children:[s.jsx(Se,{value:"Abdominal",children:"Abdominal"}),s.jsx(Se,{value:"Torcico",children:"Torcico"}),s.jsx(Se,{value:"Vesical",children:"Vesical"}),s.jsx(Se,{value:"Outro",children:"Outro"})]})]})]}),s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"drain-left-amount",className:"text-sm font-medium",children:"Volume Esquerdo (ml)"}),s.jsx(_e,{id:"drain-left-amount",type:"number",placeholder:"0",value:g.leftAmount,onChange:S=>y(E=>M(_({},E),{leftAmount:S.target.value})),min:"0",className:`${A?"h-12":"h-10 sm:h-11"}`})]})]}),s.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"drain-right-amount",className:"text-sm font-medium",children:"Volume Direito (ml)"}),s.jsx(_e,{id:"drain-right-amount",type:"number",placeholder:"0",value:g.rightAmount,onChange:S=>y(E=>M(_({},E),{rightAmount:S.target.value})),min:"0",className:`${A?"h-12":"h-10 sm:h-11"}`})]}),s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"drain-left-aspect",className:"text-sm font-medium",children:"Aspecto Esquerdo"}),s.jsxs(kt,{value:g.leftAspect,onValueChange:S=>y(E=>M(_({},E),{leftAspect:S})),children:[s.jsx(Et,{className:`${A?"h-12":"h-10 sm:h-11"}`,children:s.jsx(Lt,{placeholder:"Selecione o aspecto"})}),s.jsxs(Ut,{children:[s.jsx(Se,{value:"Claro",children:"Claro"}),s.jsx(Se,{value:"Sanguinolento",children:"Sanguinolento"}),s.jsx(Se,{value:"Purulento",children:"Purulento"}),s.jsx(Se,{value:"Seroso",children:"Seroso"})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"drain-right-aspect",className:"text-sm font-medium",children:"Aspecto Direito"}),s.jsxs(kt,{value:g.rightAspect,onValueChange:S=>y(E=>M(_({},E),{rightAspect:S})),children:[s.jsx(Et,{className:`${A?"h-12":"h-10 sm:h-11"}`,children:s.jsx(Lt,{placeholder:"Selecione o aspecto"})}),s.jsxs(Ut,{children:[s.jsx(Se,{value:"Claro",children:"Claro"}),s.jsx(Se,{value:"Sanguinolento",children:"Sanguinolento"}),s.jsx(Se,{value:"Purulento",children:"Purulento"}),s.jsx(Se,{value:"Seroso",children:"Seroso"})]})]})]}),s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"drain-time",className:"text-sm font-medium",children:"Horrio"}),s.jsx(_e,{id:"drain-time",type:"datetime-local",value:g.time,onChange:S=>y(E=>M(_({},E),{time:S.target.value})),className:`${A?"h-12":"h-10 sm:h-11"}`})]})]}),s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"drain-notes",className:"text-sm font-medium",children:"Observaes"}),s.jsx(Ar,{id:"drain-notes",placeholder:"Observaes sobre o dbito...",value:g.notes,onChange:S=>y(E=>M(_({},E),{notes:S.target.value})),className:`resize-none ${A?"min-h-[100px]":"min-h-[80px] sm:min-h-[100px]"}`})]}),s.jsxs(ne,{type:"submit",disabled:n,className:`w-full gap-2 ${A?"h-12 text-base":"h-10 sm:h-11"}`,children:[s.jsx(hn,{className:"h-4 w-4"}),n?"Salvando...":"Salvar Registro"]})]})}),s.jsx(Fs,{value:"bathroom",className:`${A?"space-y-3":"space-y-4"}`,children:s.jsxs("form",{onSubmit:P,className:`${A?"space-y-3":"space-y-4"}`,children:[s.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"bathroom-type",className:"text-sm font-medium",children:"Tipo *"}),s.jsxs(kt,{value:x.type,onValueChange:S=>B(E=>M(_({},E),{type:S})),children:[s.jsx(Et,{className:`${A?"h-12":"h-10 sm:h-11"}`,children:s.jsx(Lt,{placeholder:"Selecione o tipo"})}),s.jsxs(Ut,{children:[s.jsx(Se,{value:"urine",children:"Urina"}),s.jsx(Se,{value:"stool",children:"Fezes"}),s.jsx(Se,{value:"mixed",children:"Ambos"})]})]})]}),(x.type==="urine"||x.type==="mixed")&&s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"bathroom-volume",className:"text-sm font-medium",children:"Volume (ml) - Opcional"}),s.jsx(_e,{id:"bathroom-volume",type:"number",placeholder:"Ex: 250",value:x.volume,onChange:S=>B(E=>M(_({},E),{volume:S.target.value})),className:`${A?"h-12":"h-10 sm:h-11"}`})]}),s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"bathroom-time",className:"text-sm font-medium",children:"Horrio"}),s.jsx(_e,{id:"bathroom-time",type:"datetime-local",value:x.time,onChange:S=>B(E=>M(_({},E),{time:S.target.value})),className:`${A?"h-12":"h-10 sm:h-11"}`})]})]}),s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"bathroom-notes",className:"text-sm font-medium",children:"Observaes"}),s.jsx(Ar,{id:"bathroom-notes",placeholder:"Caractersticas, volume, cor...",value:x.notes,onChange:S=>B(E=>M(_({},E),{notes:S.target.value})),className:`resize-none ${A?"min-h-[100px]":"min-h-[80px] sm:min-h-[100px]"}`})]}),s.jsxs(ne,{type:"submit",disabled:n,className:`w-full gap-2 ${A?"h-12 text-base":"h-10 sm:h-11"}`,children:[s.jsx(hn,{className:"h-4 w-4"}),n?"Salvando...":"Salvar Registro"]})]})}),s.jsx(Fs,{value:"vitals",className:`${A?"space-y-3":"space-y-4"}`,children:s.jsxs("form",{onSubmit:P,className:`${A?"space-y-3":"space-y-4"}`,children:[A&&s.jsxs("div",{className:"mb-4",children:[s.jsxs(ne,{type:"button",variant:"outline",onClick:()=>D(!0),className:"w-full gap-2 h-12 text-base",children:[s.jsx(On,{className:"h-4 w-4"}),"Capturar com Cmera"]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-2 text-center",children:"Tire uma foto dos equipamentos para preencher automaticamente"})]}),s.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"systolic-bp",className:"text-sm font-medium",children:"Presso Arterial Sistlica (mmHg)"}),s.jsx(_e,{id:"systolic-bp",type:"number",placeholder:"120",value:j.systolicBP,onChange:S=>w(E=>M(_({},E),{systolicBP:S.target.value})),className:`${A?"h-12":"h-10 sm:h-11"}`})]}),s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"diastolic-bp",className:"text-sm font-medium",children:"Presso Arterial Diastlica (mmHg)"}),s.jsx(_e,{id:"diastolic-bp",type:"number",placeholder:"80",value:j.diastolicBP,onChange:S=>w(E=>M(_({},E),{diastolicBP:S.target.value})),className:`${A?"h-12":"h-10 sm:h-11"}`})]})]}),s.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"heart-rate",className:"text-sm font-medium",children:"Frequncia Cardaca (bpm)"}),s.jsx(_e,{id:"heart-rate",type:"number",placeholder:"72",value:j.heartRate,onChange:S=>w(E=>M(_({},E),{heartRate:S.target.value})),className:`${A?"h-12":"h-10 sm:h-11"}`})]}),s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"temperature",className:"text-sm font-medium",children:"Temperatura (C)"}),s.jsx(_e,{id:"temperature",type:"number",step:"0.1",placeholder:"36.5",value:j.temperature,onChange:S=>w(E=>M(_({},E),{temperature:S.target.value})),className:`${A?"h-12":"h-10 sm:h-11"}`})]})]}),s.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"oxygen-saturation",className:"text-sm font-medium",children:"Saturao de Oxignio (%)"}),s.jsx(_e,{id:"oxygen-saturation",type:"number",min:"0",max:"100",placeholder:"98",value:j.oxygenSaturation,onChange:S=>w(E=>M(_({},E),{oxygenSaturation:S.target.value})),className:`${A?"h-12":"h-10 sm:h-11"}`})]}),s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"respiratory-rate",className:"text-sm font-medium",children:"Frequncia Respiratria (rpm)"}),s.jsx(_e,{id:"respiratory-rate",type:"number",placeholder:"16",value:j.respiratoryRate,onChange:S=>w(E=>M(_({},E),{respiratoryRate:S.target.value})),className:`${A?"h-12":"h-10 sm:h-11"}`})]})]}),s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"vitals-time",className:"text-sm font-medium",children:"Horrio"}),s.jsx(_e,{id:"vitals-time",type:"datetime-local",value:j.time,onChange:S=>w(E=>M(_({},E),{time:S.target.value})),className:`${A?"h-12":"h-10 sm:h-11"}`})]}),s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"vitals-notes",className:"text-sm font-medium",children:"Observaes"}),s.jsx(Ar,{id:"vitals-notes",placeholder:"Observaes sobre os sinais vitais...",value:j.notes,onChange:S=>w(E=>M(_({},E),{notes:S.target.value})),className:`resize-none ${A?"min-h-[100px]":"min-h-[80px] sm:min-h-[100px]"}`})]}),s.jsxs(ne,{type:"submit",disabled:n,className:`w-full gap-2 ${A?"h-12 text-base":"h-10 sm:h-11"}`,children:[s.jsx(hn,{className:"h-4 w-4"}),n?"Salvando...":"Salvar Registro"]})]})}),s.jsx(Fs,{value:"humor",className:`${A?"space-y-3":"space-y-4"}`,children:s.jsxs("form",{onSubmit:P,className:`${A?"space-y-3":"space-y-4"}`,children:[s.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[s.jsx("div",{className:"mb-2",children:s.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"* Preencha pelo menos uma das escalas abaixo"})}),s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"mood-scale",className:"text-sm font-medium",children:"Escala de Humor (1-5)"}),s.jsxs(kt,{value:N.moodScale,onValueChange:S=>I(E=>M(_({},E),{moodScale:S})),children:[s.jsx(Et,{className:`${A?"h-12":"h-10 sm:h-11"}`,children:s.jsx(Lt,{placeholder:"Selecione o humor"})}),s.jsxs(Ut,{children:[s.jsx(Se,{value:"1",children:"1 - Muito Triste "}),s.jsx(Se,{value:"2",children:"2 - Triste "}),s.jsx(Se,{value:"3",children:"3 - Neutro "}),s.jsx(Se,{value:"4",children:"4 - Feliz "}),s.jsx(Se,{value:"5",children:"5 - Muito Feliz "})]})]})]}),s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"happiness-scale",className:"text-sm font-medium",children:"Escala de Felicidade (1-5)"}),s.jsxs(kt,{value:N.happinessScale,onValueChange:S=>I(E=>M(_({},E),{happinessScale:S})),children:[s.jsx(Et,{className:`${A?"h-12":"h-10 sm:h-11"}`,children:s.jsx(Lt,{placeholder:"Selecione a felicidade"})}),s.jsxs(Ut,{children:[s.jsx(Se,{value:"1",children:"1 - Muito Infeliz "}),s.jsx(Se,{value:"2",children:"2 - Infeliz "}),s.jsx(Se,{value:"3",children:"3 - Neutro "}),s.jsx(Se,{value:"4",children:"4 - Feliz "}),s.jsx(Se,{value:"5",children:"5 - Muito Feliz "})]})]})]}),s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"humor-time",className:"text-sm font-medium",children:"Data e Hora *"}),s.jsx(_e,{id:"humor-time",type:"datetime-local",value:N.time,onChange:S=>I(E=>M(_({},E),{time:S.target.value})),className:`${A?"h-12":"h-10 sm:h-11"}`})]}),s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"humor-notes",className:"text-sm font-medium",children:"Observaes"}),s.jsx(Ar,{id:"humor-notes",placeholder:"Observaes sobre o humor...",value:N.notes,onChange:S=>I(E=>M(_({},E),{notes:S.target.value})),className:`${A?"min-h-[80px]":"min-h-[80px] sm:min-h-[100px]"}`})]})]}),s.jsxs(ne,{type:"submit",disabled:n,className:`w-full ${A?"h-12":"h-10 sm:h-11"}`,children:[s.jsx(hn,{className:`mr-2 ${A?"h-4 w-4":"h-3 w-3 sm:h-4 sm:w-4"}`}),n?"Salvando...":"Salvar Registro de Humor"]})]})})]})})]}),s.jsx(eD,{isOpen:U,onClose:()=>D(!1),onDataExtracted:L,patientId:e})]})}function ib(){const[e,t]=b.useState(""),[r,a]=b.useState(""),[n,i]=b.useState("all"),[o,A]=b.useState(!1),[l,c]=b.useState(!1);b.useState(null);const{patients:d}=xi(),{events:h,loading:m,addEvent:u,deleteEvent:p,refetch:g}=ul(e),{toast:y}=ir();b.useEffect(()=>{c(!0)},[]);const x=U=>Ae(this,null,function*(){try{yield p(U),y({title:"Registro excludo",description:"O registro de cuidado foi excludo com sucesso."})}catch(D){y({title:"Erro ao excluir",description:"No foi possvel excluir o registro. Tente novamente.",variant:"destructive"})}}),B=U=>{switch(U){case"drink":return Jo;case"med":return mr;case"note":return Tr;case"meal":return sl;case"bathroom":return Lv;case"humor":return Gd;default:return Qr}},j=U=>{switch(U){case"drink":return"text-primary";case"med":return"text-accent";case"note":return"text-secondary";case"meal":return"text-warning";case"bathroom":return"text-muted-foreground";default:return"text-foreground"}},w=U=>{switch(U){case"medication":return"Medicao";case"vital_signs":return"Sinais Vitais";case"drain":return"Dreno";case"drink":return"Lquidos";case"mood":return"Humor";case"humor":return"Humor";case"med":return"Medicamento";case"meal":return"Alimentao";case"bathroom":return"Banheiro";case"note":return"Anotao";default:return U}},N=d.filter(U=>U.name.toLowerCase().includes(r.toLowerCase())),I=h.filter(U=>n==="all"?!0:U.type===n);return s.jsx("div",{className:`min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50/30 to-purple-50/20 transition-all duration-1000 ${l?"opacity-100":"opacity-0"}`,children:s.jsxs("div",{className:"container mx-auto px-2 sm:px-4 lg:px-6 py-4 sm:py-6 lg:py-8 space-y-4 sm:space-y-6 lg:space-y-8",children:[s.jsxs("div",{className:`relative transition-all duration-800 ${l?"animate-slide-in-up":"opacity-0 translate-y-8"}`,children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600/10 via-indigo-600/5 to-purple-600/10 rounded-3xl blur-3xl"}),s.jsx("div",{className:"relative bg-white/70 dark:bg-gray-900/70 backdrop-blur-xl border border-white/20 rounded-3xl shadow-2xl p-4 sm:p-6 lg:p-8 hover:shadow-3xl transition-all duration-500",children:s.jsxs("div",{className:"flex flex-col space-y-4 lg:space-y-0 lg:flex-row lg:items-center lg:justify-between lg:gap-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[s.jsx("div",{className:"p-2 sm:p-3 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-110",children:s.jsx(Qr,{className:"h-6 w-6 sm:h-8 sm:w-8 text-white"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold bg-gradient-to-r from-gray-900 via-blue-800 to-indigo-900 bg-clip-text text-transparent",children:"Cuidados"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm sm:text-base lg:text-lg font-medium",children:"Registro e acompanhamento de cuidados dos pacientes"})]})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:gap-4 text-xs sm:text-sm text-gray-500 dark:text-gray-400",children:[s.jsxs("span",{className:"flex items-center gap-2 bg-blue-50 dark:bg-blue-900/20 px-2 sm:px-3 py-1 rounded-full",children:[s.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-pulse"}),h.length," registros hoje"]}),s.jsx("span",{className:"text-gray-300 hidden sm:inline",children:""}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(wm,{className:"h-3 w-3"}),"Sistema ativo"]})]})]}),s.jsxs("div",{className:"flex flex-col gap-2 w-full lg:w-auto",children:[s.jsxs("div",{className:"flex flex-col xs:flex-row gap-2 w-full",children:[s.jsxs(ne,{variant:"outline",onClick:()=>A(!0),className:"group h-10 sm:h-12 px-3 sm:px-6 rounded-xl border-2 border-blue-200 bg-white/90 backdrop-blur-sm hover:border-blue-300 hover:bg-blue-50/80 hover:text-blue-700 transition-all duration-200 shadow-sm hover:shadow-md font-medium text-xs sm:text-sm flex-1 xs:flex-none",children:[s.jsx(Ap,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2 group-hover:scale-110 transition-transform duration-300"}),s.jsx("span",{className:"hidden sm:inline",children:"Import/Export"}),s.jsx("span",{className:"sm:hidden",children:"Dados"})]}),s.jsxs(ne,{variant:"outline",className:"group h-10 sm:h-12 px-3 sm:px-6 rounded-xl border-2 border-indigo-200 bg-white/90 backdrop-blur-sm hover:border-indigo-300 hover:bg-indigo-50/80 hover:text-indigo-700 transition-all duration-200 shadow-sm hover:shadow-md font-medium text-xs sm:text-sm flex-1 xs:flex-none",children:[s.jsx(Us,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2 group-hover:scale-110 transition-transform duration-300"}),s.jsx("span",{className:"hidden sm:inline",children:"Relatrio Dirio"}),s.jsx("span",{className:"sm:hidden",children:"Relatrio"})]})]}),s.jsxs(ne,{variant:"default",className:"group h-10 sm:h-12 px-3 sm:px-6 rounded-xl bg-gradient-to-r from-blue-500 to-indigo-600 hover:from-blue-600 hover:to-indigo-700 shadow-xl hover:shadow-2xl transform hover:scale-105 transition-all duration-300 border-0 text-xs sm:text-sm w-full lg:w-auto",children:[s.jsx(Qr,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2 group-hover:scale-110 transition-transform duration-300"}),s.jsx("span",{className:"hidden sm:inline",children:"Novo Registro"}),s.jsx("span",{className:"sm:hidden",children:"Novo"}),s.jsx(sx,{className:"h-3 w-3 sm:h-4 sm:w-4 ml-1 sm:ml-2 opacity-0 group-hover:opacity-100 transition-all duration-300"})]})]})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-4 sm:gap-6 lg:gap-8",children:[s.jsx("div",{className:`xl:col-span-1 transition-all duration-700 ${l?"animate-slide-in-left":"opacity-0 -translate-x-8"}`,children:s.jsxs("div",{className:"relative group",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/20 to-indigo-500/20 rounded-2xl blur-xl opacity-0 group-hover:opacity-100 transition-all duration-500"}),s.jsxs(Ee,{className:"relative bg-white/80 dark:bg-gray-900/80 backdrop-blur-xl border border-white/30 rounded-2xl shadow-xl hover:shadow-2xl transition-all duration-500 overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-blue-500 via-indigo-500 to-purple-500"}),s.jsxs(He,{className:"pb-4",children:[s.jsxs(Ke,{className:"flex items-center gap-2 sm:gap-3 text-lg sm:text-xl",children:[s.jsx("div",{className:"p-1.5 sm:p-2 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-xl shadow-lg",children:s.jsx(Qr,{className:"h-4 w-4 sm:h-5 sm:w-5 text-white"})}),s.jsx("span",{className:"bg-gradient-to-r from-gray-900 to-blue-800 bg-clip-text text-transparent font-bold",children:"Selecionar Paciente"})]}),s.jsx(St,{className:"text-gray-600 dark:text-gray-300 font-medium text-sm sm:text-base",children:"Escolha o paciente para registrar cuidados"})]}),s.jsxs(Ue,{className:"space-y-4 sm:space-y-6",children:[s.jsxs("div",{className:"relative group",children:[s.jsx(Xo,{className:"absolute left-3 sm:left-4 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4 sm:h-5 sm:w-5 group-focus-within:text-blue-500 transition-colors duration-300"}),s.jsx(_e,{placeholder:"Buscar paciente...",value:r,onChange:U=>a(U.target.value),className:"pl-10 sm:pl-12 h-10 sm:h-12 rounded-xl border-2 border-gray-200 bg-white/90 backdrop-blur-sm focus:border-blue-400 focus:ring-4 focus:ring-blue-100 transition-all duration-300 font-medium text-sm sm:text-base"})]}),s.jsx("div",{className:"space-y-2 sm:space-y-3 max-h-64 sm:max-h-96 overflow-y-auto custom-scrollbar",children:N.map((U,D)=>s.jsx("div",{className:`group relative p-3 sm:p-4 border-2 rounded-xl cursor-pointer transition-all duration-300 hover:scale-[1.02] ${e===U.id?"border-blue-400 bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 shadow-lg":"border-gray-200 hover:border-blue-300 hover:bg-blue-50/50 dark:hover:bg-blue-900/10"}`,onClick:()=>t(U.id),style:{animationDelay:`${D*100}ms`},children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 flex-1 min-w-0",children:[s.jsxs("div",{className:"relative w-10 h-10 sm:w-12 sm:h-12 rounded-full overflow-hidden border-2 border-blue-200 flex-shrink-0 group-hover:border-blue-400 transition-all duration-300",children:[U.photo?s.jsx("img",{src:U.photo,alt:`Foto de ${U.name}`,className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full bg-gradient-to-br from-blue-100 to-indigo-200 dark:from-blue-800 dark:to-indigo-900 flex items-center justify-center",children:s.jsx(Qr,{className:"h-4 w-4 sm:h-5 sm:w-5 text-blue-600 dark:text-blue-400"})}),e===U.id&&s.jsx("div",{className:"absolute inset-0 bg-blue-500/20 flex items-center justify-center",children:s.jsx("div",{className:"w-2 h-2 sm:w-3 sm:h-3 bg-blue-500 rounded-full animate-pulse"})})]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"font-semibold text-gray-900 dark:text-white group-hover:text-blue-700 dark:group-hover:text-blue-300 transition-colors duration-300 text-sm sm:text-base truncate",children:U.name}),s.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm text-gray-500 dark:text-gray-400 font-medium",children:[U.bed&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full"}),"Leito ",U.bed]}),U.bed&&U.email&&s.jsx("span",{children:""}),U.email&&s.jsx("span",{children:U.email}),!U.bed&&!U.email&&s.jsx("span",{children:"Informaes no disponveis"})]})]})]}),s.jsx("div",{className:"flex items-center gap-2 flex-shrink-0",children:s.jsx(At,{variant:"secondary",className:"text-xs px-1.5 sm:px-2 py-0.5 sm:py-1 rounded-full font-medium",children:"Ativo"})})]})},U.id))})]})]})]})}),s.jsx("div",{className:`xl:col-span-2 transition-all duration-700 ${l?"animate-slide-in-right":"opacity-0 translate-x-8"}`,children:e?s.jsxs("div",{className:"relative group",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-500/20 to-purple-500/20 rounded-2xl blur-xl opacity-0 group-hover:opacity-100 transition-all duration-500"}),s.jsxs("div",{className:"relative bg-white/80 dark:bg-gray-900/80 backdrop-blur-xl border border-white/30 rounded-2xl shadow-xl hover:shadow-2xl transition-all duration-500 overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500"}),s.jsx(tD,{patientId:e,onSave:U=>Ae(this,null,function*(){try{yield u({patient_id:U.patient_id,occurred_at:U.occurred_at,type:U.type,notes:U.notes,volume_ml:U.volume_ml,bathroom_type:U.bathroom_type,mood_scale:U.mood_scale,meal_type:U.meal_type,consumption_percentage:U.consumption_percentage}),yield g()}catch(D){console.error("Error saving event:",D)}})})]})]}):s.jsxs("div",{className:"relative group",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-gray-500/10 to-blue-500/10 rounded-2xl blur-xl opacity-0 group-hover:opacity-100 transition-all duration-500"}),s.jsx(Ee,{className:"relative bg-white/80 dark:bg-gray-900/80 backdrop-blur-xl border border-white/30 rounded-2xl shadow-xl hover:shadow-2xl transition-all duration-500",children:s.jsxs(Ue,{className:"py-16 text-center",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500/20 to-indigo-500/20 rounded-full blur-2xl opacity-50"}),s.jsx(Qr,{className:"relative h-16 w-16 text-blue-500 mx-auto mb-6 animate-pulse"})]}),s.jsx("h3",{className:"text-2xl font-bold bg-gradient-to-r from-gray-900 to-blue-800 bg-clip-text text-transparent mb-3",children:"Selecione um Paciente"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-lg font-medium max-w-md mx-auto",children:"Escolha um paciente da lista ao lado para comear a registrar cuidados."}),s.jsxs("div",{className:"mt-6 flex items-center justify-center gap-2 text-sm text-gray-500",children:[s.jsx(wm,{className:"h-4 w-4"}),s.jsx("span",{children:"Sistema pronto para uso"})]})]})})]})})]}),s.jsx("div",{className:`transition-all duration-800 ${l?"animate-slide-in-up":"opacity-0 translate-y-8"}`,style:{animationDelay:"400ms"},children:s.jsxs("div",{className:"relative group",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-green-500/20 via-blue-500/20 to-purple-500/20 rounded-2xl blur-xl opacity-0 group-hover:opacity-100 transition-all duration-500"}),s.jsxs(Ee,{className:"relative bg-white/80 dark:bg-gray-900/80 backdrop-blur-xl border border-white/30 rounded-2xl shadow-xl hover:shadow-2xl transition-all duration-500 overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-green-500 via-blue-500 to-purple-500"}),s.jsx(He,{className:"pb-4",children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(Ke,{className:"flex items-center gap-2 sm:gap-3 text-lg sm:text-xl",children:[s.jsx("div",{className:"p-1.5 sm:p-2 bg-gradient-to-br from-green-500 to-blue-600 rounded-xl shadow-lg",children:s.jsx(Yr,{className:"h-4 w-4 sm:h-5 sm:w-5 text-white"})}),s.jsx("span",{className:"bg-gradient-to-r from-gray-900 to-green-800 bg-clip-text text-transparent font-bold",children:"Registros Recentes"})]}),s.jsx(St,{className:"text-gray-600 dark:text-gray-300 font-medium text-sm sm:text-base",children:"ltimos cuidados registrados no sistema"})]}),s.jsxs("select",{value:n,onChange:U=>i(U.target.value),className:"px-3 py-2 border border-border rounded-md bg-background text-foreground text-sm w-full sm:w-auto",children:[s.jsx("option",{value:"all",children:"Todas as categorias"}),s.jsx("option",{value:"medication",children:"Medicao"}),s.jsx("option",{value:"vital_signs",children:"Sinais Vitais"}),s.jsx("option",{value:"drain",children:"Dreno"}),s.jsx("option",{value:"drink",children:"Lquidos"}),s.jsx("option",{value:"mood",children:"Humor"}),s.jsx("option",{value:"humor",children:"Humor"}),s.jsx("option",{value:"med",children:"Medicamentos"}),s.jsx("option",{value:"meal",children:"Alimentao"}),s.jsx("option",{value:"bathroom",children:"Banheiro"})]})]})}),s.jsx(Ue,{children:s.jsx("div",{className:"space-y-3 sm:space-y-4",children:I.slice(0,10).map(U=>{const D=d.find(E=>E.id===U.patient_id),L=B(U.type),S=(E=>{const Q=[];return E.type==="drink"&&E.volume_ml&&Q.push(`Volume: ${E.volume_ml}ml`),E.type==="medication"&&E.med_name&&(Q.push(`Medicamento: ${E.med_name}`),E.med_dose&&Q.push(`Dose: ${E.med_dose}`)),E.type==="meal"&&E.meal_desc&&Q.push(`Refeio: ${E.meal_desc}`),E.type==="bathroom"&&E.bathroom_type&&Q.push(`Tipo: ${E.bathroom_type}`),E.type==="mood"&&E.mood_scale&&Q.push(`Escala de Humor: ${E.mood_scale}/5`),E.volume_ml&&E.type!=="drink"&&Q.push(`Volume: ${E.volume_ml}ml`),E.mood_scale&&E.type!=="mood"&&Q.push(`Humor: ${E.mood_scale}/5`),E.bathroom_type&&E.type!=="bathroom"&&Q.push(`Banheiro: ${E.bathroom_type}`),E.notes&&Q.push(`Observaes: ${E.notes}`),Q})(U);return s.jsxs("div",{className:"border border-border rounded-lg hover:bg-muted/50 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 p-3 sm:p-4",children:[s.jsx("div",{className:`p-1.5 sm:p-2 rounded-lg bg-muted ${j(U.type)} flex-shrink-0`,children:s.jsx(L,{className:"h-4 w-4 sm:h-5 sm:w-5"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("p",{className:"font-medium text-foreground text-sm sm:text-base",children:w(U.type)}),s.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-xs sm:text-sm font-medium text-foreground",children:new Date(U.occurred_at||U.created_at).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit",timeZone:"America/Sao_Paulo"})}),s.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(U.occurred_at||U.created_at).toLocaleDateString("pt-BR",{timeZone:"America/Sao_Paulo"})})]}),s.jsx(ne,{variant:"ghost",size:"sm",onClick:()=>x(U.id),className:"text-destructive hover:text-destructive hover:bg-destructive/10 p-1 sm:p-2",children:s.jsx(ha,{className:"h-3 w-3 sm:h-4 sm:w-4"})})]})]}),s.jsxs("p",{className:"text-xs sm:text-sm text-muted-foreground mb-2",children:["Paciente: ",(D==null?void 0:D.name)||"Paciente removido"]})]})]}),S.length>0&&s.jsx("div",{className:"px-3 sm:px-4 pb-3 sm:pb-4 border-t border-border/50",children:s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 mt-3",children:S.map((E,Q)=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 bg-primary/60 rounded-full flex-shrink-0"}),s.jsx("span",{className:"text-xs sm:text-sm text-foreground font-medium",children:E})]},Q))})})]},U.id)})})})]})]})}),s.jsx(G4,{open:o,onOpenChange:A,defaultPatientId:e||void 0})]})})}const rD={light:"",dark:".dark"},A_=b.createContext(null);function l_(){const e=b.useContext(A_);if(!e)throw new Error("useChart must be used within a <ChartContainer />");return e}const Co=b.forwardRef((o,i)=>{var A=o,{id:e,className:t,children:r,config:a}=A,n=he(A,["id","className","children","config"]);const l=b.useId(),c=`chart-${e||l.replace(/:/g,"")}`;return s.jsx(A_.Provider,{value:{config:a},children:s.jsxs("div",M(_({"data-chart":c,ref:i,className:ze("flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none",t)},n),{children:[s.jsx(sD,{id:c,config:a}),s.jsx(Bo,{children:r})]}))})});Co.displayName="Chart";const sD=({id:e,config:t})=>{const r=Object.entries(t).filter(([a,n])=>n.theme||n.color);return r.length?s.jsx("style",{dangerouslySetInnerHTML:{__html:Object.entries(rD).map(([a,n])=>`
${n} [data-chart=${e}] {
${r.map(([i,o])=>{var l;const A=((l=o.theme)==null?void 0:l[a])||o.color;return A?`  --color-${i}: ${A};`:null}).join(`
`)}
}
`).join(`
`)}}):null},Il=CB,IA=b.forwardRef(({active:e,payload:t,className:r,indicator:a="dot",hideLabel:n=!1,hideIndicator:i=!1,label:o,labelFormatter:A,labelClassName:l,formatter:c,color:d,nameKey:h,labelKey:m},u)=>{const{config:p}=l_(),g=b.useMemo(()=>{var N;if(n||!(t!=null&&t.length))return null;const[x]=t,B=`${m||x.dataKey||x.name||"value"}`,j=Mx(p,x,B),w=!m&&typeof o=="string"?((N=p[o])==null?void 0:N.label)||o:j==null?void 0:j.label;return A?s.jsx("div",{className:ze("font-medium",l),children:A(w,t)}):w?s.jsx("div",{className:ze("font-medium",l),children:w}):null},[o,A,t,n,l,p,m]);if(!e||!(t!=null&&t.length))return null;const y=t.length===1&&a!=="dot";return s.jsxs("div",{ref:u,className:ze("grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl",r),children:[y?null:g,s.jsx("div",{className:"grid gap-1.5",children:t.map((x,B)=>{const j=`${h||x.name||x.dataKey||"value"}`,w=Mx(p,x,j),N=d||x.payload.fill||x.color;return s.jsx("div",{className:ze("flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground",a==="dot"&&"items-center"),children:c&&(x==null?void 0:x.value)!==void 0&&x.name?c(x.value,x.name,x,B,x.payload):s.jsxs(s.Fragment,{children:[w!=null&&w.icon?s.jsx(w.icon,{}):!i&&s.jsx("div",{className:ze("shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]",{"h-2.5 w-2.5":a==="dot","w-1":a==="line","w-0 border-[1.5px] border-dashed bg-transparent":a==="dashed","my-0.5":y&&a==="dashed"}),style:{"--color-bg":N,"--color-border":N}}),s.jsxs("div",{className:ze("flex flex-1 justify-between leading-none",y?"items-end":"items-center"),children:[s.jsxs("div",{className:"grid gap-1.5",children:[y?g:null,s.jsx("span",{className:"text-muted-foreground",children:(w==null?void 0:w.label)||x.name})]}),x.value&&s.jsx("span",{className:"font-mono font-medium tabular-nums text-foreground",children:x.value.toLocaleString()})]})]})},x.dataKey)})})]})});IA.displayName="ChartTooltip";const aD=b.forwardRef(({className:e,hideIcon:t=!1,payload:r,verticalAlign:a="bottom",nameKey:n},i)=>{const{config:o}=l_();return r!=null&&r.length?s.jsx("div",{ref:i,className:ze("flex items-center justify-center gap-4",a==="top"?"pb-3":"pt-3",e),children:r.map(A=>{const l=`${n||A.dataKey||"value"}`,c=Mx(o,A,l);return s.jsxs("div",{className:ze("flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground"),children:[c!=null&&c.icon&&!t?s.jsx(c.icon,{}):s.jsx("div",{className:"h-2 w-2 shrink-0 rounded-[2px]",style:{backgroundColor:A.color}}),c==null?void 0:c.label]},A.value)})}):null});aD.displayName="ChartLegend";function Mx(e,t,r){if(typeof t!="object"||t===null)return;const a="payload"in t&&typeof t.payload=="object"&&t.payload!==null?t.payload:void 0;let n=r;return r in t&&typeof t[r]=="string"?n=t[r]:a&&r in a&&typeof a[r]=="string"&&(n=a[r]),n in e?e[n]:e[r]}function Br(e){"@babel/helpers - typeof";return Br=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Br(e)}var Hn=Uint8Array,Xa=Uint16Array,U1=Int32Array,I1=new Hn([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Q1=new Hn([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),ob=new Hn([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),c_=function(e,t){for(var r=new Xa(31),a=0;a<31;++a)r[a]=t+=1<<e[a-1];for(var n=new U1(r[30]),a=1;a<30;++a)for(var i=r[a];i<r[a+1];++i)n[i]=i-r[a]<<5|a;return{b:r,r:n}},d_=c_(I1,2),nD=d_.b,Tx=d_.r;nD[28]=258,Tx[258]=28;var iD=c_(Q1,0),Ab=iD.r,Rx=new Xa(32768);for(var kr=0;kr<32768;++kr){var bo=(kr&43690)>>1|(kr&21845)<<1;bo=(bo&52428)>>2|(bo&13107)<<2,bo=(bo&61680)>>4|(bo&3855)<<4,Rx[kr]=((bo&65280)>>8|(bo&255)<<8)>>1}var Zd=function(e,t,r){for(var a=e.length,n=0,i=new Xa(t);n<a;++n)e[n]&&++i[e[n]-1];var o=new Xa(t);for(n=1;n<t;++n)o[n]=o[n-1]+i[n-1]<<1;var A;if(r){A=new Xa(1<<t);var l=15-t;for(n=0;n<a;++n)if(e[n])for(var c=n<<4|e[n],d=t-e[n],h=o[e[n]-1]++<<d,m=h|(1<<d)-1;h<=m;++h)A[Rx[h]>>l]=c}else for(A=new Xa(a),n=0;n<a;++n)e[n]&&(A[n]=Rx[o[e[n]-1]++]>>15-e[n]);return A},nl=new Hn(288);for(var kr=0;kr<144;++kr)nl[kr]=8;for(var kr=144;kr<256;++kr)nl[kr]=9;for(var kr=256;kr<280;++kr)nl[kr]=7;for(var kr=280;kr<288;++kr)nl[kr]=8;var Mm=new Hn(32);for(var kr=0;kr<32;++kr)Mm[kr]=5;var oD=Zd(nl,9,0),AD=Zd(Mm,5,0),u_=function(e){return(e+7)/8|0},lD=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new Hn(e.subarray(t,r))},Li=function(e,t,r){r<<=t&7;var a=t/8|0;e[a]|=r,e[a+1]|=r>>8},vd=function(e,t,r){r<<=t&7;var a=t/8|0;e[a]|=r,e[a+1]|=r>>8,e[a+2]|=r>>16},e0=function(e,t){for(var r=[],a=0;a<e.length;++a)e[a]&&r.push({s:a,f:e[a]});var n=r.length,i=r.slice();if(!n)return{t:f_,l:0};if(n==1){var o=new Hn(r[0].s+1);return o[r[0].s]=1,{t:o,l:1}}r.sort(function(N,I){return N.f-I.f}),r.push({s:-1,f:25001});var A=r[0],l=r[1],c=0,d=1,h=2;for(r[0]={s:-1,f:A.f+l.f,l:A,r:l};d!=n-1;)A=r[r[c].f<r[h].f?c++:h++],l=r[c!=d&&r[c].f<r[h].f?c++:h++],r[d++]={s:-1,f:A.f+l.f,l:A,r:l};for(var m=i[0].s,a=1;a<n;++a)i[a].s>m&&(m=i[a].s);var u=new Xa(m+1),p=Ox(r[d-1],u,0);if(p>t){var a=0,g=0,y=p-t,x=1<<y;for(i.sort(function(I,U){return u[U.s]-u[I.s]||I.f-U.f});a<n;++a){var B=i[a].s;if(u[B]>t)g+=x-(1<<p-u[B]),u[B]=t;else break}for(g>>=y;g>0;){var j=i[a].s;u[j]<t?g-=1<<t-u[j]++-1:++a}for(;a>=0&&g;--a){var w=i[a].s;u[w]==t&&(--u[w],++g)}p=t}return{t:new Hn(u),l:p}},Ox=function(e,t,r){return e.s==-1?Math.max(Ox(e.l,t,r+1),Ox(e.r,t,r+1)):t[e.s]=r},lb=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new Xa(++t),a=0,n=e[0],i=1,o=function(l){r[a++]=l},A=1;A<=t;++A)if(e[A]==n&&A!=t)++i;else{if(!n&&i>2){for(;i>138;i-=138)o(32754);i>2&&(o(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(o(n),--i;i>6;i-=6)o(8304);i>2&&(o(i-3<<5|8208),i=0)}for(;i--;)o(n);i=1,n=e[A]}return{c:r.subarray(0,a),n:t}},wd=function(e,t){for(var r=0,a=0;a<t.length;++a)r+=e[a]*t[a];return r},h_=function(e,t,r){var a=r.length,n=u_(t+2);e[n]=a&255,e[n+1]=a>>8,e[n+2]=e[n]^255,e[n+3]=e[n+1]^255;for(var i=0;i<a;++i)e[n+i+4]=r[i];return(n+4+a)*8},cb=function(e,t,r,a,n,i,o,A,l,c,d){Li(t,d++,r),++n[256];for(var h=e0(n,15),m=h.t,u=h.l,p=e0(i,15),g=p.t,y=p.l,x=lb(m),B=x.c,j=x.n,w=lb(g),N=w.c,I=w.n,U=new Xa(19),D=0;D<B.length;++D)++U[B[D]&31];for(var D=0;D<N.length;++D)++U[N[D]&31];for(var L=e0(U,7),P=L.t,S=L.l,E=19;E>4&&!P[ob[E-1]];--E);var Q=c+5<<3,V=wd(n,nl)+wd(i,Mm)+o,ae=wd(n,m)+wd(i,g)+o+14+3*E+wd(U,P)+2*U[16]+3*U[17]+7*U[18];if(l>=0&&Q<=V&&Q<=ae)return h_(t,d,e.subarray(l,l+c));var Y,q,K,Z;if(Li(t,d,1+(ae<V)),d+=2,ae<V){Y=Zd(m,u,0),q=m,K=Zd(g,y,0),Z=g;var fe=Zd(P,S,0);Li(t,d,j-257),Li(t,d+5,I-1),Li(t,d+10,E-4),d+=14;for(var D=0;D<E;++D)Li(t,d+3*D,P[ob[D]]);d+=3*E;for(var we=[B,N],T=0;T<2;++T)for(var G=we[T],D=0;D<G.length;++D){var X=G[D]&31;Li(t,d,fe[X]),d+=P[X],X>15&&(Li(t,d,G[D]>>5&127),d+=G[D]>>12)}}else Y=oD,q=nl,K=AD,Z=Mm;for(var D=0;D<A;++D){var se=a[D];if(se>255){var X=se>>18&31;vd(t,d,Y[X+257]),d+=q[X+257],X>7&&(Li(t,d,se>>23&31),d+=I1[X]);var le=se&31;vd(t,d,K[le]),d+=Z[le],le>3&&(vd(t,d,se>>5&8191),d+=Q1[le])}else vd(t,d,Y[se]),d+=q[se]}return vd(t,d,Y[256]),d+q[256]},cD=new U1([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),f_=new Hn(0),dD=function(e,t,r,a,n,i){var o=i.z||e.length,A=new Hn(a+o+5*(1+Math.ceil(o/7e3))+n),l=A.subarray(a,A.length-n),c=i.l,d=(i.r||0)&7;if(t){d&&(l[0]=i.r>>3);for(var h=cD[t-1],m=h>>13,u=h&8191,p=(1<<r)-1,g=i.p||new Xa(32768),y=i.h||new Xa(p+1),x=Math.ceil(r/3),B=2*x,j=function(ge){return(e[ge]^e[ge+1]<<x^e[ge+2]<<B)&p},w=new U1(25e3),N=new Xa(288),I=new Xa(32),U=0,D=0,L=i.i||0,P=0,S=i.w||0,E=0;L+2<o;++L){var Q=j(L),V=L&32767,ae=y[Q];if(g[V]=ae,y[Q]=V,S<=L){var Y=o-L;if((U>7e3||P>24576)&&(Y>423||!c)){d=cb(e,l,0,w,N,I,D,P,E,L-E,d),P=U=D=0,E=L;for(var q=0;q<286;++q)N[q]=0;for(var q=0;q<30;++q)I[q]=0}var K=2,Z=0,fe=u,we=V-ae&32767;if(Y>2&&Q==j(L-we))for(var T=Math.min(m,Y)-1,G=Math.min(32767,L),X=Math.min(258,Y);we<=G&&--fe&&V!=ae;){if(e[L+K]==e[L+K-we]){for(var se=0;se<X&&e[L+se]==e[L+se-we];++se);if(se>K){if(K=se,Z=we,se>T)break;for(var le=Math.min(we,se-2),de=0,q=0;q<le;++q){var Ne=L-we+q&32767,je=g[Ne],Ie=Ne-je&32767;Ie>de&&(de=Ie,ae=Ne)}}}V=ae,ae=g[V],we+=V-ae&32767}if(Z){w[P++]=268435456|Tx[K]<<18|Ab[Z];var Oe=Tx[K]&31,ue=Ab[Z]&31;D+=I1[Oe]+Q1[ue],++N[257+Oe],++I[ue],S=L+K,++U}else w[P++]=e[L],++N[e[L]]}}for(L=Math.max(L,S);L<o;++L)w[P++]=e[L],++N[e[L]];d=cb(e,l,c,w,N,I,D,P,E,L-E,d),c||(i.r=d&7|l[d/8|0]<<3,d-=7,i.h=y,i.p=g,i.i=L,i.w=S)}else{for(var L=i.w||0;L<o+c;L+=65535){var ke=L+65535;ke>=o&&(l[d/8|0]=c,ke=o),d=h_(l,d+1,e.subarray(L,ke))}i.i=o}return lD(A,0,a+u_(d)+n)},m_=function(){var e=1,t=0;return{p:function(r){for(var a=e,n=t,i=r.length|0,o=0;o!=i;){for(var A=Math.min(o+2655,i);o<A;++o)n+=a+=r[o];a=(a&65535)+15*(a>>16),n=(n&65535)+15*(n>>16)}e=a,t=n},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},uD=function(e,t,r,a,n){if(!n&&(n={l:1},t.dictionary)){var i=t.dictionary.subarray(-32768),o=new Hn(i.length+e.length);o.set(i),o.set(e,i.length),e=o,n.w=i.length}return dD(e,t.level==null?6:t.level,t.mem==null?n.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,a,n)},p_=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},hD=function(e,t){var r=t.level,a=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=a<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var n=m_();n.p(t.dictionary),p_(e,2,n.d())}};function Hx(e,t){t||(t={});var r=m_();r.p(e);var a=uD(e,t,t.dictionary?6:2,4);return hD(a,t),p_(a,a.length-4,r.d()),a}var fD=typeof TextDecoder!="undefined"&&new TextDecoder,mD=0;try{fD.decode(f_,{stream:!0}),mD=1}catch(e){}function pD(e){if(Array.isArray(e))return e}function gD(e,t){var r=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,n,i,o,A=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(a=i.call(r)).done)&&(A.push(a.value),A.length!==t);l=!0);}catch(d){c=!0,n=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw n}}return A}}function db(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=Array(t);r<t;r++)a[r]=e[r];return a}function xD(e,t){if(e){if(typeof e=="string")return db(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?db(e,t):void 0}}function vD(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ub(e,t){return pD(e)||gD(e,t)||xD(e,t)||vD()}function hb(e,t="utf8"){return new TextDecoder(t).decode(e)}const wD=new TextEncoder;function bD(e){return wD.encode(e)}const yD=1024*8,BD=(()=>{const e=new Uint8Array(4),t=new Uint32Array(e.buffer);return!((t[0]=1)&e[0])})(),t0={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class k1{constructor(t=yD,r={}){hr(this,"buffer");hr(this,"byteLength");hr(this,"byteOffset");hr(this,"length");hr(this,"offset");hr(this,"lastWrittenByte");hr(this,"littleEndian");hr(this,"_data");hr(this,"_mark");hr(this,"_marks");let a=!1;typeof t=="number"?t=new ArrayBuffer(t):(a=!0,this.lastWrittenByte=t.byteLength);const n=r.offset?r.offset>>>0:0,i=t.byteLength-n;let o=n;(ArrayBuffer.isView(t)||t instanceof k1)&&(t.byteLength!==t.buffer.byteLength&&(o=t.byteOffset+n),t=t.buffer),a?this.lastWrittenByte=i:this.lastWrittenByte=0,this.buffer=t,this.length=i,this.byteLength=i,this.byteOffset=o,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,o,i),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const a=(this.offset+t)*2,n=new Uint8Array(a);n.set(new Uint8Array(this.buffer)),this.buffer=n.buffer,this.length=a,this.byteLength=a,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,r){const a=t0[r].BYTES_PER_ELEMENT*t,n=this.byteOffset+this.offset,i=this.buffer.slice(n,n+a);if(this.littleEndian===BD&&r!=="uint8"&&r!=="int8"){const A=new Uint8Array(this.buffer.slice(n,n+a));A.reverse();const l=new t0[r](A.buffer);return this.offset+=a,l.reverse(),l}const o=new t0[r](i);return this.offset+=a,o}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let r="";for(let a=0;a<t;a++)r+=this.readChar();return r}readUtf8(t=1){return hb(this.readBytes(t))}decodeText(t=1,r="utf8"){return hb(this.readBytes(t),r)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let r=0;r<t.length;r++)this._data.setUint8(this.offset++,t[r]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let r=0;r<t.length;r++)this.writeUint8(t.charCodeAt(r));return this}writeUtf8(t){return this.writeBytes(bD(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const jD=4,fb=0,mb=1,CD=2;function Lc(e){let t=e.length;for(;--t>=0;)e[t]=0}const ND=0,g_=1,_D=2,SD=3,FD=258,L1=29,Ju=256,Cu=Ju+1+L1,rc=30,D1=19,x_=2*Cu+1,OA=15,r0=16,ED=7,P1=256,v_=16,w_=17,b_=18,Kx=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),Yf=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),UD=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),y_=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),ID=512,Hi=new Array((Cu+2)*2);Lc(Hi);const eu=new Array(rc*2);Lc(eu);const Nu=new Array(ID);Lc(Nu);const _u=new Array(FD-SD+1);Lc(_u);const M1=new Array(L1);Lc(M1);const Tm=new Array(rc);Lc(Tm);function s0(e,t,r,a,n){this.static_tree=e,this.extra_bits=t,this.extra_base=r,this.elems=a,this.max_length=n,this.has_stree=e&&e.length}let B_,j_,C_;function a0(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}const N_=e=>e<256?Nu[e]:Nu[256+(e>>>7)],Su=(e,t)=>{e.pending_buf[e.pending++]=t&255,e.pending_buf[e.pending++]=t>>>8&255},ka=(e,t,r)=>{e.bi_valid>r0-r?(e.bi_buf|=t<<e.bi_valid&65535,Su(e,e.bi_buf),e.bi_buf=t>>r0-e.bi_valid,e.bi_valid+=r-r0):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=r)},Ai=(e,t,r)=>{ka(e,r[t*2],r[t*2+1])},__=(e,t)=>{let r=0;do r|=e&1,e>>>=1,r<<=1;while(--t>0);return r>>>1},QD=e=>{e.bi_valid===16?(Su(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)},kD=(e,t)=>{const r=t.dyn_tree,a=t.max_code,n=t.stat_desc.static_tree,i=t.stat_desc.has_stree,o=t.stat_desc.extra_bits,A=t.stat_desc.extra_base,l=t.stat_desc.max_length;let c,d,h,m,u,p,g=0;for(m=0;m<=OA;m++)e.bl_count[m]=0;for(r[e.heap[e.heap_max]*2+1]=0,c=e.heap_max+1;c<x_;c++)d=e.heap[c],m=r[r[d*2+1]*2+1]+1,m>l&&(m=l,g++),r[d*2+1]=m,!(d>a)&&(e.bl_count[m]++,u=0,d>=A&&(u=o[d-A]),p=r[d*2],e.opt_len+=p*(m+u),i&&(e.static_len+=p*(n[d*2+1]+u)));if(g!==0){do{for(m=l-1;e.bl_count[m]===0;)m--;e.bl_count[m]--,e.bl_count[m+1]+=2,e.bl_count[l]--,g-=2}while(g>0);for(m=l;m!==0;m--)for(d=e.bl_count[m];d!==0;)h=e.heap[--c],!(h>a)&&(r[h*2+1]!==m&&(e.opt_len+=(m-r[h*2+1])*r[h*2],r[h*2+1]=m),d--)}},S_=(e,t,r)=>{const a=new Array(OA+1);let n=0,i,o;for(i=1;i<=OA;i++)n=n+r[i-1]<<1,a[i]=n;for(o=0;o<=t;o++){let A=e[o*2+1];A!==0&&(e[o*2]=__(a[A]++,A))}},LD=()=>{let e,t,r,a,n;const i=new Array(OA+1);for(r=0,a=0;a<L1-1;a++)for(M1[a]=r,e=0;e<1<<Kx[a];e++)_u[r++]=a;for(_u[r-1]=a,n=0,a=0;a<16;a++)for(Tm[a]=n,e=0;e<1<<Yf[a];e++)Nu[n++]=a;for(n>>=7;a<rc;a++)for(Tm[a]=n<<7,e=0;e<1<<Yf[a]-7;e++)Nu[256+n++]=a;for(t=0;t<=OA;t++)i[t]=0;for(e=0;e<=143;)Hi[e*2+1]=8,e++,i[8]++;for(;e<=255;)Hi[e*2+1]=9,e++,i[9]++;for(;e<=279;)Hi[e*2+1]=7,e++,i[7]++;for(;e<=287;)Hi[e*2+1]=8,e++,i[8]++;for(S_(Hi,Cu+1,i),e=0;e<rc;e++)eu[e*2+1]=5,eu[e*2]=__(e,5);B_=new s0(Hi,Kx,Ju+1,Cu,OA),j_=new s0(eu,Yf,0,rc,OA),C_=new s0(new Array(0),UD,0,D1,ED)},F_=e=>{let t;for(t=0;t<Cu;t++)e.dyn_ltree[t*2]=0;for(t=0;t<rc;t++)e.dyn_dtree[t*2]=0;for(t=0;t<D1;t++)e.bl_tree[t*2]=0;e.dyn_ltree[P1*2]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},E_=e=>{e.bi_valid>8?Su(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},pb=(e,t,r,a)=>{const n=t*2,i=r*2;return e[n]<e[i]||e[n]===e[i]&&a[t]<=a[r]},n0=(e,t,r)=>{const a=e.heap[r];let n=r<<1;for(;n<=e.heap_len&&(n<e.heap_len&&pb(t,e.heap[n+1],e.heap[n],e.depth)&&n++,!pb(t,a,e.heap[n],e.depth));)e.heap[r]=e.heap[n],r=n,n<<=1;e.heap[r]=a},gb=(e,t,r)=>{let a,n,i=0,o,A;if(e.sym_next!==0)do a=e.pending_buf[e.sym_buf+i++]&255,a+=(e.pending_buf[e.sym_buf+i++]&255)<<8,n=e.pending_buf[e.sym_buf+i++],a===0?Ai(e,n,t):(o=_u[n],Ai(e,o+Ju+1,t),A=Kx[o],A!==0&&(n-=M1[o],ka(e,n,A)),a--,o=N_(a),Ai(e,o,r),A=Yf[o],A!==0&&(a-=Tm[o],ka(e,a,A)));while(i<e.sym_next);Ai(e,P1,t)},$x=(e,t)=>{const r=t.dyn_tree,a=t.stat_desc.static_tree,n=t.stat_desc.has_stree,i=t.stat_desc.elems;let o,A,l=-1,c;for(e.heap_len=0,e.heap_max=x_,o=0;o<i;o++)r[o*2]!==0?(e.heap[++e.heap_len]=l=o,e.depth[o]=0):r[o*2+1]=0;for(;e.heap_len<2;)c=e.heap[++e.heap_len]=l<2?++l:0,r[c*2]=1,e.depth[c]=0,e.opt_len--,n&&(e.static_len-=a[c*2+1]);for(t.max_code=l,o=e.heap_len>>1;o>=1;o--)n0(e,r,o);c=i;do o=e.heap[1],e.heap[1]=e.heap[e.heap_len--],n0(e,r,1),A=e.heap[1],e.heap[--e.heap_max]=o,e.heap[--e.heap_max]=A,r[c*2]=r[o*2]+r[A*2],e.depth[c]=(e.depth[o]>=e.depth[A]?e.depth[o]:e.depth[A])+1,r[o*2+1]=r[A*2+1]=c,e.heap[1]=c++,n0(e,r,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],kD(e,t),S_(r,l,e.bl_count)},xb=(e,t,r)=>{let a,n=-1,i,o=t[0*2+1],A=0,l=7,c=4;for(o===0&&(l=138,c=3),t[(r+1)*2+1]=65535,a=0;a<=r;a++)i=o,o=t[(a+1)*2+1],!(++A<l&&i===o)&&(A<c?e.bl_tree[i*2]+=A:i!==0?(i!==n&&e.bl_tree[i*2]++,e.bl_tree[v_*2]++):A<=10?e.bl_tree[w_*2]++:e.bl_tree[b_*2]++,A=0,n=i,o===0?(l=138,c=3):i===o?(l=6,c=3):(l=7,c=4))},vb=(e,t,r)=>{let a,n=-1,i,o=t[0*2+1],A=0,l=7,c=4;for(o===0&&(l=138,c=3),a=0;a<=r;a++)if(i=o,o=t[(a+1)*2+1],!(++A<l&&i===o)){if(A<c)do Ai(e,i,e.bl_tree);while(--A!==0);else i!==0?(i!==n&&(Ai(e,i,e.bl_tree),A--),Ai(e,v_,e.bl_tree),ka(e,A-3,2)):A<=10?(Ai(e,w_,e.bl_tree),ka(e,A-3,3)):(Ai(e,b_,e.bl_tree),ka(e,A-11,7));A=0,n=i,o===0?(l=138,c=3):i===o?(l=6,c=3):(l=7,c=4)}},DD=e=>{let t;for(xb(e,e.dyn_ltree,e.l_desc.max_code),xb(e,e.dyn_dtree,e.d_desc.max_code),$x(e,e.bl_desc),t=D1-1;t>=3&&e.bl_tree[y_[t]*2+1]===0;t--);return e.opt_len+=3*(t+1)+5+5+4,t},PD=(e,t,r,a)=>{let n;for(ka(e,t-257,5),ka(e,r-1,5),ka(e,a-4,4),n=0;n<a;n++)ka(e,e.bl_tree[y_[n]*2+1],3);vb(e,e.dyn_ltree,t-1),vb(e,e.dyn_dtree,r-1)},MD=e=>{let t=4093624447,r;for(r=0;r<=31;r++,t>>>=1)if(t&1&&e.dyn_ltree[r*2]!==0)return fb;if(e.dyn_ltree[9*2]!==0||e.dyn_ltree[10*2]!==0||e.dyn_ltree[13*2]!==0)return mb;for(r=32;r<Ju;r++)if(e.dyn_ltree[r*2]!==0)return mb;return fb};let wb=!1;const TD=e=>{wb||(LD(),wb=!0),e.l_desc=new a0(e.dyn_ltree,B_),e.d_desc=new a0(e.dyn_dtree,j_),e.bl_desc=new a0(e.bl_tree,C_),e.bi_buf=0,e.bi_valid=0,F_(e)},U_=(e,t,r,a)=>{ka(e,(ND<<1)+(a?1:0),3),E_(e),Su(e,r),Su(e,~r),r&&e.pending_buf.set(e.window.subarray(t,t+r),e.pending),e.pending+=r},RD=e=>{ka(e,g_<<1,3),Ai(e,P1,Hi),QD(e)},OD=(e,t,r,a)=>{let n,i,o=0;e.level>0?(e.strm.data_type===CD&&(e.strm.data_type=MD(e)),$x(e,e.l_desc),$x(e,e.d_desc),o=DD(e),n=e.opt_len+3+7>>>3,i=e.static_len+3+7>>>3,i<=n&&(n=i)):n=i=r+5,r+4<=n&&t!==-1?U_(e,t,r,a):e.strategy===jD||i===n?(ka(e,(g_<<1)+(a?1:0),3),gb(e,Hi,eu)):(ka(e,(_D<<1)+(a?1:0),3),PD(e,e.l_desc.max_code+1,e.d_desc.max_code+1,o+1),gb(e,e.dyn_ltree,e.dyn_dtree)),F_(e),a&&E_(e)},HD=(e,t,r)=>(e.pending_buf[e.sym_buf+e.sym_next++]=t,e.pending_buf[e.sym_buf+e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+e.sym_next++]=r,t===0?e.dyn_ltree[r*2]++:(e.matches++,t--,e.dyn_ltree[(_u[r]+Ju+1)*2]++,e.dyn_dtree[N_(t)*2]++),e.sym_next===e.sym_end);var KD=TD,$D=U_,VD=OD,zD=HD,qD=RD,GD={_tr_init:KD,_tr_stored_block:$D,_tr_flush_block:VD,_tr_tally:zD,_tr_align:qD};const WD=(e,t,r,a)=>{let n=e&65535|0,i=e>>>16&65535|0,o=0;for(;r!==0;){o=r>2e3?2e3:r,r-=o;do n=n+t[a++]|0,i=i+n|0;while(--o);n%=65521,i%=65521}return n|i<<16|0};var Fu=WD;const JD=()=>{let e,t=[];for(var r=0;r<256;r++){e=r;for(var a=0;a<8;a++)e=e&1?3988292384^e>>>1:e>>>1;t[r]=e}return t},XD=new Uint32Array(JD()),YD=(e,t,r,a)=>{const n=XD,i=a+r;e^=-1;for(let o=a;o<i;o++)e=e>>>8^n[(e^t[o])&255];return e^-1};var Ds=YD,yc={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Xu={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:ZD,_tr_stored_block:Vx,_tr_flush_block:eP,_tr_tally:Ko,_tr_align:tP}=GD,{Z_NO_FLUSH:$o,Z_PARTIAL_FLUSH:rP,Z_FULL_FLUSH:sP,Z_FINISH:mn,Z_BLOCK:bb,Z_OK:qs,Z_STREAM_END:yb,Z_STREAM_ERROR:ui,Z_DATA_ERROR:aP,Z_BUF_ERROR:i0,Z_DEFAULT_COMPRESSION:nP,Z_FILTERED:iP,Z_HUFFMAN_ONLY:af,Z_RLE:oP,Z_FIXED:AP,Z_DEFAULT_STRATEGY:lP,Z_UNKNOWN:cP,Z_DEFLATED:Lp}=Xu,dP=9,uP=15,hP=8,fP=29,mP=256,zx=mP+1+fP,pP=30,gP=19,xP=2*zx+1,vP=15,tr=3,Do=258,hi=Do+tr+1,wP=32,Bc=42,T1=57,qx=69,Gx=73,Wx=91,Jx=103,HA=113,Pd=666,ya=1,Dc=2,il=3,Pc=4,bP=3,KA=(e,t)=>(e.msg=yc[t],t),Bb=e=>e*2-(e>4?9:0),Fo=e=>{let t=e.length;for(;--t>=0;)e[t]=0},yP=e=>{let t,r,a,n=e.w_size;t=e.hash_size,a=t;do r=e.head[--a],e.head[a]=r>=n?r-n:0;while(--t);t=n,a=t;do r=e.prev[--a],e.prev[a]=r>=n?r-n:0;while(--t)};let BP=(e,t,r)=>(t<<e.hash_shift^r)&e.hash_mask,Vo=BP;const Ja=e=>{const t=e.state;let r=t.pending;r>e.avail_out&&(r=e.avail_out),r!==0&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+r),e.next_out),e.next_out+=r,t.pending_out+=r,e.total_out+=r,e.avail_out-=r,t.pending-=r,t.pending===0&&(t.pending_out=0))},Ya=(e,t)=>{eP(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,Ja(e.strm)},fr=(e,t)=>{e.pending_buf[e.pending++]=t},bd=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=t&255},Xx=(e,t,r,a)=>{let n=e.avail_in;return n>a&&(n=a),n===0?0:(e.avail_in-=n,t.set(e.input.subarray(e.next_in,e.next_in+n),r),e.state.wrap===1?e.adler=Fu(e.adler,t,n,r):e.state.wrap===2&&(e.adler=Ds(e.adler,t,n,r)),e.next_in+=n,e.total_in+=n,n)},I_=(e,t)=>{let r=e.max_chain_length,a=e.strstart,n,i,o=e.prev_length,A=e.nice_match;const l=e.strstart>e.w_size-hi?e.strstart-(e.w_size-hi):0,c=e.window,d=e.w_mask,h=e.prev,m=e.strstart+Do;let u=c[a+o-1],p=c[a+o];e.prev_length>=e.good_match&&(r>>=2),A>e.lookahead&&(A=e.lookahead);do if(n=t,!(c[n+o]!==p||c[n+o-1]!==u||c[n]!==c[a]||c[++n]!==c[a+1])){a+=2,n++;do;while(c[++a]===c[++n]&&c[++a]===c[++n]&&c[++a]===c[++n]&&c[++a]===c[++n]&&c[++a]===c[++n]&&c[++a]===c[++n]&&c[++a]===c[++n]&&c[++a]===c[++n]&&a<m);if(i=Do-(m-a),a=m-Do,i>o){if(e.match_start=t,o=i,i>=A)break;u=c[a+o-1],p=c[a+o]}}while((t=h[t&d])>l&&--r!==0);return o<=e.lookahead?o:e.lookahead},jc=e=>{const t=e.w_size;let r,a,n;do{if(a=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-hi)&&(e.window.set(e.window.subarray(t,t+t-a),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,e.insert>e.strstart&&(e.insert=e.strstart),yP(e),a+=t),e.strm.avail_in===0)break;if(r=Xx(e.strm,e.window,e.strstart+e.lookahead,a),e.lookahead+=r,e.lookahead+e.insert>=tr)for(n=e.strstart-e.insert,e.ins_h=e.window[n],e.ins_h=Vo(e,e.ins_h,e.window[n+1]);e.insert&&(e.ins_h=Vo(e,e.ins_h,e.window[n+tr-1]),e.prev[n&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=n,n++,e.insert--,!(e.lookahead+e.insert<tr)););}while(e.lookahead<hi&&e.strm.avail_in!==0)},Q_=(e,t)=>{let r=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,a,n,i,o=0,A=e.strm.avail_in;do{if(a=65535,i=e.bi_valid+42>>3,e.strm.avail_out<i||(i=e.strm.avail_out-i,n=e.strstart-e.block_start,a>n+e.strm.avail_in&&(a=n+e.strm.avail_in),a>i&&(a=i),a<r&&(a===0&&t!==mn||t===$o||a!==n+e.strm.avail_in)))break;o=t===mn&&a===n+e.strm.avail_in?1:0,Vx(e,0,0,o),e.pending_buf[e.pending-4]=a,e.pending_buf[e.pending-3]=a>>8,e.pending_buf[e.pending-2]=~a,e.pending_buf[e.pending-1]=~a>>8,Ja(e.strm),n&&(n>a&&(n=a),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+n),e.strm.next_out),e.strm.next_out+=n,e.strm.avail_out-=n,e.strm.total_out+=n,e.block_start+=n,a-=n),a&&(Xx(e.strm,e.strm.output,e.strm.next_out,a),e.strm.next_out+=a,e.strm.avail_out-=a,e.strm.total_out+=a)}while(o===0);return A-=e.strm.avail_in,A&&(A>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=A&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-A,e.strm.next_in),e.strstart),e.strstart+=A,e.insert+=A>e.w_size-e.insert?e.w_size-e.insert:A),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),o?Pc:t!==$o&&t!==mn&&e.strm.avail_in===0&&e.strstart===e.block_start?Dc:(i=e.window_size-e.strstart,e.strm.avail_in>i&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,i+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),i>e.strm.avail_in&&(i=e.strm.avail_in),i&&(Xx(e.strm,e.window,e.strstart,i),e.strstart+=i,e.insert+=i>e.w_size-e.insert?e.w_size-e.insert:i),e.high_water<e.strstart&&(e.high_water=e.strstart),i=e.bi_valid+42>>3,i=e.pending_buf_size-i>65535?65535:e.pending_buf_size-i,r=i>e.w_size?e.w_size:i,n=e.strstart-e.block_start,(n>=r||(n||t===mn)&&t!==$o&&e.strm.avail_in===0&&n<=i)&&(a=n>i?i:n,o=t===mn&&e.strm.avail_in===0&&a===n?1:0,Vx(e,e.block_start,a,o),e.block_start+=a,Ja(e.strm)),o?il:ya)},o0=(e,t)=>{let r,a;for(;;){if(e.lookahead<hi){if(jc(e),e.lookahead<hi&&t===$o)return ya;if(e.lookahead===0)break}if(r=0,e.lookahead>=tr&&(e.ins_h=Vo(e,e.ins_h,e.window[e.strstart+tr-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),r!==0&&e.strstart-r<=e.w_size-hi&&(e.match_length=I_(e,r)),e.match_length>=tr)if(a=Ko(e,e.strstart-e.match_start,e.match_length-tr),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=tr){e.match_length--;do e.strstart++,e.ins_h=Vo(e,e.ins_h,e.window[e.strstart+tr-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=Vo(e,e.ins_h,e.window[e.strstart+1]);else a=Ko(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(a&&(Ya(e,!1),e.strm.avail_out===0))return ya}return e.insert=e.strstart<tr-1?e.strstart:tr-1,t===mn?(Ya(e,!0),e.strm.avail_out===0?il:Pc):e.sym_next&&(Ya(e,!1),e.strm.avail_out===0)?ya:Dc},Ql=(e,t)=>{let r,a,n;for(;;){if(e.lookahead<hi){if(jc(e),e.lookahead<hi&&t===$o)return ya;if(e.lookahead===0)break}if(r=0,e.lookahead>=tr&&(e.ins_h=Vo(e,e.ins_h,e.window[e.strstart+tr-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=tr-1,r!==0&&e.prev_length<e.max_lazy_match&&e.strstart-r<=e.w_size-hi&&(e.match_length=I_(e,r),e.match_length<=5&&(e.strategy===iP||e.match_length===tr&&e.strstart-e.match_start>4096)&&(e.match_length=tr-1)),e.prev_length>=tr&&e.match_length<=e.prev_length){n=e.strstart+e.lookahead-tr,a=Ko(e,e.strstart-1-e.prev_match,e.prev_length-tr),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=n&&(e.ins_h=Vo(e,e.ins_h,e.window[e.strstart+tr-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=tr-1,e.strstart++,a&&(Ya(e,!1),e.strm.avail_out===0))return ya}else if(e.match_available){if(a=Ko(e,0,e.window[e.strstart-1]),a&&Ya(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return ya}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(a=Ko(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<tr-1?e.strstart:tr-1,t===mn?(Ya(e,!0),e.strm.avail_out===0?il:Pc):e.sym_next&&(Ya(e,!1),e.strm.avail_out===0)?ya:Dc},jP=(e,t)=>{let r,a,n,i;const o=e.window;for(;;){if(e.lookahead<=Do){if(jc(e),e.lookahead<=Do&&t===$o)return ya;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=tr&&e.strstart>0&&(n=e.strstart-1,a=o[n],a===o[++n]&&a===o[++n]&&a===o[++n])){i=e.strstart+Do;do;while(a===o[++n]&&a===o[++n]&&a===o[++n]&&a===o[++n]&&a===o[++n]&&a===o[++n]&&a===o[++n]&&a===o[++n]&&n<i);e.match_length=Do-(i-n),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=tr?(r=Ko(e,1,e.match_length-tr),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(r=Ko(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),r&&(Ya(e,!1),e.strm.avail_out===0))return ya}return e.insert=0,t===mn?(Ya(e,!0),e.strm.avail_out===0?il:Pc):e.sym_next&&(Ya(e,!1),e.strm.avail_out===0)?ya:Dc},CP=(e,t)=>{let r;for(;;){if(e.lookahead===0&&(jc(e),e.lookahead===0)){if(t===$o)return ya;break}if(e.match_length=0,r=Ko(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,r&&(Ya(e,!1),e.strm.avail_out===0))return ya}return e.insert=0,t===mn?(Ya(e,!0),e.strm.avail_out===0?il:Pc):e.sym_next&&(Ya(e,!1),e.strm.avail_out===0)?ya:Dc};function ei(e,t,r,a,n){this.good_length=e,this.max_lazy=t,this.nice_length=r,this.max_chain=a,this.func=n}const Md=[new ei(0,0,0,0,Q_),new ei(4,4,8,4,o0),new ei(4,5,16,8,o0),new ei(4,6,32,32,o0),new ei(4,4,16,16,Ql),new ei(8,16,32,32,Ql),new ei(8,16,128,128,Ql),new ei(8,32,128,256,Ql),new ei(32,128,258,1024,Ql),new ei(32,258,258,4096,Ql)],NP=e=>{e.window_size=2*e.w_size,Fo(e.head),e.max_lazy_match=Md[e.level].max_lazy,e.good_match=Md[e.level].good_length,e.nice_match=Md[e.level].nice_length,e.max_chain_length=Md[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=tr-1,e.match_available=0,e.ins_h=0};function _P(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Lp,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(xP*2),this.dyn_dtree=new Uint16Array((2*pP+1)*2),this.bl_tree=new Uint16Array((2*gP+1)*2),Fo(this.dyn_ltree),Fo(this.dyn_dtree),Fo(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(vP+1),this.heap=new Uint16Array(2*zx+1),Fo(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*zx+1),Fo(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const Yu=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.status!==Bc&&t.status!==T1&&t.status!==qx&&t.status!==Gx&&t.status!==Wx&&t.status!==Jx&&t.status!==HA&&t.status!==Pd?1:0},k_=e=>{if(Yu(e))return KA(e,ui);e.total_in=e.total_out=0,e.data_type=cP;const t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap===2?T1:t.wrap?Bc:HA,e.adler=t.wrap===2?0:1,t.last_flush=-2,ZD(t),qs},L_=e=>{const t=k_(e);return t===qs&&NP(e.state),t},SP=(e,t)=>Yu(e)||e.state.wrap!==2?ui:(e.state.gzhead=t,qs),D_=(e,t,r,a,n,i)=>{if(!e)return ui;let o=1;if(t===nP&&(t=6),a<0?(o=0,a=-a):a>15&&(o=2,a-=16),n<1||n>dP||r!==Lp||a<8||a>15||t<0||t>9||i<0||i>AP||a===8&&o!==1)return KA(e,ui);a===8&&(a=9);const A=new _P;return e.state=A,A.strm=e,A.status=Bc,A.wrap=o,A.gzhead=null,A.w_bits=a,A.w_size=1<<A.w_bits,A.w_mask=A.w_size-1,A.hash_bits=n+7,A.hash_size=1<<A.hash_bits,A.hash_mask=A.hash_size-1,A.hash_shift=~~((A.hash_bits+tr-1)/tr),A.window=new Uint8Array(A.w_size*2),A.head=new Uint16Array(A.hash_size),A.prev=new Uint16Array(A.w_size),A.lit_bufsize=1<<n+6,A.pending_buf_size=A.lit_bufsize*4,A.pending_buf=new Uint8Array(A.pending_buf_size),A.sym_buf=A.lit_bufsize,A.sym_end=(A.lit_bufsize-1)*3,A.level=t,A.strategy=i,A.method=r,L_(e)},FP=(e,t)=>D_(e,t,Lp,uP,hP,lP),EP=(e,t)=>{if(Yu(e)||t>bb||t<0)return e?KA(e,ui):ui;const r=e.state;if(!e.output||e.avail_in!==0&&!e.input||r.status===Pd&&t!==mn)return KA(e,e.avail_out===0?i0:ui);const a=r.last_flush;if(r.last_flush=t,r.pending!==0){if(Ja(e),e.avail_out===0)return r.last_flush=-1,qs}else if(e.avail_in===0&&Bb(t)<=Bb(a)&&t!==mn)return KA(e,i0);if(r.status===Pd&&e.avail_in!==0)return KA(e,i0);if(r.status===Bc&&r.wrap===0&&(r.status=HA),r.status===Bc){let n=Lp+(r.w_bits-8<<4)<<8,i=-1;if(r.strategy>=af||r.level<2?i=0:r.level<6?i=1:r.level===6?i=2:i=3,n|=i<<6,r.strstart!==0&&(n|=wP),n+=31-n%31,bd(r,n),r.strstart!==0&&(bd(r,e.adler>>>16),bd(r,e.adler&65535)),e.adler=1,r.status=HA,Ja(e),r.pending!==0)return r.last_flush=-1,qs}if(r.status===T1){if(e.adler=0,fr(r,31),fr(r,139),fr(r,8),r.gzhead)fr(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),fr(r,r.gzhead.time&255),fr(r,r.gzhead.time>>8&255),fr(r,r.gzhead.time>>16&255),fr(r,r.gzhead.time>>24&255),fr(r,r.level===9?2:r.strategy>=af||r.level<2?4:0),fr(r,r.gzhead.os&255),r.gzhead.extra&&r.gzhead.extra.length&&(fr(r,r.gzhead.extra.length&255),fr(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(e.adler=Ds(e.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=qx;else if(fr(r,0),fr(r,0),fr(r,0),fr(r,0),fr(r,0),fr(r,r.level===9?2:r.strategy>=af||r.level<2?4:0),fr(r,bP),r.status=HA,Ja(e),r.pending!==0)return r.last_flush=-1,qs}if(r.status===qx){if(r.gzhead.extra){let n=r.pending,i=(r.gzhead.extra.length&65535)-r.gzindex;for(;r.pending+i>r.pending_buf_size;){let A=r.pending_buf_size-r.pending;if(r.pending_buf.set(r.gzhead.extra.subarray(r.gzindex,r.gzindex+A),r.pending),r.pending=r.pending_buf_size,r.gzhead.hcrc&&r.pending>n&&(e.adler=Ds(e.adler,r.pending_buf,r.pending-n,n)),r.gzindex+=A,Ja(e),r.pending!==0)return r.last_flush=-1,qs;n=0,i-=A}let o=new Uint8Array(r.gzhead.extra);r.pending_buf.set(o.subarray(r.gzindex,r.gzindex+i),r.pending),r.pending+=i,r.gzhead.hcrc&&r.pending>n&&(e.adler=Ds(e.adler,r.pending_buf,r.pending-n,n)),r.gzindex=0}r.status=Gx}if(r.status===Gx){if(r.gzhead.name){let n=r.pending,i;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>n&&(e.adler=Ds(e.adler,r.pending_buf,r.pending-n,n)),Ja(e),r.pending!==0)return r.last_flush=-1,qs;n=0}r.gzindex<r.gzhead.name.length?i=r.gzhead.name.charCodeAt(r.gzindex++)&255:i=0,fr(r,i)}while(i!==0);r.gzhead.hcrc&&r.pending>n&&(e.adler=Ds(e.adler,r.pending_buf,r.pending-n,n)),r.gzindex=0}r.status=Wx}if(r.status===Wx){if(r.gzhead.comment){let n=r.pending,i;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>n&&(e.adler=Ds(e.adler,r.pending_buf,r.pending-n,n)),Ja(e),r.pending!==0)return r.last_flush=-1,qs;n=0}r.gzindex<r.gzhead.comment.length?i=r.gzhead.comment.charCodeAt(r.gzindex++)&255:i=0,fr(r,i)}while(i!==0);r.gzhead.hcrc&&r.pending>n&&(e.adler=Ds(e.adler,r.pending_buf,r.pending-n,n))}r.status=Jx}if(r.status===Jx){if(r.gzhead.hcrc){if(r.pending+2>r.pending_buf_size&&(Ja(e),r.pending!==0))return r.last_flush=-1,qs;fr(r,e.adler&255),fr(r,e.adler>>8&255),e.adler=0}if(r.status=HA,Ja(e),r.pending!==0)return r.last_flush=-1,qs}if(e.avail_in!==0||r.lookahead!==0||t!==$o&&r.status!==Pd){let n=r.level===0?Q_(r,t):r.strategy===af?CP(r,t):r.strategy===oP?jP(r,t):Md[r.level].func(r,t);if((n===il||n===Pc)&&(r.status=Pd),n===ya||n===il)return e.avail_out===0&&(r.last_flush=-1),qs;if(n===Dc&&(t===rP?tP(r):t!==bb&&(Vx(r,0,0,!1),t===sP&&(Fo(r.head),r.lookahead===0&&(r.strstart=0,r.block_start=0,r.insert=0))),Ja(e),e.avail_out===0))return r.last_flush=-1,qs}return t!==mn?qs:r.wrap<=0?yb:(r.wrap===2?(fr(r,e.adler&255),fr(r,e.adler>>8&255),fr(r,e.adler>>16&255),fr(r,e.adler>>24&255),fr(r,e.total_in&255),fr(r,e.total_in>>8&255),fr(r,e.total_in>>16&255),fr(r,e.total_in>>24&255)):(bd(r,e.adler>>>16),bd(r,e.adler&65535)),Ja(e),r.wrap>0&&(r.wrap=-r.wrap),r.pending!==0?qs:yb)},UP=e=>{if(Yu(e))return ui;const t=e.state.status;return e.state=null,t===HA?KA(e,aP):qs},IP=(e,t)=>{let r=t.length;if(Yu(e))return ui;const a=e.state,n=a.wrap;if(n===2||n===1&&a.status!==Bc||a.lookahead)return ui;if(n===1&&(e.adler=Fu(e.adler,t,r,0)),a.wrap=0,r>=a.w_size){n===0&&(Fo(a.head),a.strstart=0,a.block_start=0,a.insert=0);let l=new Uint8Array(a.w_size);l.set(t.subarray(r-a.w_size,r),0),t=l,r=a.w_size}const i=e.avail_in,o=e.next_in,A=e.input;for(e.avail_in=r,e.next_in=0,e.input=t,jc(a);a.lookahead>=tr;){let l=a.strstart,c=a.lookahead-(tr-1);do a.ins_h=Vo(a,a.ins_h,a.window[l+tr-1]),a.prev[l&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=l,l++;while(--c);a.strstart=l,a.lookahead=tr-1,jc(a)}return a.strstart+=a.lookahead,a.block_start=a.strstart,a.insert=a.lookahead,a.lookahead=0,a.match_length=a.prev_length=tr-1,a.match_available=0,e.next_in=o,e.input=A,e.avail_in=i,a.wrap=n,qs};var QP=FP,kP=D_,LP=L_,DP=k_,PP=SP,MP=EP,TP=UP,RP=IP,OP="pako deflate (from Nodeca project)",tu={deflateInit:QP,deflateInit2:kP,deflateReset:LP,deflateResetKeep:DP,deflateSetHeader:PP,deflate:MP,deflateEnd:TP,deflateSetDictionary:RP,deflateInfo:OP};const HP=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var KP=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const r=t.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const a in r)HP(r,a)&&(e[a]=r[a])}}return e},$P=e=>{let t=0;for(let a=0,n=e.length;a<n;a++)t+=e[a].length;const r=new Uint8Array(t);for(let a=0,n=0,i=e.length;a<i;a++){let o=e[a];r.set(o,n),n+=o.length}return r},Dp={assign:KP,flattenChunks:$P};let P_=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){P_=!1}const Eu=new Uint8Array(256);for(let e=0;e<256;e++)Eu[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;Eu[254]=Eu[254]=1;var VP=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,r,a,n,i,o=e.length,A=0;for(n=0;n<o;n++)r=e.charCodeAt(n),(r&64512)===55296&&n+1<o&&(a=e.charCodeAt(n+1),(a&64512)===56320&&(r=65536+(r-55296<<10)+(a-56320),n++)),A+=r<128?1:r<2048?2:r<65536?3:4;for(t=new Uint8Array(A),i=0,n=0;i<A;n++)r=e.charCodeAt(n),(r&64512)===55296&&n+1<o&&(a=e.charCodeAt(n+1),(a&64512)===56320&&(r=65536+(r-55296<<10)+(a-56320),n++)),r<128?t[i++]=r:r<2048?(t[i++]=192|r>>>6,t[i++]=128|r&63):r<65536?(t[i++]=224|r>>>12,t[i++]=128|r>>>6&63,t[i++]=128|r&63):(t[i++]=240|r>>>18,t[i++]=128|r>>>12&63,t[i++]=128|r>>>6&63,t[i++]=128|r&63);return t};const zP=(e,t)=>{if(t<65534&&e.subarray&&P_)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let r="";for(let a=0;a<t;a++)r+=String.fromCharCode(e[a]);return r};var qP=(e,t)=>{const r=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let a,n;const i=new Array(r*2);for(n=0,a=0;a<r;){let o=e[a++];if(o<128){i[n++]=o;continue}let A=Eu[o];if(A>4){i[n++]=65533,a+=A-1;continue}for(o&=A===2?31:A===3?15:7;A>1&&a<r;)o=o<<6|e[a++]&63,A--;if(A>1){i[n++]=65533;continue}o<65536?i[n++]=o:(o-=65536,i[n++]=55296|o>>10&1023,i[n++]=56320|o&1023)}return zP(i,n)},GP=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let r=t-1;for(;r>=0&&(e[r]&192)===128;)r--;return r<0||r===0?t:r+Eu[e[r]]>t?r:t},Uu={string2buf:VP,buf2string:qP,utf8border:GP};function WP(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var M_=WP;const T_=Object.prototype.toString,{Z_NO_FLUSH:JP,Z_SYNC_FLUSH:XP,Z_FULL_FLUSH:YP,Z_FINISH:ZP,Z_OK:Rm,Z_STREAM_END:eM,Z_DEFAULT_COMPRESSION:tM,Z_DEFAULT_STRATEGY:rM,Z_DEFLATED:sM}=Xu;function R1(e){this.options=Dp.assign({level:tM,method:sM,chunkSize:16384,windowBits:15,memLevel:8,strategy:rM},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new M_,this.strm.avail_out=0;let r=tu.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(r!==Rm)throw new Error(yc[r]);if(t.header&&tu.deflateSetHeader(this.strm,t.header),t.dictionary){let a;if(typeof t.dictionary=="string"?a=Uu.string2buf(t.dictionary):T_.call(t.dictionary)==="[object ArrayBuffer]"?a=new Uint8Array(t.dictionary):a=t.dictionary,r=tu.deflateSetDictionary(this.strm,a),r!==Rm)throw new Error(yc[r]);this._dict_set=!0}}R1.prototype.push=function(e,t){const r=this.strm,a=this.options.chunkSize;let n,i;if(this.ended)return!1;for(t===~~t?i=t:i=t===!0?ZP:JP,typeof e=="string"?r.input=Uu.string2buf(e):T_.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;){if(r.avail_out===0&&(r.output=new Uint8Array(a),r.next_out=0,r.avail_out=a),(i===XP||i===YP)&&r.avail_out<=6){this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;continue}if(n=tu.deflate(r,i),n===eM)return r.next_out>0&&this.onData(r.output.subarray(0,r.next_out)),n=tu.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===Rm;if(r.avail_out===0){this.onData(r.output);continue}if(i>0&&r.next_out>0){this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;continue}if(r.avail_in===0)break}return!0};R1.prototype.onData=function(e){this.chunks.push(e)};R1.prototype.onEnd=function(e){e===Rm&&(this.result=Dp.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};const nf=16209,aM=16191;var nM=function(t,r){let a,n,i,o,A,l,c,d,h,m,u,p,g,y,x,B,j,w,N,I,U,D,L,P;const S=t.state;a=t.next_in,L=t.input,n=a+(t.avail_in-5),i=t.next_out,P=t.output,o=i-(r-t.avail_out),A=i+(t.avail_out-257),l=S.dmax,c=S.wsize,d=S.whave,h=S.wnext,m=S.window,u=S.hold,p=S.bits,g=S.lencode,y=S.distcode,x=(1<<S.lenbits)-1,B=(1<<S.distbits)-1;e:do{p<15&&(u+=L[a++]<<p,p+=8,u+=L[a++]<<p,p+=8),j=g[u&x];t:for(;;){if(w=j>>>24,u>>>=w,p-=w,w=j>>>16&255,w===0)P[i++]=j&65535;else if(w&16){N=j&65535,w&=15,w&&(p<w&&(u+=L[a++]<<p,p+=8),N+=u&(1<<w)-1,u>>>=w,p-=w),p<15&&(u+=L[a++]<<p,p+=8,u+=L[a++]<<p,p+=8),j=y[u&B];r:for(;;){if(w=j>>>24,u>>>=w,p-=w,w=j>>>16&255,w&16){if(I=j&65535,w&=15,p<w&&(u+=L[a++]<<p,p+=8,p<w&&(u+=L[a++]<<p,p+=8)),I+=u&(1<<w)-1,I>l){t.msg="invalid distance too far back",S.mode=nf;break e}if(u>>>=w,p-=w,w=i-o,I>w){if(w=I-w,w>d&&S.sane){t.msg="invalid distance too far back",S.mode=nf;break e}if(U=0,D=m,h===0){if(U+=c-w,w<N){N-=w;do P[i++]=m[U++];while(--w);U=i-I,D=P}}else if(h<w){if(U+=c+h-w,w-=h,w<N){N-=w;do P[i++]=m[U++];while(--w);if(U=0,h<N){w=h,N-=w;do P[i++]=m[U++];while(--w);U=i-I,D=P}}}else if(U+=h-w,w<N){N-=w;do P[i++]=m[U++];while(--w);U=i-I,D=P}for(;N>2;)P[i++]=D[U++],P[i++]=D[U++],P[i++]=D[U++],N-=3;N&&(P[i++]=D[U++],N>1&&(P[i++]=D[U++]))}else{U=i-I;do P[i++]=P[U++],P[i++]=P[U++],P[i++]=P[U++],N-=3;while(N>2);N&&(P[i++]=P[U++],N>1&&(P[i++]=P[U++]))}}else if(w&64){t.msg="invalid distance code",S.mode=nf;break e}else{j=y[(j&65535)+(u&(1<<w)-1)];continue r}break}}else if(w&64)if(w&32){S.mode=aM;break e}else{t.msg="invalid literal/length code",S.mode=nf;break e}else{j=g[(j&65535)+(u&(1<<w)-1)];continue t}break}}while(a<n&&i<A);N=p>>3,a-=N,p-=N<<3,u&=(1<<p)-1,t.next_in=a,t.next_out=i,t.avail_in=a<n?5+(n-a):5-(a-n),t.avail_out=i<A?257+(A-i):257-(i-A),S.hold=u,S.bits=p};const kl=15,jb=852,Cb=592,Nb=0,A0=1,_b=2,iM=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),oM=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),AM=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),lM=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),cM=(e,t,r,a,n,i,o,A)=>{const l=A.bits;let c=0,d=0,h=0,m=0,u=0,p=0,g=0,y=0,x=0,B=0,j,w,N,I,U,D=null,L;const P=new Uint16Array(kl+1),S=new Uint16Array(kl+1);let E=null,Q,V,ae;for(c=0;c<=kl;c++)P[c]=0;for(d=0;d<a;d++)P[t[r+d]]++;for(u=l,m=kl;m>=1&&P[m]===0;m--);if(u>m&&(u=m),m===0)return n[i++]=1<<24|64<<16|0,n[i++]=1<<24|64<<16|0,A.bits=1,0;for(h=1;h<m&&P[h]===0;h++);for(u<h&&(u=h),y=1,c=1;c<=kl;c++)if(y<<=1,y-=P[c],y<0)return-1;if(y>0&&(e===Nb||m!==1))return-1;for(S[1]=0,c=1;c<kl;c++)S[c+1]=S[c]+P[c];for(d=0;d<a;d++)t[r+d]!==0&&(o[S[t[r+d]]++]=d);if(e===Nb?(D=E=o,L=20):e===A0?(D=iM,E=oM,L=257):(D=AM,E=lM,L=0),B=0,d=0,c=h,U=i,p=u,g=0,N=-1,x=1<<u,I=x-1,e===A0&&x>jb||e===_b&&x>Cb)return 1;for(;;){Q=c-g,o[d]+1<L?(V=0,ae=o[d]):o[d]>=L?(V=E[o[d]-L],ae=D[o[d]-L]):(V=96,ae=0),j=1<<c-g,w=1<<p,h=w;do w-=j,n[U+(B>>g)+w]=Q<<24|V<<16|ae|0;while(w!==0);for(j=1<<c-1;B&j;)j>>=1;if(j!==0?(B&=j-1,B+=j):B=0,d++,--P[c]===0){if(c===m)break;c=t[r+o[d]]}if(c>u&&(B&I)!==N){for(g===0&&(g=u),U+=h,p=c-g,y=1<<p;p+g<m&&(y-=P[p+g],!(y<=0));)p++,y<<=1;if(x+=1<<p,e===A0&&x>jb||e===_b&&x>Cb)return 1;N=B&I,n[N]=u<<24|p<<16|U-i|0}}return B!==0&&(n[U+B]=c-g<<24|64<<16|0),A.bits=u,0};var ru=cM;const dM=0,R_=1,O_=2,{Z_FINISH:Sb,Z_BLOCK:uM,Z_TREES:of,Z_OK:ol,Z_STREAM_END:hM,Z_NEED_DICT:fM,Z_STREAM_ERROR:Bn,Z_DATA_ERROR:H_,Z_MEM_ERROR:K_,Z_BUF_ERROR:mM,Z_DEFLATED:Fb}=Xu,Pp=16180,Eb=16181,Ub=16182,Ib=16183,Qb=16184,kb=16185,Lb=16186,Db=16187,Pb=16188,Mb=16189,Om=16190,Di=16191,l0=16192,Tb=16193,c0=16194,Rb=16195,Ob=16196,Hb=16197,Kb=16198,Af=16199,lf=16200,$b=16201,Vb=16202,zb=16203,qb=16204,Gb=16205,d0=16206,Wb=16207,Jb=16208,Pr=16209,$_=16210,V_=16211,pM=852,gM=592,xM=15,vM=xM,Xb=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function wM(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const hl=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<Pp||t.mode>V_?1:0},z_=e=>{if(hl(e))return Bn;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=Pp,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(pM),t.distcode=t.distdyn=new Int32Array(gM),t.sane=1,t.back=-1,ol},q_=e=>{if(hl(e))return Bn;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,z_(e)},G_=(e,t)=>{let r;if(hl(e))return Bn;const a=e.state;return t<0?(r=0,t=-t):(r=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?Bn:(a.window!==null&&a.wbits!==t&&(a.window=null),a.wrap=r,a.wbits=t,q_(e))},W_=(e,t)=>{if(!e)return Bn;const r=new wM;e.state=r,r.strm=e,r.window=null,r.mode=Pp;const a=G_(e,t);return a!==ol&&(e.state=null),a},bM=e=>W_(e,vM);let Yb=!0,u0,h0;const yM=e=>{if(Yb){u0=new Int32Array(512),h0=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(ru(R_,e.lens,0,288,u0,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;ru(O_,e.lens,0,32,h0,0,e.work,{bits:5}),Yb=!1}e.lencode=u0,e.lenbits=9,e.distcode=h0,e.distbits=5},J_=(e,t,r,a)=>{let n;const i=e.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),a>=i.wsize?(i.window.set(t.subarray(r-i.wsize,r),0),i.wnext=0,i.whave=i.wsize):(n=i.wsize-i.wnext,n>a&&(n=a),i.window.set(t.subarray(r-a,r-a+n),i.wnext),a-=n,a?(i.window.set(t.subarray(r-a,r),0),i.wnext=a,i.whave=i.wsize):(i.wnext+=n,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=n))),0},BM=(e,t)=>{let r,a,n,i,o,A,l,c,d,h,m,u,p,g,y=0,x,B,j,w,N,I,U,D;const L=new Uint8Array(4);let P,S;const E=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(hl(e)||!e.output||!e.input&&e.avail_in!==0)return Bn;r=e.state,r.mode===Di&&(r.mode=l0),o=e.next_out,n=e.output,l=e.avail_out,i=e.next_in,a=e.input,A=e.avail_in,c=r.hold,d=r.bits,h=A,m=l,D=ol;e:for(;;)switch(r.mode){case Pp:if(r.wrap===0){r.mode=l0;break}for(;d<16;){if(A===0)break e;A--,c+=a[i++]<<d,d+=8}if(r.wrap&2&&c===35615){r.wbits===0&&(r.wbits=15),r.check=0,L[0]=c&255,L[1]=c>>>8&255,r.check=Ds(r.check,L,2,0),c=0,d=0,r.mode=Eb;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((c&255)<<8)+(c>>8))%31){e.msg="incorrect header check",r.mode=Pr;break}if((c&15)!==Fb){e.msg="unknown compression method",r.mode=Pr;break}if(c>>>=4,d-=4,U=(c&15)+8,r.wbits===0&&(r.wbits=U),U>15||U>r.wbits){e.msg="invalid window size",r.mode=Pr;break}r.dmax=1<<r.wbits,r.flags=0,e.adler=r.check=1,r.mode=c&512?Mb:Di,c=0,d=0;break;case Eb:for(;d<16;){if(A===0)break e;A--,c+=a[i++]<<d,d+=8}if(r.flags=c,(r.flags&255)!==Fb){e.msg="unknown compression method",r.mode=Pr;break}if(r.flags&57344){e.msg="unknown header flags set",r.mode=Pr;break}r.head&&(r.head.text=c>>8&1),r.flags&512&&r.wrap&4&&(L[0]=c&255,L[1]=c>>>8&255,r.check=Ds(r.check,L,2,0)),c=0,d=0,r.mode=Ub;case Ub:for(;d<32;){if(A===0)break e;A--,c+=a[i++]<<d,d+=8}r.head&&(r.head.time=c),r.flags&512&&r.wrap&4&&(L[0]=c&255,L[1]=c>>>8&255,L[2]=c>>>16&255,L[3]=c>>>24&255,r.check=Ds(r.check,L,4,0)),c=0,d=0,r.mode=Ib;case Ib:for(;d<16;){if(A===0)break e;A--,c+=a[i++]<<d,d+=8}r.head&&(r.head.xflags=c&255,r.head.os=c>>8),r.flags&512&&r.wrap&4&&(L[0]=c&255,L[1]=c>>>8&255,r.check=Ds(r.check,L,2,0)),c=0,d=0,r.mode=Qb;case Qb:if(r.flags&1024){for(;d<16;){if(A===0)break e;A--,c+=a[i++]<<d,d+=8}r.length=c,r.head&&(r.head.extra_len=c),r.flags&512&&r.wrap&4&&(L[0]=c&255,L[1]=c>>>8&255,r.check=Ds(r.check,L,2,0)),c=0,d=0}else r.head&&(r.head.extra=null);r.mode=kb;case kb:if(r.flags&1024&&(u=r.length,u>A&&(u=A),u&&(r.head&&(U=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(a.subarray(i,i+u),U)),r.flags&512&&r.wrap&4&&(r.check=Ds(r.check,a,u,i)),A-=u,i+=u,r.length-=u),r.length))break e;r.length=0,r.mode=Lb;case Lb:if(r.flags&2048){if(A===0)break e;u=0;do U=a[i+u++],r.head&&U&&r.length<65536&&(r.head.name+=String.fromCharCode(U));while(U&&u<A);if(r.flags&512&&r.wrap&4&&(r.check=Ds(r.check,a,u,i)),A-=u,i+=u,U)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=Db;case Db:if(r.flags&4096){if(A===0)break e;u=0;do U=a[i+u++],r.head&&U&&r.length<65536&&(r.head.comment+=String.fromCharCode(U));while(U&&u<A);if(r.flags&512&&r.wrap&4&&(r.check=Ds(r.check,a,u,i)),A-=u,i+=u,U)break e}else r.head&&(r.head.comment=null);r.mode=Pb;case Pb:if(r.flags&512){for(;d<16;){if(A===0)break e;A--,c+=a[i++]<<d,d+=8}if(r.wrap&4&&c!==(r.check&65535)){e.msg="header crc mismatch",r.mode=Pr;break}c=0,d=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=Di;break;case Mb:for(;d<32;){if(A===0)break e;A--,c+=a[i++]<<d,d+=8}e.adler=r.check=Xb(c),c=0,d=0,r.mode=Om;case Om:if(r.havedict===0)return e.next_out=o,e.avail_out=l,e.next_in=i,e.avail_in=A,r.hold=c,r.bits=d,fM;e.adler=r.check=1,r.mode=Di;case Di:if(t===uM||t===of)break e;case l0:if(r.last){c>>>=d&7,d-=d&7,r.mode=d0;break}for(;d<3;){if(A===0)break e;A--,c+=a[i++]<<d,d+=8}switch(r.last=c&1,c>>>=1,d-=1,c&3){case 0:r.mode=Tb;break;case 1:if(yM(r),r.mode=Af,t===of){c>>>=2,d-=2;break e}break;case 2:r.mode=Ob;break;case 3:e.msg="invalid block type",r.mode=Pr}c>>>=2,d-=2;break;case Tb:for(c>>>=d&7,d-=d&7;d<32;){if(A===0)break e;A--,c+=a[i++]<<d,d+=8}if((c&65535)!==(c>>>16^65535)){e.msg="invalid stored block lengths",r.mode=Pr;break}if(r.length=c&65535,c=0,d=0,r.mode=c0,t===of)break e;case c0:r.mode=Rb;case Rb:if(u=r.length,u){if(u>A&&(u=A),u>l&&(u=l),u===0)break e;n.set(a.subarray(i,i+u),o),A-=u,i+=u,l-=u,o+=u,r.length-=u;break}r.mode=Di;break;case Ob:for(;d<14;){if(A===0)break e;A--,c+=a[i++]<<d,d+=8}if(r.nlen=(c&31)+257,c>>>=5,d-=5,r.ndist=(c&31)+1,c>>>=5,d-=5,r.ncode=(c&15)+4,c>>>=4,d-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=Pr;break}r.have=0,r.mode=Hb;case Hb:for(;r.have<r.ncode;){for(;d<3;){if(A===0)break e;A--,c+=a[i++]<<d,d+=8}r.lens[E[r.have++]]=c&7,c>>>=3,d-=3}for(;r.have<19;)r.lens[E[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,P={bits:r.lenbits},D=ru(dM,r.lens,0,19,r.lencode,0,r.work,P),r.lenbits=P.bits,D){e.msg="invalid code lengths set",r.mode=Pr;break}r.have=0,r.mode=Kb;case Kb:for(;r.have<r.nlen+r.ndist;){for(;y=r.lencode[c&(1<<r.lenbits)-1],x=y>>>24,B=y>>>16&255,j=y&65535,!(x<=d);){if(A===0)break e;A--,c+=a[i++]<<d,d+=8}if(j<16)c>>>=x,d-=x,r.lens[r.have++]=j;else{if(j===16){for(S=x+2;d<S;){if(A===0)break e;A--,c+=a[i++]<<d,d+=8}if(c>>>=x,d-=x,r.have===0){e.msg="invalid bit length repeat",r.mode=Pr;break}U=r.lens[r.have-1],u=3+(c&3),c>>>=2,d-=2}else if(j===17){for(S=x+3;d<S;){if(A===0)break e;A--,c+=a[i++]<<d,d+=8}c>>>=x,d-=x,U=0,u=3+(c&7),c>>>=3,d-=3}else{for(S=x+7;d<S;){if(A===0)break e;A--,c+=a[i++]<<d,d+=8}c>>>=x,d-=x,U=0,u=11+(c&127),c>>>=7,d-=7}if(r.have+u>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=Pr;break}for(;u--;)r.lens[r.have++]=U}}if(r.mode===Pr)break;if(r.lens[256]===0){e.msg="invalid code -- missing end-of-block",r.mode=Pr;break}if(r.lenbits=9,P={bits:r.lenbits},D=ru(R_,r.lens,0,r.nlen,r.lencode,0,r.work,P),r.lenbits=P.bits,D){e.msg="invalid literal/lengths set",r.mode=Pr;break}if(r.distbits=6,r.distcode=r.distdyn,P={bits:r.distbits},D=ru(O_,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,P),r.distbits=P.bits,D){e.msg="invalid distances set",r.mode=Pr;break}if(r.mode=Af,t===of)break e;case Af:r.mode=lf;case lf:if(A>=6&&l>=258){e.next_out=o,e.avail_out=l,e.next_in=i,e.avail_in=A,r.hold=c,r.bits=d,nM(e,m),o=e.next_out,n=e.output,l=e.avail_out,i=e.next_in,a=e.input,A=e.avail_in,c=r.hold,d=r.bits,r.mode===Di&&(r.back=-1);break}for(r.back=0;y=r.lencode[c&(1<<r.lenbits)-1],x=y>>>24,B=y>>>16&255,j=y&65535,!(x<=d);){if(A===0)break e;A--,c+=a[i++]<<d,d+=8}if(B&&!(B&240)){for(w=x,N=B,I=j;y=r.lencode[I+((c&(1<<w+N)-1)>>w)],x=y>>>24,B=y>>>16&255,j=y&65535,!(w+x<=d);){if(A===0)break e;A--,c+=a[i++]<<d,d+=8}c>>>=w,d-=w,r.back+=w}if(c>>>=x,d-=x,r.back+=x,r.length=j,B===0){r.mode=Gb;break}if(B&32){r.back=-1,r.mode=Di;break}if(B&64){e.msg="invalid literal/length code",r.mode=Pr;break}r.extra=B&15,r.mode=$b;case $b:if(r.extra){for(S=r.extra;d<S;){if(A===0)break e;A--,c+=a[i++]<<d,d+=8}r.length+=c&(1<<r.extra)-1,c>>>=r.extra,d-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=Vb;case Vb:for(;y=r.distcode[c&(1<<r.distbits)-1],x=y>>>24,B=y>>>16&255,j=y&65535,!(x<=d);){if(A===0)break e;A--,c+=a[i++]<<d,d+=8}if(!(B&240)){for(w=x,N=B,I=j;y=r.distcode[I+((c&(1<<w+N)-1)>>w)],x=y>>>24,B=y>>>16&255,j=y&65535,!(w+x<=d);){if(A===0)break e;A--,c+=a[i++]<<d,d+=8}c>>>=w,d-=w,r.back+=w}if(c>>>=x,d-=x,r.back+=x,B&64){e.msg="invalid distance code",r.mode=Pr;break}r.offset=j,r.extra=B&15,r.mode=zb;case zb:if(r.extra){for(S=r.extra;d<S;){if(A===0)break e;A--,c+=a[i++]<<d,d+=8}r.offset+=c&(1<<r.extra)-1,c>>>=r.extra,d-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=Pr;break}r.mode=qb;case qb:if(l===0)break e;if(u=m-l,r.offset>u){if(u=r.offset-u,u>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=Pr;break}u>r.wnext?(u-=r.wnext,p=r.wsize-u):p=r.wnext-u,u>r.length&&(u=r.length),g=r.window}else g=n,p=o-r.offset,u=r.length;u>l&&(u=l),l-=u,r.length-=u;do n[o++]=g[p++];while(--u);r.length===0&&(r.mode=lf);break;case Gb:if(l===0)break e;n[o++]=r.length,l--,r.mode=lf;break;case d0:if(r.wrap){for(;d<32;){if(A===0)break e;A--,c|=a[i++]<<d,d+=8}if(m-=l,e.total_out+=m,r.total+=m,r.wrap&4&&m&&(e.adler=r.check=r.flags?Ds(r.check,n,m,o-m):Fu(r.check,n,m,o-m)),m=l,r.wrap&4&&(r.flags?c:Xb(c))!==r.check){e.msg="incorrect data check",r.mode=Pr;break}c=0,d=0}r.mode=Wb;case Wb:if(r.wrap&&r.flags){for(;d<32;){if(A===0)break e;A--,c+=a[i++]<<d,d+=8}if(r.wrap&4&&c!==(r.total&4294967295)){e.msg="incorrect length check",r.mode=Pr;break}c=0,d=0}r.mode=Jb;case Jb:D=hM;break e;case Pr:D=H_;break e;case $_:return K_;case V_:default:return Bn}return e.next_out=o,e.avail_out=l,e.next_in=i,e.avail_in=A,r.hold=c,r.bits=d,(r.wsize||m!==e.avail_out&&r.mode<Pr&&(r.mode<d0||t!==Sb))&&J_(e,e.output,e.next_out,m-e.avail_out),h-=e.avail_in,m-=e.avail_out,e.total_in+=h,e.total_out+=m,r.total+=m,r.wrap&4&&m&&(e.adler=r.check=r.flags?Ds(r.check,n,m,e.next_out-m):Fu(r.check,n,m,e.next_out-m)),e.data_type=r.bits+(r.last?64:0)+(r.mode===Di?128:0)+(r.mode===Af||r.mode===c0?256:0),(h===0&&m===0||t===Sb)&&D===ol&&(D=mM),D},jM=e=>{if(hl(e))return Bn;let t=e.state;return t.window&&(t.window=null),e.state=null,ol},CM=(e,t)=>{if(hl(e))return Bn;const r=e.state;return r.wrap&2?(r.head=t,t.done=!1,ol):Bn},NM=(e,t)=>{const r=t.length;let a,n,i;return hl(e)||(a=e.state,a.wrap!==0&&a.mode!==Om)?Bn:a.mode===Om&&(n=1,n=Fu(n,t,r,0),n!==a.check)?H_:(i=J_(e,t,r,r),i?(a.mode=$_,K_):(a.havedict=1,ol))};var _M=q_,SM=G_,FM=z_,EM=bM,UM=W_,IM=BM,QM=jM,kM=CM,LM=NM,DM="pako inflate (from Nodeca project)",Ki={inflateReset:_M,inflateReset2:SM,inflateResetKeep:FM,inflateInit:EM,inflateInit2:UM,inflate:IM,inflateEnd:QM,inflateGetHeader:kM,inflateSetDictionary:LM,inflateInfo:DM};function PM(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var MM=PM;const X_=Object.prototype.toString,{Z_NO_FLUSH:TM,Z_FINISH:RM,Z_OK:Iu,Z_STREAM_END:f0,Z_NEED_DICT:m0,Z_STREAM_ERROR:OM,Z_DATA_ERROR:Zb,Z_MEM_ERROR:HM}=Xu;function Zu(e){this.options=Dp.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new M_,this.strm.avail_out=0;let r=Ki.inflateInit2(this.strm,t.windowBits);if(r!==Iu)throw new Error(yc[r]);if(this.header=new MM,Ki.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=Uu.string2buf(t.dictionary):X_.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=Ki.inflateSetDictionary(this.strm,t.dictionary),r!==Iu)))throw new Error(yc[r])}Zu.prototype.push=function(e,t){const r=this.strm,a=this.options.chunkSize,n=this.options.dictionary;let i,o,A;if(this.ended)return!1;for(t===~~t?o=t:o=t===!0?RM:TM,X_.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(a),r.next_out=0,r.avail_out=a),i=Ki.inflate(r,o),i===m0&&n&&(i=Ki.inflateSetDictionary(r,n),i===Iu?i=Ki.inflate(r,o):i===Zb&&(i=m0));r.avail_in>0&&i===f0&&r.state.wrap>0&&e[r.next_in]!==0;)Ki.inflateReset(r),i=Ki.inflate(r,o);switch(i){case OM:case Zb:case m0:case HM:return this.onEnd(i),this.ended=!0,!1}if(A=r.avail_out,r.next_out&&(r.avail_out===0||i===f0))if(this.options.to==="string"){let l=Uu.utf8border(r.output,r.next_out),c=r.next_out-l,d=Uu.buf2string(r.output,l);r.next_out=c,r.avail_out=a-c,c&&r.output.set(r.output.subarray(l,l+c),0),this.onData(d)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(i===Iu&&A===0)){if(i===f0)return i=Ki.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};Zu.prototype.onData=function(e){this.chunks.push(e)};Zu.prototype.onEnd=function(e){e===Iu&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Dp.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function O1(e,t){const r=new Zu(t);if(r.push(e),r.err)throw r.msg||yc[r.err];return r.result}function KM(e,t){return t=t||{},t.raw=!0,O1(e,t)}var $M=Zu,VM=O1,zM=KM,qM=O1,GM=Xu,WM={Inflate:$M,inflate:VM,inflateRaw:zM,ungzip:qM,constants:GM};const{Inflate:JM,inflate:XM,inflateRaw:_q,ungzip:Sq}=WM;var ey=JM,YM=XM;const Y_=[];for(let e=0;e<256;e++){let t=e;for(let r=0;r<8;r++)t&1?t=3988292384^t>>>1:t=t>>>1;Y_[e]=t}const ty=4294967295;function ZM(e,t,r){let a=e;for(let n=0;n<r;n++)a=Y_[(a^t[n])&255]^a>>>8;return a}function eT(e,t){return(ZM(ty,e,t)^ty)>>>0}function ry(e,t,r){const a=e.readUint32(),n=eT(new Uint8Array(e.buffer,e.byteOffset+e.offset-t-4,t),t);if(n!==a)throw new Error(`CRC mismatch for chunk ${r}. Expected ${a}, found ${n}`)}function Z_(e,t,r){for(let a=0;a<r;a++)t[a]=e[a]}function eS(e,t,r,a){let n=0;for(;n<a;n++)t[n]=e[n];for(;n<r;n++)t[n]=e[n]+t[n-a]&255}function tS(e,t,r,a){let n=0;if(r.length===0)for(;n<a;n++)t[n]=e[n];else for(;n<a;n++)t[n]=e[n]+r[n]&255}function rS(e,t,r,a,n){let i=0;if(r.length===0){for(;i<n;i++)t[i]=e[i];for(;i<a;i++)t[i]=e[i]+(t[i-n]>>1)&255}else{for(;i<n;i++)t[i]=e[i]+(r[i]>>1)&255;for(;i<a;i++)t[i]=e[i]+(t[i-n]+r[i]>>1)&255}}function sS(e,t,r,a,n){let i=0;if(r.length===0){for(;i<n;i++)t[i]=e[i];for(;i<a;i++)t[i]=e[i]+t[i-n]&255}else{for(;i<n;i++)t[i]=e[i]+r[i]&255;for(;i<a;i++)t[i]=e[i]+tT(t[i-n],r[i],r[i-n])&255}}function tT(e,t,r){const a=e+t-r,n=Math.abs(a-e),i=Math.abs(a-t),o=Math.abs(a-r);return n<=i&&n<=o?e:i<=o?t:r}function rT(e,t,r,a,n,i){switch(e){case 0:Z_(t,r,n);break;case 1:eS(t,r,n,i);break;case 2:tS(t,r,a,n);break;case 3:rS(t,r,a,n,i);break;case 4:sS(t,r,a,n,i);break;default:throw new Error(`Unsupported filter: ${e}`)}}const sT=new Uint16Array([255]),aT=new Uint8Array(sT.buffer),nT=aT[0]===255;function iT(e){const{data:t,width:r,height:a,channels:n,depth:i}=e,o=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],A=Math.ceil(i/8)*n,l=new Uint8Array(a*r*A);let c=0;for(let d=0;d<7;d++){const h=o[d],m=Math.ceil((r-h.x)/h.xStep),u=Math.ceil((a-h.y)/h.yStep);if(m<=0||u<=0)continue;const p=m*A,g=new Uint8Array(p);for(let y=0;y<u;y++){const x=t[c++],B=t.subarray(c,c+p);c+=p;const j=new Uint8Array(p);rT(x,B,j,g,p,A),g.set(j);for(let w=0;w<m;w++){const N=h.x+w*h.xStep,I=h.y+y*h.yStep;if(!(N>=r||I>=a))for(let U=0;U<A;U++)l[(I*r+N)*A+U]=j[w*A+U]}}}if(i===16){const d=new Uint16Array(l.buffer);if(nT)for(let h=0;h<d.length;h++)d[h]=oT(d[h]);return d}else return l}function oT(e){return(e&255)<<8|e>>8&255}const AT=new Uint16Array([255]),lT=new Uint8Array(AT.buffer),cT=lT[0]===255,dT=new Uint8Array(0);function sy(e){const{data:t,width:r,height:a,channels:n,depth:i}=e,o=Math.ceil(i/8)*n,A=Math.ceil(i/8*n*r),l=new Uint8Array(a*A);let c=dT,d=0,h,m;for(let u=0;u<a;u++){switch(h=t.subarray(d+1,d+1+A),m=l.subarray(u*A,(u+1)*A),t[d]){case 0:Z_(h,m,A);break;case 1:eS(h,m,A,o);break;case 2:tS(h,m,c,A);break;case 3:rS(h,m,c,A,o);break;case 4:sS(h,m,c,A,o);break;default:throw new Error(`Unsupported filter: ${t[d]}`)}c=m,d+=A+1}if(i===16){const u=new Uint16Array(l.buffer);if(cT)for(let p=0;p<u.length;p++)u[p]=uT(u[p]);return u}else return l}function uT(e){return(e&255)<<8|e>>8&255}const Zf=Uint8Array.of(137,80,78,71,13,10,26,10);function ay(e){if(!hT(e.readBytes(Zf.length)))throw new Error("wrong PNG signature")}function hT(e){if(e.length<Zf.length)return!1;for(let t=0;t<Zf.length;t++)if(e[t]!==Zf[t])return!1;return!0}const fT="tEXt",mT=0,aS=new TextDecoder("latin1");function pT(e){if(xT(e),e.length===0||e.length>79)throw new Error("keyword length must be between 1 and 79")}const gT=/^[\u0000-\u00FF]*$/;function xT(e){if(!gT.test(e))throw new Error("invalid latin1 text")}function vT(e,t,r){const a=nS(t);e[a]=wT(t,r-a.length-1)}function nS(e){for(e.mark();e.readByte()!==mT;);const t=e.offset;e.reset();const r=aS.decode(e.readBytes(t-e.offset-1));return e.skip(1),pT(r),r}function wT(e,t){return aS.decode(e.readBytes(t))}const Va={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},p0={UNKNOWN:-1,DEFLATE:0},ny={UNKNOWN:-1,ADAPTIVE:0},g0={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},cf={NONE:0,BACKGROUND:1,PREVIOUS:2},x0={SOURCE:0,OVER:1};class bT extends k1{constructor(r,a={}){super(r);hr(this,"_checkCrc");hr(this,"_inflator");hr(this,"_png");hr(this,"_apng");hr(this,"_end");hr(this,"_hasPalette");hr(this,"_palette");hr(this,"_hasTransparency");hr(this,"_transparency");hr(this,"_compressionMethod");hr(this,"_filterMethod");hr(this,"_interlaceMethod");hr(this,"_colorType");hr(this,"_isAnimated");hr(this,"_numberOfFrames");hr(this,"_numberOfPlays");hr(this,"_frames");hr(this,"_writingDataChunks");const{checkCrc:n=!1}=a;this._checkCrc=n,this._inflator=new ey,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=p0.UNKNOWN,this._filterMethod=ny.UNKNOWN,this._interlaceMethod=g0.UNKNOWN,this._colorType=Va.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(ay(this);!this._end;){const r=this.readUint32(),a=this.readChars(4);this.decodeChunk(r,a)}return this.decodeImage(),this._png}decodeApng(){for(ay(this);!this._end;){const r=this.readUint32(),a=this.readChars(4);this.decodeApngChunk(r,a)}return this.decodeApngImage(),this._apng}decodeChunk(r,a){const n=this.offset;switch(a){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(r);break;case"IDAT":this.decodeIDAT(r);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(r);break;case"iCCP":this.decodeiCCP(r);break;case fT:vT(this._png.text,this,r);break;case"pHYs":this.decodepHYs();break;default:this.skip(r);break}if(this.offset-n!==r)throw new Error(`Length mismatch while decoding chunk ${a}`);this._checkCrc?ry(this,r+4,a):this.skip(4)}decodeApngChunk(r,a){const n=this.offset;switch(a!=="fdAT"&&a!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),a){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(r);break;default:this.decodeChunk(r,a),this.offset=n+r;break}if(this.offset-n!==r)throw new Error(`Length mismatch while decoding chunk ${a}`);this._checkCrc?ry(this,r+4,a):this.skip(4)}decodeIHDR(){const r=this._png;r.width=this.readUint32(),r.height=this.readUint32(),r.depth=yT(this.readUint8());const a=this.readUint8();this._colorType=a;let n;switch(a){case Va.GREYSCALE:n=1;break;case Va.TRUECOLOUR:n=3;break;case Va.INDEXED_COLOUR:n=1;break;case Va.GREYSCALE_ALPHA:n=2;break;case Va.TRUECOLOUR_ALPHA:n=4;break;case Va.UNKNOWN:default:throw new Error(`Unknown color type: ${a}`)}if(this._png.channels=n,this._compressionMethod=this.readUint8(),this._compressionMethod!==p0.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const r={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(r)}decodePLTE(r){if(r%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${r}`);const a=r/3;this._hasPalette=!0;const n=[];this._palette=n;for(let i=0;i<a;i++)n.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(r){this._writingDataChunks=!0;const a=r,n=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,n,a)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodeFDAT(r){this._writingDataChunks=!0;let a=r,n=this.offset+this.byteOffset;if(n+=4,a-=4,this._inflator.push(new Uint8Array(this.buffer,n,a)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodetRNS(r){switch(this._colorType){case Va.GREYSCALE:case Va.TRUECOLOUR:{if(r%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${r}`);if(r/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${r/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(r/2);for(let a=0;a<r/2;a++)this._transparency[a]=this.readUint16();break}case Va.INDEXED_COLOUR:{if(r>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${r} vs ${this._palette.length})`);let a=0;for(;a<r;a++){const n=this.readByte();this._palette[a].push(n)}for(;a<this._palette.length;a++)this._palette[a].push(255);break}case Va.UNKNOWN:case Va.GREYSCALE_ALPHA:case Va.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(r){const a=nS(this),n=this.readUint8();if(n!==p0.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${n}`);const i=this.readBytes(r-a.length-2);this._png.iccEmbeddedProfile={name:a,profile:YM(i)}}decodepHYs(){const r=this.readUint32(),a=this.readUint32(),n=this.readByte();this._png.resolution={x:r,y:a,unit:n}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let r=0;r<this._numberOfFrames;r++){const a={sequenceNumber:this._frames[r].sequenceNumber,delayNumber:this._frames[r].delayNumber,delayDenominator:this._frames[r].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},n=this._frames.at(r);if(n){if(n.data=sy({data:n.data,width:n.width,height:n.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),r===0||n.xOffset===0&&n.yOffset===0&&n.width===this._png.width&&n.height===this._png.height)a.data=n.data;else{const i=this._apng.frames.at(r-1);this.disposeFrame(n,i,a),this.addFrameDataToCanvas(a,n)}this._apng.frames.push(a)}}return this._apng}disposeFrame(r,a,n){switch(r.disposeOp){case cf.NONE:break;case cf.BACKGROUND:for(let i=0;i<this._png.height;i++)for(let o=0;o<this._png.width;o++){const A=(i*r.width+o)*this._png.channels;for(let l=0;l<this._png.channels;l++)n.data[A+l]=0}break;case cf.PREVIOUS:n.data.set(a.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(r,a){const n=1<<this._png.depth,i=(o,A)=>{const l=((o+a.yOffset)*this._png.width+a.xOffset+A)*this._png.channels,c=(o*a.width+A)*this._png.channels;return{index:l,frameIndex:c}};switch(a.blendOp){case x0.SOURCE:for(let o=0;o<a.height;o++)for(let A=0;A<a.width;A++){const{index:l,frameIndex:c}=i(o,A);for(let d=0;d<this._png.channels;d++)r.data[l+d]=a.data[c+d]}break;case x0.OVER:for(let o=0;o<a.height;o++)for(let A=0;A<a.width;A++){const{index:l,frameIndex:c}=i(o,A);for(let d=0;d<this._png.channels;d++){const h=a.data[c+this._png.channels-1]/n,m=d%(this._png.channels-1)===0?1:a.data[c+d],u=Math.floor(h*m+(1-h)*r.data[l+d]);r.data[l+d]+=u}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var a;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const r=this._isAnimated?((a=this._frames)==null?void 0:a.at(0)).data:this._inflator.result;if(this._filterMethod!==ny.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===g0.NO_INTERLACE)this._png.data=sy({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===g0.ADAM7)this._png.data=iT({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const r=this._inflator.result,a=this._frames.at(-1);a?a.data=r:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:cf.NONE,blendOp:x0.SOURCE,data:r}),this._inflator=new ey,this._writingDataChunks=!1}}function yT(e){if(e!==1&&e!==2&&e!==4&&e!==8&&e!==16)throw new Error(`invalid bit depth: ${e}`);return e}var iy;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.METRE=1]="METRE"})(iy||(iy={}));function BT(e,t){return new bT(e,t).decode()}var Mt=function(){return typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:this}();function v0(){Mt.console&&typeof Mt.console.log=="function"&&Mt.console.log.apply(Mt.console,arguments)}var _r={log:v0,warn:function(e){Mt.console&&(typeof Mt.console.warn=="function"?Mt.console.warn.apply(Mt.console,arguments):v0.call(null,arguments))},error:function(e){Mt.console&&(typeof Mt.console.error=="function"?Mt.console.error.apply(Mt.console,arguments):v0(e))}};function w0(e,t,r){var a=new XMLHttpRequest;a.open("GET",e),a.responseType="blob",a.onload=function(){QA(a.response,t,r)},a.onerror=function(){_r.error("could not download file")},a.send()}function oy(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(r){}return t.status>=200&&t.status<=299}function df(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(r){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var QA=Mt.saveAs||((typeof window=="undefined"?"undefined":Br(window))!=="object"||window!==Mt?function(){}:typeof HTMLAnchorElement!="undefined"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var a=Mt.URL||Mt.webkitURL,n=document.createElement("a");t=t||e.name||"download",n.download=t,n.rel="noopener",typeof e=="string"?(n.href=e,n.origin!==location.origin?oy(n.href)?w0(e,t,r):df(n,n.target="_blank"):df(n)):(n.href=a.createObjectURL(e),setTimeout(function(){a.revokeObjectURL(n.href)},4e4),setTimeout(function(){df(n)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(oy(e))w0(e,t,r);else{var a=document.createElement("a");a.href=e,a.target="_blank",setTimeout(function(){df(a)})}else navigator.msSaveOrOpenBlob(function(n,i){return i===void 0?i={autoBom:!1}:Br(i)!=="object"&&(_r.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(n.type)?new Blob(["\uFEFF",n],{type:n.type}):n}(e,r),t)}:function(e,t,r,a){if((a=a||open("","_blank"))&&(a.document.title=a.document.body.innerText="downloading..."),typeof e=="string")return w0(e,t,r);var n=e.type==="application/octet-stream",i=/constructor/i.test(Mt.HTMLElement)||Mt.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||n&&i)&&(typeof FileReader=="undefined"?"undefined":Br(FileReader))==="object"){var A=new FileReader;A.onloadend=function(){var d=A.result;d=o?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),a?a.location.href=d:location=d,a=null},A.readAsDataURL(e)}else{var l=Mt.URL||Mt.webkitURL,c=l.createObjectURL(e);a?a.location=c:location.href=c,a=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function iS(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(A){return[parseInt(A[1]),parseInt(A[2]),parseInt(A[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(A){return[parseInt(A[1],16),parseInt(A[2],16),parseInt(A[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(A){return[parseInt(A[1]+A[1],16),parseInt(A[2]+A[2],16),parseInt(A[3]+A[3],16)]}}],a=0;a<r.length;a++){var n=r[a].re,i=r[a].process,o=n.exec(e);o&&(t=i(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var A=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return A.length==1&&(A="0"+A),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+A+l+c}}var em=Mt.atob.bind(Mt),Ay=Mt.btoa.bind(Mt);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function b0(e,t){var r=e[0],a=e[1],n=e[2],i=e[3];r=na(r,a,n,i,t[0],7,-680876936),i=na(i,r,a,n,t[1],12,-389564586),n=na(n,i,r,a,t[2],17,606105819),a=na(a,n,i,r,t[3],22,-1044525330),r=na(r,a,n,i,t[4],7,-176418897),i=na(i,r,a,n,t[5],12,1200080426),n=na(n,i,r,a,t[6],17,-1473231341),a=na(a,n,i,r,t[7],22,-45705983),r=na(r,a,n,i,t[8],7,1770035416),i=na(i,r,a,n,t[9],12,-1958414417),n=na(n,i,r,a,t[10],17,-42063),a=na(a,n,i,r,t[11],22,-1990404162),r=na(r,a,n,i,t[12],7,1804603682),i=na(i,r,a,n,t[13],12,-40341101),n=na(n,i,r,a,t[14],17,-1502002290),r=ia(r,a=na(a,n,i,r,t[15],22,1236535329),n,i,t[1],5,-165796510),i=ia(i,r,a,n,t[6],9,-1069501632),n=ia(n,i,r,a,t[11],14,643717713),a=ia(a,n,i,r,t[0],20,-373897302),r=ia(r,a,n,i,t[5],5,-701558691),i=ia(i,r,a,n,t[10],9,38016083),n=ia(n,i,r,a,t[15],14,-660478335),a=ia(a,n,i,r,t[4],20,-405537848),r=ia(r,a,n,i,t[9],5,568446438),i=ia(i,r,a,n,t[14],9,-1019803690),n=ia(n,i,r,a,t[3],14,-187363961),a=ia(a,n,i,r,t[8],20,1163531501),r=ia(r,a,n,i,t[13],5,-1444681467),i=ia(i,r,a,n,t[2],9,-51403784),n=ia(n,i,r,a,t[7],14,1735328473),r=oa(r,a=ia(a,n,i,r,t[12],20,-1926607734),n,i,t[5],4,-378558),i=oa(i,r,a,n,t[8],11,-2022574463),n=oa(n,i,r,a,t[11],16,1839030562),a=oa(a,n,i,r,t[14],23,-35309556),r=oa(r,a,n,i,t[1],4,-1530992060),i=oa(i,r,a,n,t[4],11,1272893353),n=oa(n,i,r,a,t[7],16,-155497632),a=oa(a,n,i,r,t[10],23,-1094730640),r=oa(r,a,n,i,t[13],4,681279174),i=oa(i,r,a,n,t[0],11,-358537222),n=oa(n,i,r,a,t[3],16,-722521979),a=oa(a,n,i,r,t[6],23,76029189),r=oa(r,a,n,i,t[9],4,-640364487),i=oa(i,r,a,n,t[12],11,-421815835),n=oa(n,i,r,a,t[15],16,530742520),r=Aa(r,a=oa(a,n,i,r,t[2],23,-995338651),n,i,t[0],6,-198630844),i=Aa(i,r,a,n,t[7],10,1126891415),n=Aa(n,i,r,a,t[14],15,-1416354905),a=Aa(a,n,i,r,t[5],21,-57434055),r=Aa(r,a,n,i,t[12],6,1700485571),i=Aa(i,r,a,n,t[3],10,-1894986606),n=Aa(n,i,r,a,t[10],15,-1051523),a=Aa(a,n,i,r,t[1],21,-2054922799),r=Aa(r,a,n,i,t[8],6,1873313359),i=Aa(i,r,a,n,t[15],10,-30611744),n=Aa(n,i,r,a,t[6],15,-1560198380),a=Aa(a,n,i,r,t[13],21,1309151649),r=Aa(r,a,n,i,t[4],6,-145523070),i=Aa(i,r,a,n,t[11],10,-1120210379),n=Aa(n,i,r,a,t[2],15,718787259),a=Aa(a,n,i,r,t[9],21,-343485551),e[0]=Po(r,e[0]),e[1]=Po(a,e[1]),e[2]=Po(n,e[2]),e[3]=Po(i,e[3])}function Mp(e,t,r,a,n,i){return t=Po(Po(t,e),Po(a,i)),Po(t<<n|t>>>32-n,r)}function na(e,t,r,a,n,i,o){return Mp(t&r|~t&a,e,t,n,i,o)}function ia(e,t,r,a,n,i,o){return Mp(t&a|r&~a,e,t,n,i,o)}function oa(e,t,r,a,n,i,o){return Mp(t^r^a,e,t,n,i,o)}function Aa(e,t,r,a,n,i,o){return Mp(r^(t|~a),e,t,n,i,o)}function oS(e){var t,r=e.length,a=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)b0(a,jT(e.substring(t-64,t)));e=e.substring(t-64);var n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)n[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(n[t>>2]|=128<<(t%4<<3),t>55)for(b0(a,n),t=0;t<16;t++)n[t]=0;return n[14]=8*r,b0(a,n),a}function jT(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}var ly="0123456789abcdef".split("");function CT(e){for(var t="",r=0;r<4;r++)t+=ly[e>>8*r+4&15]+ly[e>>8*r&15];return t}function NT(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function Yx(e){return oS(e).map(NT).join("")}var _T=function(e){for(var t=0;t<e.length;t++)e[t]=CT(e[t]);return e.join("")}(oS("hello"))!="5d41402abc4b2a76b9719d911017c592";function Po(e,t){if(_T){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Zx(e,t){var r,a,n,i;if(e!==r){for(var o=(n=e,i=1+(256/e.length|0),new Array(i+1).join(n)),A=[],l=0;l<256;l++)A[l]=l;var c=0;for(l=0;l<256;l++){var d=A[l];c=(c+d+o.charCodeAt(l))%256,A[l]=A[c],A[c]=d}r=e,a=A}else A=a;var h=t.length,m=0,u=0,p="";for(l=0;l<h;l++)u=(u+(d=A[m=(m+1)%256]))%256,A[m]=A[u],A[u]=d,o=A[(A[m]+A[u])%256],p+=String.fromCharCode(t.charCodeAt(l)^o);return p}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var cy={print:4,modify:8,copy:16,"annot-forms":32};function ql(e,t,r,a){this.v=1,this.r=2;var n=192;e.forEach(function(A){if(cy.perm!==void 0)throw new Error("Invalid permission: "+A);n+=cy[A]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var i=(t+this.padding).substr(0,32),o=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,o),this.P=-(1+(255^n)),this.encryptionKey=Yx(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(a)).substr(0,5),this.U=Zx(this.encryptionKey,this.padding)}function Gl(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,a=0;a<r;a++){var n=e.charCodeAt(a);t+=n<33||n===35||n===37||n===40||n===41||n===47||n===60||n===62||n===91||n===93||n===123||n===125||n>126?"#"+("0"+n.toString(16)).slice(-2):e[a]}return t}function dy(e){if(Br(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,a,n){if(n=n||!1,typeof r!="string"||typeof a!="function"||typeof n!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var i=Math.random().toString(35);return t[r][i]=[a,!!n],i},this.unsubscribe=function(r){for(var a in t)if(t[a][r])return delete t[a][r],Object.keys(t[a]).length===0&&delete t[a],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var a=Array.prototype.slice.call(arguments,1),n=[];for(var i in t[r]){var o=t[r][i];try{o[0].apply(e,a)}catch(A){Mt.console&&_r.error("jsPDF PubSub Error",A.message,A)}o[1]&&n.push(i)}n.length&&n.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function Hm(e){if(!(this instanceof Hm))return new Hm(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function AS(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function DA(e,t,r,a,n){if(!(this instanceof DA))return new DA(e,t,r,a,n);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,AS.call(this,a,n)}function Yl(e,t,r,a,n){if(!(this instanceof Yl))return new Yl(e,t,r,a,n);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,AS.call(this,a,n)}function wt(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",a=arguments[1],n=arguments[2],i=arguments[3],o=[],A=1,l=16,c="S",d=null;Br(e=e||{})==="object"&&(r=e.orientation,a=e.unit||a,n=e.format||n,i=e.compress||e.compressPdf||i,(d=e.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),A=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(l=e.floatPrecision),c=e.defaultPathOperation||"S"),o=e.filters||(i===!0?["FlateEncode"]:o),a=a||"mm",r=(""+(r||"P")).toLowerCase();var h=e.putOnlyUsedFonts||!1,m={},u={internal:{},__private__:{}};u.__private__.PubSub=dy;var p="1.3",g=u.__private__.getPdfVersion=function(){return p};u.__private__.setPdfVersion=function(C){p=C};var y={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};u.__private__.getPageFormats=function(){return y};var x=u.__private__.getPageFormat=function(C){return y[C]};n=n||"a4";var B="compat",j="advanced",w=B;function N(){this.saveGraphicsState(),J(new ft(nt,0,0,-nt,0,mA()*nt).toString()+" cm"),this.setFontSize(this.getFontSize()/nt),c="n",w=j}function I(){this.restoreGraphicsState(),c="S",w=B}var U=u.__private__.combineFontStyleAndFontWeight=function(C,R){if(C=="bold"&&R=="normal"||C=="bold"&&R==400||C=="normal"&&R=="italic"||C=="bold"&&R=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return R&&(C=R==400||R==="normal"?C==="italic"?"italic":"normal":R!=700&&R!=="bold"||C!=="normal"?(R==700?"bold":R)+""+C:"bold"),C};u.advancedAPI=function(C){var R=w===B;return R&&N.call(this),typeof C!="function"||(C(this),R&&I.call(this)),this},u.compatAPI=function(C){var R=w===j;return R&&I.call(this),typeof C!="function"||(C(this),R&&N.call(this)),this},u.isAdvancedAPI=function(){return w===j};var D,L=function(C){if(w!==j)throw new Error(C+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},P=u.roundToPrecision=u.__private__.roundToPrecision=function(C,R){var re=t||R;if(isNaN(C)||isNaN(re))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return C.toFixed(re).replace(/0+$/,"")};D=u.hpf=u.__private__.hpf=typeof l=="number"?function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.hpf");return P(C,l)}:l==="smart"?function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.hpf");return P(C,C>-1&&C<1?16:5)}:function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.hpf");return P(C,16)};var S=u.f2=u.__private__.f2=function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.f2");return P(C,2)},E=u.__private__.f3=function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.f3");return P(C,3)},Q=u.scale=u.__private__.scale=function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.scale");return w===B?C*nt:w===j?C:void 0},V=function(C){return Q(function(R){return w===B?mA()-R:w===j?R:void 0}(C))};u.__private__.setPrecision=u.setPrecision=function(C){typeof parseInt(C,10)=="number"&&(t=parseInt(C,10))};var ae,Y="00000000000000000000000000000000",q=u.__private__.getFileId=function(){return Y},K=u.__private__.setFileId=function(C){return Y=C!==void 0&&/^[a-fA-F0-9]{32}$/.test(C)?C.toUpperCase():Y.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(rs=new ql(d.userPermissions,d.userPassword,d.ownerPassword,Y)),Y};u.setFileId=function(C){return K(C),this},u.getFileId=function(){return q()};var Z=u.__private__.convertDateToPDFDate=function(C){var R=C.getTimezoneOffset(),re=R<0?"+":"-",oe=Math.floor(Math.abs(R/60)),ve=Math.abs(R%60),Pe=[re,X(oe),"'",X(ve),"'"].join("");return["D:",C.getFullYear(),X(C.getMonth()+1),X(C.getDate()),X(C.getHours()),X(C.getMinutes()),X(C.getSeconds()),Pe].join("")},fe=u.__private__.convertPDFDateToDate=function(C){var R=parseInt(C.substr(2,4),10),re=parseInt(C.substr(6,2),10)-1,oe=parseInt(C.substr(8,2),10),ve=parseInt(C.substr(10,2),10),Pe=parseInt(C.substr(12,2),10),Ve=parseInt(C.substr(14,2),10);return new Date(R,re,oe,ve,Pe,Ve,0)},we=u.__private__.setCreationDate=function(C){var R;if(C===void 0&&(C=new Date),C instanceof Date)R=Z(C);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(C))throw new Error("Invalid argument passed to jsPDF.setCreationDate");R=C}return ae=R},T=u.__private__.getCreationDate=function(C){var R=ae;return C==="jsDate"&&(R=fe(ae)),R};u.setCreationDate=function(C){return we(C),this},u.getCreationDate=function(C){return T(C)};var G,X=u.__private__.padd2=function(C){return("0"+parseInt(C)).slice(-2)},se=u.__private__.padd2Hex=function(C){return("00"+(C=C.toString())).substr(C.length)},le=0,de=[],Ne=[],je=0,Ie=[],Oe=[],ue=!1,ke=Ne;u.__private__.setCustomOutputDestination=function(C){ue=!0,ke=C};var ge=function(C){ue||(ke=C)};u.__private__.resetCustomOutputDestination=function(){ue=!1,ke=Ne};var J=u.__private__.out=function(C){return C=C.toString(),je+=C.length+1,ke.push(C),ke},xe=u.__private__.write=function(C){return J(arguments.length===1?C.toString():Array.prototype.join.call(arguments," "))},Te=u.__private__.getArrayBuffer=function(C){for(var R=C.length,re=new ArrayBuffer(R),oe=new Uint8Array(re);R--;)oe[R]=C.charCodeAt(R);return re},Xe=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];u.__private__.getStandardFonts=function(){return Xe};var Qe=e.fontSize||16;u.__private__.setFontSize=u.setFontSize=function(C){return Qe=w===j?C/nt:C,this};var Ye,We=u.__private__.getFontSize=u.getFontSize=function(){return w===B?Qe:Qe*nt},xt=e.R2L||!1;u.__private__.setR2L=u.setR2L=function(C){return xt=C,this},u.__private__.getR2L=u.getR2L=function(){return xt};var ye,gt=u.__private__.setZoomMode=function(C){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(C))Ye=C;else if(isNaN(C)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(C)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+C+'" is not recognized.');Ye=C}else Ye=parseInt(C,10)};u.__private__.getZoomMode=function(){return Ye};var yt,ct=u.__private__.setPageMode=function(C){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(C)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+C+'" is not recognized.');ye=C};u.__private__.getPageMode=function(){return ye};var me=u.__private__.setLayoutMode=function(C){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(C)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+C+'" is not recognized.');yt=C};u.__private__.getLayoutMode=function(){return yt},u.__private__.setDisplayMode=u.setDisplayMode=function(C,R,re){return gt(C),me(R),ct(re),this};var Je={title:"",subject:"",author:"",keywords:"",creator:""};u.__private__.getDocumentProperty=function(C){if(Object.keys(Je).indexOf(C)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Je[C]},u.__private__.getDocumentProperties=function(){return Je},u.__private__.setDocumentProperties=u.setProperties=u.setDocumentProperties=function(C){for(var R in Je)Je.hasOwnProperty(R)&&C[R]&&(Je[R]=C[R]);return this},u.__private__.setDocumentProperty=function(C,R){if(Object.keys(Je).indexOf(C)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Je[C]=R};var st,nt,ht,rr,Jt,ot={},Qt={},sr=[],_t={},Yt={},Tt={},Lr={},es=null,dr=0,jt=[],lr=new dy(u),Ft=e.hotfixes||[],Ot={},ar={},$r=[],ft=function C(R,re,oe,ve,Pe,Ve){if(!(this instanceof C))return new C(R,re,oe,ve,Pe,Ve);isNaN(R)&&(R=1),isNaN(re)&&(re=0),isNaN(oe)&&(oe=0),isNaN(ve)&&(ve=1),isNaN(Pe)&&(Pe=0),isNaN(Ve)&&(Ve=0),this._matrix=[R,re,oe,ve,Pe,Ve]};Object.defineProperty(ft.prototype,"sx",{get:function(){return this._matrix[0]},set:function(C){this._matrix[0]=C}}),Object.defineProperty(ft.prototype,"shy",{get:function(){return this._matrix[1]},set:function(C){this._matrix[1]=C}}),Object.defineProperty(ft.prototype,"shx",{get:function(){return this._matrix[2]},set:function(C){this._matrix[2]=C}}),Object.defineProperty(ft.prototype,"sy",{get:function(){return this._matrix[3]},set:function(C){this._matrix[3]=C}}),Object.defineProperty(ft.prototype,"tx",{get:function(){return this._matrix[4]},set:function(C){this._matrix[4]=C}}),Object.defineProperty(ft.prototype,"ty",{get:function(){return this._matrix[5]},set:function(C){this._matrix[5]=C}}),Object.defineProperty(ft.prototype,"a",{get:function(){return this._matrix[0]},set:function(C){this._matrix[0]=C}}),Object.defineProperty(ft.prototype,"b",{get:function(){return this._matrix[1]},set:function(C){this._matrix[1]=C}}),Object.defineProperty(ft.prototype,"c",{get:function(){return this._matrix[2]},set:function(C){this._matrix[2]=C}}),Object.defineProperty(ft.prototype,"d",{get:function(){return this._matrix[3]},set:function(C){this._matrix[3]=C}}),Object.defineProperty(ft.prototype,"e",{get:function(){return this._matrix[4]},set:function(C){this._matrix[4]=C}}),Object.defineProperty(ft.prototype,"f",{get:function(){return this._matrix[5]},set:function(C){this._matrix[5]=C}}),Object.defineProperty(ft.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(ft.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(ft.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(ft.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),ft.prototype.join=function(C){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(D).join(C)},ft.prototype.multiply=function(C){var R=C.sx*this.sx+C.shy*this.shx,re=C.sx*this.shy+C.shy*this.sy,oe=C.shx*this.sx+C.sy*this.shx,ve=C.shx*this.shy+C.sy*this.sy,Pe=C.tx*this.sx+C.ty*this.shx+this.tx,Ve=C.tx*this.shy+C.ty*this.sy+this.ty;return new ft(R,re,oe,ve,Pe,Ve)},ft.prototype.decompose=function(){var C=this.sx,R=this.shy,re=this.shx,oe=this.sy,ve=this.tx,Pe=this.ty,Ve=Math.sqrt(C*C+R*R),ut=(C/=Ve)*re+(R/=Ve)*oe;re-=C*ut,oe-=R*ut;var vt=Math.sqrt(re*re+oe*oe);return ut/=vt,C*(oe/=vt)<R*(re/=vt)&&(C=-C,R=-R,ut=-ut,Ve=-Ve),{scale:new ft(Ve,0,0,vt,0,0),translate:new ft(1,0,0,1,ve,Pe),rotate:new ft(C,R,-R,C,0,0),skew:new ft(1,0,ut,1,0,0)}},ft.prototype.toString=function(C){return this.join(" ")},ft.prototype.inversed=function(){var C=this.sx,R=this.shy,re=this.shx,oe=this.sy,ve=this.tx,Pe=this.ty,Ve=1/(C*oe-R*re),ut=oe*Ve,vt=-R*Ve,Rt=-re*Ve,Kt=C*Ve;return new ft(ut,vt,Rt,Kt,-ut*ve-Rt*Pe,-vt*ve-Kt*Pe)},ft.prototype.applyToPoint=function(C){var R=C.x*this.sx+C.y*this.shx+this.tx,re=C.x*this.shy+C.y*this.sy+this.ty;return new hA(R,re)},ft.prototype.applyToRectangle=function(C){var R=this.applyToPoint(C),re=this.applyToPoint(new hA(C.x+C.w,C.y+C.h));return new Wc(R.x,R.y,re.x-R.x,re.y-R.y)},ft.prototype.clone=function(){var C=this.sx,R=this.shy,re=this.shx,oe=this.sy,ve=this.tx,Pe=this.ty;return new ft(C,R,re,oe,ve,Pe)},u.Matrix=ft;var Is=u.matrixMult=function(C,R){return R.multiply(C)},Os=new ft(1,0,0,1,0,0);u.unitMatrix=u.identityMatrix=Os;var Dr=function(C,R){if(!Yt[C]){var re=(R instanceof DA?"Sh":"P")+(Object.keys(_t).length+1).toString(10);R.id=re,Yt[C]=re,_t[re]=R,lr.publish("addPattern",R)}};u.ShadingPattern=DA,u.TilingPattern=Yl,u.addShadingPattern=function(C,R){return L("addShadingPattern()"),Dr(C,R),this},u.beginTilingPattern=function(C){L("beginTilingPattern()"),Jc(C.boundingBox[0],C.boundingBox[1],C.boundingBox[2]-C.boundingBox[0],C.boundingBox[3]-C.boundingBox[1],C.matrix)},u.endTilingPattern=function(C,R){L("endTilingPattern()"),R.stream=Oe[G].join(`
`),Dr(C,R),lr.publish("endTilingPattern",R),$r.pop().restore()};var ts,Vr=u.__private__.newObject=function(){var C=Qs();return Hs(C,!0),C},Qs=u.__private__.newObjectDeferred=function(){return le++,de[le]=function(){return je},le},Hs=function(C,R){return R=typeof R=="boolean"&&R,de[C]=je,R&&J(C+" 0 obj"),C},aA=u.__private__.newAdditionalObject=function(){var C={objId:Qs(),content:""};return Ie.push(C),C},eo=Qs(),Cn=Qs(),qn=u.__private__.decodeColorString=function(C){var R=C.split(" ");if(R.length!==2||R[1]!=="g"&&R[1]!=="G")R.length!==5||R[4]!=="k"&&R[4]!=="K"||(R=[(1-R[0])*(1-R[3]),(1-R[1])*(1-R[3]),(1-R[2])*(1-R[3]),"r"]);else{var re=parseFloat(R[0]);R=[re,re,re,"r"]}for(var oe="#",ve=0;ve<3;ve++)oe+=("0"+Math.floor(255*parseFloat(R[ve])).toString(16)).slice(-2);return oe},Nn=u.__private__.encodeColorString=function(C){var R;typeof C=="string"&&(C={ch1:C});var re=C.ch1,oe=C.ch2,ve=C.ch3,Pe=C.ch4,Ve=C.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof re=="string"&&re.charAt(0)!=="#"){var ut=new iS(re);if(ut.ok)re=ut.toHex();else if(!/^\d*\.?\d*$/.test(re))throw new Error('Invalid color "'+re+'" passed to jsPDF.encodeColorString.')}if(typeof re=="string"&&/^#[0-9A-Fa-f]{3}$/.test(re)&&(re="#"+re[1]+re[1]+re[2]+re[2]+re[3]+re[3]),typeof re=="string"&&/^#[0-9A-Fa-f]{6}$/.test(re)){var vt=parseInt(re.substr(1),16);re=vt>>16&255,oe=vt>>8&255,ve=255&vt}if(oe===void 0||Pe===void 0&&re===oe&&oe===ve)R=typeof re=="string"?re+" "+Ve[0]:C.precision===2?S(re/255)+" "+Ve[0]:E(re/255)+" "+Ve[0];else if(Pe===void 0||Br(Pe)==="object"){if(Pe&&!isNaN(Pe.a)&&Pe.a===0)return["1.","1.","1.",Ve[1]].join(" ");R=typeof re=="string"?[re,oe,ve,Ve[1]].join(" "):C.precision===2?[S(re/255),S(oe/255),S(ve/255),Ve[1]].join(" "):[E(re/255),E(oe/255),E(ve/255),Ve[1]].join(" ")}else R=typeof re=="string"?[re,oe,ve,Pe,Ve[2]].join(" "):C.precision===2?[S(re),S(oe),S(ve),S(Pe),Ve[2]].join(" "):[E(re),E(oe),E(ve),E(Pe),Ve[2]].join(" ");return R},_n=u.__private__.getFilters=function(){return o},sn=u.__private__.putStream=function(C){var R=(C=C||{}).data||"",re=C.filters||_n(),oe=C.alreadyAppliedFilters||[],ve=C.addLength1||!1,Pe=R.length,Ve=C.objectId,ut=function(ws){return ws};if(d!==null&&Ve===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(ut=rs.encryptor(Ve,0));var vt={};re===!0&&(re=["FlateEncode"]);var Rt=C.additionalKeyValues||[],Kt=(vt=wt.API.processDataByFilters!==void 0?wt.API.processDataByFilters(R,re):{data:R,reverseChain:[]}).reverseChain+(Array.isArray(oe)?oe.join(" "):oe.toString());if(vt.data.length!==0&&(Rt.push({key:"Length",value:vt.data.length}),ve===!0&&Rt.push({key:"Length1",value:Pe})),Kt.length!=0)if(Kt.split("/").length-1==1)Rt.push({key:"Filter",value:Kt});else{Rt.push({key:"Filter",value:"["+Kt+"]"});for(var ur=0;ur<Rt.length;ur+=1)if(Rt[ur].key==="DecodeParms"){for(var Hr=[],ms=0;ms<vt.reverseChain.split("/").length-1;ms+=1)Hr.push("null");Hr.push(Rt[ur].value),Rt[ur].value="["+Hr.join(" ")+"]"}}J("<<");for(var Sr=0;Sr<Rt.length;Sr++)J("/"+Rt[Sr].key+" "+Rt[Sr].value);J(">>"),vt.data.length!==0&&(J("stream"),J(ut(vt.data)),J("endstream"))},nA=u.__private__.putPage=function(C){var R=C.number,re=C.data,oe=C.objId,ve=C.contentsObjId;Hs(oe,!0),J("<</Type /Page"),J("/Parent "+C.rootDictionaryObjId+" 0 R"),J("/Resources "+C.resourceDictionaryObjId+" 0 R"),J("/MediaBox ["+parseFloat(D(C.mediaBox.bottomLeftX))+" "+parseFloat(D(C.mediaBox.bottomLeftY))+" "+D(C.mediaBox.topRightX)+" "+D(C.mediaBox.topRightY)+"]"),C.cropBox!==null&&J("/CropBox ["+D(C.cropBox.bottomLeftX)+" "+D(C.cropBox.bottomLeftY)+" "+D(C.cropBox.topRightX)+" "+D(C.cropBox.topRightY)+"]"),C.bleedBox!==null&&J("/BleedBox ["+D(C.bleedBox.bottomLeftX)+" "+D(C.bleedBox.bottomLeftY)+" "+D(C.bleedBox.topRightX)+" "+D(C.bleedBox.topRightY)+"]"),C.trimBox!==null&&J("/TrimBox ["+D(C.trimBox.bottomLeftX)+" "+D(C.trimBox.bottomLeftY)+" "+D(C.trimBox.topRightX)+" "+D(C.trimBox.topRightY)+"]"),C.artBox!==null&&J("/ArtBox ["+D(C.artBox.bottomLeftX)+" "+D(C.artBox.bottomLeftY)+" "+D(C.artBox.topRightX)+" "+D(C.artBox.topRightY)+"]"),typeof C.userUnit=="number"&&C.userUnit!==1&&J("/UserUnit "+C.userUnit),lr.publish("putPage",{objId:oe,pageContext:jt[R],pageNumber:R,page:re}),J("/Contents "+ve+" 0 R"),J(">>"),J("endobj");var Pe=re.join(`
`);return w===j&&(Pe+=`
Q`),Hs(ve,!0),sn({data:Pe,filters:_n(),objectId:ve}),J("endobj"),oe},Gn=u.__private__.putPages=function(){var C,R,re=[];for(C=1;C<=dr;C++)jt[C].objId=Qs(),jt[C].contentsObjId=Qs();for(C=1;C<=dr;C++)re.push(nA({number:C,data:Oe[C],objId:jt[C].objId,contentsObjId:jt[C].contentsObjId,mediaBox:jt[C].mediaBox,cropBox:jt[C].cropBox,bleedBox:jt[C].bleedBox,trimBox:jt[C].trimBox,artBox:jt[C].artBox,userUnit:jt[C].userUnit,rootDictionaryObjId:eo,resourceDictionaryObjId:Cn}));Hs(eo,!0),J("<</Type /Pages");var oe="/Kids [";for(R=0;R<dr;R++)oe+=re[R]+" 0 R ";J(oe+"]"),J("/Count "+dr),J(">>"),J("endobj"),lr.publish("postPutPages")},iA=function(C){lr.publish("putFont",{font:C,out:J,newObject:Vr,putStream:sn}),C.isAlreadyPutted!==!0&&(C.objectNumber=Vr(),J("<<"),J("/Type /Font"),J("/BaseFont /"+Gl(C.postScriptName)),J("/Subtype /Type1"),typeof C.encoding=="string"&&J("/Encoding /"+C.encoding),J("/FirstChar 32"),J("/LastChar 255"),J(">>"),J("endobj"))},ml=function(C){C.objectNumber=Vr();var R=[];R.push({key:"Type",value:"/XObject"}),R.push({key:"Subtype",value:"/Form"}),R.push({key:"BBox",value:"["+[D(C.x),D(C.y),D(C.x+C.width),D(C.y+C.height)].join(" ")+"]"}),R.push({key:"Matrix",value:"["+C.matrix.toString()+"]"});var re=C.pages[1].join(`
`);sn({data:re,additionalKeyValues:R,objectId:C.objectNumber}),J("endobj")},pl=function(C,R){R||(R=21);var re=Vr(),oe=function(Ve,ut){var vt,Rt=[],Kt=1/(ut-1);for(vt=0;vt<1;vt+=Kt)Rt.push(vt);if(Rt.push(1),Ve[0].offset!=0){var ur={offset:0,color:Ve[0].color};Ve.unshift(ur)}if(Ve[Ve.length-1].offset!=1){var Hr={offset:1,color:Ve[Ve.length-1].color};Ve.push(Hr)}for(var ms="",Sr=0,ws=0;ws<Rt.length;ws++){for(vt=Rt[ws];vt>Ve[Sr+1].offset;)Sr++;var ps=Ve[Sr].offset,Ks=(vt-ps)/(Ve[Sr+1].offset-ps),nn=Ve[Sr].color,_a=Ve[Sr+1].color;ms+=se(Math.round((1-Ks)*nn[0]+Ks*_a[0]).toString(16))+se(Math.round((1-Ks)*nn[1]+Ks*_a[1]).toString(16))+se(Math.round((1-Ks)*nn[2]+Ks*_a[2]).toString(16))}return ms.trim()}(C.colors,R),ve=[];ve.push({key:"FunctionType",value:"0"}),ve.push({key:"Domain",value:"[0.0 1.0]"}),ve.push({key:"Size",value:"["+R+"]"}),ve.push({key:"BitsPerSample",value:"8"}),ve.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ve.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),sn({data:oe,additionalKeyValues:ve,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:re}),J("endobj"),C.objectNumber=Vr(),J("<< /ShadingType "+C.type),J("/ColorSpace /DeviceRGB");var Pe="/Coords ["+D(parseFloat(C.coords[0]))+" "+D(parseFloat(C.coords[1]))+" ";C.type===2?Pe+=D(parseFloat(C.coords[2]))+" "+D(parseFloat(C.coords[3])):Pe+=D(parseFloat(C.coords[2]))+" "+D(parseFloat(C.coords[3]))+" "+D(parseFloat(C.coords[4]))+" "+D(parseFloat(C.coords[5])),J(Pe+="]"),C.matrix&&J("/Matrix ["+C.matrix.toString()+"]"),J("/Function "+re+" 0 R"),J("/Extend [true true]"),J(">>"),J("endobj")},gl=function(C,R){var re=Qs(),oe=Vr();R.push({resourcesOid:re,objectOid:oe}),C.objectNumber=oe;var ve=[];ve.push({key:"Type",value:"/Pattern"}),ve.push({key:"PatternType",value:"1"}),ve.push({key:"PaintType",value:"1"}),ve.push({key:"TilingType",value:"1"}),ve.push({key:"BBox",value:"["+C.boundingBox.map(D).join(" ")+"]"}),ve.push({key:"XStep",value:D(C.xStep)}),ve.push({key:"YStep",value:D(C.yStep)}),ve.push({key:"Resources",value:re+" 0 R"}),C.matrix&&ve.push({key:"Matrix",value:"["+C.matrix.toString()+"]"}),sn({data:C.stream,additionalKeyValues:ve,objectId:C.objectNumber}),J("endobj")},Xp=function(C){for(var R in C.objectNumber=Vr(),J("<<"),C)switch(R){case"opacity":J("/ca "+S(C[R]));break;case"stroke-opacity":J("/CA "+S(C[R]))}J(">>"),J("endobj")},Tc=function(C){Hs(C.resourcesOid,!0),J("<<"),J("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var R in J("/Font <<"),ot)ot.hasOwnProperty(R)&&(h===!1||h===!0&&m.hasOwnProperty(R))&&J("/"+R+" "+ot[R].objectNumber+" 0 R");J(">>")}(),function(){if(Object.keys(_t).length>0){for(var R in J("/Shading <<"),_t)_t.hasOwnProperty(R)&&_t[R]instanceof DA&&_t[R].objectNumber>=0&&J("/"+R+" "+_t[R].objectNumber+" 0 R");lr.publish("putShadingPatternDict"),J(">>")}}(),function(R){if(Object.keys(_t).length>0){for(var re in J("/Pattern <<"),_t)_t.hasOwnProperty(re)&&_t[re]instanceof u.TilingPattern&&_t[re].objectNumber>=0&&_t[re].objectNumber<R&&J("/"+re+" "+_t[re].objectNumber+" 0 R");lr.publish("putTilingPatternDict"),J(">>")}}(C.objectOid),function(){if(Object.keys(Tt).length>0){var R;for(R in J("/ExtGState <<"),Tt)Tt.hasOwnProperty(R)&&Tt[R].objectNumber>=0&&J("/"+R+" "+Tt[R].objectNumber+" 0 R");lr.publish("putGStateDict"),J(">>")}}(),function(){for(var R in J("/XObject <<"),Ot)Ot.hasOwnProperty(R)&&Ot[R].objectNumber>=0&&J("/"+R+" "+Ot[R].objectNumber+" 0 R");lr.publish("putXobjectDict"),J(">>")}(),J(">>"),J("endobj")},ih=function(C){Qt[C.fontName]=Qt[C.fontName]||{},Qt[C.fontName][C.fontStyle]=C.id},oh=function(C,R,re,oe,ve){var Pe={id:"F"+(Object.keys(ot).length+1).toString(10),postScriptName:C,fontName:R,fontStyle:re,encoding:oe,isStandardFont:ve||!1,metadata:{}};return lr.publish("addFont",{font:Pe,instance:this}),ot[Pe.id]=Pe,ih(Pe),Pe.id},an=u.__private__.pdfEscape=u.pdfEscape=function(C,R){return function(re,oe){var ve,Pe,Ve,ut,vt,Rt,Kt,ur,Hr;if(Ve=(oe=oe||{}).sourceEncoding||"Unicode",vt=oe.outputEncoding,(oe.autoencode||vt)&&ot[st].metadata&&ot[st].metadata[Ve]&&ot[st].metadata[Ve].encoding&&(ut=ot[st].metadata[Ve].encoding,!vt&&ot[st].encoding&&(vt=ot[st].encoding),!vt&&ut.codePages&&(vt=ut.codePages[0]),typeof vt=="string"&&(vt=ut[vt]),vt)){for(Kt=!1,Rt=[],ve=0,Pe=re.length;ve<Pe;ve++)(ur=vt[re.charCodeAt(ve)])?Rt.push(String.fromCharCode(ur)):Rt.push(re[ve]),Rt[ve].charCodeAt(0)>>8&&(Kt=!0);re=Rt.join("")}for(ve=re.length;Kt===void 0&&ve!==0;)re.charCodeAt(ve-1)>>8&&(Kt=!0),ve--;if(!Kt)return re;for(Rt=oe.noBOM?[]:[254,255],ve=0,Pe=re.length;ve<Pe;ve++){if((Hr=(ur=re.charCodeAt(ve))>>8)>>8)throw new Error("Character at position "+ve+" of string '"+re+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Rt.push(Hr),Rt.push(ur-(Hr<<8))}return String.fromCharCode.apply(void 0,Rt)}(C,R).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Rc=u.__private__.beginPage=function(C){Oe[++dr]=[],jt[dr]={objId:0,contentsObjId:0,userUnit:Number(A),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(C[0]),topRightY:Number(C[1])}},lh(dr),ge(Oe[G])},Ah=function(C,R){var re,oe,ve;switch(r=R||r,typeof C=="string"&&(re=x(C.toLowerCase()),Array.isArray(re)&&(oe=re[0],ve=re[1])),Array.isArray(C)&&(oe=C[0]*nt,ve=C[1]*nt),isNaN(oe)&&(oe=n[0],ve=n[1]),(oe>14400||ve>14400)&&(_r.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),oe=Math.min(14400,oe),ve=Math.min(14400,ve)),n=[oe,ve],r.substr(0,1)){case"l":ve>oe&&(n=[ve,oe]);break;case"p":oe>ve&&(n=[ve,oe])}Rc(n),ig(Vc),J(vl),qc!==0&&J(qc+" J"),Gc!==0&&J(Gc+" j"),lr.publish("addPage",{pageNumber:dr})},Oc=function(C){C>0&&C<=dr&&(Oe.splice(C,1),jt.splice(C,1),dr--,G>dr&&(G=dr),this.setPage(G))},lh=function(C){C>0&&C<=dr&&(G=C)},ch=u.__private__.getNumberOfPages=u.getNumberOfPages=function(){return Oe.length-1},dh=function(C,R,re){var oe,ve=void 0;return re=re||{},C=C!==void 0?C:ot[st].fontName,R=R!==void 0?R:ot[st].fontStyle,oe=C.toLowerCase(),Qt[oe]!==void 0&&Qt[oe][R]!==void 0?ve=Qt[oe][R]:Qt[C]!==void 0&&Qt[C][R]!==void 0?ve=Qt[C][R]:re.disableWarning===!1&&_r.warn("Unable to look up font label for font '"+C+"', '"+R+"'. Refer to getFontList() for available fonts."),ve||re.noFallback||(ve=Qt.times[R])==null&&(ve=Qt.times.normal),ve},xl=u.__private__.putInfo=function(){var C=Vr(),R=function(oe){return oe};for(var re in d!==null&&(R=rs.encryptor(C,0)),J("<<"),J("/Producer ("+an(R("jsPDF "+wt.version))+")"),Je)Je.hasOwnProperty(re)&&Je[re]&&J("/"+re.substr(0,1).toUpperCase()+re.substr(1)+" ("+an(R(Je[re]))+")");J("/CreationDate ("+an(R(ae))+")"),J(">>"),J("endobj")},Yp=u.__private__.putCatalog=function(C){var R=(C=C||{}).rootDictionaryObjId||eo;switch(Vr(),J("<<"),J("/Type /Catalog"),J("/Pages "+R+" 0 R"),Ye||(Ye="fullwidth"),Ye){case"fullwidth":J("/OpenAction [3 0 R /FitH null]");break;case"fullheight":J("/OpenAction [3 0 R /FitV null]");break;case"fullpage":J("/OpenAction [3 0 R /Fit]");break;case"original":J("/OpenAction [3 0 R /XYZ null null 1]");break;default:var re=""+Ye;re.substr(re.length-1)==="%"&&(Ye=parseInt(Ye)/100),typeof Ye=="number"&&J("/OpenAction [3 0 R /XYZ null null "+S(Ye)+"]")}switch(yt||(yt="continuous"),yt){case"continuous":J("/PageLayout /OneColumn");break;case"single":J("/PageLayout /SinglePage");break;case"two":case"twoleft":J("/PageLayout /TwoColumnLeft");break;case"tworight":J("/PageLayout /TwoColumnRight")}ye&&J("/PageMode /"+ye),lr.publish("putCatalog"),J(">>"),J("endobj")},fs=u.__private__.putTrailer=function(){J("trailer"),J("<<"),J("/Size "+(le+1)),J("/Root "+le+" 0 R"),J("/Info "+(le-1)+" 0 R"),d!==null&&J("/Encrypt "+rs.oid+" 0 R"),J("/ID [ <"+Y+"> <"+Y+"> ]"),J(">>")},uh=u.__private__.putHeader=function(){J("%PDF-"+p),J("%")},hh=u.__private__.putXRef=function(){var C="0000000000";J("xref"),J("0 "+(le+1)),J("0000000000 65535 f ");for(var R=1;R<=le;R++)typeof de[R]=="function"?J((C+de[R]()).slice(-10)+" 00000 n "):de[R]!==void 0?J((C+de[R]).slice(-10)+" 00000 n "):J("0000000000 00000 n ")},yi=u.__private__.buildDocument=function(){var C;le=0,je=0,Ne=[],de=[],Ie=[],eo=Qs(),Cn=Qs(),ge(Ne),lr.publish("buildDocument"),uh(),Gn(),function(){lr.publish("putAdditionalObjects");for(var re=0;re<Ie.length;re++){var oe=Ie[re];Hs(oe.objId,!0),J(oe.content),J("endobj")}lr.publish("postPutAdditionalObjects")}(),C=[],function(){for(var re in ot)ot.hasOwnProperty(re)&&(h===!1||h===!0&&m.hasOwnProperty(re))&&iA(ot[re])}(),function(){var re;for(re in Tt)Tt.hasOwnProperty(re)&&Xp(Tt[re])}(),function(){for(var re in Ot)Ot.hasOwnProperty(re)&&ml(Ot[re])}(),function(re){var oe;for(oe in _t)_t.hasOwnProperty(oe)&&(_t[oe]instanceof DA?pl(_t[oe]):_t[oe]instanceof Yl&&gl(_t[oe],re))}(C),lr.publish("putResources"),C.forEach(Tc),Tc({resourcesOid:Cn,objectOid:Number.MAX_SAFE_INTEGER}),lr.publish("postPutResources"),d!==null&&(rs.oid=Vr(),J("<<"),J("/Filter /Standard"),J("/V "+rs.v),J("/R "+rs.r),J("/U <"+rs.toHexString(rs.U)+">"),J("/O <"+rs.toHexString(rs.O)+">"),J("/P "+rs.P),J(">>"),J("endobj")),xl(),Yp();var R=je;return hh(),fs(),J("startxref"),J(""+R),J("%%EOF"),ge(Oe[G]),Ne.join(`
`)},oA=u.__private__.getBlob=function(C){return new Blob([Te(C)],{type:"application/pdf"})},Sn=u.output=u.__private__.output=(ts=function(C,R){switch(typeof(R=R||{})=="string"?R={filename:R}:R.filename=R.filename||"generated.pdf",C){case void 0:return yi();case"save":u.save(R.filename);break;case"arraybuffer":return Te(yi());case"blob":return oA(yi());case"bloburi":case"bloburl":if(Mt.URL!==void 0&&typeof Mt.URL.createObjectURL=="function")return Mt.URL&&Mt.URL.createObjectURL(oA(yi()))||void 0;_r.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var re="",oe=yi();try{re=Ay(oe)}catch(ms){re=Ay(unescape(encodeURIComponent(oe)))}return"data:application/pdf;filename="+R.filename+";base64,"+re;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Mt)==="[object Window]"){var ve="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Pe=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';R.pdfObjectUrl&&(ve=R.pdfObjectUrl,Pe="");var Ve='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ve+'"'+Pe+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(R)+");<\/script></body></html>",ut=Mt.open();return ut!==null&&ut.document.write(Ve),ut}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Mt)==="[object Window]"){var vt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(R.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+R.filename+'" width="500px" height="400px" /></body></html>',Rt=Mt.open();if(Rt!==null){Rt.document.write(vt);var Kt=this;Rt.document.documentElement.querySelector("#pdfViewer").onload=function(){Rt.document.title=R.filename,Rt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Kt.output("bloburl"))}}return Rt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Mt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var ur='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",R)+'"></iframe></body></html>',Hr=Mt.open();if(Hr!==null&&(Hr.document.write(ur),Hr.document.title=R.filename),Hr||typeof safari=="undefined")return Hr;break;case"datauri":case"dataurl":return Mt.document.location.href=this.output("datauristring",R);default:return null}},ts.foo=function(){try{return ts.apply(this,arguments)}catch(re){var C=re.stack||"";~C.indexOf(" at ")&&(C=C.split(" at ")[1]);var R="Error in function "+C.split(`
`)[0].split("<")[0]+": "+re.message;if(!Mt.console)throw new Error(R);Mt.console.error(R,re),Mt.alert&&alert(R)}},ts.foo.bar=ts,ts.foo),AA=function(C){return Array.isArray(Ft)===!0&&Ft.indexOf(C)>-1};switch(a){case"pt":nt=1;break;case"mm":nt=72/25.4;break;case"cm":nt=72/2.54;break;case"in":nt=72;break;case"px":nt=AA("px_scaling")==1?.75:96/72;break;case"pc":case"em":nt=12;break;case"ex":nt=6;break;default:if(typeof a!="number")throw new Error("Invalid unit: "+a);nt=a}var rs=null;we(),K();var Hc=u.__private__.getPageInfo=u.getPageInfo=function(C){if(isNaN(C)||C%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:jt[C].objId,pageNumber:C,pageContext:jt[C]}},Zp=u.__private__.getPageInfoByObjId=function(C){if(isNaN(C)||C%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var R in jt)if(jt[R].objId===C)break;return Hc(R)},eg=u.__private__.getCurrentPageInfo=u.getCurrentPageInfo=function(){return{objId:jt[G].objId,pageNumber:G,pageContext:jt[G]}};u.addPage=function(){return Ah.apply(this,arguments),this},u.setPage=function(){return lh.apply(this,arguments),ge.call(this,Oe[G]),this},u.insertPage=function(C){return this.addPage(),this.movePage(G,C),this},u.movePage=function(C,R){var re,oe;if(C>R){re=Oe[C],oe=jt[C];for(var ve=C;ve>R;ve--)Oe[ve]=Oe[ve-1],jt[ve]=jt[ve-1];Oe[R]=re,jt[R]=oe,this.setPage(R)}else if(C<R){re=Oe[C],oe=jt[C];for(var Pe=C;Pe<R;Pe++)Oe[Pe]=Oe[Pe+1],jt[Pe]=jt[Pe+1];Oe[R]=re,jt[R]=oe,this.setPage(R)}return this},u.deletePage=function(){return Oc.apply(this,arguments),this},u.__private__.text=u.text=function(C,R,re,oe,ve){var Pe,Ve,ut,vt,Rt,Kt,ur,Hr,ms,Sr=(oe=oe||{}).scope||this;if(typeof C=="number"&&typeof R=="number"&&(typeof re=="string"||Array.isArray(re))){var ws=re;re=R,R=C,C=ws}if(arguments[3]instanceof ft==0?(ut=arguments[4],vt=arguments[5],Br(ur=arguments[3])==="object"&&ur!==null||(typeof ut=="string"&&(vt=ut,ut=null),typeof ur=="string"&&(vt=ur,ur=null),typeof ur=="number"&&(ut=ur,ur=null),oe={flags:ur,angle:ut,align:vt})):(L("The transform parameter of text() with a Matrix value"),ms=ve),isNaN(R)||isNaN(re)||C==null)throw new Error("Invalid arguments passed to jsPDF.text");if(C.length===0)return Sr;var ps,Ks="",nn=typeof oe.lineHeightFactor=="number"?oe.lineHeightFactor:cA,_a=Sr.internal.scaleFactor;function bh(pr){return pr=pr.split("	").join(Array(oe.TabLen||9).join(" ")),an(pr,ur)}function Bl(pr){for(var Cr,as=pr.concat(),bs=[],Fi=as.length;Fi--;)typeof(Cr=as.shift())=="string"?bs.push(Cr):Array.isArray(pr)&&(Cr.length===1||Cr[1]===void 0&&Cr[2]===void 0)?bs.push(Cr[0]):bs.push([Cr[0],Cr[1],Cr[2]]);return bs}function pA(pr,Cr){var as;if(typeof pr=="string")as=Cr(pr)[0];else if(Array.isArray(pr)){for(var bs,Fi,id=pr.concat(),Nl=[],jh=id.length;jh--;)typeof(bs=id.shift())=="string"?Nl.push(Cr(bs)[0]):Array.isArray(bs)&&typeof bs[0]=="string"&&(Fi=Cr(bs[0],bs[1],bs[2]),Nl.push([Fi[0],Fi[1],Fi[2]]));as=Nl}return as}var so=!1,gA=!0;if(typeof C=="string")so=!0;else if(Array.isArray(C)){var xA=C.concat();Ve=[];for(var vA,ta=xA.length;ta--;)(typeof(vA=xA.shift())!="string"||Array.isArray(vA)&&typeof vA[0]!="string")&&(gA=!1);so=gA}if(so===!1)throw new Error('Type of text must be string or Array. "'+C+'" is not recognized.');typeof C=="string"&&(C=C.match(/[\r?\n]/)?C.split(/\r\n|\r|\n/g):[C]);var wA=Qe/Sr.internal.scaleFactor,bA=wA*(nn-1);switch(oe.baseline){case"bottom":re-=bA;break;case"top":re+=wA-bA;break;case"hanging":re+=wA-2*bA;break;case"middle":re+=wA/2-bA}if((Kt=oe.maxWidth||0)>0&&(typeof C=="string"?C=Sr.splitTextToSize(C,Kt):Object.prototype.toString.call(C)==="[object Array]"&&(C=C.reduce(function(pr,Cr){return pr.concat(Sr.splitTextToSize(Cr,Kt))},[]))),Pe={text:C,x:R,y:re,options:oe,mutex:{pdfEscape:an,activeFontKey:st,fonts:ot,activeFontSize:Qe}},lr.publish("preProcessText",Pe),C=Pe.text,ut=(oe=Pe.options).angle,ms instanceof ft==0&&ut&&typeof ut=="number"){ut*=Math.PI/180,oe.rotationDirection===0&&(ut=-ut),w===j&&(ut=-ut);var Xc=Math.cos(ut),Yc=Math.sin(ut);ms=new ft(Xc,Yc,-Yc,Xc,0,0)}else ut&&ut instanceof ft&&(ms=ut);w!==j||ms||(ms=Os),(Rt=oe.charSpace||bl)!==void 0&&(Ks+=D(Q(Rt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Hr=oe.horizontalScale)!==void 0&&(Ks+=D(100*Hr)+` Tz
`),oe.lang;var zr=-1,_i=oe.renderingMode!==void 0?oe.renderingMode:oe.stroke,jl=Sr.internal.getCurrentPageInfo().pageContext;switch(_i){case 0:case!1:case"fill":zr=0;break;case 1:case!0:case"stroke":zr=1;break;case 2:case"fillThenStroke":zr=2;break;case 3:case"invisible":zr=3;break;case 4:case"fillAndAddForClipping":zr=4;break;case 5:case"strokeAndAddPathForClipping":zr=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":zr=6;break;case 7:case"addToPathForClipping":zr=7}var yh=jl.usedRenderingMode!==void 0?jl.usedRenderingMode:-1;zr!==-1?Ks+=zr+` Tr
`:yh!==-1&&(Ks+=`0 Tr
`),zr!==-1&&(jl.usedRenderingMode=zr),vt=oe.align||"left";var on,yA=Qe*nn,Zc=Sr.internal.pageSize.getWidth(),ed=ot[st];Rt=oe.charSpace||bl,Kt=oe.maxWidth||0,ur=Object.assign({autoencode:!0,noBOM:!0},oe.flags);var ao=[],BA=function(pr){return Sr.getStringUnitWidth(pr,{font:ed,charSpace:Rt,fontSize:Qe,doKerning:!1})*Qe/_a};if(Object.prototype.toString.call(C)==="[object Array]"){var Pa;Ve=Bl(C),vt!=="left"&&(on=Ve.map(BA));var Ma,no=0;if(vt==="right"){R-=on[0],C=[],ta=Ve.length;for(var Si=0;Si<ta;Si++)Si===0?(Ma=Bi(R),Pa=ji(re)):(Ma=Q(no-on[Si]),Pa=-yA),C.push([Ve[Si],Ma,Pa]),no=on[Si]}else if(vt==="center"){R-=on[0]/2,C=[],ta=Ve.length;for(var io=0;io<ta;io++)io===0?(Ma=Bi(R),Pa=ji(re)):(Ma=Q((no-on[io])/2),Pa=-yA),C.push([Ve[io],Ma,Pa]),no=on[io]}else if(vt==="left"){C=[],ta=Ve.length;for(var td=0;td<ta;td++)C.push(Ve[td])}else if(vt==="justify"&&ed.encoding==="Identity-H"){C=[],ta=Ve.length,Kt=Kt!==0?Kt:Zc;for(var Cl=0,ss=0;ss<ta;ss++)if(Pa=ss===0?ji(re):-yA,Ma=ss===0?Bi(R):Cl,ss<ta-1){var Bh=Q((Kt-on[ss])/(Ve[ss].split(" ").length-1)),Jn=Ve[ss].split(" ");C.push([Jn[0]+" ",Ma,Pa]),Cl=0;for(var Xn=1;Xn<Jn.length;Xn++){var rd=(BA(Jn[Xn-1]+" "+Jn[Xn])-BA(Jn[Xn]))*_a+Bh;Xn==Jn.length-1?C.push([Jn[Xn],rd,0]):C.push([Jn[Xn]+" ",rd,0]),Cl-=rd}}else C.push([Ve[ss],Ma,Pa]);C.push(["",Cl,0])}else{if(vt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(C=[],ta=Ve.length,Kt=Kt!==0?Kt:Zc,ss=0;ss<ta;ss++){Pa=ss===0?ji(re):-yA,Ma=ss===0?Bi(R):0;var sd=Ve[ss].split(" ").length-1,ad=sd>0?(Kt-on[ss])/sd:0;ss<ta-1?ao.push(D(Q(ad))):ao.push(0),C.push([Ve[ss],Ma,Pa])}}}(typeof oe.R2L=="boolean"?oe.R2L:xt)===!0&&(C=pA(C,function(pr,Cr,as){return[pr.split("").reverse().join(""),Cr,as]})),Pe={text:C,x:R,y:re,options:oe,mutex:{pdfEscape:an,activeFontKey:st,fonts:ot,activeFontSize:Qe}},lr.publish("postProcessText",Pe),C=Pe.text,ps=Pe.mutex.isHex||!1;var nd=ot[st].encoding;nd!=="WinAnsiEncoding"&&nd!=="StandardEncoding"||(C=pA(C,function(pr,Cr,as){return[bh(pr),Cr,as]})),Ve=Bl(C),C=[];for(var oo,Ao,lo,jA=Array.isArray(Ve[0])?1:0,co="",CA=function(pr,Cr,as){var bs="";return as instanceof ft?(as=typeof oe.angle=="number"?Is(as,new ft(1,0,0,1,pr,Cr)):Is(new ft(1,0,0,1,pr,Cr),as),w===j&&(as=Is(new ft(1,0,0,-1,0,0),as)),bs=as.join(" ")+` Tm
`):bs=D(pr)+" "+D(Cr)+` Td
`,bs},An=0;An<Ve.length;An++){switch(co="",jA){case 1:lo=(ps?"<":"(")+Ve[An][0]+(ps?">":")"),oo=parseFloat(Ve[An][1]),Ao=parseFloat(Ve[An][2]);break;case 0:lo=(ps?"<":"(")+Ve[An]+(ps?">":")"),oo=Bi(R),Ao=ji(re)}ao!==void 0&&ao[An]!==void 0&&(co=ao[An]+` Tw
`),An===0?C.push(co+CA(oo,Ao,ms)+lo):jA===0?C.push(co+lo):jA===1&&C.push(co+CA(oo,Ao,ms)+lo)}C=jA===0?C.join(` Tj
T* `):C.join(` Tj
`),C+=` Tj
`;var Yn=`BT
/`;return Yn+=st+" "+Qe+` Tf
`,Yn+=D(Qe*nn)+` TL
`,Yn+=dA+`
`,Yn+=Ks,Yn+=C,J(Yn+="ET"),m[st]=!0,Sr};var tg=u.__private__.clip=u.clip=function(C){return J(C==="evenodd"?"W*":"W"),this};u.clipEvenOdd=function(){return tg("evenodd")},u.__private__.discardPath=u.discardPath=function(){return J("n"),this};var Wn=u.__private__.isValidStyle=function(C){var R=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(C)!==-1&&(R=!0),R};u.__private__.setDefaultPathOperation=u.setDefaultPathOperation=function(C){return Wn(C)&&(c=C),this};var fh=u.__private__.getStyle=u.getStyle=function(C){var R=c;switch(C){case"D":case"S":R="S";break;case"F":R="f";break;case"FD":case"DF":R="B";break;case"f":case"f*":case"B":case"B*":R=C}return R},mh=u.close=function(){return J("h"),this};u.stroke=function(){return J("S"),this},u.fill=function(C){return to("f",C),this},u.fillEvenOdd=function(C){return to("f*",C),this},u.fillStroke=function(C){return to("B",C),this},u.fillStrokeEvenOdd=function(C){return to("B*",C),this};var to=function(C,R){Br(R)==="object"?sg(R,C):J(C)},Kc=function(C){C===null||w===j&&C===void 0||(C=fh(C),J(C))};function rg(C,R,re,oe,ve){var Pe=new Yl(R||this.boundingBox,re||this.xStep,oe||this.yStep,this.gState,ve||this.matrix);Pe.stream=this.stream;var Ve=C+"$$"+this.cloneIndex+++"$$";return Dr(Ve,Pe),Pe}var sg=function(C,R){var re=Yt[C.key],oe=_t[re];if(oe instanceof DA)J("q"),J(ag(R)),oe.gState&&u.setGState(oe.gState),J(C.matrix.toString()+" cm"),J("/"+re+" sh"),J("Q");else if(oe instanceof Yl){var ve=new ft(1,0,0,-1,0,mA());C.matrix&&(ve=ve.multiply(C.matrix||Os),re=rg.call(oe,C.key,C.boundingBox,C.xStep,C.yStep,ve).id),J("q"),J("/Pattern cs"),J("/"+re+" scn"),oe.gState&&u.setGState(oe.gState),J(R),J("Q")}},ag=function(C){switch(C){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},$c=u.moveTo=function(C,R){return J(D(Q(C))+" "+D(V(R))+" m"),this},lA=u.lineTo=function(C,R){return J(D(Q(C))+" "+D(V(R))+" l"),this},ro=u.curveTo=function(C,R,re,oe,ve,Pe){return J([D(Q(C)),D(V(R)),D(Q(re)),D(V(oe)),D(Q(ve)),D(V(Pe)),"c"].join(" ")),this};u.__private__.line=u.line=function(C,R,re,oe,ve){if(isNaN(C)||isNaN(R)||isNaN(re)||isNaN(oe)||!Wn(ve))throw new Error("Invalid arguments passed to jsPDF.line");return w===B?this.lines([[re-C,oe-R]],C,R,[1,1],ve||"S"):this.lines([[re-C,oe-R]],C,R,[1,1]).stroke()},u.__private__.lines=u.lines=function(C,R,re,oe,ve,Pe){var Ve,ut,vt,Rt,Kt,ur,Hr,ms,Sr,ws,ps,Ks;if(typeof C=="number"&&(Ks=re,re=R,R=C,C=Ks),oe=oe||[1,1],Pe=Pe||!1,isNaN(R)||isNaN(re)||!Array.isArray(C)||!Array.isArray(oe)||!Wn(ve)||typeof Pe!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for($c(R,re),Ve=oe[0],ut=oe[1],Rt=C.length,ws=R,ps=re,vt=0;vt<Rt;vt++)(Kt=C[vt]).length===2?(ws=Kt[0]*Ve+ws,ps=Kt[1]*ut+ps,lA(ws,ps)):(ur=Kt[0]*Ve+ws,Hr=Kt[1]*ut+ps,ms=Kt[2]*Ve+ws,Sr=Kt[3]*ut+ps,ws=Kt[4]*Ve+ws,ps=Kt[5]*ut+ps,ro(ur,Hr,ms,Sr,ws,ps));return Pe&&mh(),Kc(ve),this},u.path=function(C){for(var R=0;R<C.length;R++){var re=C[R],oe=re.c;switch(re.op){case"m":$c(oe[0],oe[1]);break;case"l":lA(oe[0],oe[1]);break;case"c":ro.apply(this,oe);break;case"h":mh()}}return this},u.__private__.rect=u.rect=function(C,R,re,oe,ve){if(isNaN(C)||isNaN(R)||isNaN(re)||isNaN(oe)||!Wn(ve))throw new Error("Invalid arguments passed to jsPDF.rect");return w===B&&(oe=-oe),J([D(Q(C)),D(V(R)),D(Q(re)),D(Q(oe)),"re"].join(" ")),Kc(ve),this},u.__private__.triangle=u.triangle=function(C,R,re,oe,ve,Pe,Ve){if(isNaN(C)||isNaN(R)||isNaN(re)||isNaN(oe)||isNaN(ve)||isNaN(Pe)||!Wn(Ve))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[re-C,oe-R],[ve-re,Pe-oe],[C-ve,R-Pe]],C,R,[1,1],Ve,!0),this},u.__private__.roundedRect=u.roundedRect=function(C,R,re,oe,ve,Pe,Ve){if(isNaN(C)||isNaN(R)||isNaN(re)||isNaN(oe)||isNaN(ve)||isNaN(Pe)||!Wn(Ve))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var ut=4/3*(Math.SQRT2-1);return ve=Math.min(ve,.5*re),Pe=Math.min(Pe,.5*oe),this.lines([[re-2*ve,0],[ve*ut,0,ve,Pe-Pe*ut,ve,Pe],[0,oe-2*Pe],[0,Pe*ut,-ve*ut,Pe,-ve,Pe],[2*ve-re,0],[-ve*ut,0,-ve,-Pe*ut,-ve,-Pe],[0,2*Pe-oe],[0,-Pe*ut,ve*ut,-Pe,ve,-Pe]],C+ve,R,[1,1],Ve,!0),this},u.__private__.ellipse=u.ellipse=function(C,R,re,oe,ve){if(isNaN(C)||isNaN(R)||isNaN(re)||isNaN(oe)||!Wn(ve))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Pe=4/3*(Math.SQRT2-1)*re,Ve=4/3*(Math.SQRT2-1)*oe;return $c(C+re,R),ro(C+re,R-Ve,C+Pe,R-oe,C,R-oe),ro(C-Pe,R-oe,C-re,R-Ve,C-re,R),ro(C-re,R+Ve,C-Pe,R+oe,C,R+oe),ro(C+Pe,R+oe,C+re,R+Ve,C+re,R),Kc(ve),this},u.__private__.circle=u.circle=function(C,R,re,oe){if(isNaN(C)||isNaN(R)||isNaN(re)||!Wn(oe))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(C,R,re,re,oe)},u.setFont=function(C,R,re){return re&&(R=U(R,re)),st=dh(C,R,{disableWarning:!1}),this};var ng=u.__private__.getFont=u.getFont=function(){return ot[dh.apply(u,arguments)]};u.__private__.getFontList=u.getFontList=function(){var C,R,re={};for(C in Qt)if(Qt.hasOwnProperty(C))for(R in re[C]=[],Qt[C])Qt[C].hasOwnProperty(R)&&re[C].push(R);return re},u.addFont=function(C,R,re,oe,ve){var Pe=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Pe.indexOf(arguments[3])!==-1?ve=arguments[3]:arguments[3]&&Pe.indexOf(arguments[3])==-1&&(re=U(re,oe)),oh.call(this,C,R,re,ve=ve||"Identity-H")};var cA,Vc=e.lineWidth||.200025,Ht=u.__private__.getLineWidth=u.getLineWidth=function(){return Vc},ig=u.__private__.setLineWidth=u.setLineWidth=function(C){return Vc=C,J(D(Q(C))+" w"),this};u.__private__.setLineDash=wt.API.setLineDash=wt.API.setLineDashPattern=function(C,R){if(C=C||[],R=R||0,isNaN(R)||!Array.isArray(C))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return C=C.map(function(re){return D(Q(re))}).join(" "),R=D(Q(R)),J("["+C+"] "+R+" d"),this};var og=u.__private__.getLineHeight=u.getLineHeight=function(){return Qe*cA};u.__private__.getLineHeight=u.getLineHeight=function(){return Qe*cA};var Ag=u.__private__.setLineHeightFactor=u.setLineHeightFactor=function(C){return typeof(C=C||1.15)=="number"&&(cA=C),this},lg=u.__private__.getLineHeightFactor=u.getLineHeightFactor=function(){return cA};Ag(e.lineHeight);var Bi=u.__private__.getHorizontalCoordinate=function(C){return Q(C)},ji=u.__private__.getVerticalCoordinate=function(C){return w===j?C:jt[G].mediaBox.topRightY-jt[G].mediaBox.bottomLeftY-Q(C)},cg=u.__private__.getHorizontalCoordinateString=u.getHorizontalCoordinateString=function(C){return D(Bi(C))},dg=u.__private__.getVerticalCoordinateString=u.getVerticalCoordinateString=function(C){return D(ji(C))},vl=e.strokeColor||"0 G";u.__private__.getStrokeColor=u.getDrawColor=function(){return qn(vl)},u.__private__.setStrokeColor=u.setDrawColor=function(C,R,re,oe){return vl=Nn({ch1:C,ch2:R,ch3:re,ch4:oe,pdfColorType:"draw",precision:2}),J(vl),this};var zc=e.fillColor||"0 g";u.__private__.getFillColor=u.getFillColor=function(){return qn(zc)},u.__private__.setFillColor=u.setFillColor=function(C,R,re,oe){return zc=Nn({ch1:C,ch2:R,ch3:re,ch4:oe,pdfColorType:"fill",precision:2}),J(zc),this};var dA=e.textColor||"0 g",wl=u.__private__.getTextColor=u.getTextColor=function(){return qn(dA)};u.__private__.setTextColor=u.setTextColor=function(C,R,re,oe){return dA=Nn({ch1:C,ch2:R,ch3:re,ch4:oe,pdfColorType:"text",precision:3}),this};var bl=e.charSpace,ug=u.__private__.getCharSpace=u.getCharSpace=function(){return parseFloat(bl||0)};u.__private__.setCharSpace=u.setCharSpace=function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return bl=C,this};var qc=0;u.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},u.__private__.setLineCap=u.setLineCap=function(C){var R=u.CapJoinStyles[C];if(R===void 0)throw new Error("Line cap style of '"+C+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return qc=R,J(R+" J"),this};var Gc=0;u.__private__.setLineJoin=u.setLineJoin=function(C){var R=u.CapJoinStyles[C];if(R===void 0)throw new Error("Line join style of '"+C+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Gc=R,J(R+" j"),this},u.__private__.setLineMiterLimit=u.__private__.setMiterLimit=u.setLineMiterLimit=u.setMiterLimit=function(C){if(C=C||0,isNaN(C))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return J(D(Q(C))+" M"),this},u.GState=Hm,u.setGState=function(C){(C=typeof C=="string"?Tt[Lr[C]]:uA(null,C)).equals(es)||(J("/"+C.id+" gs"),es=C)};var uA=function(C,R){if(!C||!Lr[C]){var re=!1;for(var oe in Tt)if(Tt.hasOwnProperty(oe)&&Tt[oe].equals(R)){re=!0;break}if(re)R=Tt[oe];else{var ve="GS"+(Object.keys(Tt).length+1).toString(10);Tt[ve]=R,R.id=ve}return C&&(Lr[C]=R.id),lr.publish("addGState",R),R}};u.addGState=function(C,R){return uA(C,R),this},u.saveGraphicsState=function(){return J("q"),sr.push({key:st,size:Qe,color:dA}),this},u.restoreGraphicsState=function(){J("Q");var C=sr.pop();return st=C.key,Qe=C.size,dA=C.color,es=null,this},u.setCurrentTransformationMatrix=function(C){return J(C.toString()+" cm"),this},u.comment=function(C){return J("#"+C),this};var hA=function(C,R){var re=C||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return re},set:function(Pe){isNaN(Pe)||(re=parseFloat(Pe))}});var oe=R||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return oe},set:function(Pe){isNaN(Pe)||(oe=parseFloat(Pe))}});var ve="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ve},set:function(Pe){ve=Pe.toString()}}),this},Wc=function(C,R,re,oe){hA.call(this,C,R),this.type="rect";var ve=re||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ve},set:function(Ve){isNaN(Ve)||(ve=parseFloat(Ve))}});var Pe=oe||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Pe},set:function(Ve){isNaN(Ve)||(Pe=parseFloat(Ve))}}),this},yl=function(){this.page=dr,this.currentPage=G,this.pages=Oe.slice(0),this.pagesContext=jt.slice(0),this.x=ht,this.y=rr,this.matrix=Jt,this.width=ph(G),this.height=Ci(G),this.outputDestination=ke,this.id="",this.objectNumber=-1};yl.prototype.restore=function(){dr=this.page,G=this.currentPage,jt=this.pagesContext,Oe=this.pages,ht=this.x,rr=this.y,Jt=this.matrix,gh(G,this.width),Ni(G,this.height),ke=this.outputDestination};var Jc=function(C,R,re,oe,ve){$r.push(new yl),dr=G=0,Oe=[],ht=C,rr=R,Jt=ve,Rc([re,oe])};for(var fA in u.beginFormObject=function(C,R,re,oe,ve){return Jc(C,R,re,oe,ve),this},u.endFormObject=function(C){return function(R){if(ar[R])$r.pop().restore();else{var re=new yl,oe="Xo"+(Object.keys(Ot).length+1).toString(10);re.id=oe,ar[R]=oe,Ot[oe]=re,lr.publish("addFormObject",re),$r.pop().restore()}}(C),this},u.doFormObject=function(C,R){var re=Ot[ar[C]];return J("q"),J(R.toString()+" cm"),J("/"+re.id+" Do"),J("Q"),this},u.getFormObject=function(C){var R=Ot[ar[C]];return{x:R.x,y:R.y,width:R.width,height:R.height,matrix:R.matrix}},u.save=function(C,R){return C=C||"generated.pdf",(R=R||{}).returnPromise=R.returnPromise||!1,R.returnPromise===!1?(QA(oA(yi()),C),typeof QA.unload=="function"&&Mt.setTimeout&&setTimeout(QA.unload,911),this):new Promise(function(re,oe){try{var ve=QA(oA(yi()),C);typeof QA.unload=="function"&&Mt.setTimeout&&setTimeout(QA.unload,911),re(ve)}catch(Pe){oe(Pe.message)}})},wt.API)wt.API.hasOwnProperty(fA)&&(fA==="events"&&wt.API.events.length?function(C,R){var re,oe,ve;for(ve=R.length-1;ve!==-1;ve--)re=R[ve][0],oe=R[ve][1],C.subscribe.apply(C,[re].concat(typeof oe=="function"?[oe]:oe))}(lr,wt.API.events):u[fA]=wt.API[fA]);function ph(C){return jt[C].mediaBox.topRightX-jt[C].mediaBox.bottomLeftX}function gh(C,R){jt[C].mediaBox.topRightX=R+jt[C].mediaBox.bottomLeftX}function Ci(C){return jt[C].mediaBox.topRightY-jt[C].mediaBox.bottomLeftY}function Ni(C,R){jt[C].mediaBox.topRightY=R+jt[C].mediaBox.bottomLeftY}var xh=u.getPageWidth=function(C){return ph(C=C||G)/nt},vh=u.setPageWidth=function(C,R){gh(C,R*nt)},mA=u.getPageHeight=function(C){return Ci(C=C||G)/nt},wh=u.setPageHeight=function(C,R){Ni(C,R*nt)};return u.internal={pdfEscape:an,getStyle:fh,getFont:ng,getFontSize:We,getCharSpace:ug,getTextColor:wl,getLineHeight:og,getLineHeightFactor:lg,getLineWidth:Ht,write:xe,getHorizontalCoordinate:Bi,getVerticalCoordinate:ji,getCoordinateString:cg,getVerticalCoordinateString:dg,collections:{},newObject:Vr,newAdditionalObject:aA,newObjectDeferred:Qs,newObjectDeferredBegin:Hs,getFilters:_n,putStream:sn,events:lr,scaleFactor:nt,pageSize:{getWidth:function(){return xh(G)},setWidth:function(C){vh(G,C)},getHeight:function(){return mA(G)},setHeight:function(C){wh(G,C)}},encryptionOptions:d,encryption:rs,getEncryptor:function(C){return d!==null?rs.encryptor(C,0):function(R){return R}},output:Sn,getNumberOfPages:ch,pages:Oe,out:J,f2:S,f3:E,getPageInfo:Hc,getPageInfoByObjId:Zp,getCurrentPageInfo:eg,getPDFVersion:g,Point:hA,Rectangle:Wc,Matrix:ft,hasHotfix:AA},Object.defineProperty(u.internal.pageSize,"width",{get:function(){return xh(G)},set:function(C){vh(G,C)},enumerable:!0,configurable:!0}),Object.defineProperty(u.internal.pageSize,"height",{get:function(){return mA(G)},set:function(C){wh(G,C)},enumerable:!0,configurable:!0}),function(C){for(var R=0,re=Xe.length;R<re;R++){var oe=oh.call(this,C[R][0],C[R][1],C[R][2],Xe[R][3],!0);h===!1&&(m[oe]=!0);var ve=C[R][0].split("-");ih({id:oe,fontName:ve[0],fontStyle:ve[1]||""})}lr.publish("addFonts",{fonts:ot,dictionary:Qt})}.call(u,Xe),st="F1",Ah(n,r),lr.publish("initialized"),u}ql.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},ql.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},ql.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},ql.prototype.processOwnerPassword=function(e,t){return Zx(Yx(t).substr(0,5),e)},ql.prototype.encryptor=function(e,t){var r=Yx(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(a){return Zx(r,a)}},Hm.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||Br(e)!==Br(this))return!1;var a=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;a++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&a--;return a===0},wt.API={events:[]},wt.version="3.0.3";var Jr=wt.API,H1=1,fl=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ll=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},$t=function(e){return e.toFixed(2)},yo=function(e){return e.toFixed(5)};Jr.__acroform__={};var Da=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},uy=function(e){return e*H1},ri=function(e){var t=new cS,r=dt.internal.getHeight(e)||0,a=dt.internal.getWidth(e)||0;return t.BBox=[0,0,Number($t(a)),Number($t(r))],t},ST=Jr.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},FT=Jr.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},ET=Jr.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},ds=Jr.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return ET(e,t-1)},us=Jr.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return ST(e,t-1)},hs=Jr.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return FT(e,t-1)},UT=Jr.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,a=t.internal.getVerticalCoordinate,n=e[0],i=e[1],o=e[2],A=e[3],l={};return l.lowerLeft_X=r(n)||0,l.lowerLeft_Y=a(i+A)||0,l.upperRight_X=r(n+o)||0,l.upperRight_Y=a(i)||0,[Number($t(l.lowerLeft_X)),Number($t(l.lowerLeft_Y)),Number($t(l.upperRight_X)),Number($t(l.upperRight_Y))]},IT=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,a=ev(e,r),n=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+n+" "+$t(a.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(a.text),t.push("ET"),t.push("Q"),t.push("EMC");var i=ri(e);return i.scope=e.scope,i.stream=t.join(`
`),i}},ev=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,a={text:"",fontSize:""},n=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");n=e.multiline?n.map(function(S){return S.split(`
`)}):n.map(function(S){return[S]});var i=r,o=dt.internal.getHeight(e)||0;o=o<0?-o:o;var A=dt.internal.getWidth(e)||0;A=A<0?-A:A;var l=function(S,E,Q){if(S+1<n.length){var V=E+" "+n[S+1][0];return uf(V,e,Q).width<=A-4}return!1};i++;e:for(;i>0;){t="",i--;var c,d,h=uf("3",e,i).height,m=e.multiline?o-i:(o-h)/2,u=m+=2,p=0,g=0,y=0;if(i<=0){t=`(...) Tj
`,t+="% Width of Text: "+uf(t,e,i=12).width+", FieldWidth:"+A+`
`;break}for(var x="",B=0,j=0;j<n.length;j++)if(n.hasOwnProperty(j)){var w=!1;if(n[j].length!==1&&y!==n[j].length-1){if((h+2)*(B+2)+2>o)continue e;x+=n[j][y],w=!0,g=j,j--}else{x=(x+=n[j][y]+" ").substr(x.length-1)==" "?x.substr(0,x.length-1):x;var N=parseInt(j),I=l(N,x,i),U=j>=n.length-1;if(I&&!U){x+=" ",y=0;continue}if(I||U){if(U)g=N;else if(e.multiline&&(h+2)*(B+2)+2>o)continue e}else{if(!e.multiline||(h+2)*(B+2)+2>o)continue e;g=N}}for(var D="",L=p;L<=g;L++){var P=n[L];if(e.multiline){if(L===g){D+=P[y]+" ",y=(y+1)%P.length;continue}if(L===p){D+=P[P.length-1]+" ";continue}}D+=P[0]+" "}switch(D=D.substr(D.length-1)==" "?D.substr(0,D.length-1):D,d=uf(D,e,i).width,e.textAlign){case"right":c=A-d-2;break;case"center":c=(A-d)/2;break;default:c=2}t+=$t(c)+" "+$t(u)+` Td
`,t+="("+fl(D)+`) Tj
`,t+=-$t(c)+` 0 Td
`,u=-(i+2),d=0,p=w?g:g+1,B++,x=""}break}return a.text=t,a.fontSize=i,a},uf=function(e,t,r){var a=t.scope.internal.getFont(t.fontName,t.fontStyle),n=t.scope.getStringUnitWidth(e,{font:a,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:a,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:n}},QT={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},kT=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(a){return a.type===r.type&&a.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},LT=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if($n.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(QT)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");H1=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new dS,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var a=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var n in a)if(a.hasOwnProperty(n)){var i=a[n];i.objId=void 0,i.hasAnnotation&&kT(i,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(a,n){var i=!a;for(var o in a||(n.internal.newObjectDeferredBegin(n.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),n.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),a=a||n.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(a.hasOwnProperty(o)){var A=a[o],l=[],c=A.Rect;if(A.Rect&&(A.Rect=UT(A.Rect,n)),n.internal.newObjectDeferredBegin(A.objId,!0),A.DA=dt.createDefaultAppearanceStream(A),Br(A)==="object"&&typeof A.getKeyValueListForStream=="function"&&(l=A.getKeyValueListForStream()),A.Rect=c,A.hasAppearanceStream&&!A.appearanceStreamContent){var d=IT(A);l.push({key:"AP",value:"<</N "+d+">>"}),n.internal.acroformPlugin.xForms.push(d)}if(A.appearanceStreamContent){var h="";for(var m in A.appearanceStreamContent)if(A.appearanceStreamContent.hasOwnProperty(m)){var u=A.appearanceStreamContent[m];if(h+="/"+m+" ",h+="<<",Object.keys(u).length>=1||Array.isArray(u)){for(var o in u)if(u.hasOwnProperty(o)){var p=u[o];typeof p=="function"&&(p=p.call(n,A)),h+="/"+o+" "+p+" ",n.internal.acroformPlugin.xForms.indexOf(p)>=0||n.internal.acroformPlugin.xForms.push(p)}}else typeof(p=u)=="function"&&(p=p.call(n,A)),h+="/"+o+" "+p,n.internal.acroformPlugin.xForms.indexOf(p)>=0||n.internal.acroformPlugin.xForms.push(p);h+=">>"}l.push({key:"AP",value:`<<
`+h+">>"})}n.internal.putStream({additionalKeyValues:l,objectId:A.objId}),n.internal.out("endobj")}i&&function(g,y){for(var x in g)if(g.hasOwnProperty(x)){var B=x,j=g[x];y.internal.newObjectDeferredBegin(j.objId,!0),Br(j)==="object"&&typeof j.putStream=="function"&&j.putStream(),delete g[B]}}(n.internal.acroformPlugin.xForms,n)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},lS=Jr.__acroform__.arrayToPdfArray=function(e,t,r){var a=function(o){return o};if(Array.isArray(e)){for(var n="[",i=0;i<e.length;i++)switch(i!==0&&(n+=" "),Br(e[i])){case"boolean":case"number":case"object":n+=e[i].toString();break;case"string":e[i].substr(0,1)!=="/"?(t!==void 0&&r&&(a=r.internal.getEncryptor(t)),n+="("+fl(a(e[i].toString()))+")"):n+=e[i].toString()}return n+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},y0=function(e,t,r){var a=function(n){return n};return t!==void 0&&r&&(a=r.internal.getEncryptor(t)),(e=e||"").toString(),"("+fl(a(e))+")"},ci=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};ci.prototype.toString=function(){return this.objId+" 0 R"},ci.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},ci.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var a=t[r],n=this[a];n&&(Array.isArray(n)?e.push({key:a,value:lS(n,this.objId,this.scope)}):n instanceof ci?(n.scope=this.scope,e.push({key:a,value:n.objId+" 0 R"})):typeof n!="function"&&e.push({key:a,value:n}))}return e};var cS=function(){ci.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};Da(cS,ci);var dS=function(){ci.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(a){return a};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+fl(r(e))+")"}},set:function(r){e=r}})};Da(dS,ci);var $n=function e(){ci.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(x){if(isNaN(x))throw new Error('Invalid value "'+x+'" for attribute F supplied.');t=x}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!ds(t,3)},set:function(x){x?this.F=us(t,3):this.F=hs(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(x){if(isNaN(x))throw new Error('Invalid value "'+x+'" for attribute Ff supplied.');r=x}});var a=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(a.length!==0)return a},set:function(x){a=x!==void 0?x:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[0])?0:a[0]},set:function(x){a[0]=x}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[1])?0:a[1]},set:function(x){a[1]=x}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[2])?0:a[2]},set:function(x){a[2]=x}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!a||isNaN(a[3])?0:a[3]},set:function(x){a[3]=x}});var n="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return n},set:function(x){switch(x){case"/Btn":case"/Tx":case"/Ch":case"/Sig":n=x;break;default:throw new Error('Invalid value "'+x+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof Km)return;i="FieldObject"+e.FieldNum++}var x=function(B){return B};return this.scope&&(x=this.scope.internal.getEncryptor(this.objId)),"("+fl(x(i))+")"},set:function(x){i=x.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(x){i=x}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(x){o=x}});var A="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return A},set:function(x){A=x}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(x){l=x}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/H1:c},set:function(x){c=x}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(x){d=x}});var h="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!h||this instanceof Km||this instanceof YA))return y0(h,this.objId,this.scope)},set:function(x){x=x.toString(),h=x}});var m=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof Ps==0?y0(m,this.objId,this.scope):m},set:function(x){x=x.toString(),m=this instanceof Ps==0?x.substr(0,1)==="("?Ll(x.substr(1,x.length-2)):Ll(x):x}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ps==1?Ll(m.substr(1,m.length-1)):m},set:function(x){x=x.toString(),m=this instanceof Ps==1?"/"+x:x}});var u=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(u)return u},set:function(x){this.V=x}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(u)return this instanceof Ps==0?y0(u,this.objId,this.scope):u},set:function(x){x=x.toString(),u=this instanceof Ps==0?x.substr(0,1)==="("?Ll(x.substr(1,x.length-2)):Ll(x):x}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ps==1?Ll(u.substr(1,u.length-1)):u},set:function(x){x=x.toString(),u=this instanceof Ps==1?"/"+x:x}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var p,g=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return g},set:function(x){x=!!x,g=x}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(p)return p},set:function(x){p=x}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!ds(this.Ff,1)},set:function(x){x?this.Ff=us(this.Ff,1):this.Ff=hs(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!ds(this.Ff,2)},set:function(x){x?this.Ff=us(this.Ff,2):this.Ff=hs(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!ds(this.Ff,3)},set:function(x){x?this.Ff=us(this.Ff,3):this.Ff=hs(this.Ff,3)}});var y=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(y!==null)return y},set:function(x){if([0,1,2].indexOf(x)===-1)throw new Error('Invalid value "'+x+'" for attribute Q supplied.');y=x}}),Object.defineProperty(this,"textAlign",{get:function(){var x;switch(y){case 0:default:x="left";break;case 1:x="center";break;case 2:x="right"}return x},configurable:!0,enumerable:!0,set:function(x){switch(x){case"right":case 2:y=2;break;case"center":case 1:y=1;break;default:y=0}}})};Da($n,ci);var sc=function(){$n.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return lS(t,this.objId,this.scope)},set:function(r){var a,n;n=[],typeof(a=r)=="string"&&(n=function(i,o,A){A||(A=1);for(var l,c=[];l=o.exec(i);)c.push(l[A]);return c}(a,/\((.*?)\)/g)),t=n}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,a){for(a=a||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),a!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!ds(this.Ff,18)},set:function(r){r?this.Ff=us(this.Ff,18):this.Ff=hs(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!ds(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=us(this.Ff,19):this.Ff=hs(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!ds(this.Ff,20)},set:function(r){r?(this.Ff=us(this.Ff,20),t.sort()):this.Ff=hs(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!ds(this.Ff,22)},set:function(r){r?this.Ff=us(this.Ff,22):this.Ff=hs(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ds(this.Ff,23)},set:function(r){r?this.Ff=us(this.Ff,23):this.Ff=hs(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!ds(this.Ff,27)},set:function(r){r?this.Ff=us(this.Ff,27):this.Ff=hs(this.Ff,27)}}),this.hasAppearanceStream=!1};Da(sc,$n);var ac=function(){sc.call(this),this.fontName="helvetica",this.combo=!1};Da(ac,sc);var nc=function(){ac.call(this),this.combo=!0};Da(nc,ac);var tm=function(){nc.call(this),this.edit=!0};Da(tm,nc);var Ps=function(){$n.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!ds(this.Ff,15)},set:function(r){r?this.Ff=us(this.Ff,15):this.Ff=hs(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!ds(this.Ff,16)},set:function(r){r?this.Ff=us(this.Ff,16):this.Ff=hs(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!ds(this.Ff,17)},set:function(r){r?this.Ff=us(this.Ff,17):this.Ff=hs(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!ds(this.Ff,26)},set:function(r){r?this.Ff=us(this.Ff,26):this.Ff=hs(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(i){return i};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var a,n=[];for(a in n.push("<<"),t)n.push("/"+a+" ("+fl(r(t[a]))+")");return n.push(">>"),n.join(`
`)}},set:function(r){Br(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};Da(Ps,$n);var rm=function(){Ps.call(this),this.pushButton=!0};Da(rm,Ps);var ic=function(){Ps.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};Da(ic,Ps);var Km=function(){var e,t;$n.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(n){t=n}});var r,a={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(A){return A};this.scope&&(n=this.scope.internal.getEncryptor(this.objId));var i,o=[];for(i in o.push("<<"),a)o.push("/"+i+" ("+fl(n(a[i]))+")");return o.push(">>"),o.join(`
`)},set:function(n){Br(n)==="object"&&(a=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return a.CA||""},set:function(n){typeof n=="string"&&(a.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(n){r=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(n){r="/"+n}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=dt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Da(Km,$n),ic.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},ic.prototype.createOption=function(e){var t=new Km;return t.Parent=this,t.optionName=e,this.Kids.push(t),DT.call(this.scope,t),t};var sm=function(){Ps.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=dt.CheckBox.createAppearanceStream()};Da(sm,Ps);var YA=function(){$n.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!ds(this.Ff,13)},set:function(t){t?this.Ff=us(this.Ff,13):this.Ff=hs(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!ds(this.Ff,21)},set:function(t){t?this.Ff=us(this.Ff,21):this.Ff=hs(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ds(this.Ff,23)},set:function(t){t?this.Ff=us(this.Ff,23):this.Ff=hs(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!ds(this.Ff,24)},set:function(t){t?this.Ff=us(this.Ff,24):this.Ff=hs(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!ds(this.Ff,25)},set:function(t){t?this.Ff=us(this.Ff,25):this.Ff=hs(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!ds(this.Ff,26)},set:function(t){t?this.Ff=us(this.Ff,26):this.Ff=hs(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Da(YA,$n);var am=function(){YA.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!ds(this.Ff,14)},set:function(e){e?this.Ff=us(this.Ff,14):this.Ff=hs(this.Ff,14)}}),this.password=!0};Da(am,YA);var dt={CheckBox:{createAppearanceStream:function(){return{N:{On:dt.CheckBox.YesNormal},D:{On:dt.CheckBox.YesPushDown,Off:dt.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=ri(e);t.scope=e.scope;var r=[],a=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),i=ev(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+$t(dt.internal.getWidth(e))+" "+$t(dt.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+a+" "+$t(i.fontSize)+" Tf "+n),r.push("BT"),r.push(i.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=ri(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,a=e.scope.__private__.encodeColorString(e.color),n=[],i=dt.internal.getHeight(e),o=dt.internal.getWidth(e),A=ev(e,e.caption);return n.push("1 g"),n.push("0 0 "+$t(o)+" "+$t(i)+" re"),n.push("f"),n.push("q"),n.push("0 0 1 rg"),n.push("0 0 "+$t(o-1)+" "+$t(i-1)+" re"),n.push("W"),n.push("n"),n.push("0 g"),n.push("BT"),n.push("/"+r+" "+$t(A.fontSize)+" Tf "+a),n.push(A.text),n.push("ET"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=ri(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+$t(dt.internal.getWidth(e))+" "+$t(dt.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:dt.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=dt.RadioButton.Circle.YesNormal,t.D[e]=dt.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=ri(e);t.scope=e.scope;var r=[],a=dt.internal.getWidth(e)<=dt.internal.getHeight(e)?dt.internal.getWidth(e)/4:dt.internal.getHeight(e)/4;a=Number((.9*a).toFixed(5));var n=dt.internal.Bezier_C,i=Number((a*n).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+yo(dt.internal.getWidth(e)/2)+" "+yo(dt.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=ri(e);t.scope=e.scope;var r=[],a=dt.internal.getWidth(e)<=dt.internal.getHeight(e)?dt.internal.getWidth(e)/4:dt.internal.getHeight(e)/4;a=Number((.9*a).toFixed(5));var n=Number((2*a).toFixed(5)),i=Number((n*dt.internal.Bezier_C).toFixed(5)),o=Number((a*dt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+yo(dt.internal.getWidth(e)/2)+" "+yo(dt.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+yo(dt.internal.getWidth(e)/2)+" "+yo(dt.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+o+" "+o+" "+a+" 0 "+a+" c"),r.push("-"+o+" "+a+" -"+a+" "+o+" -"+a+" 0 c"),r.push("-"+a+" -"+o+" -"+o+" -"+a+" 0 -"+a+" c"),r.push(o+" -"+a+" "+a+" -"+o+" "+a+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=ri(e);t.scope=e.scope;var r=[],a=dt.internal.getWidth(e)<=dt.internal.getHeight(e)?dt.internal.getWidth(e)/4:dt.internal.getHeight(e)/4;a=Number((.9*a).toFixed(5));var n=Number((2*a).toFixed(5)),i=Number((n*dt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+yo(dt.internal.getWidth(e)/2)+" "+yo(dt.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:dt.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=dt.RadioButton.Cross.YesNormal,t.D[e]=dt.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=ri(e);t.scope=e.scope;var r=[],a=dt.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+$t(dt.internal.getWidth(e)-2)+" "+$t(dt.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push($t(a.x1.x)+" "+$t(a.x1.y)+" m"),r.push($t(a.x2.x)+" "+$t(a.x2.y)+" l"),r.push($t(a.x4.x)+" "+$t(a.x4.y)+" m"),r.push($t(a.x3.x)+" "+$t(a.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=ri(e);t.scope=e.scope;var r=dt.internal.calculateCross(e),a=[];return a.push("0.749023 g"),a.push("0 0 "+$t(dt.internal.getWidth(e))+" "+$t(dt.internal.getHeight(e))+" re"),a.push("f"),a.push("q"),a.push("1 1 "+$t(dt.internal.getWidth(e)-2)+" "+$t(dt.internal.getHeight(e)-2)+" re"),a.push("W"),a.push("n"),a.push($t(r.x1.x)+" "+$t(r.x1.y)+" m"),a.push($t(r.x2.x)+" "+$t(r.x2.y)+" l"),a.push($t(r.x4.x)+" "+$t(r.x4.y)+" m"),a.push($t(r.x3.x)+" "+$t(r.x3.y)+" l"),a.push("s"),a.push("Q"),t.stream=a.join(`
`),t},OffPushDown:function(e){var t=ri(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+$t(dt.internal.getWidth(e))+" "+$t(dt.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};dt.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=dt.internal.getWidth(e),r=dt.internal.getHeight(e),a=Math.min(t,r);return{x1:{x:(t-a)/2,y:(r-a)/2+a},x2:{x:(t-a)/2+a,y:(r-a)/2},x3:{x:(t-a)/2,y:(r-a)/2},x4:{x:(t-a)/2+a,y:(r-a)/2+a}}}},dt.internal.getWidth=function(e){var t=0;return Br(e)==="object"&&(t=uy(e.Rect[2])),t},dt.internal.getHeight=function(e){var t=0;return Br(e)==="object"&&(t=uy(e.Rect[3])),t};var DT=Jr.addField=function(e){if(LT(this,e),!(e instanceof $n))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};Jr.AcroFormChoiceField=sc,Jr.AcroFormListBox=ac,Jr.AcroFormComboBox=nc,Jr.AcroFormEditBox=tm,Jr.AcroFormButton=Ps,Jr.AcroFormPushButton=rm,Jr.AcroFormRadioButton=ic,Jr.AcroFormCheckBox=sm,Jr.AcroFormTextField=YA,Jr.AcroFormPasswordField=am,Jr.AcroFormAppearance=dt,Jr.AcroForm={ChoiceField:sc,ListBox:ac,ComboBox:nc,EditBox:tm,Button:Ps,PushButton:rm,RadioButton:ic,CheckBox:sm,TextField:YA,PasswordField:am,Appearance:dt},wt.AcroForm={ChoiceField:sc,ListBox:ac,ComboBox:nc,EditBox:tm,Button:Ps,PushButton:rm,RadioButton:ic,CheckBox:sm,TextField:YA,PasswordField:am,Appearance:dt};function uS(e){return e.reduce(function(t,r,a){return t[r]=a,t},{})}(function(e){var t="addImage_";e.__addimage__={};var r="UNKNOWN",a={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=e.__addimage__.getImageFileTypeByImageData=function(S,E){var Q,V,ae,Y,q,K=r;if((E=E||r)==="RGBA"||S.data!==void 0&&S.data instanceof Uint8ClampedArray&&"height"in S&&"width"in S)return"RGBA";if(I(S))for(q in a)for(ae=a[q],Q=0;Q<ae.length;Q+=1){for(Y=!0,V=0;V<ae[Q].length;V+=1)if(ae[Q][V]!==void 0&&ae[Q][V]!==S[V]){Y=!1;break}if(Y===!0){K=q;break}}else for(q in a)for(ae=a[q],Q=0;Q<ae.length;Q+=1){for(Y=!0,V=0;V<ae[Q].length;V+=1)if(ae[Q][V]!==void 0&&ae[Q][V]!==S.charCodeAt(V)){Y=!1;break}if(Y===!0){K=q;break}}return K===r&&E!==r&&(K=E),K},i=function S(E){for(var Q=this.internal.write,V=this.internal.putStream,ae=(0,this.internal.getFilters)();ae.indexOf("FlateEncode")!==-1;)ae.splice(ae.indexOf("FlateEncode"),1);E.objectId=this.internal.newObject();var Y=[];if(Y.push({key:"Type",value:"/XObject"}),Y.push({key:"Subtype",value:"/Image"}),Y.push({key:"Width",value:E.width}),Y.push({key:"Height",value:E.height}),E.colorSpace===x.INDEXED?Y.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(E.palette.length/3-1)+" "+("sMask"in E&&E.sMask!==void 0?E.objectId+2:E.objectId+1)+" 0 R]"}):(Y.push({key:"ColorSpace",value:"/"+E.colorSpace}),E.colorSpace===x.DEVICE_CMYK&&Y.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Y.push({key:"BitsPerComponent",value:E.bitsPerComponent}),"decodeParameters"in E&&E.decodeParameters!==void 0&&Y.push({key:"DecodeParms",value:"<<"+E.decodeParameters+">>"}),"transparency"in E&&Array.isArray(E.transparency)&&E.transparency.length>0){for(var q="",K=0,Z=E.transparency.length;K<Z;K++)q+=E.transparency[K]+" "+E.transparency[K]+" ";Y.push({key:"Mask",value:"["+q+"]"})}E.sMask!==void 0&&Y.push({key:"SMask",value:E.objectId+1+" 0 R"});var fe=E.filter!==void 0?["/"+E.filter]:void 0;if(V({data:E.data,additionalKeyValues:Y,alreadyAppliedFilters:fe,objectId:E.objectId}),Q("endobj"),"sMask"in E&&E.sMask!==void 0){var we,T=(we=E.sMaskBitsPerComponent)!==null&&we!==void 0?we:E.bitsPerComponent,G={width:E.width,height:E.height,colorSpace:"DeviceGray",bitsPerComponent:T,data:E.sMask};"filter"in E&&(G.decodeParameters="/Predictor ".concat(E.predictor," /Colors 1 /BitsPerComponent ").concat(T," /Columns ").concat(E.width),G.filter=E.filter),S.call(this,G)}if(E.colorSpace===x.INDEXED){var X=this.internal.newObject();V({data:D(new Uint8Array(E.palette)),objectId:X}),Q("endobj")}},o=function(){var S=this.internal.collections[t+"images"];for(var E in S)i.call(this,S[E])},A=function(){var S,E=this.internal.collections[t+"images"],Q=this.internal.write;for(var V in E)Q("/I"+(S=E[V]).index,S.objectId,"0","R")},l=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",A))},c=function(){var S=this.internal.collections[t+"images"];return l.call(this),S},d=function(){return Object.keys(this.internal.collections[t+"images"]).length},h=function(S){return typeof e["process"+S.toUpperCase()]=="function"},m=function(S){return Br(S)==="object"&&S.nodeType===1},u=function(S,E){if(S.nodeName==="IMG"&&S.hasAttribute("src")){var Q=""+S.getAttribute("src");if(Q.indexOf("data:image/")===0)return em(unescape(Q).split("base64,").pop());var V=e.loadFile(Q,!0);if(V!==void 0)return V}if(S.nodeName==="CANVAS"){if(S.width===0||S.height===0)throw new Error("Given canvas must have data. Canvas width: "+S.width+", height: "+S.height);var ae;switch(E){case"PNG":ae="image/png";break;case"WEBP":ae="image/webp";break;default:ae="image/jpeg"}return em(S.toDataURL(ae,1).split("base64,").pop())}},p=function(S){var E=this.internal.collections[t+"images"];if(E){for(var Q in E)if(S===E[Q].alias)return E[Q]}},g=function(S,E,Q){return S||E||(S=-96,E=-96),S<0&&(S=-1*Q.width*72/S/this.internal.scaleFactor),E<0&&(E=-1*Q.height*72/E/this.internal.scaleFactor),S===0&&(S=E*Q.width/Q.height),E===0&&(E=S*Q.height/Q.width),[S,E]},y=function(S,E,Q,V,ae,Y){var q=g.call(this,Q,V,ae),K=this.internal.getCoordinateString,Z=this.internal.getVerticalCoordinateString,fe=c.call(this);if(Q=q[0],V=q[1],fe[ae.index]=ae,Y){Y*=Math.PI/180;var we=Math.cos(Y),T=Math.sin(Y),G=function(se){return se.toFixed(4)},X=[G(we),G(T),G(-1*T),G(we),0,0,"cm"]}this.internal.write("q"),Y?(this.internal.write([1,"0","0",1,K(S),Z(E+V),"cm"].join(" ")),this.internal.write(X.join(" ")),this.internal.write([K(Q),"0","0",K(V),"0","0","cm"].join(" "))):this.internal.write([K(Q),"0","0",K(V),K(S),Z(E+V),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ae.index+" Do"),this.internal.write("Q")},x=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var B=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},j=e.__addimage__.sHashCode=function(S){var E,Q,V=0;if(typeof S=="string")for(Q=S.length,E=0;E<Q;E++)V=(V<<5)-V+S.charCodeAt(E),V|=0;else if(I(S))for(Q=S.byteLength/2,E=0;E<Q;E++)V=(V<<5)-V+S[E],V|=0;return V},w=e.__addimage__.validateStringAsBase64=function(S){(S=S||"").toString().trim();var E=!0;return S.length===0&&(E=!1),S.length%4!=0&&(E=!1),/^[A-Za-z0-9+/]+$/.test(S.substr(0,S.length-2))===!1&&(E=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(S.substr(-2))===!1&&(E=!1),E},N=e.__addimage__.extractImageFromDataUrl=function(S){if(S==null||!(S=S.trim()).startsWith("data:"))return null;var E=S.indexOf(",");return E<0?null:S.substring(0,E).trim().endsWith("base64")?S.substring(E+1):null};e.__addimage__.isArrayBuffer=function(S){return S instanceof ArrayBuffer};var I=e.__addimage__.isArrayBufferView=function(S){return S instanceof Int8Array||S instanceof Uint8Array||S instanceof Uint8ClampedArray||S instanceof Int16Array||S instanceof Uint16Array||S instanceof Int32Array||S instanceof Uint32Array||S instanceof Float32Array||S instanceof Float64Array},U=e.__addimage__.binaryStringToUint8Array=function(S){for(var E=S.length,Q=new Uint8Array(E),V=0;V<E;V++)Q[V]=S.charCodeAt(V);return Q},D=e.__addimage__.arrayBufferToBinaryString=function(S){for(var E="",Q=I(S)?S:new Uint8Array(S),V=0;V<Q.length;V+=8192)E+=String.fromCharCode.apply(null,Q.subarray(V,V+8192));return E};e.addImage=function(){var S,E,Q,V,ae,Y,q,K,Z;if(typeof arguments[1]=="number"?(E=r,Q=arguments[1],V=arguments[2],ae=arguments[3],Y=arguments[4],q=arguments[5],K=arguments[6],Z=arguments[7]):(E=arguments[1],Q=arguments[2],V=arguments[3],ae=arguments[4],Y=arguments[5],q=arguments[6],K=arguments[7],Z=arguments[8]),Br(S=arguments[0])==="object"&&!m(S)&&"imageData"in S){var fe=S;S=fe.imageData,E=fe.format||E||r,Q=fe.x||Q||0,V=fe.y||V||0,ae=fe.w||fe.width||ae,Y=fe.h||fe.height||Y,q=fe.alias||q,K=fe.compression||K,Z=fe.rotation||fe.angle||Z}var we=this.internal.getFilters();if(K===void 0&&we.indexOf("FlateEncode")!==-1&&(K="SLOW"),isNaN(Q)||isNaN(V))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var T=L.call(this,S,E,q,K);return y.call(this,Q,V,ae,Y,T,Z),this};var L=function(S,E,Q,V){var ae,Y,q;if(typeof S=="string"&&n(S)===r){S=unescape(S);var K=P(S,!1);(K!==""||(K=e.loadFile(S,!0))!==void 0)&&(S=K)}if(m(S)&&(S=u(S,E)),E=n(S,E),!h(E))throw new Error("addImage does not support files of type '"+E+"', please ensure that a plugin for '"+E+"' support is added.");if(((q=Q)==null||q.length===0)&&(Q=function(Z){return typeof Z=="string"||I(Z)?j(Z):I(Z.data)?j(Z.data):null}(S)),(ae=p.call(this,Q))||(S instanceof Uint8Array||E==="RGBA"||(Y=S,S=U(S)),ae=this["process"+E.toUpperCase()](S,d.call(this),Q,function(Z){return Z&&typeof Z=="string"&&(Z=Z.toUpperCase()),Z in e.image_compression?Z:B.NONE}(V),Y)),!ae)throw new Error("An unknown error occurred whilst processing the image.");return ae},P=e.__addimage__.convertBase64ToBinaryString=function(S,E){E=typeof E!="boolean"||E;var Q,V="";if(typeof S=="string"){var ae;Q=(ae=N(S))!==null&&ae!==void 0?ae:S;try{V=em(Q)}catch(Y){if(E)throw w(Q)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Y.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return V};e.getImageProperties=function(S){var E,Q,V="";if(m(S)&&(S=u(S)),typeof S=="string"&&n(S)===r&&((V=P(S,!1))===""&&(V=e.loadFile(S)||""),S=V),Q=n(S),!h(Q))throw new Error("addImage does not support files of type '"+Q+"', please ensure that a plugin for '"+Q+"' support is added.");if(S instanceof Uint8Array||(S=U(S)),!(E=this["process"+Q.toUpperCase()](S)))throw new Error("An unknown error occurred whilst processing the image");return E.fileType=Q,E}})(wt.API),function(e){var t=function(r){if(r!==void 0&&r!="")return!0};wt.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var a,n,i,o=this.internal.getCoordinateString,A=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(r.objId),c=r.pageContext.annotations,d=!1,h=0;h<c.length&&!d;h++)switch((a=c[h]).type){case"link":(t(a.options.url)||t(a.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var m=0;m<c.length;m++){a=c[m];var u=this.internal.pdfEscape,p=this.internal.getEncryptor(r.objId);switch(a.type){case"reference":this.internal.write(" "+a.object.objId+" 0 R ");break;case"text":var g=this.internal.newAdditionalObject(),y=this.internal.newAdditionalObject(),x=this.internal.getEncryptor(g.objId),B=a.title||"Note";i="<</Type /Annot /Subtype /Text "+(n="/Rect ["+o(a.bounds.x)+" "+A(a.bounds.y+a.bounds.h)+" "+o(a.bounds.x+a.bounds.w)+" "+A(a.bounds.y)+"] ")+"/Contents ("+u(x(a.contents))+")",i+=" /Popup "+y.objId+" 0 R",i+=" /P "+l.objId+" 0 R",i+=" /T ("+u(x(B))+") >>",g.content=i;var j=g.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(n="/Rect ["+o(a.bounds.x+30)+" "+A(a.bounds.y+a.bounds.h)+" "+o(a.bounds.x+a.bounds.w+30)+" "+A(a.bounds.y)+"] ")+" /Parent "+j,a.open&&(i+=" /Open true"),i+=" >>",y.content=i,this.internal.write(g.objId,"0 R",y.objId,"0 R");break;case"freetext":n="/Rect ["+o(a.bounds.x)+" "+A(a.bounds.y)+" "+o(a.bounds.x+a.bounds.w)+" "+A(a.bounds.y+a.bounds.h)+"] ";var w=a.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+n+"/Contents ("+u(p(a.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+w+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(a.options.name){var N=this.annotations._nameMap[a.options.name];a.options.pageNumber=N.page,a.options.top=N.y}else a.options.top||(a.options.top=0);if(n="/Rect ["+a.finalBounds.x+" "+a.finalBounds.y+" "+a.finalBounds.w+" "+a.finalBounds.h+"] ",i="",a.options.url)i="<</Type /Annot /Subtype /Link "+n+"/Border [0 0 0] /A <</S /URI /URI ("+u(p(a.options.url))+") >>";else if(a.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+n+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(a.options.pageNumber).objId+" 0 R",a.options.magFactor=a.options.magFactor||"XYZ",a.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+a.options.top+"]";break;case"FitV":a.options.left=a.options.left||0,i+=" /FitV "+a.options.left+"]";break;default:var I=A(a.options.top);a.options.left=a.options.left||0,a.options.zoom===void 0&&(a.options.zoom=0),i+=" /XYZ "+a.options.left+" "+I+" "+a.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var a=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":a.pageContext.annotations.push(r)}},e.link=function(r,a,n,i,o){var A=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;A.pageContext.annotations.push({finalBounds:{x:l(r),y:c(a),w:l(r+n),h:c(a+i)},options:o,type:"link"})},e.textWithLink=function(r,a,n,i){var o,A,l=this.getTextWidth(r),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){A=i.maxWidth;var d=this.splitTextToSize(r,A).length;o=Math.ceil(c*d)}else A=l,o=c;return this.text(r,a,n,i),n+=.2*c,i.align==="center"&&(a-=l/2),i.align==="right"&&(a-=l),this.link(a,n-c,A,o,i),l},e.getTextWidth=function(r){var a=this.internal.getFontSize();return this.getStringUnitWidth(r)*a/this.internal.scaleFactor}}(wt.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},a={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},n=[1570,1571,1573,1575];e.__arabicParser__={};var i=e.__arabicParser__.isInArabicSubstitutionA=function(g){return t[g.charCodeAt(0)]!==void 0},o=e.__arabicParser__.isArabicLetter=function(g){return typeof g=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(g)},A=e.__arabicParser__.isArabicEndLetter=function(g){return o(g)&&i(g)&&t[g.charCodeAt(0)].length<=2},l=e.__arabicParser__.isArabicAlfLetter=function(g){return o(g)&&n.indexOf(g.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(g){return o(g)&&i(g)&&t[g.charCodeAt(0)].length>=1};var c=e.__arabicParser__.arabicLetterHasFinalForm=function(g){return o(g)&&i(g)&&t[g.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(g){return o(g)&&i(g)&&t[g.charCodeAt(0)].length>=3};var d=e.__arabicParser__.arabicLetterHasMedialForm=function(g){return o(g)&&i(g)&&t[g.charCodeAt(0)].length==4},h=e.__arabicParser__.resolveLigatures=function(g){var y=0,x=r,B="",j=0;for(y=0;y<g.length;y+=1)x[g.charCodeAt(y)]!==void 0?(j++,typeof(x=x[g.charCodeAt(y)])=="number"&&(B+=String.fromCharCode(x),x=r,j=0),y===g.length-1&&(x=r,B+=g.charAt(y-(j-1)),y-=j-1,j=0)):(x=r,B+=g.charAt(y-j),y-=j,j=0);return B};e.__arabicParser__.isArabicDiacritic=function(g){return g!==void 0&&a[g.charCodeAt(0)]!==void 0};var m=e.__arabicParser__.getCorrectForm=function(g,y,x){return o(g)?i(g)===!1?-1:!c(g)||!o(y)&&!o(x)||!o(x)&&A(y)||A(g)&&!o(y)||A(g)&&l(y)||A(g)&&A(y)?0:d(g)&&o(y)&&!A(y)&&o(x)&&c(x)?3:A(g)||!o(x)?1:2:-1},u=function(g){var y=0,x=0,B=0,j="",w="",N="",I=(g=g||"").split("\\s+"),U=[];for(y=0;y<I.length;y+=1){for(U.push(""),x=0;x<I[y].length;x+=1)j=I[y][x],w=I[y][x-1],N=I[y][x+1],o(j)?(B=m(j,w,N),U[y]+=B!==-1?String.fromCharCode(t[j.charCodeAt(0)][B]):j):U[y]+=j;U[y]=h(U[y])}return U.join(" ")},p=e.__arabicParser__.processArabic=e.processArabic=function(){var g,y=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,x=[];if(Array.isArray(y)){var B=0;for(x=[],B=0;B<y.length;B+=1)Array.isArray(y[B])?x.push([u(y[B][0]),y[B][1],y[B][2]]):x.push([u(y[B])]);g=x}else g=u(y);return typeof arguments[0]=="string"?g:(arguments[0].text=g,arguments[0])};e.events.push(["preProcessText",p])}(wt.API),wt.API.autoPrint=function(e){var t;return(e=e||{}).variant=e.variant||"non-conform",e.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(A){r=A}});var a=150;Object.defineProperty(this,"width",{get:function(){return a},set:function(A){a=isNaN(A)||Number.isInteger(A)===!1||A<0?150:A,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=a+1)}});var n=300;Object.defineProperty(this,"height",{get:function(){return n},set:function(A){n=isNaN(A)||Number.isInteger(A)===!1||A<0?300:A,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=n+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(A){i=A}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(A){o=A}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,a){var n;if((r=r||"2d")!=="2d")return null;for(n in a)this.pdf.context2d.hasOwnProperty(n)&&(this.pdf.context2d[n]=a[n]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(wt.API),function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,a=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),n.call(this))},n=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(g){l=g}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(g){c=g}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(g){d=g}});var h=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return h},set:function(g){h=g}});var m=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return m},set:function(g){m=g}});var u=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return u},set:function(g){u=g}});var p=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return p},set:function(g){p=g}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(l){return a.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},e.getTextDimensions=function(l,c){a.call(this);var d=(c=c||{}).fontSize||this.getFontSize(),h=c.font||this.getFont(),m=c.scaleFactor||this.internal.scaleFactor,u=0,p=0,g=0,y=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var x=c.maxWidth;x>0?typeof l=="string"?l=this.splitTextToSize(l,x):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(j,w){return j.concat(y.splitTextToSize(w,x))},[])):l=Array.isArray(l)?l:[l];for(var B=0;B<l.length;B++)u<(g=this.getStringUnitWidth(l[B],{font:h})*d)&&(u=g);return u!==0&&(p=l.length),{w:u/=m,h:Math.max((p*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/m,0)}},e.cellAddPage=function(){a.call(this),this.addPage();var l=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new i(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=e.cell=function(){var l;l=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),a.call(this);var c=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,h=this.internal.__cell__.margins||t,m=this.internal.__cell__.tableHeaderRow,u=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+h.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=h.top,u&&m&&(this.printHeaderRow(l.lineNumber,!0),l.y+=m[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,r===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-d,l.y+d,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+d,{align:"center",baseline:"top",maxWidth:l.width-d-d}):this.text(l.text,l.x+d,l.y+d,{align:"left",baseline:"top",maxWidth:l.width-d-d})),this.internal.__cell__.lastCell=l,this};e.table=function(l,c,d,h,m){if(a.call(this),!d)throw new Error("No data for PDF table.");var u,p,g,y,x=[],B=[],j=[],w={},N={},I=[],U=[],D=(m=m||{}).autoSize||!1,L=m.printHeaders!==!1,P=m.css&&m.css["font-size"]!==void 0?16*m.css["font-size"]:m.fontSize||12,S=m.margins||Object.assign({width:this.getPageWidth()},t),E=typeof m.padding=="number"?m.padding:3,Q=m.headerBackgroundColor||"#c8c8c8",V=m.headerTextColor||"#000";if(n.call(this),this.internal.__cell__.printHeaders=L,this.internal.__cell__.margins=S,this.internal.__cell__.table_font_size=P,this.internal.__cell__.padding=E,this.internal.__cell__.headerBackgroundColor=Q,this.internal.__cell__.headerTextColor=V,this.setFontSize(P),h==null)B=x=Object.keys(d[0]),j=x.map(function(){return"left"});else if(Array.isArray(h)&&Br(h[0])==="object")for(x=h.map(function(fe){return fe.name}),B=h.map(function(fe){return fe.prompt||fe.name||""}),j=h.map(function(fe){return fe.align||"left"}),u=0;u<h.length;u+=1)N[h[u].name]=.7499990551181103*h[u].width;else Array.isArray(h)&&typeof h[0]=="string"&&(B=x=h,j=x.map(function(){return"left"}));if(D||Array.isArray(h)&&typeof h[0]=="string")for(u=0;u<x.length;u+=1){for(w[y=x[u]]=d.map(function(fe){return fe[y]}),this.setFont(void 0,"bold"),I.push(this.getTextDimensions(B[u],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),p=w[y],this.setFont(void 0,"normal"),g=0;g<p.length;g+=1)I.push(this.getTextDimensions(p[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);N[y]=Math.max.apply(null,I)+E+E,I=[]}if(L){var ae={};for(u=0;u<x.length;u+=1)ae[x[u]]={},ae[x[u]].text=B[u],ae[x[u]].align=j[u];var Y=A.call(this,ae,N);U=x.map(function(fe){return new i(l,c,N[fe],Y,ae[fe].text,void 0,ae[fe].align)}),this.setTableHeaderRow(U),this.printHeaderRow(1,!1)}var q=h.reduce(function(fe,we){return fe[we.name]=we.align,fe},{});for(u=0;u<d.length;u+=1){"rowStart"in m&&m.rowStart instanceof Function&&m.rowStart({row:u,data:d[u]},this);var K=A.call(this,d[u],N);for(g=0;g<x.length;g+=1){var Z=d[u][x[g]];"cellStart"in m&&m.cellStart instanceof Function&&m.cellStart({row:u,col:g,data:Z},this),o.call(this,new i(l,c,N[x[g]],K,Z,u+2,q[x[g]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var A=function(l,c){var d=this.internal.__cell__.padding,h=this.internal.__cell__.table_font_size,m=this.internal.scaleFactor;return Object.keys(l).map(function(u){var p=l[u];return this.splitTextToSize(p.hasOwnProperty("text")?p.text:p,c[u]-d-d)},this).map(function(u){return this.getLineHeightFactor()*u.length*h/m+d+d},this).reduce(function(u,p){return Math.max(u,p)},0)};e.setTableHeaderRow=function(l){a.call(this),this.internal.__cell__.tableHeaderRow=l},e.printHeaderRow=function(l,c){if(a.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var h=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(h[0],h[1],h[2],h[3],void 0,-1)}this.setFont(void 0,"bold");for(var m=[],u=0;u<this.internal.__cell__.tableHeaderRow.length;u+=1){d=this.internal.__cell__.tableHeaderRow[u].clone(),c&&(d.y=this.internal.__cell__.margins.top||0,m.push(d)),d.lineNumber=l;var p=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,d),this.setTextColor(p)}m.length>0&&this.setTableHeaderRow(m),this.setFont(void 0,"normal"),r=!1}}(wt.API);var hS={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},fS=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],tv=uS(fS),mS=[100,200,300,400,500,600,700,800,900],PT=uS(mS);function B0(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=function(i){return hS[i=i||"normal"]?i:"normal"}(e.style),a=function(i){return i?typeof i=="number"?i>=100&&i<=900&&i%100==0?i:400:/^\d00$/.test(i)?parseInt(i):i==="bold"?700:400:400}(e.weight),n=function(i){return typeof tv[i=i||"normal"]=="number"?i:"normal"}(e.stretch);return{family:t,style:r,weight:a,stretch:n,src:e.src||[],ref:e.ref||{name:t,style:[n,r,a].join(" ")}}}function hy(e,t,r,a){var n;for(n=r;n>=0&&n<t.length;n+=a)if(e[t[n]])return e[t[n]];for(n=r;n>=0&&n<t.length;n-=a)if(e[t[n]])return e[t[n]]}var MT={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},fy={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function my(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function py(e){return e.trimLeft()}function TT(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function RT(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var hf,gy,xy,Dl,ff,vy,wy,by,j0=["times"];function yy(e,t,r,a,n){var i=4,o=jy;switch(n){case wt.API.image_compression.FAST:i=1,o=By;break;case wt.API.image_compression.MEDIUM:i=6,o=Cy;break;case wt.API.image_compression.SLOW:i=9,o=Ny}e=function(l,c,d,h){for(var m,u=l.length/c,p=new Uint8Array(l.length+u),g=[OT,By,jy,Cy,Ny],y=0;y<u;y+=1){var x=y*c,B=l.subarray(x,x+c);if(h)p.set(h(B,d,m),x+y);else{for(var j=g.length,w=[],N=0;N<j;N+=1)w[N]=g[N](B,d,m);var I=KT(w.concat());p.set(w[I],x+y)}m=B}return p}(e,t,Math.ceil(r*a/8),o);var A=Hx(e,{level:i});return wt.API.__addimage__.arrayBufferToBinaryString(A)}function OT(e){var t=Array.apply([],e);return t.unshift(0),t}function By(e,t){var r=e.length,a=[];a[0]=1;for(var n=0;n<r;n+=1){var i=e[n-t]||0;a[n+1]=e[n]-i+256&255}return a}function jy(e,t,r){var a=e.length,n=[];n[0]=2;for(var i=0;i<a;i+=1){var o=r&&r[i]||0;n[i+1]=e[i]-o+256&255}return n}function Cy(e,t,r){var a=e.length,n=[];n[0]=3;for(var i=0;i<a;i+=1){var o=e[i-t]||0,A=r&&r[i]||0;n[i+1]=e[i]+256-(o+A>>>1)&255}return n}function Ny(e,t,r){var a=e.length,n=[];n[0]=4;for(var i=0;i<a;i+=1){var o=HT(e[i-t]||0,r&&r[i]||0,r&&r[i-t]||0);n[i+1]=e[i]-o+256&255}return n}function HT(e,t,r){if(e===t&&t===r)return e;var a=Math.abs(t-r),n=Math.abs(e-r),i=Math.abs(e+t-r-r);return a<=n&&a<=i?e:n<=i?t:r}function KT(e){var t=e.map(function(r){return r.reduce(function(a,n){return a+Math.abs(n)},0)});return t.indexOf(Math.min.apply(null,t))}function C0(e,t,r){var a=t*r,n=Math.floor(a/8),i=16-(a-8*n+r),o=(1<<r)-1;return pS(e,n)>>i&o}function _y(e,t,r,a){var n=r*a,i=Math.floor(n/8),o=16-(n-8*i+a),A=(1<<a)-1,l=(t&A)<<o;(function(c,d,h){if(d+1<c.byteLength)c.setUint16(d,h,!1);else{var m=h>>8&255;c.setUint8(d,m)}})(e,i,pS(e,i)&~(A<<o)&65535|l)}function pS(e,t){return t+1<e.byteLength?e.getUint16(t,!1):e.getUint8(t)<<8}function $T(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,a=e[t++]|e[t++]<<8,n=e[t++],i=n>>7,o=1<<1+(7&n);e[t++],e[t++];var A=null,l=null;i&&(A=t,l=o,t+=3*o);var c=!0,d=[],h=0,m=null,u=0,p=null;for(this.width=r,this.height=a;c&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,p=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((S=e[t++])>=0))throw Error("Invalid block size");if(S===0)break;t+=S}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var g=e[t++];h=e[t++]|e[t++]<<8,m=e[t++],1&g||(m=null),u=g>>2&7,t++;break;case 254:for(;;){if(!((S=e[t++])>=0))throw Error("Invalid block size");if(S===0)break;t+=S}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var y=e[t++]|e[t++]<<8,x=e[t++]|e[t++]<<8,B=e[t++]|e[t++]<<8,j=e[t++]|e[t++]<<8,w=e[t++],N=w>>6&1,I=1<<1+(7&w),U=A,D=l,L=!1;w>>7&&(L=!0,U=t,D=I,t+=3*I);var P=t;for(t++;;){var S;if(!((S=e[t++])>=0))throw Error("Invalid block size");if(S===0)break;t+=S}d.push({x:y,y:x,width:B,height:j,has_local_palette:L,palette_offset:U,palette_size:D,data_offset:P,data_length:t-P,transparent_index:m,interlaced:!!N,delay:h,disposal:u});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return p},this.frameInfo=function(E){if(E<0||E>=d.length)throw new Error("Frame index out of range.");return d[E]},this.decodeAndBlitFrameBGRA=function(E,Q){var V=this.frameInfo(E),ae=V.width*V.height,Y=new Uint8Array(ae);Sy(e,V.data_offset,Y,ae);var q=V.palette_offset,K=V.transparent_index;K===null&&(K=256);var Z=V.width,fe=r-Z,we=Z,T=4*(V.y*r+V.x),G=4*((V.y+V.height)*r+V.x),X=T,se=4*fe;V.interlaced===!0&&(se+=4*r*7);for(var le=8,de=0,Ne=Y.length;de<Ne;++de){var je=Y[de];if(we===0&&(we=Z,(X+=se)>=G&&(se=4*fe+4*r*(le-1),X=T+(Z+fe)*(le<<1),le>>=1)),je===K)X+=4;else{var Ie=e[q+3*je],Oe=e[q+3*je+1],ue=e[q+3*je+2];Q[X++]=ue,Q[X++]=Oe,Q[X++]=Ie,Q[X++]=255}--we}},this.decodeAndBlitFrameRGBA=function(E,Q){var V=this.frameInfo(E),ae=V.width*V.height,Y=new Uint8Array(ae);Sy(e,V.data_offset,Y,ae);var q=V.palette_offset,K=V.transparent_index;K===null&&(K=256);var Z=V.width,fe=r-Z,we=Z,T=4*(V.y*r+V.x),G=4*((V.y+V.height)*r+V.x),X=T,se=4*fe;V.interlaced===!0&&(se+=4*r*7);for(var le=8,de=0,Ne=Y.length;de<Ne;++de){var je=Y[de];if(we===0&&(we=Z,(X+=se)>=G&&(se=4*fe+4*r*(le-1),X=T+(Z+fe)*(le<<1),le>>=1)),je===K)X+=4;else{var Ie=e[q+3*je],Oe=e[q+3*je+1],ue=e[q+3*je+2];Q[X++]=Ie,Q[X++]=Oe,Q[X++]=ue,Q[X++]=255}--we}}}function Sy(e,t,r,a){for(var n=e[t++],i=1<<n,o=i+1,A=o+1,l=n+1,c=(1<<l)-1,d=0,h=0,m=0,u=e[t++],p=new Int32Array(4096),g=null;;){for(;d<16&&u!==0;)h|=e[t++]<<d,d+=8,u===1?u=e[t++]:--u;if(d<l)break;var y=h&c;if(h>>=l,d-=l,y!==i){if(y===o)break;for(var x=y<A?y:g,B=0,j=x;j>i;)j=p[j]>>8,++B;var w=j;if(m+B+(x!==y?1:0)>a)return void _r.log("Warning, gif stream longer than expected.");r[m++]=w;var N=m+=B;for(x!==y&&(r[m++]=w),j=x;B--;)j=p[j],r[--N]=255&j,j>>=8;g!==null&&A<4096&&(p[A++]=g<<8|w,A>=c+1&&l<12&&(++l,c=c<<1|1)),g=y}else A=o+1,c=(1<<(l=n+1))-1,g=null}return m!==a&&_r.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function N0(e){var t,r,a,n,i,o=Math.floor,A=new Array(64),l=new Array(64),c=new Array(64),d=new Array(64),h=new Array(65535),m=new Array(65535),u=new Array(64),p=new Array(64),g=[],y=0,x=7,B=new Array(64),j=new Array(64),w=new Array(64),N=new Array(256),I=new Array(2048),U=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],D=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],L=[0,1,2,3,4,5,6,7,8,9,10,11],P=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],S=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],E=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],Q=[0,1,2,3,4,5,6,7,8,9,10,11],V=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ae=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Y(T,G){for(var X=0,se=0,le=new Array,de=1;de<=16;de++){for(var Ne=1;Ne<=T[de];Ne++)le[G[se]]=[],le[G[se]][0]=X,le[G[se]][1]=de,se++,X++;X*=2}return le}function q(T){for(var G=T[0],X=T[1]-1;X>=0;)G&1<<X&&(y|=1<<x),X--,--x<0&&(y==255?(K(255),K(0)):K(y),x=7,y=0)}function K(T){g.push(T)}function Z(T){K(T>>8&255),K(255&T)}function fe(T,G,X,se,le){for(var de,Ne=le[0],je=le[240],Ie=function(Qe,Ye){var We,xt,ye,gt,yt,ct,me,Je,st,nt,ht=0;for(st=0;st<8;++st){We=Qe[ht],xt=Qe[ht+1],ye=Qe[ht+2],gt=Qe[ht+3],yt=Qe[ht+4],ct=Qe[ht+5],me=Qe[ht+6];var rr=We+(Je=Qe[ht+7]),Jt=We-Je,ot=xt+me,Qt=xt-me,sr=ye+ct,_t=ye-ct,Yt=gt+yt,Tt=gt-yt,Lr=rr+Yt,es=rr-Yt,dr=ot+sr,jt=ot-sr;Qe[ht]=Lr+dr,Qe[ht+4]=Lr-dr;var lr=.707106781*(jt+es);Qe[ht+2]=es+lr,Qe[ht+6]=es-lr;var Ft=.382683433*((Lr=Tt+_t)-(jt=Qt+Jt)),Ot=.5411961*Lr+Ft,ar=1.306562965*jt+Ft,$r=.707106781*(dr=_t+Qt),ft=Jt+$r,Is=Jt-$r;Qe[ht+5]=Is+Ot,Qe[ht+3]=Is-Ot,Qe[ht+1]=ft+ar,Qe[ht+7]=ft-ar,ht+=8}for(ht=0,st=0;st<8;++st){We=Qe[ht],xt=Qe[ht+8],ye=Qe[ht+16],gt=Qe[ht+24],yt=Qe[ht+32],ct=Qe[ht+40],me=Qe[ht+48];var Os=We+(Je=Qe[ht+56]),Dr=We-Je,ts=xt+me,Vr=xt-me,Qs=ye+ct,Hs=ye-ct,aA=gt+yt,eo=gt-yt,Cn=Os+aA,qn=Os-aA,Nn=ts+Qs,_n=ts-Qs;Qe[ht]=Cn+Nn,Qe[ht+32]=Cn-Nn;var sn=.707106781*(_n+qn);Qe[ht+16]=qn+sn,Qe[ht+48]=qn-sn;var nA=.382683433*((Cn=eo+Hs)-(_n=Vr+Dr)),Gn=.5411961*Cn+nA,iA=1.306562965*_n+nA,ml=.707106781*(Nn=Hs+Vr),pl=Dr+ml,gl=Dr-ml;Qe[ht+40]=gl+Gn,Qe[ht+24]=gl-Gn,Qe[ht+8]=pl+iA,Qe[ht+56]=pl-iA,ht++}for(st=0;st<64;++st)nt=Qe[st]*Ye[st],u[st]=nt>0?nt+.5|0:nt-.5|0;return u}(T,G),Oe=0;Oe<64;++Oe)p[U[Oe]]=Ie[Oe];var ue=p[0]-X;X=p[0],ue==0?q(se[0]):(q(se[m[de=32767+ue]]),q(h[de]));for(var ke=63;ke>0&&p[ke]==0;)ke--;if(ke==0)return q(Ne),X;for(var ge,J=1;J<=ke;){for(var xe=J;p[J]==0&&J<=ke;)++J;var Te=J-xe;if(Te>=16){ge=Te>>4;for(var Xe=1;Xe<=ge;++Xe)q(je);Te&=15}de=32767+p[J],q(le[(Te<<4)+m[de]]),q(h[de]),J++}return ke!=63&&q(Ne),X}function we(T){T=Math.min(Math.max(T,1),100),i!=T&&(function(G){for(var X=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],se=0;se<64;se++){var le=o((X[se]*G+50)/100);le=Math.min(Math.max(le,1),255),A[U[se]]=le}for(var de=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Ne=0;Ne<64;Ne++){var je=o((de[Ne]*G+50)/100);je=Math.min(Math.max(je,1),255),l[U[Ne]]=je}for(var Ie=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Oe=0,ue=0;ue<8;ue++)for(var ke=0;ke<8;ke++)c[Oe]=1/(A[U[Oe]]*Ie[ue]*Ie[ke]*8),d[Oe]=1/(l[U[Oe]]*Ie[ue]*Ie[ke]*8),Oe++}(T<50?Math.floor(5e3/T):Math.floor(200-2*T)),i=T)}this.encode=function(T,G){G&&we(G),g=new Array,y=0,x=7,Z(65496),Z(65504),Z(16),K(74),K(70),K(73),K(70),K(0),K(1),K(1),K(0),Z(1),Z(1),K(0),K(0),function(){Z(65499),Z(132),K(0);for(var xt=0;xt<64;xt++)K(A[xt]);K(1);for(var ye=0;ye<64;ye++)K(l[ye])}(),function(xt,ye){Z(65472),Z(17),K(8),Z(ye),Z(xt),K(3),K(1),K(17),K(0),K(2),K(17),K(1),K(3),K(17),K(1)}(T.width,T.height),function(){Z(65476),Z(418),K(0);for(var xt=0;xt<16;xt++)K(D[xt+1]);for(var ye=0;ye<=11;ye++)K(L[ye]);K(16);for(var gt=0;gt<16;gt++)K(P[gt+1]);for(var yt=0;yt<=161;yt++)K(S[yt]);K(1);for(var ct=0;ct<16;ct++)K(E[ct+1]);for(var me=0;me<=11;me++)K(Q[me]);K(17);for(var Je=0;Je<16;Je++)K(V[Je+1]);for(var st=0;st<=161;st++)K(ae[st])}(),Z(65498),Z(12),K(3),K(1),K(0),K(2),K(17),K(3),K(17),K(0),K(63),K(0);var X=0,se=0,le=0;y=0,x=7,this.encode.displayName="_encode_";for(var de,Ne,je,Ie,Oe,ue,ke,ge,J,xe=T.data,Te=T.width,Xe=T.height,Qe=4*Te,Ye=0;Ye<Xe;){for(de=0;de<Qe;){for(Oe=Qe*Ye+de,ke=-1,ge=0,J=0;J<64;J++)ue=Oe+(ge=J>>3)*Qe+(ke=4*(7&J)),Ye+ge>=Xe&&(ue-=Qe*(Ye+1+ge-Xe)),de+ke>=Qe&&(ue-=de+ke-Qe+4),Ne=xe[ue++],je=xe[ue++],Ie=xe[ue++],B[J]=(I[Ne]+I[je+256|0]+I[Ie+512|0]>>16)-128,j[J]=(I[Ne+768|0]+I[je+1024|0]+I[Ie+1280|0]>>16)-128,w[J]=(I[Ne+1280|0]+I[je+1536|0]+I[Ie+1792|0]>>16)-128;X=fe(B,c,X,t,a),se=fe(j,d,se,r,n),le=fe(w,d,le,r,n),de+=32}Ye+=8}if(x>=0){var We=[];We[1]=x+1,We[0]=(1<<x+1)-1,q(We)}return Z(65497),new Uint8Array(g)},e=e||50,function(){for(var T=String.fromCharCode,G=0;G<256;G++)N[G]=T(G)}(),t=Y(D,L),r=Y(E,Q),a=Y(P,S),n=Y(V,ae),function(){for(var T=1,G=2,X=1;X<=15;X++){for(var se=T;se<G;se++)m[32767+se]=X,h[32767+se]=[],h[32767+se][1]=X,h[32767+se][0]=se;for(var le=-(G-1);le<=-T;le++)m[32767+le]=X,h[32767+le]=[],h[32767+le][1]=X,h[32767+le][0]=G-1+le;T<<=1,G<<=1}}(),function(){for(var T=0;T<256;T++)I[T]=19595*T,I[T+256|0]=38470*T,I[T+512|0]=7471*T+32768,I[T+768|0]=-11059*T,I[T+1024|0]=-21709*T,I[T+1280|0]=32768*T+8421375,I[T+1536|0]=-27439*T,I[T+1792|0]=-5329*T}(),we(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Qn(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Fy(e){function t(L){if(!L)throw Error("assert :P")}function r(L,P,S){for(var E=0;4>E;E++)if(L[P+E]!=S.charCodeAt(E))return!0;return!1}function a(L,P,S,E,Q){for(var V=0;V<Q;V++)L[P+V]=S[E+V]}function n(L,P,S,E){for(var Q=0;Q<E;Q++)L[P+Q]=S}function i(L){return new Int32Array(L)}function o(L,P){for(var S=[],E=0;E<L;E++)S.push(new P);return S}function A(L,P){var S=[];return function E(Q,V,ae){for(var Y=ae[V],q=0;q<Y&&(Q.push(ae.length>V+1?[]:new P),!(ae.length<V+1));q++)E(Q[q],V+1,ae)}(S,0,L),S}var l=function(){var L=this;function P(f,v){for(var F=1<<v-1>>>0;f&F;)F>>>=1;return F?(f&F-1)+F:f}function S(f,v,F,k,O){t(!(k%F));do f[v+(k-=F)]=O;while(0<k)}function E(f,v,F,k,O){if(t(2328>=O),512>=O)var H=i(512);else if((H=i(O))==null)return 0;return function($,z,W,ee,ce,Ce){var te,pe,be=z,Le=1<<W,Be=i(16),De=i(16);for(t(ce!=0),t(ee!=null),t($!=null),t(0<W),pe=0;pe<ce;++pe){if(15<ee[pe])return 0;++Be[ee[pe]]}if(Be[0]==ce)return 0;for(De[1]=0,te=1;15>te;++te){if(Be[te]>1<<te)return 0;De[te+1]=De[te]+Be[te]}for(pe=0;pe<ce;++pe)te=ee[pe],0<ee[pe]&&(Ce[De[te]++]=pe);if(De[15]==1)return(ee=new Q).g=0,ee.value=Ce[0],S($,be,1,Le,ee),Le;var Me,Ge=-1,$e=Le-1,bt=0,lt=1,qt=1,mt=1<<W;for(pe=0,te=1,ce=2;te<=W;++te,ce<<=1){if(lt+=qt<<=1,0>(qt-=Be[te]))return 0;for(;0<Be[te];--Be[te])(ee=new Q).g=te,ee.value=Ce[pe++],S($,be+bt,ce,mt,ee),bt=P(bt,te)}for(te=W+1,ce=2;15>=te;++te,ce<<=1){if(lt+=qt<<=1,0>(qt-=Be[te]))return 0;for(;0<Be[te];--Be[te]){if(ee=new Q,(bt&$e)!=Ge){for(be+=mt,Me=1<<(Ge=te)-W;15>Ge&&!(0>=(Me-=Be[Ge]));)++Ge,Me<<=1;Le+=mt=1<<(Me=Ge-W),$[z+(Ge=bt&$e)].g=Me+W,$[z+Ge].value=be-z-Ge}ee.g=te-W,ee.value=Ce[pe++],S($,be+(bt>>W),ce,mt,ee),bt=P(bt,te)}}return lt!=2*De[15]-1?0:Le}(f,v,F,k,O,H)}function Q(){this.value=this.g=0}function V(){this.value=this.g=0}function ae(){this.G=o(5,Q),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(BA,V)}function Y(f,v,F,k){t(f!=null),t(v!=null),t(2147483648>k),f.Ca=254,f.I=0,f.b=-8,f.Ka=0,f.oa=v,f.pa=F,f.Jd=v,f.Yc=F+k,f.Zc=4<=k?F+k-4+1:F,Ne(f)}function q(f,v){for(var F=0;0<v--;)F|=Ie(f,128)<<v;return F}function K(f,v){var F=q(f,v);return je(f)?-F:F}function Z(f,v,F,k){var O,H=0;for(t(f!=null),t(v!=null),t(4294967288>k),f.Sb=k,f.Ra=0,f.u=0,f.h=0,4<k&&(k=4),O=0;O<k;++O)H+=v[F+O]<<8*O;f.Ra=H,f.bb=k,f.oa=v,f.pa=F}function fe(f){for(;8<=f.u&&f.bb<f.Sb;)f.Ra>>>=8,f.Ra+=f.oa[f.pa+f.bb]<<no-8>>>0,++f.bb,f.u-=8;se(f)&&(f.h=1,f.u=0)}function we(f,v){if(t(0<=v),!f.h&&v<=Ma){var F=X(f)&Pa[v];return f.u+=v,fe(f),F}return f.h=1,f.u=0}function T(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function G(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function X(f){return f.Ra>>>(f.u&no-1)>>>0}function se(f){return t(f.bb<=f.Sb),f.h||f.bb==f.Sb&&f.u>no}function le(f,v){f.u=v,f.h=se(f)}function de(f){f.u>=Si&&(t(f.u>=Si),fe(f))}function Ne(f){t(f!=null&&f.oa!=null),f.pa<f.Zc?(f.I=(f.oa[f.pa++]|f.I<<8)>>>0,f.b+=8):(t(f!=null&&f.oa!=null),f.pa<f.Yc?(f.b+=8,f.I=f.oa[f.pa++]|f.I<<8):f.Ka?f.b=0:(f.I<<=8,f.b+=8,f.Ka=1))}function je(f){return q(f,1)}function Ie(f,v){var F=f.Ca;0>f.b&&Ne(f);var k=f.b,O=F*v>>>8,H=(f.I>>>k>O)+0;for(H?(F-=O,f.I-=O+1<<k>>>0):F=O+1,k=F,O=0;256<=k;)O+=8,k>>=8;return k=7^O+io[k],f.b-=k,f.Ca=(F<<k)-1,H}function Oe(f,v,F){f[v+0]=F>>24&255,f[v+1]=F>>16&255,f[v+2]=F>>8&255,f[v+3]=255&F}function ue(f,v){return f[v+0]|f[v+1]<<8}function ke(f,v){return ue(f,v)|f[v+2]<<16}function ge(f,v){return ue(f,v)|ue(f,v+2)<<16}function J(f,v){var F=1<<v;return t(f!=null),t(0<v),f.X=i(F),f.X==null?0:(f.Mb=32-v,f.Xa=v,1)}function xe(f,v){t(f!=null),t(v!=null),t(f.Xa==v.Xa),a(v.X,0,f.X,0,1<<v.Xa)}function Te(){this.X=[],this.Xa=this.Mb=0}function Xe(f,v,F,k){t(F!=null),t(k!=null);var O=F[0],H=k[0];return O==0&&(O=(f*H+v/2)/v),H==0&&(H=(v*O+f/2)/f),0>=O||0>=H?0:(F[0]=O,k[0]=H,1)}function Qe(f,v){return f+(1<<v)-1>>>v}function Ye(f,v){return((4278255360&f)+(4278255360&v)>>>0&4278255360)+((16711935&f)+(16711935&v)>>>0&16711935)>>>0}function We(f,v){L[v]=function(F,k,O,H,$,z,W){var ee;for(ee=0;ee<$;++ee){var ce=L[f](z[W+ee-1],O,H+ee);z[W+ee]=Ye(F[k+ee],ce)}}}function xt(){this.ud=this.hd=this.jd=0}function ye(f,v){return((4278124286&(f^v))>>>1)+(f&v)>>>0}function gt(f){return 0<=f&&256>f?f:0>f?0:255<f?255:void 0}function yt(f,v){return gt(f+(f-v+.5>>1))}function ct(f,v,F){return Math.abs(v-F)-Math.abs(f-F)}function me(f,v,F,k,O,H,$){for(k=H[$-1],F=0;F<O;++F)H[$+F]=k=Ye(f[v+F],k)}function Je(f,v,F,k,O){var H;for(H=0;H<F;++H){var $=f[v+H],z=$>>8&255,W=16711935&(W=(W=16711935&$)+((z<<16)+z));k[O+H]=(4278255360&$)+W>>>0}}function st(f,v){v.jd=255&f,v.hd=f>>8&255,v.ud=f>>16&255}function nt(f,v,F,k,O,H){var $;for($=0;$<k;++$){var z=v[F+$],W=z>>>8,ee=z,ce=255&(ce=(ce=z>>>16)+((f.jd<<24>>24)*(W<<24>>24)>>>5));ee=255&(ee=(ee+=(f.hd<<24>>24)*(W<<24>>24)>>>5)+((f.ud<<24>>24)*(ce<<24>>24)>>>5)),O[H+$]=(4278255360&z)+(ce<<16)+ee}}function ht(f,v,F,k,O){L[v]=function(H,$,z,W,ee,ce,Ce,te,pe){for(W=Ce;W<te;++W)for(Ce=0;Ce<pe;++Ce)ee[ce++]=O(z[k(H[$++])])},L[f]=function(H,$,z,W,ee,ce,Ce){var te=8>>H.b,pe=H.Ea,be=H.K[0],Le=H.w;if(8>te)for(H=(1<<H.b)-1,Le=(1<<te)-1;$<z;++$){var Be,De=0;for(Be=0;Be<pe;++Be)Be&H||(De=k(W[ee++])),ce[Ce++]=O(be[De&Le]),De>>=te}else L["VP8LMapColor"+F](W,ee,be,Le,ce,Ce,$,z,pe)}}function rr(f,v,F,k,O){for(F=v+F;v<F;){var H=f[v++];k[O++]=H>>16&255,k[O++]=H>>8&255,k[O++]=255&H}}function Jt(f,v,F,k,O){for(F=v+F;v<F;){var H=f[v++];k[O++]=H>>16&255,k[O++]=H>>8&255,k[O++]=255&H,k[O++]=H>>24&255}}function ot(f,v,F,k,O){for(F=v+F;v<F;){var H=($=f[v++])>>16&240|$>>12&15,$=240&$|$>>28&15;k[O++]=H,k[O++]=$}}function Qt(f,v,F,k,O){for(F=v+F;v<F;){var H=($=f[v++])>>16&248|$>>13&7,$=$>>5&224|$>>3&31;k[O++]=H,k[O++]=$}}function sr(f,v,F,k,O){for(F=v+F;v<F;){var H=f[v++];k[O++]=255&H,k[O++]=H>>8&255,k[O++]=H>>16&255}}function _t(f,v,F,k,O,H){if(H==0)for(F=v+F;v<F;)Oe(k,((H=f[v++])[0]>>24|H[1]>>8&65280|H[2]<<8&16711680|H[3]<<24)>>>0),O+=32;else a(k,O,f,v,F)}function Yt(f,v){L[v][0]=L[f+"0"],L[v][1]=L[f+"1"],L[v][2]=L[f+"2"],L[v][3]=L[f+"3"],L[v][4]=L[f+"4"],L[v][5]=L[f+"5"],L[v][6]=L[f+"6"],L[v][7]=L[f+"7"],L[v][8]=L[f+"8"],L[v][9]=L[f+"9"],L[v][10]=L[f+"10"],L[v][11]=L[f+"11"],L[v][12]=L[f+"12"],L[v][13]=L[f+"13"],L[v][14]=L[f+"0"],L[v][15]=L[f+"0"]}function Tt(f){return f==mg||f==pg||f==Eh||f==gg}function Lr(){this.eb=[],this.size=this.A=this.fb=0}function es(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function dr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Lr,this.f.kb=new es,this.sd=null}function jt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function lr(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Ft(f){return alert("todo:WebPSamplerProcessPlane"),f.T}function Ot(f,v){var F=f.T,k=v.ba.f.RGBA,O=k.eb,H=k.fb+f.ka*k.A,$=cn[v.ba.S],z=f.y,W=f.O,ee=f.f,ce=f.N,Ce=f.ea,te=f.W,pe=v.cc,be=v.dc,Le=v.Mc,Be=v.Nc,De=f.ka,Me=f.ka+f.T,Ge=f.U,$e=Ge+1>>1;for(De==0?$(z,W,null,null,ee,ce,Ce,te,ee,ce,Ce,te,O,H,null,null,Ge):($(v.ec,v.fc,z,W,pe,be,Le,Be,ee,ce,Ce,te,O,H-k.A,O,H,Ge),++F);De+2<Me;De+=2)pe=ee,be=ce,Le=Ce,Be=te,ce+=f.Rc,te+=f.Rc,H+=2*k.A,$(z,(W+=2*f.fa)-f.fa,z,W,pe,be,Le,Be,ee,ce,Ce,te,O,H-k.A,O,H,Ge);return W+=f.fa,f.j+Me<f.o?(a(v.ec,v.fc,z,W,Ge),a(v.cc,v.dc,ee,ce,$e),a(v.Mc,v.Nc,Ce,te,$e),F--):1&Me||$(z,W,null,null,ee,ce,Ce,te,ee,ce,Ce,te,O,H+k.A,null,null,Ge),F}function ar(f,v,F){var k=f.F,O=[f.J];if(k!=null){var H=f.U,$=v.ba.S,z=$==Fh||$==Eh;v=v.ba.f.RGBA;var W=[0],ee=f.ka;W[0]=f.T,f.Kb&&(ee==0?--W[0]:(--ee,O[0]-=f.width),f.j+f.ka+f.T==f.o&&(W[0]=f.o-f.j-ee));var ce=v.eb;ee=v.fb+ee*v.A,f=fw(k,O[0],f.width,H,W,ce,ee+(z?0:3),v.A),t(F==W),f&&Tt($)&&od(ce,ee,z,H,W,v.A)}return 0}function $r(f){var v=f.ma,F=v.ba.S,k=11>F,O=F==_h||F==Sh||F==Fh||F==fg||F==12||Tt(F);if(v.memory=null,v.Ib=null,v.Jb=null,v.Nd=null,!Zc(v.Oa,f,O?11:12))return 0;if(O&&Tt(F)&&bh(),f.da)alert("todo:use_scaling");else{if(k){if(v.Ib=Ft,f.Kb){if(F=f.U+1>>1,v.memory=i(f.U+2*F),v.memory==null)return 0;v.ec=v.memory,v.fc=0,v.cc=v.ec,v.dc=v.fc+f.U,v.Mc=v.cc,v.Nc=v.dc+F,v.Ib=Ot,bh()}}else alert("todo:EmitYUV");O&&(v.Jb=ar,k&&nn())}if(k&&!Uw){for(f=0;256>f;++f)gF[f]=89858*(f-128)+Ih>>Uh,wF[f]=-22014*(f-128)+Ih,vF[f]=-45773*(f-128),xF[f]=113618*(f-128)+Ih>>Uh;for(f=ld;f<wg;++f)v=76283*(f-16)+Ih>>Uh,bF[f-ld]=zr(v,255),yF[f-ld]=zr(v+8>>4,15);Uw=1}return 1}function ft(f){var v=f.ma,F=f.U,k=f.T;return t(!(1&f.ka)),0>=F||0>=k?0:(F=v.Ib(f,v),v.Jb!=null&&v.Jb(f,v,F),v.Dc+=F,1)}function Is(f){f.ma.memory=null}function Os(f,v,F,k){return we(f,8)!=47?0:(v[0]=we(f,14)+1,F[0]=we(f,14)+1,k[0]=we(f,1),we(f,3)!=0?0:!f.h)}function Dr(f,v){if(4>f)return f+1;var F=f-2>>1;return(2+(1&f)<<F)+we(v,F)+1}function ts(f,v){return 120<v?v-120:1<=(F=((F=sF[v-1])>>4)*f+(8-(15&F)))?F:1;var F}function Vr(f,v,F){var k=X(F),O=f[v+=255&k].g-8;return 0<O&&(le(F,F.u+8),k=X(F),v+=f[v].value,v+=k&(1<<O)-1),le(F,F.u+f[v].g),f[v].value}function Qs(f,v,F){return F.g+=f.g,F.value+=f.value<<v>>>0,t(8>=F.g),f.g}function Hs(f,v,F){var k=f.xc;return t((v=k==0?0:f.vc[f.md*(F>>k)+(v>>k)])<f.Wb),f.Ya[v]}function aA(f,v,F,k){var O=f.ab,H=f.c*v,$=f.C;v=$+v;var z=F,W=k;for(k=f.Ta,F=f.Ua;0<O--;){var ee=f.gc[O],ce=$,Ce=v,te=z,pe=W,be=(W=k,z=F,ee.Ea);switch(t(ce<Ce),t(Ce<=ee.nc),ee.hc){case 2:ss(te,pe,(Ce-ce)*be,W,z);break;case 0:var Le=ce,Be=Ce,De=W,Me=z,Ge=(mt=ee).Ea;Le==0&&(td(te,pe,null,null,1,De,Me),me(te,pe+1,0,0,Ge-1,De,Me+1),pe+=Ge,Me+=Ge,++Le);for(var $e=1<<mt.b,bt=$e-1,lt=Qe(Ge,mt.b),qt=mt.K,mt=mt.w+(Le>>mt.b)*lt;Le<Be;){var er=qt,ys=mt,Gt=1;for(Cl(te,pe,De,Me-Ge,1,De,Me);Gt<Ge;){var pt=(Gt&~bt)+$e;pt>Ge&&(pt=Ge),(0,sd[er[ys++]>>8&15])(te,pe+ +Gt,De,Me+Gt-Ge,pt-Gt,De,Me+Gt),Gt=pt}pe+=Ge,Me+=Ge,++Le&bt||(mt+=lt)}Ce!=ee.nc&&a(W,z-be,W,z+(Ce-ce-1)*be,be);break;case 1:for(be=te,Be=pe,Ge=(te=ee.Ea)-(Me=te&~(De=(pe=1<<ee.b)-1)),Le=Qe(te,ee.b),$e=ee.K,ee=ee.w+(ce>>ee.b)*Le;ce<Ce;){for(bt=$e,lt=ee,qt=new xt,mt=Be+Me,er=Be+te;Be<mt;)st(bt[lt++],qt),ad(qt,be,Be,pe,W,z),Be+=pe,z+=pe;Be<er&&(st(bt[lt++],qt),ad(qt,be,Be,Ge,W,z),Be+=Ge,z+=Ge),++ce&De||(ee+=Le)}break;case 3:if(te==W&&pe==z&&0<ee.b){for(Be=W,te=be=z+(Ce-ce)*be-(Me=(Ce-ce)*Qe(ee.Ea,ee.b)),pe=W,De=z,Le=[],Me=(Ge=Me)-1;0<=Me;--Me)Le[Me]=pe[De+Me];for(Me=Ge-1;0<=Me;--Me)Be[te+Me]=Le[Me];Bh(ee,ce,Ce,W,be,W,z)}else Bh(ee,ce,Ce,te,pe,W,z)}z=k,W=F}W!=F&&a(k,F,z,W,H)}function eo(f,v){var F=f.V,k=f.Ba+f.c*f.C,O=v-f.C;if(t(v<=f.l.o),t(16>=O),0<O){var H=f.l,$=f.Ta,z=f.Ua,W=H.width;if(aA(f,O,F,k),O=z=[z],t((F=f.C)<(k=v)),t(H.v<H.va),k>H.o&&(k=H.o),F<H.j){var ee=H.j-F;F=H.j,O[0]+=ee*W}if(F>=k?F=0:(O[0]+=4*H.v,H.ka=F-H.j,H.U=H.va-H.v,H.T=k-F,F=1),F){if(z=z[0],11>(F=f.ca).S){var ce=F.f.RGBA,Ce=(k=F.S,O=H.U,H=H.T,ee=ce.eb,ce.A),te=H;for(ce=ce.fb+f.Ma*ce.A;0<te--;){var pe=$,be=z,Le=O,Be=ee,De=ce;switch(k){case Nh:nd(pe,be,Le,Be,De);break;case _h:oo(pe,be,Le,Be,De);break;case mg:oo(pe,be,Le,Be,De),od(Be,De,0,Le,1,0);break;case bw:jA(pe,be,Le,Be,De);break;case Sh:_t(pe,be,Le,Be,De,1);break;case pg:_t(pe,be,Le,Be,De,1),od(Be,De,0,Le,1,0);break;case Fh:_t(pe,be,Le,Be,De,0);break;case Eh:_t(pe,be,Le,Be,De,0),od(Be,De,1,Le,1,0);break;case fg:Ao(pe,be,Le,Be,De);break;case gg:Ao(pe,be,Le,Be,De),hw(Be,De,Le,1,0);break;case yw:lo(pe,be,Le,Be,De);break;default:t(0)}z+=W,ce+=Ce}f.Ma+=H}else alert("todo:EmitRescaledRowsYUVA");t(f.Ma<=F.height)}}f.C=v,t(f.C<=f.i)}function Cn(f){var v;if(0<f.ua)return 0;for(v=0;v<f.Wb;++v){var F=f.Ya[v].G,k=f.Ya[v].H;if(0<F[1][k[1]+0].g||0<F[2][k[2]+0].g||0<F[3][k[3]+0].g)return 0}return 1}function qn(f,v,F,k,O,H){if(f.Z!=0){var $=f.qd,z=f.rd;for(t(ho[f.Z]!=null);v<F;++v)ho[f.Z]($,z,k,O,k,O,H),$=k,z=O,O+=H;f.qd=$,f.rd=z}}function Nn(f,v){var F=f.l.ma,k=F.Z==0||F.Z==1?f.l.j:f.C;if(k=f.C<k?k:f.C,t(v<=f.l.o),v>k){var O=f.l.width,H=F.ca,$=F.tb+O*k,z=f.V,W=f.Ba+f.c*k,ee=f.gc;t(f.ab==1),t(ee[0].hc==3),Xn(ee[0],k,v,z,W,H,$),qn(F,k,v,H,$,O)}f.C=f.Ma=v}function _n(f,v,F,k,O,H,$){var z=f.$/k,W=f.$%k,ee=f.m,ce=f.s,Ce=F+f.$,te=Ce;O=F+k*O;var pe=F+k*H,be=280+ce.ua,Le=f.Pb?z:16777216,Be=0<ce.ua?ce.Wa:null,De=ce.wc,Me=Ce<pe?Hs(ce,W,z):null;t(f.C<H),t(pe<=O);var Ge=!1;e:for(;;){for(;Ge||Ce<pe;){var $e=0;if(z>=Le){var bt=Ce-F;t((Le=f).Pb),Le.wd=Le.m,Le.xd=bt,0<Le.s.ua&&xe(Le.s.Wa,Le.s.vb),Le=z+nF}if(W&De||(Me=Hs(ce,W,z)),t(Me!=null),Me.Qb&&(v[Ce]=Me.qb,Ge=!0),!Ge)if(de(ee),Me.jc){$e=ee,bt=v;var lt=Ce,qt=Me.pd[X($e)&BA-1];t(Me.jc),256>qt.g?(le($e,$e.u+qt.g),bt[lt]=qt.value,$e=0):(le($e,$e.u+qt.g-256),t(256<=qt.value),$e=qt.value),$e==0&&(Ge=!0)}else $e=Vr(Me.G[0],Me.H[0],ee);if(ee.h)break;if(Ge||256>$e){if(!Ge)if(Me.nd)v[Ce]=(Me.qb|$e<<8)>>>0;else{if(de(ee),Ge=Vr(Me.G[1],Me.H[1],ee),de(ee),bt=Vr(Me.G[2],Me.H[2],ee),lt=Vr(Me.G[3],Me.H[3],ee),ee.h)break;v[Ce]=(lt<<24|Ge<<16|$e<<8|bt)>>>0}if(Ge=!1,++Ce,++W>=k&&(W=0,++z,$!=null&&z<=H&&!(z%16)&&$(f,z),Be!=null))for(;te<Ce;)$e=v[te++],Be.X[(506832829*$e&4294967295)>>>Be.Mb]=$e}else if(280>$e){if($e=Dr($e-256,ee),bt=Vr(Me.G[4],Me.H[4],ee),de(ee),bt=ts(k,bt=Dr(bt,ee)),ee.h)break;if(Ce-F<bt||O-Ce<$e)break e;for(lt=0;lt<$e;++lt)v[Ce+lt]=v[Ce+lt-bt];for(Ce+=$e,W+=$e;W>=k;)W-=k,++z,$!=null&&z<=H&&!(z%16)&&$(f,z);if(t(Ce<=O),W&De&&(Me=Hs(ce,W,z)),Be!=null)for(;te<Ce;)$e=v[te++],Be.X[(506832829*$e&4294967295)>>>Be.Mb]=$e}else{if(!($e<be))break e;for(Ge=$e-280,t(Be!=null);te<Ce;)$e=v[te++],Be.X[(506832829*$e&4294967295)>>>Be.Mb]=$e;$e=Ce,t(!(Ge>>>(bt=Be).Xa)),v[$e]=bt.X[Ge],Ge=!0}Ge||t(ee.h==se(ee))}if(f.Pb&&ee.h&&Ce<O)t(f.m.h),f.a=5,f.m=f.wd,f.$=f.xd,0<f.s.ua&&xe(f.s.vb,f.s.Wa);else{if(ee.h)break e;$!=null&&$(f,z>H?H:z),f.a=0,f.$=Ce-F}return 1}return f.a=3,0}function sn(f){t(f!=null),f.vc=null,f.yc=null,f.Ya=null;var v=f.Wa;v!=null&&(v.X=null),f.vb=null,t(f!=null)}function nA(){var f=new vt;return f==null?null:(f.a=0,f.xb=Cw,Yt("Predictor","VP8LPredictors"),Yt("Predictor","VP8LPredictors_C"),Yt("PredictorAdd","VP8LPredictorsAdd"),Yt("PredictorAdd","VP8LPredictorsAdd_C"),ss=Je,ad=nt,nd=rr,oo=Jt,Ao=ot,lo=Qt,jA=sr,L.VP8LMapColor32b=Jn,L.VP8LMapColor8b=rd,f)}function Gn(f,v,F,k,O){var H=1,$=[f],z=[v],W=k.m,ee=k.s,ce=null,Ce=0;e:for(;;){if(F)for(;H&&we(W,1);){var te=$,pe=z,be=k,Le=1,Be=be.m,De=be.gc[be.ab],Me=we(Be,2);if(be.Oc&1<<Me)H=0;else{switch(be.Oc|=1<<Me,De.hc=Me,De.Ea=te[0],De.nc=pe[0],De.K=[null],++be.ab,t(4>=be.ab),Me){case 0:case 1:De.b=we(Be,3)+2,Le=Gn(Qe(De.Ea,De.b),Qe(De.nc,De.b),0,be,De.K),De.K=De.K[0];break;case 3:var Ge,$e=we(Be,8)+1,bt=16<$e?0:4<$e?1:2<$e?2:3;if(te[0]=Qe(De.Ea,bt),De.b=bt,Ge=Le=Gn($e,1,0,be,De.K)){var lt,qt=$e,mt=De,er=1<<(8>>mt.b),ys=i(er);if(ys==null)Ge=0;else{var Gt=mt.K[0],pt=mt.w;for(ys[0]=mt.K[0][0],lt=1;lt<1*qt;++lt)ys[lt]=Ye(Gt[pt+lt],ys[lt-1]);for(;lt<4*er;++lt)ys[lt]=0;mt.K[0]=null,mt.K[0]=ys,Ge=1}}Le=Ge;break;case 2:break;default:t(0)}H=Le}}if($=$[0],z=z[0],H&&we(W,1)&&!(H=1<=(Ce=we(W,4))&&11>=Ce)){k.a=3;break e}var tt;if(tt=H)t:{var ns,Vt,nr,Ir=k,$s=$,fa=z,qr=Ce,ra=F,ma=Ir.m,Bs=Ir.s,or=[null],wr=1,Gr=0,br=aF[qr];r:for(;;){if(ra&&we(ma,1)){var Vs=we(ma,3)+2,En=Qe($s,Vs),is=Qe(fa,Vs),Sa=En*is;if(!Gn(En,is,0,Ir,or))break r;for(or=or[0],Bs.xc=Vs,ns=0;ns<Sa;++ns){var Nr=or[ns]>>8&65535;or[ns]=Nr,Nr>=wr&&(wr=Nr+1)}}if(ma.h)break r;for(Vt=0;5>Vt;++Vt){var js=Bw[Vt];!Vt&&0<qr&&(js+=1<<qr),Gr<js&&(Gr=js)}var Ra=o(wr*br,Q),pa=wr,Oa=o(pa,ae);if(Oa==null)var Ha=null;else t(65536>=pa),Ha=Oa;var Fa=i(Gr);if(Ha==null||Fa==null||Ra==null){Ir.a=1;break r}var Ka=Ra;for(ns=nr=0;ns<wr;++ns){var Fr=Ha[ns],$a=Fr.G,Un=Fr.H,NA=0,Ui=1,zs=0;for(Vt=0;5>Vt;++Vt){js=Bw[Vt],$a[Vt]=Ka,Un[Vt]=nr,!Vt&&0<qr&&(js+=1<<qr);a:{var kh,bg=js,Lh=Ir,cd=Fa,CF=Ka,NF=nr,yg=0,fo=Lh.m,_F=we(fo,1);if(n(cd,0,0,bg),_F){var SF=we(fo,1)+1,FF=we(fo,1),kw=we(fo,FF==0?1:8);cd[kw]=1,SF==2&&(cd[kw=we(fo,8)]=1);var Dh=1}else{var Lw=i(19),Dw=we(fo,4)+4;if(19<Dw){Lh.a=3;var Ph=0;break a}for(kh=0;kh<Dw;++kh)Lw[rF[kh]]=we(fo,3);var Bg=void 0,dd=void 0,Pw=Lh,EF=Lw,Mh=bg,Mw=cd,jg=0,mo=Pw.m,Tw=8,Rw=o(128,Q);s:for(;E(Rw,0,7,EF,19);){if(we(mo,1)){var UF=2+2*we(mo,3);if((Bg=2+we(mo,UF))>Mh)break s}else Bg=Mh;for(dd=0;dd<Mh&&Bg--;){de(mo);var Ow=Rw[0+(127&X(mo))];le(mo,mo.u+Ow.g);var _l=Ow.value;if(16>_l)Mw[dd++]=_l,_l!=0&&(Tw=_l);else{var IF=_l==16,Hw=_l-16,QF=eF[Hw],Kw=we(mo,Z3[Hw])+QF;if(dd+Kw>Mh)break s;for(var kF=IF?Tw:0;0<Kw--;)Mw[dd++]=kF}}jg=1;break s}jg||(Pw.a=3),Dh=jg}(Dh=Dh&&!fo.h)&&(yg=E(CF,NF,8,cd,bg)),Dh&&yg!=0?Ph=yg:(Lh.a=3,Ph=0)}if(Ph==0)break r;if(Ui&&tF[Vt]==1&&(Ui=Ka[nr].g==0),NA+=Ka[nr].g,nr+=Ph,3>=Vt){var ud,Cg=Fa[0];for(ud=1;ud<js;++ud)Fa[ud]>Cg&&(Cg=Fa[ud]);zs+=Cg}}if(Fr.nd=Ui,Fr.Qb=0,Ui&&(Fr.qb=($a[3][Un[3]+0].value<<24|$a[1][Un[1]+0].value<<16|$a[2][Un[2]+0].value)>>>0,NA==0&&256>$a[0][Un[0]+0].value&&(Fr.Qb=1,Fr.qb+=$a[0][Un[0]+0].value<<8)),Fr.jc=!Fr.Qb&&6>zs,Fr.jc){var Th,Ii=Fr;for(Th=0;Th<BA;++Th){var po=Th,go=Ii.pd[po],Rh=Ii.G[0][Ii.H[0]+po];256<=Rh.value?(go.g=Rh.g+256,go.value=Rh.value):(go.g=0,go.value=0,po>>=Qs(Rh,8,go),po>>=Qs(Ii.G[1][Ii.H[1]+po],16,go),po>>=Qs(Ii.G[2][Ii.H[2]+po],0,go),Qs(Ii.G[3][Ii.H[3]+po],24,go))}}}Bs.vc=or,Bs.Wb=wr,Bs.Ya=Ha,Bs.yc=Ra,tt=1;break t}tt=0}if(!(H=tt)){k.a=3;break e}if(0<Ce){if(ee.ua=1<<Ce,!J(ee.Wa,Ce)){k.a=1,H=0;break e}}else ee.ua=0;var Ng=k,$w=$,LF=z,_g=Ng.s,Sg=_g.xc;if(Ng.c=$w,Ng.i=LF,_g.md=Qe($w,Sg),_g.wc=Sg==0?-1:(1<<Sg)-1,F){k.xb=uF;break e}if((ce=i($*z))==null){k.a=1,H=0;break e}H=(H=_n(k,ce,0,$,z,z,null))&&!W.h;break e}return H?(O!=null?O[0]=ce:(t(ce==null),t(F)),k.$=0,F||sn(ee)):sn(ee),H}function iA(f,v){var F=f.c*f.i,k=F+v+16*v;return t(f.c<=v),f.V=i(k),f.V==null?(f.Ta=null,f.Ua=0,f.a=1,0):(f.Ta=f.V,f.Ua=f.Ba+F+v,1)}function ml(f,v){var F=f.C,k=v-F,O=f.V,H=f.Ba+f.c*F;for(t(v<=f.l.o);0<k;){var $=16<k?16:k,z=f.l.ma,W=f.l.width,ee=W*$,ce=z.ca,Ce=z.tb+W*F,te=f.Ta,pe=f.Ua;aA(f,$,O,H),mw(te,pe,ce,Ce,ee),qn(z,F,F+$,ce,Ce,W),k-=$,O+=$*f.c,F+=$}t(F==v),f.C=f.Ma=v}function pl(){this.ub=this.yd=this.td=this.Rb=0}function gl(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Xp(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function Tc(){this.Yb=function(){var f=[];return function v(F,k,O){for(var H=O[k],$=0;$<H&&(F.push(O.length>k+1?[]:0),!(O.length<k+1));$++)v(F[$],k+1,O)}(f,0,[3,11]),f}()}function ih(){this.jb=i(3),this.Wc=A([4,8],Tc),this.Xc=A([4,17],Tc)}function oh(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function an(){this.ld=this.La=this.dd=this.tc=0}function Rc(){this.Na=this.la=0}function Ah(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Oc(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function lh(){this.uc=this.M=this.Nb=0,this.wa=Array(new an),this.Y=0,this.ya=Array(new Oc),this.aa=0,this.l=new xl}function ch(){this.y=i(16),this.f=i(8),this.ea=i(8)}function dh(){this.cb=this.a=0,this.sc="",this.m=new T,this.Od=new pl,this.Kc=new gl,this.ed=new oh,this.Qa=new Xp,this.Ic=this.$c=this.Aa=0,this.D=new lh,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,T),this.ia=0,this.pb=o(4,Ah),this.Pa=new ih,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new ch),this.Hd=0,this.rb=Array(new Rc),this.sb=0,this.wa=Array(new an),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Oc),this.L=this.aa=0,this.gd=A([4,2],an),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function xl(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Yp(){var f=new dh;return f!=null&&(f.a=0,f.sc="OK",f.cb=0,f.Xb=0,Ad||(Ad=yi)),f}function fs(f,v,F){return f.a==0&&(f.a=v,f.sc=F,f.cb=0),0}function uh(f,v,F){return 3<=F&&f[v+0]==157&&f[v+1]==1&&f[v+2]==42}function hh(f,v){if(f==null)return 0;if(f.a=0,f.sc="OK",v==null)return fs(f,2,"null VP8Io passed to VP8GetHeaders()");var F=v.data,k=v.w,O=v.ha;if(4>O)return fs(f,7,"Truncated header.");var H=F[k+0]|F[k+1]<<8|F[k+2]<<16,$=f.Od;if($.Rb=!(1&H),$.td=H>>1&7,$.yd=H>>4&1,$.ub=H>>5,3<$.td)return fs(f,3,"Incorrect keyframe parameters.");if(!$.yd)return fs(f,4,"Frame not displayable.");k+=3,O-=3;var z=f.Kc;if($.Rb){if(7>O)return fs(f,7,"cannot parse picture header");if(!uh(F,k,O))return fs(f,3,"Bad code word");z.c=16383&(F[k+4]<<8|F[k+3]),z.Td=F[k+4]>>6,z.i=16383&(F[k+6]<<8|F[k+5]),z.Ud=F[k+6]>>6,k+=7,O-=7,f.za=z.c+15>>4,f.Ub=z.i+15>>4,v.width=z.c,v.height=z.i,v.Da=0,v.j=0,v.v=0,v.va=v.width,v.o=v.height,v.da=0,v.ib=v.width,v.hb=v.height,v.U=v.width,v.T=v.height,n((H=f.Pa).jb,0,255,H.jb.length),t((H=f.Qa)!=null),H.Cb=0,H.Bb=0,H.Fb=1,n(H.Zb,0,0,H.Zb.length),n(H.Lb,0,0,H.Lb)}if($.ub>O)return fs(f,7,"bad partition length");Y(H=f.m,F,k,$.ub),k+=$.ub,O-=$.ub,$.Rb&&(z.Ld=je(H),z.Kd=je(H)),z=f.Qa;var W,ee=f.Pa;if(t(H!=null),t(z!=null),z.Cb=je(H),z.Cb){if(z.Bb=je(H),je(H)){for(z.Fb=je(H),W=0;4>W;++W)z.Zb[W]=je(H)?K(H,7):0;for(W=0;4>W;++W)z.Lb[W]=je(H)?K(H,6):0}if(z.Bb)for(W=0;3>W;++W)ee.jb[W]=je(H)?q(H,8):255}else z.Bb=0;if(H.Ka)return fs(f,3,"cannot parse segment header");if((z=f.ed).zd=je(H),z.Tb=q(H,6),z.wb=q(H,3),z.Pc=je(H),z.Pc&&je(H)){for(ee=0;4>ee;++ee)je(H)&&(z.vd[ee]=K(H,6));for(ee=0;4>ee;++ee)je(H)&&(z.od[ee]=K(H,6))}if(f.L=z.Tb==0?0:z.zd?1:2,H.Ka)return fs(f,3,"cannot parse filter header");var ce=O;if(O=W=k,k=W+ce,z=ce,f.Xb=(1<<q(f.m,2))-1,ce<3*(ee=f.Xb))F=7;else{for(W+=3*ee,z-=3*ee,ce=0;ce<ee;++ce){var Ce=F[O+0]|F[O+1]<<8|F[O+2]<<16;Ce>z&&(Ce=z),Y(f.Jc[+ce],F,W,Ce),W+=Ce,z-=Ce,O+=3}Y(f.Jc[+ee],F,W,z),F=W<k?0:5}if(F!=0)return fs(f,F,"cannot parse partitions");for(F=q(W=f.m,7),O=je(W)?K(W,4):0,k=je(W)?K(W,4):0,z=je(W)?K(W,4):0,ee=je(W)?K(W,4):0,W=je(W)?K(W,4):0,ce=f.Qa,Ce=0;4>Ce;++Ce){if(ce.Cb){var te=ce.Zb[Ce];ce.Fb||(te+=F)}else{if(0<Ce){f.pb[Ce]=f.pb[0];continue}te=F}var pe=f.pb[Ce];pe.Sc[0]=xg[zr(te+O,127)],pe.Sc[1]=vg[zr(te+0,127)],pe.Eb[0]=2*xg[zr(te+k,127)],pe.Eb[1]=101581*vg[zr(te+z,127)]>>16,8>pe.Eb[1]&&(pe.Eb[1]=8),pe.Qc[0]=xg[zr(te+ee,117)],pe.Qc[1]=vg[zr(te+W,127)],pe.lc=te+W}if(!$.Rb)return fs(f,4,"Not a key frame.");for(je(H),$=f.Pa,F=0;4>F;++F){for(O=0;8>O;++O)for(k=0;3>k;++k)for(z=0;11>z;++z)ee=Ie(H,cF[F][O][k][z])?q(H,8):AF[F][O][k][z],$.Wc[F][O].Yb[k][z]=ee;for(O=0;17>O;++O)$.Xc[F][O]=$.Wc[F][dF[O]]}return f.kc=je(H),f.kc&&(f.Bd=q(H,8)),f.cb=1}function yi(f,v,F,k,O,H,$){var z=v[O].Yb[F];for(F=0;16>O;++O){if(!Ie(f,z[F+0]))return O;for(;!Ie(f,z[F+1]);)if(z=v[++O].Yb[0],F=0,O==16)return 16;var W=v[O+1].Yb;if(Ie(f,z[F+2])){var ee=f,ce=0;if(Ie(ee,(te=z)[(Ce=F)+3]))if(Ie(ee,te[Ce+6])){for(z=0,Ce=2*(ce=Ie(ee,te[Ce+8]))+(te=Ie(ee,te[Ce+9+ce])),ce=0,te=iF[Ce];te[z];++z)ce+=ce+Ie(ee,te[z]);ce+=3+(8<<Ce)}else Ie(ee,te[Ce+7])?(ce=7+2*Ie(ee,165),ce+=Ie(ee,145)):ce=5+Ie(ee,159);else ce=Ie(ee,te[Ce+4])?3+Ie(ee,te[Ce+5]):2;z=W[2]}else ce=1,z=W[1];W=$+oF[O],0>(ee=f).b&&Ne(ee);var Ce,te=ee.b,pe=(Ce=ee.Ca>>1)-(ee.I>>te)>>31;--ee.b,ee.Ca+=pe,ee.Ca|=1,ee.I-=(Ce+1&pe)<<te,H[W]=((ce^pe)-pe)*k[(0<O)+0]}return 16}function oA(f){var v=f.rb[f.sb-1];v.la=0,v.Na=0,n(f.zc,0,0,f.zc.length),f.ja=0}function Sn(f,v,F,k,O){O=f[v+F+32*k]+(O>>3),f[v+F+32*k]=-256&O?0>O?0:255:O}function AA(f,v,F,k,O,H){Sn(f,v,0,F,k+O),Sn(f,v,1,F,k+H),Sn(f,v,2,F,k-H),Sn(f,v,3,F,k-O)}function rs(f){return(20091*f>>16)+f}function Hc(f,v,F,k){var O,H=0,$=i(16);for(O=0;4>O;++O){var z=f[v+0]+f[v+8],W=f[v+0]-f[v+8],ee=(35468*f[v+4]>>16)-rs(f[v+12]),ce=rs(f[v+4])+(35468*f[v+12]>>16);$[H+0]=z+ce,$[H+1]=W+ee,$[H+2]=W-ee,$[H+3]=z-ce,H+=4,v++}for(O=H=0;4>O;++O)z=(f=$[H+0]+4)+$[H+8],W=f-$[H+8],ee=(35468*$[H+4]>>16)-rs($[H+12]),Sn(F,k,0,0,z+(ce=rs($[H+4])+(35468*$[H+12]>>16))),Sn(F,k,1,0,W+ee),Sn(F,k,2,0,W-ee),Sn(F,k,3,0,z-ce),H++,k+=32}function Zp(f,v,F,k){var O=f[v+0]+4,H=35468*f[v+4]>>16,$=rs(f[v+4]),z=35468*f[v+1]>>16;AA(F,k,0,O+$,f=rs(f[v+1]),z),AA(F,k,1,O+H,f,z),AA(F,k,2,O-H,f,z),AA(F,k,3,O-$,f,z)}function eg(f,v,F,k,O){Hc(f,v,F,k),O&&Hc(f,v+16,F,k+4)}function tg(f,v,F,k){CA(f,v+0,F,k,1),CA(f,v+32,F,k+128,1)}function Wn(f,v,F,k){var O;for(f=f[v+0]+4,O=0;4>O;++O)for(v=0;4>v;++v)Sn(F,k,v,O,f)}function fh(f,v,F,k){f[v+0]&&pr(f,v+0,F,k),f[v+16]&&pr(f,v+16,F,k+4),f[v+32]&&pr(f,v+32,F,k+128),f[v+48]&&pr(f,v+48,F,k+128+4)}function mh(f,v,F,k){var O,H=i(16);for(O=0;4>O;++O){var $=f[v+0+O]+f[v+12+O],z=f[v+4+O]+f[v+8+O],W=f[v+4+O]-f[v+8+O],ee=f[v+0+O]-f[v+12+O];H[0+O]=$+z,H[8+O]=$-z,H[4+O]=ee+W,H[12+O]=ee-W}for(O=0;4>O;++O)$=(f=H[0+4*O]+3)+H[3+4*O],z=H[1+4*O]+H[2+4*O],W=H[1+4*O]-H[2+4*O],ee=f-H[3+4*O],F[k+0]=$+z>>3,F[k+16]=ee+W>>3,F[k+32]=$-z>>3,F[k+48]=ee-W>>3,k+=64}function to(f,v,F){var k,O=v-32,H=Ta,$=255-f[O-1];for(k=0;k<F;++k){var z,W=H,ee=$+f[v-1];for(z=0;z<F;++z)f[v+z]=W[ee+f[O+z]];v+=32}}function Kc(f,v){to(f,v,4)}function rg(f,v){to(f,v,8)}function sg(f,v){to(f,v,16)}function ag(f,v){var F;for(F=0;16>F;++F)a(f,v+32*F,f,v-32,16)}function $c(f,v){var F;for(F=16;0<F;--F)n(f,v,f[v-1],16),v+=32}function lA(f,v,F){var k;for(k=0;16>k;++k)n(v,F+32*k,f,16)}function ro(f,v){var F,k=16;for(F=0;16>F;++F)k+=f[v-1+32*F]+f[v+F-32];lA(k>>5,f,v)}function ng(f,v){var F,k=8;for(F=0;16>F;++F)k+=f[v-1+32*F];lA(k>>4,f,v)}function cA(f,v){var F,k=8;for(F=0;16>F;++F)k+=f[v+F-32];lA(k>>4,f,v)}function Vc(f,v){lA(128,f,v)}function Ht(f,v,F){return f+2*v+F+2>>2}function ig(f,v){var F,k=v-32;for(k=new Uint8Array([Ht(f[k-1],f[k+0],f[k+1]),Ht(f[k+0],f[k+1],f[k+2]),Ht(f[k+1],f[k+2],f[k+3]),Ht(f[k+2],f[k+3],f[k+4])]),F=0;4>F;++F)a(f,v+32*F,k,0,k.length)}function og(f,v){var F=f[v-1],k=f[v-1+32],O=f[v-1+64],H=f[v-1+96];Oe(f,v+0,16843009*Ht(f[v-1-32],F,k)),Oe(f,v+32,16843009*Ht(F,k,O)),Oe(f,v+64,16843009*Ht(k,O,H)),Oe(f,v+96,16843009*Ht(O,H,H))}function Ag(f,v){var F,k=4;for(F=0;4>F;++F)k+=f[v+F-32]+f[v-1+32*F];for(k>>=3,F=0;4>F;++F)n(f,v+32*F,k,4)}function lg(f,v){var F=f[v-1+0],k=f[v-1+32],O=f[v-1+64],H=f[v-1-32],$=f[v+0-32],z=f[v+1-32],W=f[v+2-32],ee=f[v+3-32];f[v+0+96]=Ht(k,O,f[v-1+96]),f[v+1+96]=f[v+0+64]=Ht(F,k,O),f[v+2+96]=f[v+1+64]=f[v+0+32]=Ht(H,F,k),f[v+3+96]=f[v+2+64]=f[v+1+32]=f[v+0+0]=Ht($,H,F),f[v+3+64]=f[v+2+32]=f[v+1+0]=Ht(z,$,H),f[v+3+32]=f[v+2+0]=Ht(W,z,$),f[v+3+0]=Ht(ee,W,z)}function Bi(f,v){var F=f[v+1-32],k=f[v+2-32],O=f[v+3-32],H=f[v+4-32],$=f[v+5-32],z=f[v+6-32],W=f[v+7-32];f[v+0+0]=Ht(f[v+0-32],F,k),f[v+1+0]=f[v+0+32]=Ht(F,k,O),f[v+2+0]=f[v+1+32]=f[v+0+64]=Ht(k,O,H),f[v+3+0]=f[v+2+32]=f[v+1+64]=f[v+0+96]=Ht(O,H,$),f[v+3+32]=f[v+2+64]=f[v+1+96]=Ht(H,$,z),f[v+3+64]=f[v+2+96]=Ht($,z,W),f[v+3+96]=Ht(z,W,W)}function ji(f,v){var F=f[v-1+0],k=f[v-1+32],O=f[v-1+64],H=f[v-1-32],$=f[v+0-32],z=f[v+1-32],W=f[v+2-32],ee=f[v+3-32];f[v+0+0]=f[v+1+64]=H+$+1>>1,f[v+1+0]=f[v+2+64]=$+z+1>>1,f[v+2+0]=f[v+3+64]=z+W+1>>1,f[v+3+0]=W+ee+1>>1,f[v+0+96]=Ht(O,k,F),f[v+0+64]=Ht(k,F,H),f[v+0+32]=f[v+1+96]=Ht(F,H,$),f[v+1+32]=f[v+2+96]=Ht(H,$,z),f[v+2+32]=f[v+3+96]=Ht($,z,W),f[v+3+32]=Ht(z,W,ee)}function cg(f,v){var F=f[v+0-32],k=f[v+1-32],O=f[v+2-32],H=f[v+3-32],$=f[v+4-32],z=f[v+5-32],W=f[v+6-32],ee=f[v+7-32];f[v+0+0]=F+k+1>>1,f[v+1+0]=f[v+0+64]=k+O+1>>1,f[v+2+0]=f[v+1+64]=O+H+1>>1,f[v+3+0]=f[v+2+64]=H+$+1>>1,f[v+0+32]=Ht(F,k,O),f[v+1+32]=f[v+0+96]=Ht(k,O,H),f[v+2+32]=f[v+1+96]=Ht(O,H,$),f[v+3+32]=f[v+2+96]=Ht(H,$,z),f[v+3+64]=Ht($,z,W),f[v+3+96]=Ht(z,W,ee)}function dg(f,v){var F=f[v-1+0],k=f[v-1+32],O=f[v-1+64],H=f[v-1+96];f[v+0+0]=F+k+1>>1,f[v+2+0]=f[v+0+32]=k+O+1>>1,f[v+2+32]=f[v+0+64]=O+H+1>>1,f[v+1+0]=Ht(F,k,O),f[v+3+0]=f[v+1+32]=Ht(k,O,H),f[v+3+32]=f[v+1+64]=Ht(O,H,H),f[v+3+64]=f[v+2+64]=f[v+0+96]=f[v+1+96]=f[v+2+96]=f[v+3+96]=H}function vl(f,v){var F=f[v-1+0],k=f[v-1+32],O=f[v-1+64],H=f[v-1+96],$=f[v-1-32],z=f[v+0-32],W=f[v+1-32],ee=f[v+2-32];f[v+0+0]=f[v+2+32]=F+$+1>>1,f[v+0+32]=f[v+2+64]=k+F+1>>1,f[v+0+64]=f[v+2+96]=O+k+1>>1,f[v+0+96]=H+O+1>>1,f[v+3+0]=Ht(z,W,ee),f[v+2+0]=Ht($,z,W),f[v+1+0]=f[v+3+32]=Ht(F,$,z),f[v+1+32]=f[v+3+64]=Ht(k,F,$),f[v+1+64]=f[v+3+96]=Ht(O,k,F),f[v+1+96]=Ht(H,O,k)}function zc(f,v){var F;for(F=0;8>F;++F)a(f,v+32*F,f,v-32,8)}function dA(f,v){var F;for(F=0;8>F;++F)n(f,v,f[v-1],8),v+=32}function wl(f,v,F){var k;for(k=0;8>k;++k)n(v,F+32*k,f,8)}function bl(f,v){var F,k=8;for(F=0;8>F;++F)k+=f[v+F-32]+f[v-1+32*F];wl(k>>4,f,v)}function ug(f,v){var F,k=4;for(F=0;8>F;++F)k+=f[v+F-32];wl(k>>3,f,v)}function qc(f,v){var F,k=4;for(F=0;8>F;++F)k+=f[v-1+32*F];wl(k>>3,f,v)}function Gc(f,v){wl(128,f,v)}function uA(f,v,F){var k=f[v-F],O=f[v+0],H=3*(O-k)+hg[1020+f[v-2*F]-f[v+F]],$=Ch[112+(H+4>>3)];f[v-F]=Ta[255+k+Ch[112+(H+3>>3)]],f[v+0]=Ta[255+O-$]}function hA(f,v,F,k){var O=f[v+0],H=f[v+F];return ln[255+f[v-2*F]-f[v-F]]>k||ln[255+H-O]>k}function Wc(f,v,F,k){return 4*ln[255+f[v-F]-f[v+0]]+ln[255+f[v-2*F]-f[v+F]]<=k}function yl(f,v,F,k,O){var H=f[v-3*F],$=f[v-2*F],z=f[v-F],W=f[v+0],ee=f[v+F],ce=f[v+2*F],Ce=f[v+3*F];return 4*ln[255+z-W]+ln[255+$-ee]>k?0:ln[255+f[v-4*F]-H]<=O&&ln[255+H-$]<=O&&ln[255+$-z]<=O&&ln[255+Ce-ce]<=O&&ln[255+ce-ee]<=O&&ln[255+ee-W]<=O}function Jc(f,v,F,k){var O=2*k+1;for(k=0;16>k;++k)Wc(f,v+k,F,O)&&uA(f,v+k,F)}function fA(f,v,F,k){var O=2*k+1;for(k=0;16>k;++k)Wc(f,v+k*F,1,O)&&uA(f,v+k*F,1)}function ph(f,v,F,k){var O;for(O=3;0<O;--O)Jc(f,v+=4*F,F,k)}function gh(f,v,F,k){var O;for(O=3;0<O;--O)fA(f,v+=4,F,k)}function Ci(f,v,F,k,O,H,$,z){for(H=2*H+1;0<O--;){if(yl(f,v,F,H,$))if(hA(f,v,F,z))uA(f,v,F);else{var W=f,ee=v,ce=F,Ce=W[ee-2*ce],te=W[ee-ce],pe=W[ee+0],be=W[ee+ce],Le=W[ee+2*ce],Be=27*(Me=hg[1020+3*(pe-te)+hg[1020+Ce-be]])+63>>7,De=18*Me+63>>7,Me=9*Me+63>>7;W[ee-3*ce]=Ta[255+W[ee-3*ce]+Me],W[ee-2*ce]=Ta[255+Ce+De],W[ee-ce]=Ta[255+te+Be],W[ee+0]=Ta[255+pe-Be],W[ee+ce]=Ta[255+be-De],W[ee+2*ce]=Ta[255+Le-Me]}v+=k}}function Ni(f,v,F,k,O,H,$,z){for(H=2*H+1;0<O--;){if(yl(f,v,F,H,$))if(hA(f,v,F,z))uA(f,v,F);else{var W=f,ee=v,ce=F,Ce=W[ee-ce],te=W[ee+0],pe=W[ee+ce],be=Ch[112+(4+(Le=3*(te-Ce))>>3)],Le=Ch[112+(Le+3>>3)],Be=be+1>>1;W[ee-2*ce]=Ta[255+W[ee-2*ce]+Be],W[ee-ce]=Ta[255+Ce+Le],W[ee+0]=Ta[255+te-be],W[ee+ce]=Ta[255+pe-Be]}v+=k}}function xh(f,v,F,k,O,H){Ci(f,v,F,1,16,k,O,H)}function vh(f,v,F,k,O,H){Ci(f,v,1,F,16,k,O,H)}function mA(f,v,F,k,O,H){var $;for($=3;0<$;--$)Ni(f,v+=4*F,F,1,16,k,O,H)}function wh(f,v,F,k,O,H){var $;for($=3;0<$;--$)Ni(f,v+=4,1,F,16,k,O,H)}function C(f,v,F,k,O,H,$,z){Ci(f,v,O,1,8,H,$,z),Ci(F,k,O,1,8,H,$,z)}function R(f,v,F,k,O,H,$,z){Ci(f,v,1,O,8,H,$,z),Ci(F,k,1,O,8,H,$,z)}function re(f,v,F,k,O,H,$,z){Ni(f,v+4*O,O,1,8,H,$,z),Ni(F,k+4*O,O,1,8,H,$,z)}function oe(f,v,F,k,O,H,$,z){Ni(f,v+4,1,O,8,H,$,z),Ni(F,k+4,1,O,8,H,$,z)}function ve(){this.ba=new dr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new lr,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Pe(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Ve(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function ut(){this.ua=0,this.Wa=new Te,this.vb=new Te,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new ae,this.yc=new Q}function vt(){this.xb=this.a=0,this.l=new xl,this.ca=new dr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new G,this.Pb=0,this.wd=new G,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new ut,this.ab=0,this.gc=o(4,Ve),this.Oc=0}function Rt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new xl,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Kt(f,v,F,k,O,H,$){for(f=f==null?0:f[v+0],v=0;v<$;++v)O[H+v]=f+F[k+v]&255,f=O[H+v]}function ur(f,v,F,k,O,H,$){var z;if(f==null)Kt(null,null,F,k,O,H,$);else for(z=0;z<$;++z)O[H+z]=f[v+z]+F[k+z]&255}function Hr(f,v,F,k,O,H,$){if(f==null)Kt(null,null,F,k,O,H,$);else{var z,W=f[v+0],ee=W,ce=W;for(z=0;z<$;++z)ee=ce+(W=f[v+z])-ee,ce=F[k+z]+(-256&ee?0>ee?0:255:ee)&255,ee=W,O[H+z]=ce}}function ms(f,v,F,k){var O=v.width,H=v.o;if(t(f!=null&&v!=null),0>F||0>=k||F+k>H)return null;if(!f.Cc){if(f.ga==null){var $;if(f.ga=new Rt,($=f.ga==null)||($=v.width*v.o,t(f.Gb.length==0),f.Gb=i($),f.Uc=0,f.Gb==null?$=0:(f.mb=f.Gb,f.nb=f.Uc,f.rc=null,$=1),$=!$),!$){$=f.ga;var z=f.Fa,W=f.P,ee=f.qc,ce=f.mb,Ce=f.nb,te=W+1,pe=ee-1,be=$.l;if(t(z!=null&&ce!=null&&v!=null),ho[0]=null,ho[1]=Kt,ho[2]=ur,ho[3]=Hr,$.ca=ce,$.tb=Ce,$.c=v.width,$.i=v.height,t(0<$.c&&0<$.i),1>=ee)v=0;else if($.$a=3&z[W+0],$.Z=z[W+0]>>2&3,$.Lc=z[W+0]>>4&3,W=z[W+0]>>6&3,0>$.$a||1<$.$a||4<=$.Z||1<$.Lc||W)v=0;else if(be.put=ft,be.ac=$r,be.bc=Is,be.ma=$,be.width=v.width,be.height=v.height,be.Da=v.Da,be.v=v.v,be.va=v.va,be.j=v.j,be.o=v.o,$.$a)e:{t($.$a==1),v=nA();t:for(;;){if(v==null){v=0;break e}if(t($!=null),$.mc=v,v.c=$.c,v.i=$.i,v.l=$.l,v.l.ma=$,v.l.width=$.c,v.l.height=$.i,v.a=0,Z(v.m,z,te,pe),!Gn($.c,$.i,1,v,null)||(v.ab==1&&v.gc[0].hc==3&&Cn(v.s)?($.ic=1,z=v.c*v.i,v.Ta=null,v.Ua=0,v.V=i(z),v.Ba=0,v.V==null?(v.a=1,v=0):v=1):($.ic=0,v=iA(v,$.c)),!v))break t;v=1;break e}$.mc=null,v=0}else v=pe>=$.c*$.i;$=!v}if($)return null;f.ga.Lc!=1?f.Ga=0:k=H-F}t(f.ga!=null),t(F+k<=H);e:{if(v=(z=f.ga).c,H=z.l.o,z.$a==0){if(te=f.rc,pe=f.Vc,be=f.Fa,W=f.P+1+F*v,ee=f.mb,ce=f.nb+F*v,t(W<=f.P+f.qc),z.Z!=0)for(t(ho[z.Z]!=null),$=0;$<k;++$)ho[z.Z](te,pe,be,W,ee,ce,v),te=ee,pe=ce,ce+=v,W+=v;else for($=0;$<k;++$)a(ee,ce,be,W,v),te=ee,pe=ce,ce+=v,W+=v;f.rc=te,f.Vc=pe}else{if(t(z.mc!=null),v=F+k,t(($=z.mc)!=null),t(v<=$.i),$.C>=v)v=1;else if(z.ic||nn(),z.ic){z=$.V,te=$.Ba,pe=$.c;var Le=$.i,Be=(be=1,W=$.$/pe,ee=$.$%pe,ce=$.m,Ce=$.s,$.$),De=pe*Le,Me=pe*v,Ge=Ce.wc,$e=Be<Me?Hs(Ce,ee,W):null;t(Be<=De),t(v<=Le),t(Cn(Ce));t:for(;;){for(;!ce.h&&Be<Me;){if(ee&Ge||($e=Hs(Ce,ee,W)),t($e!=null),de(ce),256>(Le=Vr($e.G[0],$e.H[0],ce)))z[te+Be]=Le,++Be,++ee>=pe&&(ee=0,++W<=v&&!(W%16)&&Nn($,W));else{if(!(280>Le)){be=0;break t}Le=Dr(Le-256,ce);var bt,lt=Vr($e.G[4],$e.H[4],ce);if(de(ce),!(Be>=(lt=ts(pe,lt=Dr(lt,ce)))&&De-Be>=Le)){be=0;break t}for(bt=0;bt<Le;++bt)z[te+Be+bt]=z[te+Be+bt-lt];for(Be+=Le,ee+=Le;ee>=pe;)ee-=pe,++W<=v&&!(W%16)&&Nn($,W);Be<Me&&ee&Ge&&($e=Hs(Ce,ee,W))}t(ce.h==se(ce))}Nn($,W>v?v:W);break t}!be||ce.h&&Be<De?(be=0,$.a=ce.h?5:3):$.$=Be,v=be}else v=_n($,$.V,$.Ba,$.c,$.i,v,ml);if(!v){k=0;break e}}F+k>=H&&(f.Cc=1),k=1}if(!k)return null;if(f.Cc&&((k=f.ga)!=null&&(k.mc=null),f.ga=null,0<f.Ga))return alert("todo:WebPDequantizeLevels"),null}return f.nb+F*O}function Sr(f,v,F,k,O,H){for(;0<O--;){var $,z=f,W=v+(F?1:0),ee=f,ce=v+(F?0:3);for($=0;$<k;++$){var Ce=ee[ce+4*$];Ce!=255&&(Ce*=32897,z[W+4*$+0]=z[W+4*$+0]*Ce>>23,z[W+4*$+1]=z[W+4*$+1]*Ce>>23,z[W+4*$+2]=z[W+4*$+2]*Ce>>23)}v+=H}}function ws(f,v,F,k,O){for(;0<k--;){var H;for(H=0;H<F;++H){var $=f[v+2*H+0],z=15&(ee=f[v+2*H+1]),W=4369*z,ee=(240&ee|ee>>4)*W>>16;f[v+2*H+0]=(240&$|$>>4)*W>>16&240|(15&$|$<<4)*W>>16>>4&15,f[v+2*H+1]=240&ee|z}v+=O}}function ps(f,v,F,k,O,H,$,z){var W,ee,ce=255;for(ee=0;ee<O;++ee){for(W=0;W<k;++W){var Ce=f[v+W];H[$+4*W]=Ce,ce&=Ce}v+=F,$+=z}return ce!=255}function Ks(f,v,F,k,O){var H;for(H=0;H<O;++H)F[k+H]=f[v+H]>>8}function nn(){od=Sr,hw=ws,fw=ps,mw=Ks}function _a(f,v,F){L[f]=function(k,O,H,$,z,W,ee,ce,Ce,te,pe,be,Le,Be,De,Me,Ge){var $e,bt=Ge-1>>1,lt=z[W+0]|ee[ce+0]<<16,qt=Ce[te+0]|pe[be+0]<<16;t(k!=null);var mt=3*lt+qt+131074>>2;for(v(k[O+0],255&mt,mt>>16,Le,Be),H!=null&&(mt=3*qt+lt+131074>>2,v(H[$+0],255&mt,mt>>16,De,Me)),$e=1;$e<=bt;++$e){var er=z[W+$e]|ee[ce+$e]<<16,ys=Ce[te+$e]|pe[be+$e]<<16,Gt=lt+er+qt+ys+524296,pt=Gt+2*(er+qt)>>3;mt=pt+lt>>1,lt=(Gt=Gt+2*(lt+ys)>>3)+er>>1,v(k[O+2*$e-1],255&mt,mt>>16,Le,Be+(2*$e-1)*F),v(k[O+2*$e-0],255&lt,lt>>16,Le,Be+(2*$e-0)*F),H!=null&&(mt=Gt+qt>>1,lt=pt+ys>>1,v(H[$+2*$e-1],255&mt,mt>>16,De,Me+(2*$e-1)*F),v(H[$+2*$e+0],255&lt,lt>>16,De,Me+(2*$e+0)*F)),lt=er,qt=ys}1&Ge||(mt=3*lt+qt+131074>>2,v(k[O+Ge-1],255&mt,mt>>16,Le,Be+(Ge-1)*F),H!=null&&(mt=3*qt+lt+131074>>2,v(H[$+Ge-1],255&mt,mt>>16,De,Me+(Ge-1)*F)))}}function bh(){cn[Nh]=hF,cn[_h]=Nw,cn[bw]=fF,cn[Sh]=_w,cn[Fh]=Sw,cn[fg]=Fw,cn[yw]=mF,cn[mg]=Nw,cn[pg]=_w,cn[Eh]=Sw,cn[gg]=Fw}function Bl(f){return f&~pF?0>f?0:255:f>>Ew}function pA(f,v){return Bl((19077*f>>8)+(26149*v>>8)-14234)}function so(f,v,F){return Bl((19077*f>>8)-(6419*v>>8)-(13320*F>>8)+8708)}function gA(f,v){return Bl((19077*f>>8)+(33050*v>>8)-17685)}function xA(f,v,F,k,O){k[O+0]=pA(f,F),k[O+1]=so(f,v,F),k[O+2]=gA(f,v)}function vA(f,v,F,k,O){k[O+0]=gA(f,v),k[O+1]=so(f,v,F),k[O+2]=pA(f,F)}function ta(f,v,F,k,O){var H=so(f,v,F);v=H<<3&224|gA(f,v)>>3,k[O+0]=248&pA(f,F)|H>>5,k[O+1]=v}function wA(f,v,F,k,O){var H=240&gA(f,v)|15;k[O+0]=240&pA(f,F)|so(f,v,F)>>4,k[O+1]=H}function bA(f,v,F,k,O){k[O+0]=255,xA(f,v,F,k,O+1)}function Xc(f,v,F,k,O){vA(f,v,F,k,O),k[O+3]=255}function Yc(f,v,F,k,O){xA(f,v,F,k,O),k[O+3]=255}function zr(f,v){return 0>f?0:f>v?v:f}function _i(f,v,F){L[f]=function(k,O,H,$,z,W,ee,ce,Ce){for(var te=ce+(-2&Ce)*F;ce!=te;)v(k[O+0],H[$+0],z[W+0],ee,ce),v(k[O+1],H[$+0],z[W+0],ee,ce+F),O+=2,++$,++W,ce+=2*F;1&Ce&&v(k[O+0],H[$+0],z[W+0],ee,ce)}}function jl(f,v,F){return F==0?f==0?v==0?6:5:v==0?4:0:F}function yh(f,v,F,k,O){switch(f>>>30){case 3:CA(v,F,k,O,0);break;case 2:An(v,F,k,O);break;case 1:pr(v,F,k,O)}}function on(f,v){var F,k,O=v.M,H=v.Nb,$=f.oc,z=f.pc+40,W=f.oc,ee=f.pc+584,ce=f.oc,Ce=f.pc+600;for(F=0;16>F;++F)$[z+32*F-1]=129;for(F=0;8>F;++F)W[ee+32*F-1]=129,ce[Ce+32*F-1]=129;for(0<O?$[z-1-32]=W[ee-1-32]=ce[Ce-1-32]=129:(n($,z-32-1,127,21),n(W,ee-32-1,127,9),n(ce,Ce-32-1,127,9)),k=0;k<f.za;++k){var te=v.ya[v.aa+k];if(0<k){for(F=-1;16>F;++F)a($,z+32*F-4,$,z+32*F+12,4);for(F=-1;8>F;++F)a(W,ee+32*F-4,W,ee+32*F+4,4),a(ce,Ce+32*F-4,ce,Ce+32*F+4,4)}var pe=f.Gd,be=f.Hd+k,Le=te.ad,Be=te.Hc;if(0<O&&(a($,z-32,pe[be].y,0,16),a(W,ee-32,pe[be].f,0,8),a(ce,Ce-32,pe[be].ea,0,8)),te.Za){var De=$,Me=z-32+16;for(0<O&&(k>=f.za-1?n(De,Me,pe[be].y[15],4):a(De,Me,pe[be+1].y,0,4)),F=0;4>F;F++)De[Me+128+F]=De[Me+256+F]=De[Me+384+F]=De[Me+0+F];for(F=0;16>F;++F,Be<<=2)De=$,Me=z+Iw[F],Fn[te.Ob[F]](De,Me),yh(Be,Le,16*+F,De,Me)}else if(De=jl(k,O,te.Ob[0]),uo[De]($,z),Be!=0)for(F=0;16>F;++F,Be<<=2)yh(Be,Le,16*+F,$,z+Iw[F]);for(F=te.Gc,De=jl(k,O,te.Dd),Ei[De](W,ee),Ei[De](ce,Ce),Be=Le,De=W,Me=ee,255&(te=0|F)&&(170&te?Yn(Be,256,De,Me):Cr(Be,256,De,Me)),te=ce,Be=Ce,255&(F>>=8)&&(170&F?Yn(Le,320,te,Be):Cr(Le,320,te,Be)),O<f.Ub-1&&(a(pe[be].y,0,$,z+480,16),a(pe[be].f,0,W,ee+224,8),a(pe[be].ea,0,ce,Ce+224,8)),F=8*H*f.B,pe=f.sa,be=f.ta+16*k+16*H*f.R,Le=f.qa,te=f.ra+8*k+F,Be=f.Ha,De=f.Ia+8*k+F,F=0;16>F;++F)a(pe,be+F*f.R,$,z+32*F,16);for(F=0;8>F;++F)a(Le,te+F*f.B,W,ee+32*F,8),a(Be,De+F*f.B,ce,Ce+32*F,8)}}function yA(f,v,F,k,O,H,$,z,W){var ee=[0],ce=[0],Ce=0,te=W!=null?W.kd:0,pe=W!=null?W:new Pe;if(f==null||12>F)return 7;pe.data=f,pe.w=v,pe.ha=F,v=[v],F=[F],pe.gb=[pe.gb];e:{var be=v,Le=F,Be=pe.gb;if(t(f!=null),t(Le!=null),t(Be!=null),Be[0]=0,12<=Le[0]&&!r(f,be[0],"RIFF")){if(r(f,be[0]+8,"WEBP")){Be=3;break e}var De=ge(f,be[0]+4);if(12>De||4294967286<De){Be=3;break e}if(te&&De>Le[0]-8){Be=7;break e}Be[0]=De,be[0]+=12,Le[0]-=12}Be=0}if(Be!=0)return Be;for(De=0<pe.gb[0],F=F[0];;){e:{var Me=f;Le=v,Be=F;var Ge=ee,$e=ce,bt=be=[0];if((mt=Ce=[Ce])[0]=0,8>Be[0])Be=7;else{if(!r(Me,Le[0],"VP8X")){if(ge(Me,Le[0]+4)!=10){Be=3;break e}if(18>Be[0]){Be=7;break e}var lt=ge(Me,Le[0]+8),qt=1+ke(Me,Le[0]+12);if(2147483648<=qt*(Me=1+ke(Me,Le[0]+15))){Be=3;break e}bt!=null&&(bt[0]=lt),Ge!=null&&(Ge[0]=qt),$e!=null&&($e[0]=Me),Le[0]+=18,Be[0]-=18,mt[0]=1}Be=0}}if(Ce=Ce[0],be=be[0],Be!=0)return Be;if(Le=!!(2&be),!De&&Ce)return 3;if(H!=null&&(H[0]=!!(16&be)),$!=null&&($[0]=Le),z!=null&&(z[0]=0),$=ee[0],be=ce[0],Ce&&Le&&W==null){Be=0;break}if(4>F){Be=7;break}if(De&&Ce||!De&&!Ce&&!r(f,v[0],"ALPH")){F=[F],pe.na=[pe.na],pe.P=[pe.P],pe.Sa=[pe.Sa];e:{lt=f,Be=v,De=F;var mt=pe.gb;Ge=pe.na,$e=pe.P,bt=pe.Sa,qt=22,t(lt!=null),t(De!=null),Me=Be[0];var er=De[0];for(t(Ge!=null),t(bt!=null),Ge[0]=null,$e[0]=null,bt[0]=0;;){if(Be[0]=Me,De[0]=er,8>er){Be=7;break e}var ys=ge(lt,Me+4);if(4294967286<ys){Be=3;break e}var Gt=8+ys+1&-2;if(qt+=Gt,0<mt&&qt>mt){Be=3;break e}if(!r(lt,Me,"VP8 ")||!r(lt,Me,"VP8L")){Be=0;break e}if(er[0]<Gt){Be=7;break e}r(lt,Me,"ALPH")||(Ge[0]=lt,$e[0]=Me+8,bt[0]=ys),Me+=Gt,er-=Gt}}if(F=F[0],pe.na=pe.na[0],pe.P=pe.P[0],pe.Sa=pe.Sa[0],Be!=0)break}F=[F],pe.Ja=[pe.Ja],pe.xa=[pe.xa];e:if(mt=f,Be=v,De=F,Ge=pe.gb[0],$e=pe.Ja,bt=pe.xa,lt=Be[0],Me=!r(mt,lt,"VP8 "),qt=!r(mt,lt,"VP8L"),t(mt!=null),t(De!=null),t($e!=null),t(bt!=null),8>De[0])Be=7;else{if(Me||qt){if(mt=ge(mt,lt+4),12<=Ge&&mt>Ge-12){Be=3;break e}if(te&&mt>De[0]-8){Be=7;break e}$e[0]=mt,Be[0]+=8,De[0]-=8,bt[0]=qt}else bt[0]=5<=De[0]&&mt[lt+0]==47&&!(mt[lt+4]>>5),$e[0]=De[0];Be=0}if(F=F[0],pe.Ja=pe.Ja[0],pe.xa=pe.xa[0],v=v[0],Be!=0)break;if(4294967286<pe.Ja)return 3;if(z==null||Le||(z[0]=pe.xa?2:1),$=[$],be=[be],pe.xa){if(5>F){Be=7;break}z=$,te=be,Le=H,f==null||5>F?f=0:5<=F&&f[v+0]==47&&!(f[v+4]>>5)?(De=[0],mt=[0],Ge=[0],Z($e=new G,f,v,F),Os($e,De,mt,Ge)?(z!=null&&(z[0]=De[0]),te!=null&&(te[0]=mt[0]),Le!=null&&(Le[0]=Ge[0]),f=1):f=0):f=0}else{if(10>F){Be=7;break}z=be,f==null||10>F||!uh(f,v+3,F-3)?f=0:(te=f[v+0]|f[v+1]<<8|f[v+2]<<16,Le=16383&(f[v+7]<<8|f[v+6]),f=16383&(f[v+9]<<8|f[v+8]),1&te||3<(te>>1&7)||!(te>>4&1)||te>>5>=pe.Ja||!Le||!f?f=0:($&&($[0]=Le),z&&(z[0]=f),f=1))}if(!f||($=$[0],be=be[0],Ce&&(ee[0]!=$||ce[0]!=be)))return 3;W!=null&&(W[0]=pe,W.offset=v-W.w,t(4294967286>v-W.w),t(W.offset==W.ha-F));break}return Be==0||Be==7&&Ce&&W==null?(H!=null&&(H[0]|=pe.na!=null&&0<pe.na.length),k!=null&&(k[0]=$),O!=null&&(O[0]=be),0):Be}function Zc(f,v,F){var k=v.width,O=v.height,H=0,$=0,z=k,W=O;if(v.Da=f!=null&&0<f.Da,v.Da&&(z=f.cd,W=f.bd,H=f.v,$=f.j,11>F||(H&=-2,$&=-2),0>H||0>$||0>=z||0>=W||H+z>k||$+W>O))return 0;if(v.v=H,v.j=$,v.va=H+z,v.o=$+W,v.U=z,v.T=W,v.da=f!=null&&0<f.da,v.da){if(!Xe(z,W,F=[f.ib],H=[f.hb]))return 0;v.ib=F[0],v.hb=H[0]}return v.ob=f!=null&&f.ob,v.Kb=f==null||!f.Sd,v.da&&(v.ob=v.ib<3*k/4&&v.hb<3*O/4,v.Kb=0),1}function ed(f){if(f==null)return 2;if(11>f.S){var v=f.f.RGBA;v.fb+=(f.height-1)*v.A,v.A=-v.A}else v=f.f.kb,f=f.height,v.O+=(f-1)*v.fa,v.fa=-v.fa,v.N+=(f-1>>1)*v.Ab,v.Ab=-v.Ab,v.W+=(f-1>>1)*v.Db,v.Db=-v.Db,v.F!=null&&(v.J+=(f-1)*v.lb,v.lb=-v.lb);return 0}function ao(f,v,F,k){if(k==null||0>=f||0>=v)return 2;if(F!=null){if(F.Da){var O=F.cd,H=F.bd,$=-2&F.v,z=-2&F.j;if(0>$||0>z||0>=O||0>=H||$+O>f||z+H>v)return 2;f=O,v=H}if(F.da){if(!Xe(f,v,O=[F.ib],H=[F.hb]))return 2;f=O[0],v=H[0]}}k.width=f,k.height=v;e:{var W=k.width,ee=k.height;if(f=k.S,0>=W||0>=ee||!(f>=Nh&&13>f))f=2;else{if(0>=k.Rd&&k.sd==null){$=H=O=v=0;var ce=(z=W*Qw[f])*ee;if(11>f||(H=(ee+1)/2*(v=(W+1)/2),f==12&&($=(O=W)*ee)),(ee=i(ce+2*H+$))==null){f=1;break e}k.sd=ee,11>f?((W=k.f.RGBA).eb=ee,W.fb=0,W.A=z,W.size=ce):((W=k.f.kb).y=ee,W.O=0,W.fa=z,W.Fd=ce,W.f=ee,W.N=0+ce,W.Ab=v,W.Cd=H,W.ea=ee,W.W=0+ce+H,W.Db=v,W.Ed=H,f==12&&(W.F=ee,W.J=0+ce+2*H),W.Tc=$,W.lb=O)}if(v=1,O=k.S,H=k.width,$=k.height,O>=Nh&&13>O)if(11>O)f=k.f.RGBA,v&=(z=Math.abs(f.A))*($-1)+H<=f.size,v&=z>=H*Qw[O],v&=f.eb!=null;else{f=k.f.kb,z=(H+1)/2,ce=($+1)/2,W=Math.abs(f.fa),ee=Math.abs(f.Ab);var Ce=Math.abs(f.Db),te=Math.abs(f.lb),pe=te*($-1)+H;v&=W*($-1)+H<=f.Fd,v&=ee*(ce-1)+z<=f.Cd,v=(v&=Ce*(ce-1)+z<=f.Ed)&W>=H&ee>=z&Ce>=z,v&=f.y!=null,v&=f.f!=null,v&=f.ea!=null,O==12&&(v&=te>=H,v&=pe<=f.Tc,v&=f.F!=null)}else v=0;f=v?0:2}}return f!=0||F!=null&&F.fd&&(f=ed(k)),f}var BA=64,Pa=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Ma=24,no=32,Si=8,io=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];We("Predictor0","PredictorAdd0"),L.Predictor0=function(){return 4278190080},L.Predictor1=function(f){return f},L.Predictor2=function(f,v,F){return v[F+0]},L.Predictor3=function(f,v,F){return v[F+1]},L.Predictor4=function(f,v,F){return v[F-1]},L.Predictor5=function(f,v,F){return ye(ye(f,v[F+1]),v[F+0])},L.Predictor6=function(f,v,F){return ye(f,v[F-1])},L.Predictor7=function(f,v,F){return ye(f,v[F+0])},L.Predictor8=function(f,v,F){return ye(v[F-1],v[F+0])},L.Predictor9=function(f,v,F){return ye(v[F+0],v[F+1])},L.Predictor10=function(f,v,F){return ye(ye(f,v[F-1]),ye(v[F+0],v[F+1]))},L.Predictor11=function(f,v,F){var k=v[F+0];return 0>=ct(k>>24&255,f>>24&255,(v=v[F-1])>>24&255)+ct(k>>16&255,f>>16&255,v>>16&255)+ct(k>>8&255,f>>8&255,v>>8&255)+ct(255&k,255&f,255&v)?k:f},L.Predictor12=function(f,v,F){var k=v[F+0];return(gt((f>>24&255)+(k>>24&255)-((v=v[F-1])>>24&255))<<24|gt((f>>16&255)+(k>>16&255)-(v>>16&255))<<16|gt((f>>8&255)+(k>>8&255)-(v>>8&255))<<8|gt((255&f)+(255&k)-(255&v)))>>>0},L.Predictor13=function(f,v,F){var k=v[F-1];return(yt((f=ye(f,v[F+0]))>>24&255,k>>24&255)<<24|yt(f>>16&255,k>>16&255)<<16|yt(f>>8&255,k>>8&255)<<8|yt(255&f,255&k))>>>0};var td=L.PredictorAdd0;L.PredictorAdd1=me,We("Predictor2","PredictorAdd2"),We("Predictor3","PredictorAdd3"),We("Predictor4","PredictorAdd4"),We("Predictor5","PredictorAdd5"),We("Predictor6","PredictorAdd6"),We("Predictor7","PredictorAdd7"),We("Predictor8","PredictorAdd8"),We("Predictor9","PredictorAdd9"),We("Predictor10","PredictorAdd10"),We("Predictor11","PredictorAdd11"),We("Predictor12","PredictorAdd12"),We("Predictor13","PredictorAdd13");var Cl=L.PredictorAdd2;ht("ColorIndexInverseTransform","MapARGB","32b",function(f){return f>>8&255},function(f){return f}),ht("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(f){return f},function(f){return f>>8&255});var ss,Bh=L.ColorIndexInverseTransform,Jn=L.MapARGB,Xn=L.VP8LColorIndexInverseTransformAlpha,rd=L.MapAlpha,sd=L.VP8LPredictorsAdd=[];sd.length=16,(L.VP8LPredictors=[]).length=16,(L.VP8LPredictorsAdd_C=[]).length=16,(L.VP8LPredictors_C=[]).length=16;var ad,nd,oo,Ao,lo,jA,co,CA,An,Yn,pr,Cr,as,bs,Fi,id,Nl,jh,ow,Aw,lw,cw,dw,uw,od,hw,fw,mw,pw=i(511),gw=i(2041),xw=i(225),vw=i(767),ww=0,hg=gw,Ch=xw,Ta=vw,ln=pw,Nh=0,_h=1,bw=2,Sh=3,Fh=4,fg=5,yw=6,mg=7,pg=8,Eh=9,gg=10,Z3=[2,3,7],eF=[3,3,11],Bw=[280,256,256,256,40],tF=[0,1,1,1,0],rF=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],sF=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],aF=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],nF=8,xg=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],vg=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Ad=null,iF=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],oF=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],jw=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],AF=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],lF=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],cF=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],dF=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],uo=[],Fn=[],Ei=[],uF=1,Cw=2,ho=[],cn=[];_a("UpsampleRgbLinePair",xA,3),_a("UpsampleBgrLinePair",vA,3),_a("UpsampleRgbaLinePair",Yc,4),_a("UpsampleBgraLinePair",Xc,4),_a("UpsampleArgbLinePair",bA,4),_a("UpsampleRgba4444LinePair",wA,2),_a("UpsampleRgb565LinePair",ta,2);var hF=L.UpsampleRgbLinePair,fF=L.UpsampleBgrLinePair,Nw=L.UpsampleRgbaLinePair,_w=L.UpsampleBgraLinePair,Sw=L.UpsampleArgbLinePair,Fw=L.UpsampleRgba4444LinePair,mF=L.UpsampleRgb565LinePair,Uh=16,Ih=1<<Uh-1,ld=-227,wg=482,Ew=6,pF=(256<<Ew)-1,Uw=0,gF=i(256),xF=i(256),vF=i(256),wF=i(256),bF=i(wg-ld),yF=i(wg-ld);_i("YuvToRgbRow",xA,3),_i("YuvToBgrRow",vA,3),_i("YuvToRgbaRow",Yc,4),_i("YuvToBgraRow",Xc,4),_i("YuvToArgbRow",bA,4),_i("YuvToRgba4444Row",wA,2),_i("YuvToRgb565Row",ta,2);var Iw=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Qh=[0,2,8],BF=[8,7,6,4,4,2,2,2,1,1,1,1],jF=1;this.WebPDecodeRGBA=function(f,v,F,k,O){var H=_h,$=new ve,z=new dr;$.ba=z,z.S=H,z.width=[z.width],z.height=[z.height];var W=z.width,ee=z.height,ce=new jt;if(ce==null||f==null)var Ce=2;else t(ce!=null),Ce=yA(f,v,F,ce.width,ce.height,ce.Pd,ce.Qd,ce.format,null);if(Ce!=0?W=0:(W!=null&&(W[0]=ce.width[0]),ee!=null&&(ee[0]=ce.height[0]),W=1),W){z.width=z.width[0],z.height=z.height[0],k!=null&&(k[0]=z.width),O!=null&&(O[0]=z.height);e:{if(k=new xl,(O=new Pe).data=f,O.w=v,O.ha=F,O.kd=1,v=[0],t(O!=null),((f=yA(O.data,O.w,O.ha,null,null,null,v,null,O))==0||f==7)&&v[0]&&(f=4),(v=f)==0){if(t($!=null),k.data=O.data,k.w=O.w+O.offset,k.ha=O.ha-O.offset,k.put=ft,k.ac=$r,k.bc=Is,k.ma=$,O.xa){if((f=nA())==null){$=1;break e}if(function(te,pe){var be=[0],Le=[0],Be=[0];t:for(;;){if(te==null)return 0;if(pe==null)return te.a=2,0;if(te.l=pe,te.a=0,Z(te.m,pe.data,pe.w,pe.ha),!Os(te.m,be,Le,Be)){te.a=3;break t}if(te.xb=Cw,pe.width=be[0],pe.height=Le[0],!Gn(be[0],Le[0],1,te,null))break t;return 1}return t(te.a!=0),0}(f,k)){if(k=(v=ao(k.width,k.height,$.Oa,$.ba))==0){t:{k=f;r:for(;;){if(k==null){k=0;break t}if(t(k.s.yc!=null),t(k.s.Ya!=null),t(0<k.s.Wb),t((F=k.l)!=null),t((O=F.ma)!=null),k.xb!=0){if(k.ca=O.ba,k.tb=O.tb,t(k.ca!=null),!Zc(O.Oa,F,Sh)){k.a=2;break r}if(!iA(k,F.width)||F.da)break r;if((F.da||Tt(k.ca.S))&&nn(),11>k.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),k.ca.f.kb.F!=null&&nn()),k.Pb&&0<k.s.ua&&k.s.vb.X==null&&!J(k.s.vb,k.s.Wa.Xa)){k.a=1;break r}k.xb=0}if(!_n(k,k.V,k.Ba,k.c,k.i,F.o,eo))break r;O.Dc=k.Ma,k=1;break t}t(k.a!=0),k=0}k=!k}k&&(v=f.a)}else v=f.a}else{if((f=new Yp)==null){$=1;break e}if(f.Fa=O.na,f.P=O.P,f.qc=O.Sa,hh(f,k)){if((v=ao(k.width,k.height,$.Oa,$.ba))==0){if(f.Aa=0,F=$.Oa,t((O=f)!=null),F!=null){if(0<(W=0>(W=F.Md)?0:100<W?255:255*W/100)){for(ee=ce=0;4>ee;++ee)12>(Ce=O.pb[ee]).lc&&(Ce.ia=W*BF[0>Ce.lc?0:Ce.lc]>>3),ce|=Ce.ia;ce&&(alert("todo:VP8InitRandom"),O.ia=1)}O.Ga=F.Id,100<O.Ga?O.Ga=100:0>O.Ga&&(O.Ga=0)}(function(te,pe){if(te==null)return 0;if(pe==null)return fs(te,2,"NULL VP8Io parameter in VP8Decode().");if(!te.cb&&!hh(te,pe))return 0;if(t(te.cb),pe.ac==null||pe.ac(pe)){pe.ob&&(te.L=0);var be=Qh[te.L];if(te.L==2?(te.yb=0,te.zb=0):(te.yb=pe.v-be>>4,te.zb=pe.j-be>>4,0>te.yb&&(te.yb=0),0>te.zb&&(te.zb=0)),te.Va=pe.o+15+be>>4,te.Hb=pe.va+15+be>>4,te.Hb>te.za&&(te.Hb=te.za),te.Va>te.Ub&&(te.Va=te.Ub),0<te.L){var Le=te.ed;for(be=0;4>be;++be){var Be;if(te.Qa.Cb){var De=te.Qa.Lb[be];te.Qa.Fb||(De+=Le.Tb)}else De=Le.Tb;for(Be=0;1>=Be;++Be){var Me=te.gd[be][Be],Ge=De;if(Le.Pc&&(Ge+=Le.vd[0],Be&&(Ge+=Le.od[0])),0<(Ge=0>Ge?0:63<Ge?63:Ge)){var $e=Ge;0<Le.wb&&($e=4<Le.wb?$e>>2:$e>>1)>9-Le.wb&&($e=9-Le.wb),1>$e&&($e=1),Me.dd=$e,Me.tc=2*Ge+$e,Me.ld=40<=Ge?2:15<=Ge?1:0}else Me.tc=0;Me.La=Be}}}be=0}else fs(te,6,"Frame setup failed"),be=te.a;if(be=be==0){if(be){te.$c=0,0<te.Aa||(te.Ic=jF);t:{be=te.Ic,Le=4*($e=te.za);var bt=32*$e,lt=$e+1,qt=0<te.L?$e*(0<te.Aa?2:1):0,mt=(te.Aa==2?2:1)*$e;if((Me=Le+832+(Be=3*(16*be+Qh[te.L])/2*bt)+(De=te.Fa!=null&&0<te.Fa.length?te.Kc.c*te.Kc.i:0))!=Me)be=0;else{if(Me>te.Vb){if(te.Vb=0,te.Ec=i(Me),te.Fc=0,te.Ec==null){be=fs(te,1,"no memory during frame initialization.");break t}te.Vb=Me}Me=te.Ec,Ge=te.Fc,te.Ac=Me,te.Bc=Ge,Ge+=Le,te.Gd=o(bt,ch),te.Hd=0,te.rb=o(lt+1,Rc),te.sb=1,te.wa=qt?o(qt,an):null,te.Y=0,te.D.Nb=0,te.D.wa=te.wa,te.D.Y=te.Y,0<te.Aa&&(te.D.Y+=$e),t(!0),te.oc=Me,te.pc=Ge,Ge+=832,te.ya=o(mt,Oc),te.aa=0,te.D.ya=te.ya,te.D.aa=te.aa,te.Aa==2&&(te.D.aa+=$e),te.R=16*$e,te.B=8*$e,$e=(bt=Qh[te.L])*te.R,bt=bt/2*te.B,te.sa=Me,te.ta=Ge+$e,te.qa=te.sa,te.ra=te.ta+16*be*te.R+bt,te.Ha=te.qa,te.Ia=te.ra+8*be*te.B+bt,te.$c=0,Ge+=Be,te.mb=De?Me:null,te.nb=De?Ge:null,t(Ge+De<=te.Fc+te.Vb),oA(te),n(te.Ac,te.Bc,0,Le),be=1}}if(be){if(pe.ka=0,pe.y=te.sa,pe.O=te.ta,pe.f=te.qa,pe.N=te.ra,pe.ea=te.Ha,pe.Vd=te.Ia,pe.fa=te.R,pe.Rc=te.B,pe.F=null,pe.J=0,!ww){for(be=-255;255>=be;++be)pw[255+be]=0>be?-be:be;for(be=-1020;1020>=be;++be)gw[1020+be]=-128>be?-128:127<be?127:be;for(be=-112;112>=be;++be)xw[112+be]=-16>be?-16:15<be?15:be;for(be=-255;510>=be;++be)vw[255+be]=0>be?0:255<be?255:be;ww=1}co=mh,CA=eg,Yn=tg,pr=Wn,Cr=fh,An=Zp,as=xh,bs=vh,Fi=C,id=R,Nl=mA,jh=wh,ow=re,Aw=oe,lw=Jc,cw=fA,dw=ph,uw=gh,Fn[0]=Ag,Fn[1]=Kc,Fn[2]=ig,Fn[3]=og,Fn[4]=lg,Fn[5]=ji,Fn[6]=Bi,Fn[7]=cg,Fn[8]=vl,Fn[9]=dg,uo[0]=ro,uo[1]=sg,uo[2]=ag,uo[3]=$c,uo[4]=ng,uo[5]=cA,uo[6]=Vc,Ei[0]=bl,Ei[1]=rg,Ei[2]=zc,Ei[3]=dA,Ei[4]=qc,Ei[5]=ug,Ei[6]=Gc,be=1}else be=0}be&&(be=function(er,ys){for(er.M=0;er.M<er.Va;++er.M){var Gt,pt=er.Jc[er.M&er.Xb],tt=er.m,ns=er;for(Gt=0;Gt<ns.za;++Gt){var Vt=tt,nr=ns,Ir=nr.Ac,$s=nr.Bc+4*Gt,fa=nr.zc,qr=nr.ya[nr.aa+Gt];if(nr.Qa.Bb?qr.$b=Ie(Vt,nr.Pa.jb[0])?2+Ie(Vt,nr.Pa.jb[2]):Ie(Vt,nr.Pa.jb[1]):qr.$b=0,nr.kc&&(qr.Ad=Ie(Vt,nr.Bd)),qr.Za=!Ie(Vt,145)+0,qr.Za){var ra=qr.Ob,ma=0;for(nr=0;4>nr;++nr){var Bs,or=fa[0+nr];for(Bs=0;4>Bs;++Bs){or=lF[Ir[$s+Bs]][or];for(var wr=jw[Ie(Vt,or[0])];0<wr;)wr=jw[2*wr+Ie(Vt,or[wr])];or=-wr,Ir[$s+Bs]=or}a(ra,ma,Ir,$s,4),ma+=4,fa[0+nr]=or}}else or=Ie(Vt,156)?Ie(Vt,128)?1:3:Ie(Vt,163)?2:0,qr.Ob[0]=or,n(Ir,$s,or,4),n(fa,0,or,4);qr.Dd=Ie(Vt,142)?Ie(Vt,114)?Ie(Vt,183)?1:3:2:0}if(ns.m.Ka)return fs(er,7,"Premature end-of-partition0 encountered.");for(;er.ja<er.za;++er.ja){if(ns=pt,Vt=(tt=er).rb[tt.sb-1],Ir=tt.rb[tt.sb+tt.ja],Gt=tt.ya[tt.aa+tt.ja],$s=tt.kc?Gt.Ad:0)Vt.la=Ir.la=0,Gt.Za||(Vt.Na=Ir.Na=0),Gt.Hc=0,Gt.Gc=0,Gt.ia=0;else{var Gr,br;if(Vt=Ir,Ir=ns,$s=tt.Pa.Xc,fa=tt.ya[tt.aa+tt.ja],qr=tt.pb[fa.$b],nr=fa.ad,ra=0,ma=tt.rb[tt.sb-1],or=Bs=0,n(nr,ra,0,384),fa.Za)var Vs=0,En=$s[3];else{wr=i(16);var is=Vt.Na+ma.Na;if(is=Ad(Ir,$s[1],is,qr.Eb,0,wr,0),Vt.Na=ma.Na=(0<is)+0,1<is)co(wr,0,nr,ra);else{var Sa=wr[0]+3>>3;for(wr=0;256>wr;wr+=16)nr[ra+wr]=Sa}Vs=1,En=$s[0]}var Nr=15&Vt.la,js=15&ma.la;for(wr=0;4>wr;++wr){var Ra=1&js;for(Sa=br=0;4>Sa;++Sa)Nr=Nr>>1|(Ra=(is=Ad(Ir,En,is=Ra+(1&Nr),qr.Sc,Vs,nr,ra))>Vs)<<7,br=br<<2|(3<is?3:1<is?2:nr[ra+0]!=0),ra+=16;Nr>>=4,js=js>>1|Ra<<7,Bs=(Bs<<8|br)>>>0}for(En=Nr,Vs=js>>4,Gr=0;4>Gr;Gr+=2){for(br=0,Nr=Vt.la>>4+Gr,js=ma.la>>4+Gr,wr=0;2>wr;++wr){for(Ra=1&js,Sa=0;2>Sa;++Sa)is=Ra+(1&Nr),Nr=Nr>>1|(Ra=0<(is=Ad(Ir,$s[2],is,qr.Qc,0,nr,ra)))<<3,br=br<<2|(3<is?3:1<is?2:nr[ra+0]!=0),ra+=16;Nr>>=2,js=js>>1|Ra<<5}or|=br<<4*Gr,En|=Nr<<4<<Gr,Vs|=(240&js)<<Gr}Vt.la=En,ma.la=Vs,fa.Hc=Bs,fa.Gc=or,fa.ia=43690&or?0:qr.ia,$s=!(Bs|or)}if(0<tt.L&&(tt.wa[tt.Y+tt.ja]=tt.gd[Gt.$b][Gt.Za],tt.wa[tt.Y+tt.ja].La|=!$s),ns.Ka)return fs(er,7,"Premature end-of-file encountered.")}if(oA(er),tt=ys,ns=1,Gt=(pt=er).D,Vt=0<pt.L&&pt.M>=pt.zb&&pt.M<=pt.Va,pt.Aa==0)t:{if(Gt.M=pt.M,Gt.uc=Vt,on(pt,Gt),ns=1,Gt=(br=pt.D).Nb,Vt=(or=Qh[pt.L])*pt.R,Ir=or/2*pt.B,wr=16*Gt*pt.R,Sa=8*Gt*pt.B,$s=pt.sa,fa=pt.ta-Vt+wr,qr=pt.qa,nr=pt.ra-Ir+Sa,ra=pt.Ha,ma=pt.Ia-Ir+Sa,js=(Nr=br.M)==0,Bs=Nr>=pt.Va-1,pt.Aa==2&&on(pt,br),br.uc)for(Ra=(is=pt).D.M,t(is.D.uc),br=is.yb;br<is.Hb;++br){Vs=br,En=Ra;var pa=(Oa=(zs=is).D).Nb;Gr=zs.R;var Oa=Oa.wa[Oa.Y+Vs],Ha=zs.sa,Fa=zs.ta+16*pa*Gr+16*Vs,Ka=Oa.dd,Fr=Oa.tc;if(Fr!=0)if(t(3<=Fr),zs.L==1)0<Vs&&cw(Ha,Fa,Gr,Fr+4),Oa.La&&uw(Ha,Fa,Gr,Fr),0<En&&lw(Ha,Fa,Gr,Fr+4),Oa.La&&dw(Ha,Fa,Gr,Fr);else{var $a=zs.B,Un=zs.qa,NA=zs.ra+8*pa*$a+8*Vs,Ui=zs.Ha,zs=zs.Ia+8*pa*$a+8*Vs;pa=Oa.ld,0<Vs&&(bs(Ha,Fa,Gr,Fr+4,Ka,pa),id(Un,NA,Ui,zs,$a,Fr+4,Ka,pa)),Oa.La&&(jh(Ha,Fa,Gr,Fr,Ka,pa),Aw(Un,NA,Ui,zs,$a,Fr,Ka,pa)),0<En&&(as(Ha,Fa,Gr,Fr+4,Ka,pa),Fi(Un,NA,Ui,zs,$a,Fr+4,Ka,pa)),Oa.La&&(Nl(Ha,Fa,Gr,Fr,Ka,pa),ow(Un,NA,Ui,zs,$a,Fr,Ka,pa))}}if(pt.ia&&alert("todo:DitherRow"),tt.put!=null){if(br=16*Nr,Nr=16*(Nr+1),js?(tt.y=pt.sa,tt.O=pt.ta+wr,tt.f=pt.qa,tt.N=pt.ra+Sa,tt.ea=pt.Ha,tt.W=pt.Ia+Sa):(br-=or,tt.y=$s,tt.O=fa,tt.f=qr,tt.N=nr,tt.ea=ra,tt.W=ma),Bs||(Nr-=or),Nr>tt.o&&(Nr=tt.o),tt.F=null,tt.J=null,pt.Fa!=null&&0<pt.Fa.length&&br<Nr&&(tt.J=ms(pt,tt,br,Nr-br),tt.F=pt.mb,tt.F==null&&tt.F.length==0)){ns=fs(pt,3,"Could not decode alpha data.");break t}br<tt.j&&(or=tt.j-br,br=tt.j,t(!(1&or)),tt.O+=pt.R*or,tt.N+=pt.B*(or>>1),tt.W+=pt.B*(or>>1),tt.F!=null&&(tt.J+=tt.width*or)),br<Nr&&(tt.O+=tt.v,tt.N+=tt.v>>1,tt.W+=tt.v>>1,tt.F!=null&&(tt.J+=tt.v),tt.ka=br-tt.j,tt.U=tt.va-tt.v,tt.T=Nr-br,ns=tt.put(tt))}Gt+1!=pt.Ic||Bs||(a(pt.sa,pt.ta-Vt,$s,fa+16*pt.R,Vt),a(pt.qa,pt.ra-Ir,qr,nr+8*pt.B,Ir),a(pt.Ha,pt.Ia-Ir,ra,ma+8*pt.B,Ir))}if(!ns)return fs(er,6,"Output aborted.")}return 1}(te,pe)),pe.bc!=null&&pe.bc(pe),be&=1}return be?(te.cb=0,be):0})(f,k)||(v=f.a)}}else v=f.a}v==0&&$.Oa!=null&&$.Oa.fd&&(v=ed($.ba))}$=v}H=$!=0?null:11>H?z.f.RGBA.eb:z.f.kb.y}else H=null;return H};var Qw=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(L,P){for(var S="",E=0;E<4;E++)S+=String.fromCharCode(L[P++]);return S}function d(L,P){return L[P+0]|L[P+1]<<8}function h(L,P){return(L[P+0]|L[P+1]<<8|L[P+2]<<16)>>>0}function m(L,P){return(L[P+0]|L[P+1]<<8|L[P+2]<<16|L[P+3]<<24)>>>0}new l;var u=[0],p=[0],g=[],y=new l,x=e,B=function(L,P){var S={},E=0,Q=!1,V=0,ae=0;if(S.frames=[],!function(T,G){for(var X=0;X<4;X++)if(T[G+X]!="RIFF".charCodeAt(X))return!0;return!1}(L,P)){for(m(L,P+=4),P+=8;P<L.length;){var Y=c(L,P),q=m(L,P+=4);P+=4;var K=q+(1&q);switch(Y){case"VP8 ":case"VP8L":S.frames[E]===void 0&&(S.frames[E]={}),(we=S.frames[E]).src_off=Q?ae:P-8,we.src_size=V+q+8,E++,Q&&(Q=!1,V=0,ae=0);break;case"VP8X":(we=S.header={}).feature_flags=L[P];var Z=P+4;we.canvas_width=1+h(L,Z),Z+=3,we.canvas_height=1+h(L,Z),Z+=3;break;case"ALPH":Q=!0,V=K+8,ae=P-8;break;case"ANIM":(we=S.header).bgcolor=m(L,P),Z=P+4,we.loop_count=d(L,Z),Z+=2;break;case"ANMF":var fe,we;(we=S.frames[E]={}).offset_x=2*h(L,P),P+=3,we.offset_y=2*h(L,P),P+=3,we.width=1+h(L,P),P+=3,we.height=1+h(L,P),P+=3,we.duration=h(L,P),P+=3,fe=L[P++],we.dispose=1&fe,we.blend=fe>>1&1}Y!="ANMF"&&(P+=K)}return S}}(x,0);B.response=x,B.rgbaoutput=!0,B.dataurl=!1;var j=B.header?B.header:null,w=B.frames?B.frames:null;if(j){j.loop_counter=j.loop_count,u=[j.canvas_height],p=[j.canvas_width];for(var N=0;N<w.length&&w[N].blend!=0;N++);}var I=w[0],U=y.WebPDecodeRGBA(x,I.src_off,I.src_size,p,u);I.rgba=U,I.imgwidth=p[0],I.imgheight=u[0];for(var D=0;D<p[0]*u[0]*4;D++)g[D]=U[D];return this.width=p,this.height=u,this.data=g,this}(function(e){var t,r,a,n,i,o,A,l,c,d=function(T){return T=T||{},this.isStrokeTransparent=T.isStrokeTransparent||!1,this.strokeOpacity=T.strokeOpacity||1,this.strokeStyle=T.strokeStyle||"#000000",this.fillStyle=T.fillStyle||"#000000",this.isFillTransparent=T.isFillTransparent||!1,this.fillOpacity=T.fillOpacity||1,this.font=T.font||"10px sans-serif",this.textBaseline=T.textBaseline||"alphabetic",this.textAlign=T.textAlign||"left",this.lineWidth=T.lineWidth||1,this.lineJoin=T.lineJoin||"miter",this.lineCap=T.lineCap||"butt",this.path=T.path||[],this.transform=T.transform!==void 0?T.transform.clone():new l,this.globalCompositeOperation=T.globalCompositeOperation||"normal",this.globalAlpha=T.globalAlpha||1,this.clip_path=T.clip_path||[],this.currentPoint=T.currentPoint||new o,this.miterLimit=T.miterLimit||10,this.lastPoint=T.lastPoint||new o,this.lineDashOffset=T.lineDashOffset||0,this.lineDash=T.lineDash||[],this.margin=T.margin||[0,0,0,0],this.prevPageLastElemOffset=T.prevPageLastElemOffset||0,this.ignoreClearRect=typeof T.ignoreClearRect!="boolean"||T.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new h(this),t=this.internal.f2,r=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,n=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,o=this.internal.Point,A=this.internal.Rectangle,l=this.internal.Matrix,c=new d}]);var h=function(T){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var G=T;Object.defineProperty(this,"pdf",{get:function(){return G}});var X=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return X},set:function(ge){X=!!ge}});var se=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return se},set:function(ge){se=!!ge}});var le=0;Object.defineProperty(this,"posX",{get:function(){return le},set:function(ge){isNaN(ge)||(le=ge)}});var de=0;Object.defineProperty(this,"posY",{get:function(){return de},set:function(ge){isNaN(ge)||(de=ge)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(ge){var J;typeof ge=="number"?J=[ge,ge,ge,ge]:((J=new Array(4))[0]=ge[0],J[1]=ge.length>=2?ge[1]:J[0],J[2]=ge.length>=3?ge[2]:J[0],J[3]=ge.length>=4?ge[3]:J[1]),c.margin=J}});var Ne=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Ne},set:function(ge){Ne=ge}});var je=0;Object.defineProperty(this,"lastBreak",{get:function(){return je},set:function(ge){je=ge}});var Ie=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ie},set:function(ge){Ie=ge}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(ge){ge instanceof d&&(c=ge)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(ge){c.path=ge}});var Oe=[];Object.defineProperty(this,"ctxStack",{get:function(){return Oe},set:function(ge){Oe=ge}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ge){var J;J=m(ge),this.ctx.fillStyle=J.style,this.ctx.isFillTransparent=J.a===0,this.ctx.fillOpacity=J.a,this.pdf.setFillColor(J.r,J.g,J.b,{a:J.a}),this.pdf.setTextColor(J.r,J.g,J.b,{a:J.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ge){var J=m(ge);this.ctx.strokeStyle=J.style,this.ctx.isStrokeTransparent=J.a===0,this.ctx.strokeOpacity=J.a,J.a===0?this.pdf.setDrawColor(255,255,255):(J.a,this.pdf.setDrawColor(J.r,J.g,J.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ge){["butt","round","square"].indexOf(ge)!==-1&&(this.ctx.lineCap=ge,this.pdf.setLineCap(ge))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ge){isNaN(ge)||(this.ctx.lineWidth=ge,this.pdf.setLineWidth(ge))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ge){["bevel","round","miter"].indexOf(ge)!==-1&&(this.ctx.lineJoin=ge,this.pdf.setLineJoin(ge))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ge){isNaN(ge)||(this.ctx.miterLimit=ge,this.pdf.setMiterLimit(ge))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ge){this.ctx.textBaseline=ge}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ge){["right","end","center","left","start"].indexOf(ge)!==-1&&(this.ctx.textAlign=ge)}});var ue=null,ke=null;Object.defineProperty(this,"fontFaces",{get:function(){return ke},set:function(ge){ue=null,ke=ge}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ge){var J;if(this.ctx.font=ge,(J=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(ge))!==null){var xe=J[1];J[2];var Te=J[3],Xe=J[4];J[5];var Qe=J[6],Ye=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Xe)[2];Xe=Math.floor(Ye==="px"?parseFloat(Xe)*this.pdf.internal.scaleFactor:Ye==="em"?parseFloat(Xe)*this.pdf.getFontSize():parseFloat(Xe)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Xe);var We=function(nt){var ht,rr,Jt=[],ot=nt.trim();if(ot==="")return j0;if(ot in fy)return[fy[ot]];for(;ot!=="";){switch(rr=null,ht=(ot=py(ot)).charAt(0)){case'"':case"'":rr=TT(ot.substring(1),ht);break;default:rr=RT(ot)}if(rr===null||(Jt.push(rr[0]),(ot=py(rr[1]))!==""&&ot.charAt(0)!==","))return j0;ot=ot.replace(/^,/,"")}return Jt}(Qe);if(this.fontFaces){var xt=function(nt,ht){if(ue===null){var rr=function(Jt){var ot=[];return Object.keys(Jt).forEach(function(Qt){Jt[Qt].forEach(function(sr){var _t=null;switch(sr){case"bold":_t={family:Qt,weight:"bold"};break;case"italic":_t={family:Qt,style:"italic"};break;case"bolditalic":_t={family:Qt,weight:"bold",style:"italic"};break;case"":case"normal":_t={family:Qt}}_t!==null&&(_t.ref={name:Qt,style:sr},ot.push(_t))})}),ot}(nt.getFontList());ue=function(Jt){for(var ot={},Qt=0;Qt<Jt.length;++Qt){var sr=B0(Jt[Qt]),_t=sr.family,Yt=sr.stretch,Tt=sr.style,Lr=sr.weight;ot[_t]=ot[_t]||{},ot[_t][Yt]=ot[_t][Yt]||{},ot[_t][Yt][Tt]=ot[_t][Yt][Tt]||{},ot[_t][Yt][Tt][Lr]=sr}return ot}(rr.concat(ht))}return ue}(this.pdf,this.fontFaces),ye=We.map(function(nt){return{family:nt,stretch:"normal",weight:Te,style:xe}}),gt=function(nt,ht,rr){for(var Jt=(rr=rr||{}).defaultFontFamily||"times",ot=Object.assign({},MT,rr.genericFontFamilies||{}),Qt=null,sr=null,_t=0;_t<ht.length;++_t)if(ot[(Qt=B0(ht[_t])).family]&&(Qt.family=ot[Qt.family]),nt.hasOwnProperty(Qt.family)){sr=nt[Qt.family];break}if(!(sr=sr||nt[Jt]))throw new Error("Could not find a font-family for the rule '"+my(Qt)+"' and default family '"+Jt+"'.");if(sr=function(Yt,Tt){if(Tt[Yt])return Tt[Yt];var Lr=tv[Yt],es=Lr<=tv.normal?-1:1,dr=hy(Tt,fS,Lr,es);if(!dr)throw new Error("Could not find a matching font-stretch value for "+Yt);return dr}(Qt.stretch,sr),sr=function(Yt,Tt){if(Tt[Yt])return Tt[Yt];for(var Lr=hS[Yt],es=0;es<Lr.length;++es)if(Tt[Lr[es]])return Tt[Lr[es]];throw new Error("Could not find a matching font-style for "+Yt)}(Qt.style,sr),!(sr=function(Yt,Tt){if(Tt[Yt])return Tt[Yt];if(Yt===400&&Tt[500])return Tt[500];if(Yt===500&&Tt[400])return Tt[400];var Lr=PT[Yt],es=hy(Tt,mS,Lr,Yt<400?-1:1);if(!es)throw new Error("Could not find a matching font-weight for value "+Yt);return es}(Qt.weight,sr)))throw new Error("Failed to resolve a font for the rule '"+my(Qt)+"'.");return sr}(xt,ye);this.pdf.setFont(gt.ref.name,gt.ref.style)}else{var yt="";(Te==="bold"||parseInt(Te,10)>=700||xe==="bold")&&(yt="bold"),xe==="italic"&&(yt+="italic"),yt.length===0&&(yt="normal");for(var ct="",me={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Je=0;Je<We.length;Je++){if(this.pdf.internal.getFont(We[Je],yt,{noFallback:!0,disableWarning:!0})!==void 0){ct=We[Je];break}if(yt==="bolditalic"&&this.pdf.internal.getFont(We[Je],"bold",{noFallback:!0,disableWarning:!0})!==void 0)ct=We[Je],yt="bold";else if(this.pdf.internal.getFont(We[Je],"normal",{noFallback:!0,disableWarning:!0})!==void 0){ct=We[Je],yt="normal";break}}if(ct===""){for(var st=0;st<We.length;st++)if(me[We[st]]){ct=me[We[st]];break}}ct=ct===""?"Times":ct,this.pdf.setFont(ct,yt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ge){this.ctx.globalCompositeOperation=ge}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ge){this.ctx.globalAlpha=ge}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ge){this.ctx.lineDashOffset=ge,we.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ge){this.ctx.lineDash=ge,we.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ge){this.ctx.ignoreClearRect=!!ge}})};h.prototype.setLineDash=function(T){this.lineDash=T},h.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},h.prototype.fill=function(){w.call(this,"fill",!1)},h.prototype.stroke=function(){w.call(this,"stroke",!1)},h.prototype.beginPath=function(){this.path=[{type:"begin"}]},h.prototype.moveTo=function(T,G){if(isNaN(T)||isNaN(G))throw _r.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var X=this.ctx.transform.applyToPoint(new o(T,G));this.path.push({type:"mt",x:X.x,y:X.y}),this.ctx.lastPoint=new o(T,G)},h.prototype.closePath=function(){var T=new o(0,0),G=0;for(G=this.path.length-1;G!==-1;G--)if(this.path[G].type==="begin"&&Br(this.path[G+1])==="object"&&typeof this.path[G+1].x=="number"){T=new o(this.path[G+1].x,this.path[G+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(T.x,T.y)},h.prototype.lineTo=function(T,G){if(isNaN(T)||isNaN(G))throw _r.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var X=this.ctx.transform.applyToPoint(new o(T,G));this.path.push({type:"lt",x:X.x,y:X.y}),this.ctx.lastPoint=new o(X.x,X.y)},h.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),w.call(this,null,!0)},h.prototype.quadraticCurveTo=function(T,G,X,se){if(isNaN(X)||isNaN(se)||isNaN(T)||isNaN(G))throw _r.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var le=this.ctx.transform.applyToPoint(new o(X,se)),de=this.ctx.transform.applyToPoint(new o(T,G));this.path.push({type:"qct",x1:de.x,y1:de.y,x:le.x,y:le.y}),this.ctx.lastPoint=new o(le.x,le.y)},h.prototype.bezierCurveTo=function(T,G,X,se,le,de){if(isNaN(le)||isNaN(de)||isNaN(T)||isNaN(G)||isNaN(X)||isNaN(se))throw _r.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Ne=this.ctx.transform.applyToPoint(new o(le,de)),je=this.ctx.transform.applyToPoint(new o(T,G)),Ie=this.ctx.transform.applyToPoint(new o(X,se));this.path.push({type:"bct",x1:je.x,y1:je.y,x2:Ie.x,y2:Ie.y,x:Ne.x,y:Ne.y}),this.ctx.lastPoint=new o(Ne.x,Ne.y)},h.prototype.arc=function(T,G,X,se,le,de){if(isNaN(T)||isNaN(G)||isNaN(X)||isNaN(se)||isNaN(le))throw _r.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(de=!!de,!this.ctx.transform.isIdentity){var Ne=this.ctx.transform.applyToPoint(new o(T,G));T=Ne.x,G=Ne.y;var je=this.ctx.transform.applyToPoint(new o(0,X)),Ie=this.ctx.transform.applyToPoint(new o(0,0));X=Math.sqrt(Math.pow(je.x-Ie.x,2)+Math.pow(je.y-Ie.y,2))}Math.abs(le-se)>=2*Math.PI&&(se=0,le=2*Math.PI),this.path.push({type:"arc",x:T,y:G,radius:X,startAngle:se,endAngle:le,counterclockwise:de})},h.prototype.arcTo=function(T,G,X,se,le){throw new Error("arcTo not implemented.")},h.prototype.rect=function(T,G,X,se){if(isNaN(T)||isNaN(G)||isNaN(X)||isNaN(se))throw _r.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(T,G),this.lineTo(T+X,G),this.lineTo(T+X,G+se),this.lineTo(T,G+se),this.lineTo(T,G),this.lineTo(T+X,G),this.lineTo(T,G)},h.prototype.fillRect=function(T,G,X,se){if(isNaN(T)||isNaN(G)||isNaN(X)||isNaN(se))throw _r.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!u.call(this)){var le={};this.lineCap!=="butt"&&(le.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(le.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(T,G,X,se),this.fill(),le.hasOwnProperty("lineCap")&&(this.lineCap=le.lineCap),le.hasOwnProperty("lineJoin")&&(this.lineJoin=le.lineJoin)}},h.prototype.strokeRect=function(T,G,X,se){if(isNaN(T)||isNaN(G)||isNaN(X)||isNaN(se))throw _r.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");p.call(this)||(this.beginPath(),this.rect(T,G,X,se),this.stroke())},h.prototype.clearRect=function(T,G,X,se){if(isNaN(T)||isNaN(G)||isNaN(X)||isNaN(se))throw _r.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(T,G,X,se))},h.prototype.save=function(T){T=typeof T!="boolean"||T;for(var G=this.pdf.internal.getCurrentPageInfo().pageNumber,X=0;X<this.pdf.internal.getNumberOfPages();X++)this.pdf.setPage(X+1),this.pdf.internal.out("q");if(this.pdf.setPage(G),T){this.ctx.fontSize=this.pdf.internal.getFontSize();var se=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=se}},h.prototype.restore=function(T){T=typeof T!="boolean"||T;for(var G=this.pdf.internal.getCurrentPageInfo().pageNumber,X=0;X<this.pdf.internal.getNumberOfPages();X++)this.pdf.setPage(X+1),this.pdf.internal.out("Q");this.pdf.setPage(G),T&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},h.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var m=function(T){var G,X,se,le;if(T.isCanvasGradient===!0&&(T=T.getColor()),!T)return{r:0,g:0,b:0,a:0,style:T};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(T))G=0,X=0,se=0,le=0;else{var de=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(T);if(de!==null)G=parseInt(de[1]),X=parseInt(de[2]),se=parseInt(de[3]),le=1;else if((de=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(T))!==null)G=parseInt(de[1]),X=parseInt(de[2]),se=parseInt(de[3]),le=parseFloat(de[4]);else{if(le=1,typeof T=="string"&&T.charAt(0)!=="#"){var Ne=new iS(T);T=Ne.ok?Ne.toHex():"#000000"}T.length===4?(G=T.substring(1,2),G+=G,X=T.substring(2,3),X+=X,se=T.substring(3,4),se+=se):(G=T.substring(1,3),X=T.substring(3,5),se=T.substring(5,7)),G=parseInt(G,16),X=parseInt(X,16),se=parseInt(se,16)}}return{r:G,g:X,b:se,a:le,style:T}},u=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},p=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};h.prototype.fillText=function(T,G,X,se){if(isNaN(G)||isNaN(X)||typeof T!="string")throw _r.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(se=isNaN(se)?void 0:se,!u.call(this)){var le=K(this.ctx.transform.rotation),de=this.ctx.transform.scaleX;E.call(this,{text:T,x:G,y:X,scale:de,angle:le,align:this.textAlign,maxWidth:se})}},h.prototype.strokeText=function(T,G,X,se){if(isNaN(G)||isNaN(X)||typeof T!="string")throw _r.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!p.call(this)){se=isNaN(se)?void 0:se;var le=K(this.ctx.transform.rotation),de=this.ctx.transform.scaleX;E.call(this,{text:T,x:G,y:X,scale:de,renderingMode:"stroke",angle:le,align:this.textAlign,maxWidth:se})}},h.prototype.measureText=function(T){if(typeof T!="string")throw _r.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var G=this.pdf,X=this.pdf.internal.scaleFactor,se=G.internal.getFontSize(),le=G.getStringUnitWidth(T)*se/G.internal.scaleFactor;return new function(de){var Ne=(de=de||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Ne}}),this}({width:le*=Math.round(96*X/72*1e4)/1e4})},h.prototype.scale=function(T,G){if(isNaN(T)||isNaN(G))throw _r.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var X=new l(T,0,0,G,0,0);this.ctx.transform=this.ctx.transform.multiply(X)},h.prototype.rotate=function(T){if(isNaN(T))throw _r.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var G=new l(Math.cos(T),Math.sin(T),-Math.sin(T),Math.cos(T),0,0);this.ctx.transform=this.ctx.transform.multiply(G)},h.prototype.translate=function(T,G){if(isNaN(T)||isNaN(G))throw _r.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var X=new l(1,0,0,1,T,G);this.ctx.transform=this.ctx.transform.multiply(X)},h.prototype.transform=function(T,G,X,se,le,de){if(isNaN(T)||isNaN(G)||isNaN(X)||isNaN(se)||isNaN(le)||isNaN(de))throw _r.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Ne=new l(T,G,X,se,le,de);this.ctx.transform=this.ctx.transform.multiply(Ne)},h.prototype.setTransform=function(T,G,X,se,le,de){T=isNaN(T)?1:T,G=isNaN(G)?0:G,X=isNaN(X)?0:X,se=isNaN(se)?1:se,le=isNaN(le)?0:le,de=isNaN(de)?0:de,this.ctx.transform=new l(T,G,X,se,le,de)};var g=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};h.prototype.drawImage=function(T,G,X,se,le,de,Ne,je,Ie){var Oe=this.pdf.getImageProperties(T),ue=1,ke=1,ge=1,J=1;se!==void 0&&je!==void 0&&(ge=je/se,J=Ie/le,ue=Oe.width/se*je/se,ke=Oe.height/le*Ie/le),de===void 0&&(de=G,Ne=X,G=0,X=0),se!==void 0&&je===void 0&&(je=se,Ie=le),se===void 0&&je===void 0&&(je=Oe.width,Ie=Oe.height);for(var xe,Te=this.ctx.transform.decompose(),Xe=K(Te.rotate.shx),Qe=new l,Ye=(Qe=(Qe=(Qe=Qe.multiply(Te.translate)).multiply(Te.skew)).multiply(Te.scale)).applyToRectangle(new A(de-G*ge,Ne-X*J,se*ue,le*ke)),We=y.call(this,Ye),xt=[],ye=0;ye<We.length;ye+=1)xt.indexOf(We[ye])===-1&&xt.push(We[ye]);if(j(xt),this.autoPaging)for(var gt=xt[0],yt=xt[xt.length-1],ct=gt;ct<yt+1;ct++){this.pdf.setPage(ct);var me=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Je=ct===1?this.posY+this.margin[0]:this.margin[0],st=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],nt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ht=ct===1?0:st+(ct-2)*nt;if(this.ctx.clip_path.length!==0){var rr=this.path;xe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=B(xe,this.posX+this.margin[3],-ht+Je+this.ctx.prevPageLastElemOffset),N.call(this,"fill",!0),this.path=rr}var Jt=JSON.parse(JSON.stringify(Ye));Jt=B([Jt],this.posX+this.margin[3],-ht+Je+this.ctx.prevPageLastElemOffset)[0];var ot=(ct>gt||ct<yt)&&g.call(this);ot&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],me,nt,null).clip().discardPath()),this.pdf.addImage(T,"JPEG",Jt.x,Jt.y,Jt.w,Jt.h,null,null,Xe),ot&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(T,"JPEG",Ye.x,Ye.y,Ye.w,Ye.h,null,null,Xe)};var y=function(T,G,X){var se=[];G=G||this.pdf.internal.pageSize.width,X=X||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var le=this.posY+this.ctx.prevPageLastElemOffset;switch(T.type){default:case"mt":case"lt":se.push(Math.floor((T.y+le)/X)+1);break;case"arc":se.push(Math.floor((T.y+le-T.radius)/X)+1),se.push(Math.floor((T.y+le+T.radius)/X)+1);break;case"qct":var de=Z(this.ctx.lastPoint.x,this.ctx.lastPoint.y,T.x1,T.y1,T.x,T.y);se.push(Math.floor((de.y+le)/X)+1),se.push(Math.floor((de.y+de.h+le)/X)+1);break;case"bct":var Ne=fe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,T.x1,T.y1,T.x2,T.y2,T.x,T.y);se.push(Math.floor((Ne.y+le)/X)+1),se.push(Math.floor((Ne.y+Ne.h+le)/X)+1);break;case"rect":se.push(Math.floor((T.y+le)/X)+1),se.push(Math.floor((T.y+T.h+le)/X)+1)}for(var je=0;je<se.length;je+=1)for(;this.pdf.internal.getNumberOfPages()<se[je];)x.call(this);return se},x=function(){var T=this.fillStyle,G=this.strokeStyle,X=this.font,se=this.lineCap,le=this.lineWidth,de=this.lineJoin;this.pdf.addPage(),this.fillStyle=T,this.strokeStyle=G,this.font=X,this.lineCap=se,this.lineWidth=le,this.lineJoin=de},B=function(T,G,X){for(var se=0;se<T.length;se++)switch(T[se].type){case"bct":T[se].x2+=G,T[se].y2+=X;case"qct":T[se].x1+=G,T[se].y1+=X;default:T[se].x+=G,T[se].y+=X}return T},j=function(T){return T.sort(function(G,X){return G-X})},w=function(T,G){for(var X,se,le=this.fillStyle,de=this.strokeStyle,Ne=this.lineCap,je=this.lineWidth,Ie=Math.abs(je*this.ctx.transform.scaleX),Oe=this.lineJoin,ue=JSON.parse(JSON.stringify(this.path)),ke=JSON.parse(JSON.stringify(this.path)),ge=[],J=0;J<ke.length;J++)if(ke[J].x!==void 0)for(var xe=y.call(this,ke[J]),Te=0;Te<xe.length;Te+=1)ge.indexOf(xe[Te])===-1&&ge.push(xe[Te]);for(var Xe=0;Xe<ge.length;Xe++)for(;this.pdf.internal.getNumberOfPages()<ge[Xe];)x.call(this);if(j(ge),this.autoPaging)for(var Qe=ge[0],Ye=ge[ge.length-1],We=Qe;We<Ye+1;We++){this.pdf.setPage(We),this.fillStyle=le,this.strokeStyle=de,this.lineCap=Ne,this.lineWidth=Ie,this.lineJoin=Oe;var xt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ye=We===1?this.posY+this.margin[0]:this.margin[0],gt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],yt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ct=We===1?0:gt+(We-2)*yt;if(this.ctx.clip_path.length!==0){var me=this.path;X=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=B(X,this.posX+this.margin[3],-ct+ye+this.ctx.prevPageLastElemOffset),N.call(this,T,!0),this.path=me}if(se=JSON.parse(JSON.stringify(ue)),this.path=B(se,this.posX+this.margin[3],-ct+ye+this.ctx.prevPageLastElemOffset),G===!1||We===0){var Je=(We>Qe||We<Ye)&&g.call(this);Je&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],xt,yt,null).clip().discardPath()),N.call(this,T,G),Je&&this.pdf.restoreGraphicsState()}this.lineWidth=je}else this.lineWidth=Ie,N.call(this,T,G),this.lineWidth=je;this.path=ue},N=function(T,G){if((T!=="stroke"||G||!p.call(this))&&(T==="stroke"||G||!u.call(this))){for(var X,se,le=[],de=this.path,Ne=0;Ne<de.length;Ne++){var je=de[Ne];switch(je.type){case"begin":le.push({begin:!0});break;case"close":le.push({close:!0});break;case"mt":le.push({start:je,deltas:[],abs:[]});break;case"lt":var Ie=le.length;if(de[Ne-1]&&!isNaN(de[Ne-1].x)&&(X=[je.x-de[Ne-1].x,je.y-de[Ne-1].y],Ie>0)){for(;Ie>=0;Ie--)if(le[Ie-1].close!==!0&&le[Ie-1].begin!==!0){le[Ie-1].deltas.push(X),le[Ie-1].abs.push(je);break}}break;case"bct":X=[je.x1-de[Ne-1].x,je.y1-de[Ne-1].y,je.x2-de[Ne-1].x,je.y2-de[Ne-1].y,je.x-de[Ne-1].x,je.y-de[Ne-1].y],le[le.length-1].deltas.push(X);break;case"qct":var Oe=de[Ne-1].x+2/3*(je.x1-de[Ne-1].x),ue=de[Ne-1].y+2/3*(je.y1-de[Ne-1].y),ke=je.x+2/3*(je.x1-je.x),ge=je.y+2/3*(je.y1-je.y),J=je.x,xe=je.y;X=[Oe-de[Ne-1].x,ue-de[Ne-1].y,ke-de[Ne-1].x,ge-de[Ne-1].y,J-de[Ne-1].x,xe-de[Ne-1].y],le[le.length-1].deltas.push(X);break;case"arc":le.push({deltas:[],abs:[],arc:!0}),Array.isArray(le[le.length-1].abs)&&le[le.length-1].abs.push(je)}}se=G?null:T==="stroke"?"stroke":"fill";for(var Te=!1,Xe=0;Xe<le.length;Xe++)if(le[Xe].arc)for(var Qe=le[Xe].abs,Ye=0;Ye<Qe.length;Ye++){var We=Qe[Ye];We.type==="arc"?D.call(this,We.x,We.y,We.radius,We.startAngle,We.endAngle,We.counterclockwise,void 0,G,!Te):Q.call(this,We.x,We.y),Te=!0}else if(le[Xe].close===!0)this.pdf.internal.out("h"),Te=!1;else if(le[Xe].begin!==!0){var xt=le[Xe].start.x,ye=le[Xe].start.y;V.call(this,le[Xe].deltas,xt,ye),Te=!0}se&&L.call(this,se),G&&P.call(this)}},I=function(T){var G=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,X=G*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return T-X;case"top":return T+G-X;case"hanging":return T+G-2*X;case"middle":return T+G/2-X;default:return T}},U=function(T){return T+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};h.prototype.createLinearGradient=function(){var T=function(){};return T.colorStops=[],T.addColorStop=function(G,X){this.colorStops.push([G,X])},T.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},T.isCanvasGradient=!0,T},h.prototype.createPattern=function(){return this.createLinearGradient()},h.prototype.createRadialGradient=function(){return this.createLinearGradient()};var D=function(T,G,X,se,le,de,Ne,je,Ie){for(var Oe=Y.call(this,X,se,le,de),ue=0;ue<Oe.length;ue++){var ke=Oe[ue];ue===0&&(Ie?S.call(this,ke.x1+T,ke.y1+G):Q.call(this,ke.x1+T,ke.y1+G)),ae.call(this,T,G,ke.x2,ke.y2,ke.x3,ke.y3,ke.x4,ke.y4)}je?P.call(this):L.call(this,Ne)},L=function(T){switch(T){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},P=function(){this.pdf.clip(),this.pdf.discardPath()},S=function(T,G){this.pdf.internal.out(r(T)+" "+a(G)+" m")},E=function(T){var G;switch(T.align){case"right":case"end":G="right";break;case"center":G="center";break;default:G="left"}var X=this.pdf.getTextDimensions(T.text),se=I.call(this,T.y),le=U.call(this,se)-X.h,de=this.ctx.transform.applyToPoint(new o(T.x,se)),Ne=this.ctx.transform.decompose(),je=new l;je=(je=(je=je.multiply(Ne.translate)).multiply(Ne.skew)).multiply(Ne.scale);for(var Ie,Oe,ue,ke=this.ctx.transform.applyToRectangle(new A(T.x,se,X.w,X.h)),ge=je.applyToRectangle(new A(T.x,le,X.w,X.h)),J=y.call(this,ge),xe=[],Te=0;Te<J.length;Te+=1)xe.indexOf(J[Te])===-1&&xe.push(J[Te]);if(j(xe),this.autoPaging)for(var Xe=xe[0],Qe=xe[xe.length-1],Ye=Xe;Ye<Qe+1;Ye++){this.pdf.setPage(Ye);var We=Ye===1?this.posY+this.margin[0]:this.margin[0],xt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ye=this.pdf.internal.pageSize.height-this.margin[2],gt=ye-this.margin[0],yt=this.pdf.internal.pageSize.width-this.margin[1],ct=yt-this.margin[3],me=Ye===1?0:xt+(Ye-2)*gt;if(this.ctx.clip_path.length!==0){var Je=this.path;Ie=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=B(Ie,this.posX+this.margin[3],-1*me+We),N.call(this,"fill",!0),this.path=Je}var st=B([JSON.parse(JSON.stringify(ge))],this.posX+this.margin[3],-me+We+this.ctx.prevPageLastElemOffset)[0];T.scale>=.01&&(Oe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Oe*T.scale),ue=this.lineWidth,this.lineWidth=ue*T.scale);var nt=this.autoPaging!=="text";if(nt||st.y+st.h<=ye){if(nt||st.y>=We&&st.x<=yt){var ht=nt?T.text:this.pdf.splitTextToSize(T.text,T.maxWidth||yt-st.x)[0],rr=B([JSON.parse(JSON.stringify(ke))],this.posX+this.margin[3],-me+We+this.ctx.prevPageLastElemOffset)[0],Jt=nt&&(Ye>Xe||Ye<Qe)&&g.call(this);Jt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ct,gt,null).clip().discardPath()),this.pdf.text(ht,rr.x,rr.y,{angle:T.angle,align:G,renderingMode:T.renderingMode}),Jt&&this.pdf.restoreGraphicsState()}}else st.y<ye&&(this.ctx.prevPageLastElemOffset+=ye-st.y);T.scale>=.01&&(this.pdf.setFontSize(Oe),this.lineWidth=ue)}else T.scale>=.01&&(Oe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Oe*T.scale),ue=this.lineWidth,this.lineWidth=ue*T.scale),this.pdf.text(T.text,de.x+this.posX,de.y+this.posY,{angle:T.angle,align:G,renderingMode:T.renderingMode,maxWidth:T.maxWidth}),T.scale>=.01&&(this.pdf.setFontSize(Oe),this.lineWidth=ue)},Q=function(T,G,X,se){X=X||0,se=se||0,this.pdf.internal.out(r(T+X)+" "+a(G+se)+" l")},V=function(T,G,X){return this.pdf.lines(T,G,X,null,null)},ae=function(T,G,X,se,le,de,Ne,je){this.pdf.internal.out([t(n(X+T)),t(i(se+G)),t(n(le+T)),t(i(de+G)),t(n(Ne+T)),t(i(je+G)),"c"].join(" "))},Y=function(T,G,X,se){for(var le=2*Math.PI,de=Math.PI/2;G>X;)G-=le;var Ne=Math.abs(X-G);Ne<le&&se&&(Ne=le-Ne);for(var je=[],Ie=se?-1:1,Oe=G;Ne>1e-5;){var ue=Oe+Ie*Math.min(Ne,de);je.push(q.call(this,T,Oe,ue)),Ne-=Math.abs(ue-Oe),Oe=ue}return je},q=function(T,G,X){var se=(X-G)/2,le=T*Math.cos(se),de=T*Math.sin(se),Ne=le,je=-de,Ie=Ne*Ne+je*je,Oe=Ie+Ne*le+je*de,ue=4/3*(Math.sqrt(2*Ie*Oe)-Oe)/(Ne*de-je*le),ke=Ne-ue*je,ge=je+ue*Ne,J=ke,xe=-ge,Te=se+G,Xe=Math.cos(Te),Qe=Math.sin(Te);return{x1:T*Math.cos(G),y1:T*Math.sin(G),x2:ke*Xe-ge*Qe,y2:ke*Qe+ge*Xe,x3:J*Xe-xe*Qe,y3:J*Qe+xe*Xe,x4:T*Math.cos(X),y4:T*Math.sin(X)}},K=function(T){return 180*T/Math.PI},Z=function(T,G,X,se,le,de){var Ne=T+.5*(X-T),je=G+.5*(se-G),Ie=le+.5*(X-le),Oe=de+.5*(se-de),ue=Math.min(T,le,Ne,Ie),ke=Math.max(T,le,Ne,Ie),ge=Math.min(G,de,je,Oe),J=Math.max(G,de,je,Oe);return new A(ue,ge,ke-ue,J-ge)},fe=function(T,G,X,se,le,de,Ne,je){var Ie,Oe,ue,ke,ge,J,xe,Te,Xe,Qe,Ye,We,xt,ye,gt=X-T,yt=se-G,ct=le-X,me=de-se,Je=Ne-le,st=je-de;for(Oe=0;Oe<41;Oe++)Xe=(xe=(ue=T+(Ie=Oe/40)*gt)+Ie*((ge=X+Ie*ct)-ue))+Ie*(ge+Ie*(le+Ie*Je-ge)-xe),Qe=(Te=(ke=G+Ie*yt)+Ie*((J=se+Ie*me)-ke))+Ie*(J+Ie*(de+Ie*st-J)-Te),Oe==0?(Ye=Xe,We=Qe,xt=Xe,ye=Qe):(Ye=Math.min(Ye,Xe),We=Math.min(We,Qe),xt=Math.max(xt,Xe),ye=Math.max(ye,Qe));return new A(Math.round(Ye),Math.round(We),Math.round(xt-Ye),Math.round(ye-We))},we=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var T,G,X=(T=this.ctx.lineDash,G=this.ctx.lineDashOffset,JSON.stringify({lineDash:T,lineDashOffset:G}));this.prevLineDash!==X&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=X)}}})(wt.API),function(e){var t=function(o){var A,l,c,d,h,m,u,p,g,y;for(l=[],c=0,d=(o+=A="\0\0\0\0".slice(o.length%4||4)).length;d>c;c+=4)(h=(o.charCodeAt(c)<<24)+(o.charCodeAt(c+1)<<16)+(o.charCodeAt(c+2)<<8)+o.charCodeAt(c+3))!==0?(m=(h=((h=((h=((h=(h-(y=h%85))/85)-(g=h%85))/85)-(p=h%85))/85)-(u=h%85))/85)%85,l.push(m+33,u+33,p+33,g+33,y+33)):l.push(122);return function(x,B){for(var j=B;j>0;j--)x.pop()}(l,A.length),String.fromCharCode.apply(String,l)+"~>"},r=function(o){var A,l,c,d,h,m=String,u="length",p=255,g="charCodeAt",y="slice",x="replace";for(o[y](-2),o=o[y](0,-2)[x](/\s/g,"")[x]("z","!!!!!"),c=[],d=0,h=(o+=A="uuuuu"[y](o[u]%5||5))[u];h>d;d+=5)l=52200625*(o[g](d)-33)+614125*(o[g](d+1)-33)+7225*(o[g](d+2)-33)+85*(o[g](d+3)-33)+(o[g](d+4)-33),c.push(p&l>>24,p&l>>16,p&l>>8,p&l);return function(B,j){for(var w=j;w>0;w--)B.pop()}(c,A[u]),m.fromCharCode.apply(m,c)},a=function(o){return o.split("").map(function(A){return("0"+A.charCodeAt().toString(16)).slice(-2)}).join("")+">"},n=function(o){var A=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),A.test(o)===!1)return"";for(var l="",c=0;c<o.length;c+=2)l+=String.fromCharCode("0x"+(o[c]+o[c+1]));return l},i=function(o){for(var A=new Uint8Array(o.length),l=o.length;l--;)A[l]=o.charCodeAt(l);return(A=Hx(A)).reduce(function(c,d){return c+String.fromCharCode(d)},"")};e.processDataByFilters=function(o,A){var l=0,c=o||"",d=[];for(typeof(A=A||[])=="string"&&(A=[A]),l=0;l<A.length;l+=1)switch(A[l]){case"ASCII85Decode":case"/ASCII85Decode":c=r(c),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=t(c),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=n(c),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=a(c),d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=i(c),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+A[l]+'" is not implemented')}return{data:c,reverseChain:d.reverse().join(" ")}}}(wt.API),function(e){e.loadFile=function(t,r,a){return function(n,i,o){i=i!==!1,o=typeof o=="function"?o:function(){};var A=void 0;try{A=function(l,c,d){var h=new XMLHttpRequest,m=0,u=function(p){var g=p.length,y=[],x=String.fromCharCode;for(m=0;m<g;m+=1)y.push(x(255&p.charCodeAt(m)));return y.join("")};if(h.open("GET",l,!c),h.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(h.onload=function(){h.status===200?d(u(this.responseText)):d(void 0)}),h.send(null),c&&h.status===200)return u(h.responseText)}(n,i,o)}catch(l){}return A}(t,r,a)},e.loadImageFile=e.loadFile}(wt.API),function(e){function t(){return(Mt.html2canvas?Promise.resolve(Mt.html2canvas):zd(()=>Promise.resolve().then(()=>EK),void 0)).catch(function(A){return Promise.reject(new Error("Could not load html2canvas: "+A))}).then(function(A){return A.default?A.default:A})}function r(){return(Mt.DOMPurify?Promise.resolve(Mt.DOMPurify):zd(()=>import("./purify.es-RO27acbN.js"),[])).catch(function(A){return Promise.reject(new Error("Could not load dompurify: "+A))}).then(function(A){return A.default?A.default:A})}var a=function(A){var l=Br(A);return l==="undefined"?"undefined":l==="string"||A instanceof String?"string":l==="number"||A instanceof Number?"number":l==="function"||A instanceof Function?"function":A&&A.constructor===Array?"array":A&&A.nodeType===1?"element":l==="object"?"object":"unknown"},n=function(A,l){var c=document.createElement(A);for(var d in l.className&&(c.className=l.className),l.innerHTML&&l.dompurify&&(c.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)c.style[d]=l.style[d];return c},i=function A(l,c){for(var d=l.nodeType===3?document.createTextNode(l.nodeValue):l.cloneNode(!1),h=l.firstChild;h;h=h.nextSibling)c!==!0&&h.nodeType===1&&h.nodeName==="SCRIPT"||d.appendChild(A(h,c));return l.nodeType===1&&(l.nodeName==="CANVAS"?(d.width=l.width,d.height=l.height,d.getContext("2d").drawImage(l,0,0)):l.nodeName!=="TEXTAREA"&&l.nodeName!=="SELECT"||(d.value=l.value),d.addEventListener("load",function(){d.scrollTop=l.scrollTop,d.scrollLeft=l.scrollLeft},!0)),d},o=function A(l){var c=Object.assign(A.convert(Promise.resolve()),JSON.parse(JSON.stringify(A.template))),d=A.convert(Promise.resolve(),c);return(d=d.setProgress(1,A,1,[A])).set(l)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(A,l){return A.__proto__=l||o.prototype,A},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(A,l){return this.then(function(){switch(l=l||function(c){switch(a(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(A),l){case"string":return this.then(r).then(function(c){return this.set({src:n("div",{innerHTML:A,dompurify:c})})});case"element":return this.set({src:A});case"canvas":return this.set({canvas:A});case"img":return this.set({img:A});default:return this.error("Unknown source type.")}})},o.prototype.to=function(A){switch(A){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var A={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=i(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(A.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=n("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=n("div",{className:"html2pdf__container",style:A}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(n("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var A=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(A).then(t).then(function(l){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,l(this.prop.container,c)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var A=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(A).then(t).then(function(l){var c=this.opt.jsPDF,d=this.opt.fontFaces,h=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,m=Object.assign({async:!0,allowTaint:!0,scale:h,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete m.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=d,d)for(var u=0;u<d.length;++u){var p=d[u],g=p.src.find(function(y){return y.format==="truetype"});g&&c.addFont(g.url,p.ref.name,p.ref.style)}return m.windowHeight=m.windowHeight||0,m.windowHeight=m.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):m.windowHeight,c.context2d.save(!0),l(this.prop.container,m)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var A=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=A})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(A,l,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(A,l):this.outputPdf(A,l)},o.prototype.outputPdf=function(A,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(A,l)})},o.prototype.outputImg=function(A){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(A){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+A+'" is not supported.'}})},o.prototype.save=function(A){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(A?{filename:A}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(A){if(a(A)!=="object")return this;var l=Object.keys(A||{}).map(function(c){if(c in o.template.prop)return function(){this.prop[c]=A[c]};switch(c){case"margin":return this.setMargin.bind(this,A.margin);case"jsPDF":return function(){return this.opt.jsPDF=A.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,A.pageSize);default:return function(){this.opt[c]=A[c]}}},this);return this.then(function(){return this.thenList(l)})},o.prototype.get=function(A,l){return this.then(function(){var c=A in o.template.prop?this.prop[A]:this.opt[A];return l?l(c):c})},o.prototype.setMargin=function(A){return this.then(function(){switch(a(A)){case"number":A=[A,A,A,A];case"array":if(A.length===2&&(A=[A[0],A[1],A[0],A[1]]),A.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=A}).then(this.setPageSize)},o.prototype.setPageSize=function(A){function l(c,d){return Math.floor(c*d/72*96)}return this.then(function(){(A=A||wt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(A.inner={width:A.width-this.opt.margin[1]-this.opt.margin[3],height:A.height-this.opt.margin[0]-this.opt.margin[2]},A.inner.px={width:l(A.inner.width,A.k),height:l(A.inner.height,A.k)},A.inner.ratio=A.inner.height/A.inner.width),this.prop.pageSize=A})},o.prototype.setProgress=function(A,l,c,d){return A!=null&&(this.progress.val=A),l!=null&&(this.progress.state=l),c!=null&&(this.progress.n=c),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(A,l,c,d){return this.setProgress(A?this.progress.val+A:null,l||null,c?this.progress.n+c:null,d?this.progress.stack.concat(d):null)},o.prototype.then=function(A,l){var c=this;return this.thenCore(A,l,function(d,h){return c.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,function(m){return c.updateProgress(null,d),m}).then(d,h).then(function(m){return c.updateProgress(1),m})})},o.prototype.thenCore=function(A,l,c){c=c||Promise.prototype.then;var d=this;A&&(A=A.bind(d)),l&&(l=l.bind(d));var h=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?d:o.convert(Object.assign({},d),Promise.prototype),m=c.call(h,A,l);return o.convert(m,d.__proto__)},o.prototype.thenExternal=function(A,l){return Promise.prototype.then.call(this,A,l)},o.prototype.thenList=function(A){var l=this;return A.forEach(function(c){l=l.thenCore(c)}),l},o.prototype.catch=function(A){A&&(A=A.bind(this));var l=Promise.prototype.catch.call(this,A);return o.convert(l,this)},o.prototype.catchExternal=function(A){return Promise.prototype.catch.call(this,A)},o.prototype.error=function(A){return this.then(function(){throw new Error(A)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,wt.getPageSize=function(A,l,c){if(Br(A)==="object"){var d=A;A=d.orientation,l=d.unit||l,c=d.format||c}l=l||"mm",c=c||"a4",A=(""+(A||"P")).toLowerCase();var h,m=(""+c).toLowerCase(),u={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":h=1;break;case"mm":h=72/25.4;break;case"cm":h=72/2.54;break;case"in":h=72;break;case"px":h=.75;break;case"pc":case"em":h=12;break;case"ex":h=6;break;default:throw"Invalid unit: "+l}var p,g=0,y=0;if(u.hasOwnProperty(m))g=u[m][1]/h,y=u[m][0]/h;else try{g=c[1],y=c[0]}catch(x){throw new Error("Invalid format: "+c)}if(A==="p"||A==="portrait")A="p",y>g&&(p=y,y=g,g=p);else{if(A!=="l"&&A!=="landscape")throw"Invalid orientation: "+A;A="l",g>y&&(p=y,y=g,g=p)}return{width:y,height:g,unit:l,k:h,orientation:A}},e.html=function(A,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(B0):null;var c=new o(l);return l.worker?c:c.from(A).doCallback()}}(wt.API),wt.API.addJS=function(e){return xy=e,this.internal.events.subscribe("postPutResources",function(){hf=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(hf+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),gy=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+xy+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){hf!==void 0&&gy!==void 0&&this.internal.out("/Names <</JavaScript "+hf+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var r=this,a=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var n=r.outline.render().split(/\r\n/),i=0;i<n.length;i++){var o=n[i],A=a.exec(o);if(A!=null){var l=A[1];r.internal.newObjectDeferredBegin(l,!1)}r.internal.write(o)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,d=[];for(i=0;i<c;i++){var h=r.internal.newObject();d.push(h);var m=r.internal.getPageInfo(i+1);r.internal.write("<< /D["+m.objId+" 0 R /XYZ null null null]>> endobj")}var u=r.internal.newObject();for(r.internal.write("<< /Names [ "),i=0;i<d.length;i++)r.internal.write("(page_"+(i+1)+")"+d[i]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+u+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(a,n,i){var o={title:n,options:i,children:[]};return a==null&&(a=this.root),a.children.push(o),o},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(a){a.id=r.internal.newObjectDeferred();for(var n=0;n<a.children.length;n++)this.genIds_r(a.children[n])},r.outline.renderRoot=function(a){this.objStart(a),this.line("/Type /Outlines"),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1]))),this.line("/Count "+this.count_r({count:0},a)),this.objEnd()},r.outline.renderItems=function(a){for(var n=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<a.children.length;i++){var o=a.children[i];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(a)),i>0&&this.line("/Prev "+this.makeRef(a.children[i-1])),i<a.children.length-1&&this.line("/Next "+this.makeRef(a.children[i+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var A=this.count=this.count_r({count:0},o);if(A>0&&this.line("/Count "+A),o.options&&o.options.pageNumber){var l=r.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+n(0)+" 0]")}this.objEnd()}for(var c=0;c<a.children.length;c++)this.renderItems(a.children[c])},r.outline.line=function(a){this.ctx.val+=a+`\r
`},r.outline.makeRef=function(a){return a.id+" 0 R"},r.outline.makeString=function(a){return"("+r.internal.pdfEscape(a)+")"},r.outline.objStart=function(a){this.ctx.val+=`\r
`+a.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(a,n){for(var i=0;i<n.children.length;i++)a.count++,this.count_r(a,n.children[i]);return a.count}}])}(wt.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,a,n,i,o,A){var l,c=this.decode.DCT_DECODE,d=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=o||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,l=function(h){for(var m,u=256*h.charCodeAt(4)+h.charCodeAt(5),p=h.length,g={width:0,height:0,numcomponents:1},y=4;y<p;y+=2){if(y+=u,t.indexOf(h.charCodeAt(y+1))!==-1){m=256*h.charCodeAt(y+5)+h.charCodeAt(y+6),g={width:256*h.charCodeAt(y+7)+h.charCodeAt(y+8),height:m,numcomponents:h.charCodeAt(y+9)};break}u=256*h.charCodeAt(y+2)+h.charCodeAt(y+3)}return g}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),l.numcomponents){case 1:A=this.color_spaces.DEVICE_GRAY;break;case 4:A=this.color_spaces.DEVICE_CMYK;break;case 3:A=this.color_spaces.DEVICE_RGB}d={data:r,width:l.width,height:l.height,colorSpace:A,bitsPerComponent:8,filter:c,index:a,alias:n}}return d}}(wt.API),wt.API.processPNG=function(e,t,r,a){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var n,i=BT(e,{checkCrc:!0}),o=i.width,A=i.height,l=i.channels,c=i.palette,d=i.depth;n=c&&l===1?function(D){for(var L=D.width,P=D.height,S=D.data,E=D.palette,Q=D.depth,V=!1,ae=[],Y=[],q=void 0,K=!1,Z=0,fe=0;fe<E.length;fe++){var we=ub(E[fe],4),T=we[0],G=we[1],X=we[2],se=we[3];ae.push(T,G,X),se!=null&&(se===0?(Z++,Y.length<1&&Y.push(fe)):se<255&&(K=!0))}if(K||Z>1){V=!0,Y=void 0;var le=L*P;q=new Uint8Array(le);for(var de=new DataView(S.buffer),Ne=0;Ne<le;Ne++){var je=C0(de,Ne,Q),Ie=ub(E[je],4)[3];q[Ne]=Ie}}else Z===0&&(Y=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:V?8:void 0,colorBytes:S,alphaBytes:q,needSMask:V,palette:ae,mask:Y}}(i):l===2||l===4?function(D){for(var L=D.data,P=D.width,S=D.height,E=D.channels,Q=D.depth,V=E===2?"DeviceGray":"DeviceRGB",ae=E-1,Y=P*S,q=ae,K=Y*q,Z=1*Y,fe=Math.ceil(K*Q/8),we=Math.ceil(Z*Q/8),T=new Uint8Array(fe),G=new Uint8Array(we),X=new DataView(L.buffer),se=new DataView(T.buffer),le=new DataView(G.buffer),de=!1,Ne=0;Ne<Y;Ne++){for(var je=Ne*E,Ie=0;Ie<q;Ie++)_y(se,C0(X,je+Ie,Q),Ne*q+Ie,Q);var Oe=C0(X,je+q,Q);Oe<(1<<Q)-1&&(de=!0),_y(le,Oe,1*Ne,Q)}return{colorSpace:V,colorsPerPixel:ae,sMaskBitsPerComponent:de?Q:void 0,colorBytes:T,alphaBytes:G,needSMask:de}}(i):function(D){var L=D.data,P=D.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:P,colorsPerPixel:P==="DeviceGray"?1:3,colorBytes:L instanceof Uint16Array?function(S){for(var E=S.length,Q=new Uint8Array(2*E),V=new DataView(Q.buffer,Q.byteOffset,Q.byteLength),ae=0;ae<E;ae++)V.setUint16(2*ae,S[ae],!1);return Q}(L):L,needSMask:!1}}(i);var h,m,u,p=n,g=p.colorSpace,y=p.colorsPerPixel,x=p.sMaskBitsPerComponent,B=p.colorBytes,j=p.alphaBytes,w=p.needSMask,N=p.palette,I=p.mask,U=null;return a!==wt.API.image_compression.NONE&&typeof Hx=="function"?(U=function(D){var L;switch(D){case wt.API.image_compression.FAST:L=11;break;case wt.API.image_compression.MEDIUM:L=13;break;case wt.API.image_compression.SLOW:L=14;break;default:L=12}return L}(a),h=this.decode.FLATE_DECODE,m="/Predictor ".concat(U," /Colors ").concat(y," /BitsPerComponent ").concat(d," /Columns ").concat(o),e=yy(B,Math.ceil(o*y*d/8),y,d,a),w&&(u=yy(j,Math.ceil(o*x/8),1,x,a))):(h=void 0,m=void 0,e=B,w&&(u=j)),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(u&&this.__addimage__.isArrayBuffer(u)||this.__addimage__.isArrayBufferView(u))&&(u=this.__addimage__.arrayBufferToBinaryString(u)),{alias:r,data:e,index:t,filter:h,decodeParameters:m,transparency:I,palette:N,sMask:u,predictor:U,width:o,height:A,bitsPerComponent:d,sMaskBitsPerComponent:x,colorSpace:g}}},function(e){e.processGIF89A=function(t,r,a,n){var i=new $T(t),o=i.width,A=i.height,l=[];i.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:o,height:A},d=new N0(100).encode(c,100);return e.processJPEG.call(this,d,r,a,n)},e.processGIF87A=e.processGIF89A}(wt.API),Qn.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:n,green:a,blue:r,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Qn.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){_r.log("bit decode error:"+r)}},Qn.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var a=this.bottom_up?e:this.height-1-e,n=0;n<t;n++)for(var i=this.datav.getUint8(this.pos++,!0),o=a*this.width*4+8*n*4,A=0;A<8&&8*n+A<this.width;A++){var l=this.palette[i>>7-A&1];this.data[o+4*A]=l.blue,this.data[o+4*A+1]=l.green,this.data[o+4*A+2]=l.red,this.data[o+4*A+3]=255}r!==0&&(this.pos+=4-r)}},Qn.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var a=this.bottom_up?r:this.height-1-r,n=0;n<e;n++){var i=this.datav.getUint8(this.pos++,!0),o=a*this.width*4+2*n*4,A=i>>4,l=15&i,c=this.palette[A];if(this.data[o]=c.blue,this.data[o+1]=c.green,this.data[o+2]=c.red,this.data[o+3]=255,2*n+1>=this.width)break;c=this.palette[l],this.data[o+4]=c.blue,this.data[o+4+1]=c.green,this.data[o+4+2]=c.red,this.data[o+4+3]=255}t!==0&&(this.pos+=4-t)}},Qn.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,a=0;a<this.width;a++){var n=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+4*a;if(n<this.palette.length){var o=this.palette[n];this.data[i]=o.red,this.data[i+1]=o.green,this.data[i+2]=o.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}e!==0&&(this.pos+=4-e)}},Qn.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var a=this.bottom_up?r:this.height-1-r,n=0;n<this.width;n++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(i&t)/t*255|0,A=(i>>5&t)/t*255|0,l=(i>>10&t)/t*255|0,c=i>>15?255:0,d=a*this.width*4+4*n;this.data[d]=l,this.data[d+1]=A,this.data[d+2]=o,this.data[d+3]=c}this.pos+=e}},Qn.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),a=this.height-1;a>=0;a--){for(var n=this.bottom_up?a:this.height-1-a,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var A=(o&t)/t*255|0,l=(o>>5&r)/r*255|0,c=(o>>11)/t*255|0,d=n*this.width*4+4*i;this.data[d]=c,this.data[d+1]=l,this.data[d+2]=A,this.data[d+3]=255}this.pos+=e}},Qn.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var a=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;this.data[o]=i,this.data[o+1]=n,this.data[o+2]=a,this.data[o+3]=255}this.pos+=this.width%4}},Qn.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var a=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),A=t*this.width*4+4*r;this.data[A]=i,this.data[A+1]=n,this.data[A+2]=a,this.data[A+3]=o}},Qn.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,r,a,n){var i=new Qn(t,!1),o=i.width,A=i.height,l={data:i.getData(),width:o,height:A},c=new N0(100).encode(l,100);return e.processJPEG.call(this,c,r,a,n)}}(wt.API),Fy.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,r,a,n){var i=new Fy(t),o=i.width,A=i.height,l={data:i.getData(),width:o,height:A},c=new N0(100).encode(l,100);return e.processJPEG.call(this,c,r,a,n)}}(wt.API),wt.API.processRGBA=function(e,t,r){for(var a=e.data,n=a.length,i=new Uint8Array(n/4*3),o=new Uint8Array(n/4),A=0,l=0,c=0;c<n;c+=4){var d=a[c],h=a[c+1],m=a[c+2],u=a[c+3];i[A++]=d,i[A++]=h,i[A++]=m,o[l++]=u}var p=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:p,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},wt.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Dl=wt.API,ff=Dl.getCharWidthsArray=function(e,t){var r,a,n=(t=t||{}).font||this.internal.getFont(),i=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),A=t.widths?t.widths:n.metadata.Unicode.widths,l=A.fof?A.fof:1,c=t.kerning?t.kerning:n.metadata.Unicode.kerning,d=c.fof?c.fof:1,h=t.doKerning!==!1,m=0,u=e.length,p=0,g=A[0]||l,y=[];for(r=0;r<u;r++)a=e.charCodeAt(r),typeof n.metadata.widthOfString=="function"?y.push((n.metadata.widthOfGlyph(n.metadata.characterToGlyph(a))+o*(1e3/i)||0)/1e3):(m=h&&Br(c[a])==="object"&&!isNaN(parseInt(c[a][p],10))?c[a][p]/d:0,y.push((A[a]||g)/l+m)),p=a;return y},vy=Dl.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),a=t.font||this.internal.getFont(),n=t.charSpace||this.internal.getCharSpace();return Dl.processArabic&&(e=Dl.processArabic(e)),typeof a.metadata.widthOfString=="function"?a.metadata.widthOfString(e,r,n)/r:ff.apply(this,arguments).reduce(function(i,o){return i+o},0)},wy=function(e,t,r,a){for(var n=[],i=0,o=e.length,A=0;i!==o&&A+t[i]<r;)A+=t[i],i++;n.push(e.slice(0,i));var l=i;for(A=0;i!==o;)A+t[i]>a&&(n.push(e.slice(l,i)),A=0,l=i),A+=t[i],i++;return l!==i&&n.push(e.slice(l,i)),n},by=function(e,t,r){r||(r={});var a,n,i,o,A,l,c,d=[],h=[d],m=r.textIndent||0,u=0,p=0,g=e.split(" "),y=ff.apply(this,[" ",r])[0];if(l=r.lineIndent===-1?g[0].length+2:r.lineIndent||0){var x=Array(l).join(" "),B=[];g.map(function(w){(w=w.split(/\s*\n/)).length>1?B=B.concat(w.map(function(N,I){return(I&&N.length?`
`:"")+N})):B.push(w[0])}),g=B,l=vy.apply(this,[x,r])}for(i=0,o=g.length;i<o;i++){var j=0;if(a=g[i],l&&a[0]==`
`&&(a=a.substr(1),j=1),m+u+(p=(n=ff.apply(this,[a,r])).reduce(function(w,N){return w+N},0))>t||j){if(p>t){for(A=wy.apply(this,[a,n,t-(m+u),t]),d.push(A.shift()),d=[A.pop()];A.length;)h.push([A.shift()]);p=n.slice(a.length-(d[0]?d[0].length:0)).reduce(function(w,N){return w+N},0)}else d=[a];h.push(d),m=p+l,u=y}else d.push(a),m+=u+p,u=y}return c=l?function(w,N){return(N?x:"")+w.join(" ")}:function(w){return w.join(" ")},h.map(c)},Dl.splitTextToSize=function(e,t,r){var a,n=(r=r||{}).fontSize||this.internal.getFontSize(),i=function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var h=this.internal.getFont(d.fontName,d.fontStyle),m="Unicode";return h.metadata[m]?{widths:h.metadata[m].widths||{0:1},kerning:h.metadata[m].kerning||{}}:{font:h.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,r);a=Array.isArray(e)?e:String(e).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/n;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/n:0,i.lineIndent=r.lineIndent;var A,l,c=[];for(A=0,l=a.length;A<l;A++)c=c.concat(by.apply(this,[a[A],o,i]));return c},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="0123456789abcdef",r="klmnopqrstuvwxyz",a={},n={},i=0;i<16;i++)a[r[i]]=t[i],n[t[i]]=r[i];var o=function(m){return"0x"+parseInt(m,10).toString(16)},A=e.__fontmetrics__.compress=function(m){var u,p,g,y,x=["{"];for(var B in m){if(u=m[B],isNaN(parseInt(B,10))?p="'"+B+"'":(B=parseInt(B,10),p=(p=o(B).slice(2)).slice(0,-1)+n[p.slice(-1)]),typeof u=="number")u<0?(g=o(u).slice(3),y="-"):(g=o(u).slice(2),y=""),g=y+g.slice(0,-1)+n[g.slice(-1)];else{if(Br(u)!=="object")throw new Error("Don't know what to do with value type "+Br(u)+".");g=A(u)}x.push(p+g)}return x.push("}"),x.join("")},l=e.__fontmetrics__.uncompress=function(m){if(typeof m!="string")throw new Error("Invalid argument passed to uncompress.");for(var u,p,g,y,x={},B=1,j=x,w=[],N="",I="",U=m.length-1,D=1;D<U;D+=1)(y=m[D])=="'"?u?(g=u.join(""),u=void 0):u=[]:u?u.push(y):y=="{"?(w.push([j,g]),j={},g=void 0):y=="}"?((p=w.pop())[0][p[1]]=j,g=void 0,j=p[0]):y=="-"?B=-1:g===void 0?a.hasOwnProperty(y)?(N+=a[y],g=parseInt(N,16)*B,B=1,N=""):N+=y:a.hasOwnProperty(y)?(I+=a[y],j[g]=parseInt(I,16)*B,B=1,g=void 0,I=""):I+=y;return x},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},h={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(m){var u=m.font,p=h.Unicode[u.postScriptName];p&&(u.metadata.Unicode={},u.metadata.Unicode.widths=p.widths,u.metadata.Unicode.kerning=p.kerning);var g=d.Unicode[u.postScriptName];g&&(u.metadata.Unicode.encoding=g,u.encoding=g.codePages[0])}])}(wt.API),function(e){var t=function(r){for(var a=r.length,n=new Uint8Array(a),i=0;i<a;i++)n[i]=r.charCodeAt(i);return n};e.API.events.push(["addFont",function(r){var a=void 0,n=r.font,i=r.instance;if(!n.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+n.postScriptName+"').");if(typeof(a=i.existsFileInVFS(n.postScriptName)===!1?i.loadFile(n.postScriptName):i.getFileFromVFS(n.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+n.postScriptName+"').");(function(o,A){A=/^\x00\x01\x00\x00/.test(A)?t(A):t(em(A)),o.metadata=e.API.TTFFont.open(A),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(n,a)}}])}(wt),wt.API.addSvgAsImage=function(e,t,r,a,n,i,o,A){if(isNaN(t)||isNaN(r))throw _r.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(a)||isNaN(n))throw _r.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=a,l.height=n;var c=l.getContext("2d");c.fillStyle="#fff",c.fillRect(0,0,l.width,l.height);var d={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},h=this;return(Mt.canvg?Promise.resolve(Mt.canvg):zd(()=>import("./index.es-W8bxXkLl.js"),__vite__mapDeps([2,1,3,4,5,6,7]))).catch(function(m){return Promise.reject(new Error("Could not load canvg: "+m))}).then(function(m){return m.default?m.default:m}).then(function(m){return m.fromString(c,e,d)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(m){return m.render(d)}).then(function(){h.addImage(l.toDataURL("image/jpeg",1),t,r,a,n,o,A)})},wt.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var a=1;a<=this.internal.getNumberOfPages();a++)for(var n=0;n<this.internal.pages[a].length;n++)this.internal.pages[a][n]=this.internal.pages[a][n].replace(t,r);return this},wt.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var a,n,i,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},A=Object.keys(o),l=[],c=0,d=0,h=0;function m(p,g){var y,x=!1;for(y=0;y<p.length;y+=1)p[y]===g&&(x=!0);return x}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var u=A.length;for(h=0;h<u;h+=1)r[A[h]].value=r[A[h]].defaultValue,r[A[h]].explicitSet=!1}if(Br(e)==="object"){for(n in e)if(i=e[n],m(A,n)&&i!==void 0){if(r[n].type==="boolean"&&typeof i=="boolean")r[n].value=i;else if(r[n].type==="name"&&m(r[n].valueSet,i))r[n].value=i;else if(r[n].type==="integer"&&Number.isInteger(i))r[n].value=i;else if(r[n].type==="array"){for(c=0;c<i.length;c+=1)if(a=!0,i[c].length===1&&typeof i[c][0]=="number")l.push(String(i[c]-1));else if(i[c].length>1){for(d=0;d<i[c].length;d+=1)typeof i[c][d]!="number"&&(a=!1);a===!0&&l.push([i[c][0]-1,i[c][1]-1].join(" "))}r[n].value="["+l.join(" ")+"]"}else r[n].value=r[n].defaultValue;r[n].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var p,g=[];for(p in r)r[p].explicitSet===!0&&(r[p].type==="name"?g.push("/"+p+" /"+r[p].value):g.push("/"+p+" "+r[p].value));g.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+g.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(e){var t=function(){var a='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',n=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(a)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),A=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=i.length+o.length+A.length+n.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(n+i+o+A+l),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(a,n){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:a,namespaceuri:n||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}}(wt.API),function(e){var t=e.API,r=t.pdfEscape16=function(i,o){for(var A,l=o.metadata.Unicode.widths,c=["","0","00","000","0000"],d=[""],h=0,m=i.length;h<m;++h){if(A=o.metadata.characterToGlyph(i.charCodeAt(h)),o.metadata.glyIdsUsed.push(A),o.metadata.toUnicode[A]=i.charCodeAt(h),l.indexOf(A)==-1&&(l.push(A),l.push([parseInt(o.metadata.widthOfGlyph(A),10)])),A=="0")return d.join("");A=A.toString(16),d.push(c[4-A.length],A)}return d.join("")},a=function(i){var o,A,l,c,d,h,m;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],h=0,m=(A=Object.keys(i).sort(function(u,p){return u-p})).length;h<m;h++)o=A[h],l.length>=100&&(d+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),i[o]!==void 0&&i[o]!==null&&typeof i[o].toString=="function"&&(c=("0000"+i[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),l.push("<"+o+"><"+c+">"));return l.length&&(d+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),d+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(i){(function(o){var A=o.font,l=o.out,c=o.newObject,d=o.putStream;if(A.metadata instanceof e.API.TTFFont&&A.encoding==="Identity-H"){for(var h=A.metadata.Unicode.widths,m=A.metadata.subset.encode(A.metadata.glyIdsUsed,1),u="",p=0;p<m.length;p++)u+=String.fromCharCode(m[p]);var g=c();d({data:u,addLength1:!0,objectId:g}),l("endobj");var y=c();d({data:a(A.metadata.toUnicode),addLength1:!0,objectId:y}),l("endobj");var x=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+Gl(A.fontName)),l("/FontFile2 "+g+" 0 R"),l("/FontBBox "+e.API.PDFObject.convert(A.metadata.bbox)),l("/Flags "+A.metadata.flags),l("/StemV "+A.metadata.stemV),l("/ItalicAngle "+A.metadata.italicAngle),l("/Ascent "+A.metadata.ascender),l("/Descent "+A.metadata.decender),l("/CapHeight "+A.metadata.capHeight),l(">>"),l("endobj");var B=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+Gl(A.fontName)),l("/FontDescriptor "+x+" 0 R"),l("/W "+e.API.PDFObject.convert(h)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+A.encoding+")"),l(">>"),l(">>"),l("endobj"),A.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+y+" 0 R"),l("/BaseFont /"+Gl(A.fontName)),l("/Encoding /"+A.encoding),l("/DescendantFonts ["+B+" 0 R]"),l(">>"),l("endobj"),A.isAlreadyPutted=!0}})(i)}]),t.events.push(["putFont",function(i){(function(o){var A=o.font,l=o.out,c=o.newObject,d=o.putStream;if(A.metadata instanceof e.API.TTFFont&&A.encoding==="WinAnsiEncoding"){for(var h=A.metadata.rawData,m="",u=0;u<h.length;u++)m+=String.fromCharCode(h[u]);var p=c();d({data:m,addLength1:!0,objectId:p}),l("endobj");var g=c();d({data:a(A.metadata.toUnicode),addLength1:!0,objectId:g}),l("endobj");var y=c();l("<<"),l("/Descent "+A.metadata.decender),l("/CapHeight "+A.metadata.capHeight),l("/StemV "+A.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+p+" 0 R"),l("/Flags 96"),l("/FontBBox "+e.API.PDFObject.convert(A.metadata.bbox)),l("/FontName /"+Gl(A.fontName)),l("/ItalicAngle "+A.metadata.italicAngle),l("/Ascent "+A.metadata.ascender),l(">>"),l("endobj"),A.objectNumber=c();for(var x=0;x<A.metadata.hmtx.widths.length;x++)A.metadata.hmtx.widths[x]=parseInt(A.metadata.hmtx.widths[x]*(1e3/A.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+g+" 0 R/BaseFont/"+Gl(A.fontName)+"/FontDescriptor "+y+" 0 R/Encoding/"+A.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(A.metadata.hmtx.widths)+">>"),l("endobj"),A.isAlreadyPutted=!0}})(i)}]);var n=function(i){var o,A=i.text||"",l=i.x,c=i.y,d=i.options||{},h=i.mutex||{},m=h.pdfEscape,u=h.activeFontKey,p=h.fonts,g=u,y="",x=0,B="",j=p[g].encoding;if(p[g].encoding!=="Identity-H")return{text:A,x:l,y:c,options:d,mutex:h};for(B=A,g=u,Array.isArray(A)&&(B=A[0]),x=0;x<B.length;x+=1)p[g].metadata.hasOwnProperty("cmap")&&(o=p[g].metadata.cmap.unicode.codeMap[B[x].charCodeAt(0)]),o||B[x].charCodeAt(0)<256&&p[g].metadata.hasOwnProperty("Unicode")?y+=B[x]:y+="";var w="";return parseInt(g.slice(1))<14||j==="WinAnsiEncoding"?w=m(y,g).split("").map(function(N){return N.charCodeAt(0).toString(16)}).join(""):j==="Identity-H"&&(w=r(y,p[g])),h.isHex=!0,{text:w,x:l,y:c,options:d,mutex:h}};t.events.push(["postProcessText",function(i){var o=i.text||"",A=[],l={text:o,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(o)){var c=0;for(c=0;c<o.length;c+=1)Array.isArray(o[c])&&o[c].length===3?A.push([n(Object.assign({},l,{text:o[c][0]})).text,o[c][1],o[c][2]]):A.push(n(Object.assign({},l,{text:o[c]})).text);i.text=A}else i.text=n(Object.assign({},l,{text:o})).text}])}(wt),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,a){return t.call(this),this.internal.vFS[r]=a,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(wt.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(a){var n,i,o,A,l,c,d,h=t,m=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],u=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],p={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},g={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},y=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],x=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),B=!1,j=0;this.__bidiEngine__={};var w=function(S){var E=S.charCodeAt(),Q=E>>8,V=g[Q];return V!==void 0?h[256*V+(255&E)]:Q===252||Q===253?"AL":x.test(Q)?"L":Q===8?"R":"N"},N=function(S){for(var E,Q=0;Q<S.length;Q++){if((E=w(S.charAt(Q)))==="L")return!1;if(E==="R")return!0}return!1},I=function(S,E,Q,V){var ae,Y,q,K,Z=E[V];switch(Z){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":B=!1;break;case"N":case"AN":break;case"EN":B&&(Z="AN");break;case"AL":B=!0,Z="R";break;case"WS":case"BN":Z="N";break;case"CS":V<1||V+1>=E.length||(ae=Q[V-1])!=="EN"&&ae!=="AN"||(Y=E[V+1])!=="EN"&&Y!=="AN"?Z="N":B&&(Y="AN"),Z=Y===ae?Y:"N";break;case"ES":Z=(ae=V>0?Q[V-1]:"B")==="EN"&&V+1<E.length&&E[V+1]==="EN"?"EN":"N";break;case"ET":if(V>0&&Q[V-1]==="EN"){Z="EN";break}if(B){Z="N";break}for(q=V+1,K=E.length;q<K&&E[q]==="ET";)q++;Z=q<K&&E[q]==="EN"?"EN":"N";break;case"NSM":if(o&&!A){for(K=E.length,q=V+1;q<K&&E[q]==="NSM";)q++;if(q<K){var fe=S[V],we=fe>=1425&&fe<=2303||fe===64286;if(ae=E[q],we&&(ae==="R"||ae==="AL")){Z="R";break}}}Z=V<1||(ae=E[V-1])==="B"?"N":Q[V-1];break;case"B":B=!1,n=!0,Z=j;break;case"S":i=!0,Z="N"}return Z},U=function(S,E,Q){var V=S.split("");return Q&&D(V,Q,{hiLevel:j}),V.reverse(),E&&E.reverse(),V.join("")},D=function(S,E,Q){var V,ae,Y,q,K,Z=-1,fe=S.length,we=0,T=[],G=j?u:m,X=[];for(B=!1,n=!1,i=!1,ae=0;ae<fe;ae++)X[ae]=w(S[ae]);for(Y=0;Y<fe;Y++){if(K=we,T[Y]=I(S,X,T,Y),V=240&(we=G[K][p[T[Y]]]),we&=15,E[Y]=q=G[we][5],V>0)if(V===16){for(ae=Z;ae<Y;ae++)E[ae]=1;Z=-1}else Z=-1;if(G[we][6])Z===-1&&(Z=Y);else if(Z>-1){for(ae=Z;ae<Y;ae++)E[ae]=q;Z=-1}X[Y]==="B"&&(E[Y]=0),Q.hiLevel|=q}i&&function(se,le,de){for(var Ne=0;Ne<de;Ne++)if(se[Ne]==="S"){le[Ne]=j;for(var je=Ne-1;je>=0&&se[je]==="WS";je--)le[je]=j}}(X,E,fe)},L=function(S,E,Q,V,ae){if(!(ae.hiLevel<S)){if(S===1&&j===1&&!n)return E.reverse(),void(Q&&Q.reverse());for(var Y,q,K,Z,fe=E.length,we=0;we<fe;){if(V[we]>=S){for(K=we+1;K<fe&&V[K]>=S;)K++;for(Z=we,q=K-1;Z<q;Z++,q--)Y=E[Z],E[Z]=E[q],E[q]=Y,Q&&(Y=Q[Z],Q[Z]=Q[q],Q[q]=Y);we=K}we++}}},P=function(S,E,Q){var V=S.split(""),ae={hiLevel:j};return Q||(Q=[]),D(V,Q,ae),function(Y,q,K){if(K.hiLevel!==0&&d)for(var Z,fe=0;fe<Y.length;fe++)q[fe]===1&&(Z=y.indexOf(Y[fe]))>=0&&(Y[fe]=y[Z+1])}(V,Q,ae),L(2,V,E,Q,ae),L(1,V,E,Q,ae),V.join("")};return this.__bidiEngine__.doBidiReorder=function(S,E,Q){if(function(ae,Y){if(Y)for(var q=0;q<ae.length;q++)Y[q]=q;A===void 0&&(A=N(ae)),c===void 0&&(c=N(ae))}(S,E),o||!l||c)if(o&&l&&A^c)j=A?1:0,S=U(S,E,Q);else if(!o&&l&&c)j=A?1:0,S=P(S,E,Q),S=U(S,E);else if(!o||A||l||c){if(o&&!l&&A^c)S=U(S,E),A?(j=0,S=P(S,E,Q)):(j=1,S=P(S,E,Q),S=U(S,E));else if(o&&A&&!l&&c)j=1,S=P(S,E,Q),S=U(S,E);else if(!o&&!l&&A^c){var V=d;A?(j=1,S=P(S,E,Q),j=0,d=!1,S=P(S,E,Q),d=V):(j=0,S=P(S,E,Q),S=U(S,E),j=1,d=!1,S=P(S,E,Q),d=V,S=U(S,E))}}else j=0,S=P(S,E,Q);else j=A?1:0,S=P(S,E,Q);return S},this.__bidiEngine__.setOptions=function(S){S&&(o=S.isInputVisual,l=S.isOutputVisual,A=S.isInputRtl,c=S.isOutputRtl,d=S.isSymmetricSwapping)},this.__bidiEngine__.setOptions(a),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(a){var n=a.text;a.x,a.y;var i=a.options||{};a.mutex,i.lang;var o=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,r.setOptions(i),Object.prototype.toString.call(n)==="[object Array]"){var A=0;for(o=[],A=0;A<n.length;A+=1)Object.prototype.toString.call(n[A])==="[object Array]"?o.push([r.doBidiReorder(n[A][0]),n[A][1],n[A][2]]):o.push([r.doBidiReorder(n[A])]);a.text=o}else a.text=r.doBidiReorder(n);r.setOptions({isInputVisual:!0})}])}(wt),wt.API.TTFFont=function(){function e(t){var r;if(this.rawData=t,r=this.contents=new Zo(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new nR(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new VT(this.contents),this.head=new qT(this),this.name=new YT(this),this.cmap=new gS(this),this.toUnicode={},this.hhea=new GT(this),this.maxp=new ZT(this),this.hmtx=new eR(this),this.post=new JT(this),this.os2=new WT(this),this.loca=new aR(this),this.glyf=new tR(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,a,n,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var o,A,l,c;for(c=[],o=0,A=(l=this.bbox).length;o<A;o++)t=l[o],c.push(Math.round(t*this.scaleFactor));return c}.call(this),this.stemV=0,this.post.exists?(a=255&(n=this.post.italic_angle),32768&(r=n>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+a)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,a){var n,i,o,A;for(o=0,i=0,A=(t=""+t).length;0<=A?i<A:i>A;i=0<=A?++i:--i)n=t.charCodeAt(i),o+=this.widthOfGlyph(this.characterToGlyph(n))+a*(1e3/r)||0;return o*(r/1e3)},e.prototype.lineHeight=function(t,r){var a;return r==null&&(r=!1),a=r?this.lineGap:0,(this.ascender+a-this.decender)/1e3*t},e}();var Vn,Zo=function(){function e(t){this.data=t!=null?t:[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,a;for(a=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)a[r]=String.fromCharCode(this.readByte());return a.join("")},e.prototype.writeString=function(t){var r,a,n;for(n=[],r=0,a=t.length;0<=a?r<a:r>a;r=0<=a?++r:--r)n.push(this.writeByte(t.charCodeAt(r)));return n},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,a,n,i,o,A,l;return t=this.readByte(),r=this.readByte(),a=this.readByte(),n=this.readByte(),i=this.readByte(),o=this.readByte(),A=this.readByte(),l=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^a)+4294967296*(255^n)+16777216*(255^i)+65536*(255^o)+256*(255^A)+(255^l)+1):72057594037927940*t+281474976710656*r+1099511627776*a+4294967296*n+16777216*i+65536*o+256*A+l},e.prototype.writeLongLong=function(t){var r,a;return r=Math.floor(t/4294967296),a=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(a>>24&255),this.writeByte(a>>16&255),this.writeByte(a>>8&255),this.writeByte(255&a)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,a;for(r=[],a=0;0<=t?a<t:a>t;a=0<=t?++a:--a)r.push(this.readByte());return r},e.prototype.write=function(t){var r,a,n,i;for(i=[],a=0,n=t.length;a<n;a++)r=t[a],i.push(this.writeByte(r));return i},e}(),VT=function(){var e;function t(r){var a,n,i;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},n=0,i=this.tableCount;0<=i?n<i:n>i;n=0<=i?++n:--n)a={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[a.tag]=a}return t.prototype.encode=function(r){var a,n,i,o,A,l,c,d,h,m,u,p,g;for(g in u=Object.keys(r).length,l=Math.log(2),h=16*Math.floor(Math.log(u)/l),o=Math.floor(h/l),d=16*u-h,(n=new Zo).writeInt(this.scalarType),n.writeShort(u),n.writeShort(h),n.writeShort(o),n.writeShort(d),i=16*u,c=n.pos+i,A=null,p=[],r)for(m=r[g],n.writeString(g),n.writeInt(e(m)),n.writeInt(c),n.writeInt(m.length),p=p.concat(m),g==="head"&&(A=c),c+=m.length;c%4;)p.push(0),c++;return n.write(p),a=2981146554-e(n.data),n.pos=A+8,n.writeUInt32(a),n.data},e=function(r){var a,n,i,o;for(r=xS.call(r);r.length%4;)r.push(0);for(i=new Zo(r),n=0,a=0,o=r.length;a<o;a=a+=4)n+=i.readUInt32();return 4294967295&n},t}(),zT={}.hasOwnProperty,vi=function(e,t){for(var r in t)zT.call(t,r)&&(e[r]=t[r]);function a(){this.constructor=e}return a.prototype=t.prototype,e.prototype=new a,e.__super__=t.prototype,e};Vn=function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var qT=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return vi(e,Vn),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var r;return(r=new Zo).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(t),r.writeShort(this.glyphDataFormat),r.data},e}(),Ey=function(){function e(t,r){var a,n,i,o,A,l,c,d,h,m,u,p,g,y,x,B,j;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),h=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=t.readByte();break;case 4:for(u=t.readUInt16(),m=u/2,t.pos+=6,i=function(){var w,N;for(N=[],l=w=0;0<=m?w<m:w>m;l=0<=m?++w:--w)N.push(t.readUInt16());return N}(),t.pos+=2,g=function(){var w,N;for(N=[],l=w=0;0<=m?w<m:w>m;l=0<=m?++w:--w)N.push(t.readUInt16());return N}(),c=function(){var w,N;for(N=[],l=w=0;0<=m?w<m:w>m;l=0<=m?++w:--w)N.push(t.readUInt16());return N}(),d=function(){var w,N;for(N=[],l=w=0;0<=m?w<m:w>m;l=0<=m?++w:--w)N.push(t.readUInt16());return N}(),n=(this.length-t.pos+this.offset)/2,A=function(){var w,N;for(N=[],l=w=0;0<=n?w<n:w>n;l=0<=n?++w:--w)N.push(t.readUInt16());return N}(),l=x=0,j=i.length;x<j;l=++x)for(y=i[l],a=B=p=g[l];p<=y?B<=y:B>=y;a=p<=y?++B:--B)d[l]===0?o=a+c[l]:(o=A[d[l]/2+(a-p)-(m-l)]||0)!==0&&(o+=c[l]),this.codeMap[a]=65535&o}t.pos=h}return e.encode=function(t,r){var a,n,i,o,A,l,c,d,h,m,u,p,g,y,x,B,j,w,N,I,U,D,L,P,S,E,Q,V,ae,Y,q,K,Z,fe,we,T,G,X,se,le,de,Ne,je,Ie,Oe,ue;switch(V=new Zo,o=Object.keys(t).sort(function(ke,ge){return ke-ge}),r){case"macroman":for(g=0,y=function(){var ke=[];for(p=0;p<256;++p)ke.push(0);return ke}(),B={0:0},i={},ae=0,Z=o.length;ae<Z;ae++)B[je=t[n=o[ae]]]==null&&(B[je]=++g),i[n]={old:t[n],new:B[t[n]]},y[n]=B[t[n]];return V.writeUInt16(1),V.writeUInt16(0),V.writeUInt32(12),V.writeUInt16(0),V.writeUInt16(262),V.writeUInt16(0),V.write(y),{charMap:i,subtable:V.data,maxGlyphID:g+1};case"unicode":for(E=[],h=[],j=0,B={},a={},x=c=null,Y=0,fe=o.length;Y<fe;Y++)B[N=t[n=o[Y]]]==null&&(B[N]=++j),a[n]={old:N,new:B[N]},A=B[N]-n,x!=null&&A===c||(x&&h.push(x),E.push(n),c=A),x=n;for(x&&h.push(x),h.push(65535),E.push(65535),P=2*(L=E.length),D=2*Math.pow(Math.log(L)/Math.LN2,2),m=Math.log(D/2)/Math.LN2,U=2*L-D,l=[],I=[],u=[],p=q=0,we=E.length;q<we;p=++q){if(S=E[p],d=h[p],S===65535){l.push(0),I.push(0);break}if(S-(Q=a[S].new)>=32768)for(l.push(0),I.push(2*(u.length+L-p)),n=K=S;S<=d?K<=d:K>=d;n=S<=d?++K:--K)u.push(a[n].new);else l.push(Q-S),I.push(0)}for(V.writeUInt16(3),V.writeUInt16(1),V.writeUInt32(12),V.writeUInt16(4),V.writeUInt16(16+8*L+2*u.length),V.writeUInt16(0),V.writeUInt16(P),V.writeUInt16(D),V.writeUInt16(m),V.writeUInt16(U),de=0,T=h.length;de<T;de++)n=h[de],V.writeUInt16(n);for(V.writeUInt16(0),Ne=0,G=E.length;Ne<G;Ne++)n=E[Ne],V.writeUInt16(n);for(Ie=0,X=l.length;Ie<X;Ie++)A=l[Ie],V.writeUInt16(A);for(Oe=0,se=I.length;Oe<se;Oe++)w=I[Oe],V.writeUInt16(w);for(ue=0,le=u.length;ue<le;ue++)g=u[ue],V.writeUInt16(g);return{charMap:a,subtable:V.data,maxGlyphID:j+1}}},e}(),gS=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return vi(e,Vn),e.prototype.tag="cmap",e.prototype.parse=function(t){var r,a,n;for(t.pos=this.offset,this.version=t.readUInt16(),n=t.readUInt16(),this.tables=[],this.unicode=null,a=0;0<=n?a<n:a>n;a=0<=n?++a:--a)r=new Ey(t,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(t,r){var a,n;return r==null&&(r="macroman"),a=Ey.encode(t,r),(n=new Zo).writeUInt16(0),n.writeUInt16(1),a.table=n.data.concat(a.subtable),a},e}(),GT=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return vi(e,Vn),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),WT=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return vi(e,Vn),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var r,a;for(a=[],r=0;r<10;++r)a.push(t.readByte());return a}(),this.charRange=function(){var r,a;for(a=[],r=0;r<4;++r)a.push(t.readInt());return a}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var r,a;for(a=[],r=0;r<2;r=++r)a.push(t.readInt());return a}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),JT=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return vi(e,Vn),e.prototype.tag="post",e.prototype.parse=function(t){var r,a,n;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var i;for(a=t.readUInt16(),this.glyphNameIndex=[],i=0;0<=a?i<a:i>a;i=0<=a?++i:--i)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],n=[];t.pos<this.offset+this.length;)r=t.readByte(),n.push(this.names.push(t.readString(r)));return n;case 151552:return a=t.readUInt16(),this.offsets=t.read(a);case 262144:return this.map=function(){var o,A,l;for(l=[],i=o=0,A=this.file.maxp.numGlyphs;0<=A?o<A:o>A;i=0<=A?++o:--o)l.push(t.readUInt32());return l}.call(this)}},e}(),XT=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},YT=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return vi(e,Vn),e.prototype.tag="name",e.prototype.parse=function(t){var r,a,n,i,o,A,l,c,d,h,m;for(t.pos=this.offset,t.readShort(),r=t.readShort(),A=t.readShort(),a=[],i=0;0<=r?i<r:i>r;i=0<=r?++i:--i)a.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+A+t.readShort()});for(l={},i=d=0,h=a.length;d<h;i=++d)n=a[i],t.pos=n.offset,c=t.readString(n.length),o=new XT(c,n),l[m=n.nameID]==null&&(l[m]=[]),l[n.nameID].push(o);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch(u){this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},e}(),ZT=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return vi(e,Vn),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),eR=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return vi(e,Vn),e.prototype.tag="hmtx",e.prototype.parse=function(t){var r,a,n,i,o,A,l;for(t.pos=this.offset,this.metrics=[],r=0,A=this.file.hhea.numberOfMetrics;0<=A?r<A:r>A;r=0<=A?++r:--r)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(n=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var c,d;for(d=[],r=c=0;0<=n?c<n:c>n;r=0<=n?++c:--c)d.push(t.readInt16());return d}(),this.widths=function(){var c,d,h,m;for(m=[],c=0,d=(h=this.metrics).length;c<d;c++)i=h[c],m.push(i.advance);return m}.call(this),a=this.widths[this.widths.length-1],l=[],r=o=0;0<=n?o<n:o>n;r=0<=n?++o:--o)l.push(this.widths.push(a));return l},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),xS=[].slice,tR=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return vi(e,Vn),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var r,a,n,i,o,A,l,c,d,h;return t in this.cache?this.cache[t]:(i=this.file.loca,r=this.file.contents,a=i.indexOf(t),(n=i.lengthOf(t))===0?this.cache[t]=null:(r.pos=this.offset+a,o=(A=new Zo(r.read(n))).readShort(),c=A.readShort(),h=A.readShort(),l=A.readShort(),d=A.readShort(),this.cache[t]=o===-1?new sR(A,c,h,l,d):new rR(A,o,c,h,l,d),this.cache[t]))},e.prototype.encode=function(t,r,a){var n,i,o,A,l;for(o=[],i=[],A=0,l=r.length;A<l;A++)n=t[r[A]],i.push(o.length),n&&(o=o.concat(n.encode(a)));return i.push(o.length),{table:o,offsets:i}},e}(),rR=function(){function e(t,r,a,n,i,o){this.raw=t,this.numberOfContours=r,this.xMin=a,this.yMin=n,this.xMax=i,this.yMax=o,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),sR=function(){function e(t,r,a,n,i){var o,A;for(this.raw=t,this.xMin=r,this.yMin=a,this.xMax=n,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;A=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&A;)o.pos+=1&A?4:2,128&A?o.pos+=8:64&A?o.pos+=4:8&A&&(o.pos+=2)}return e.prototype.encode=function(){var t,r,a;for(r=new Zo(xS.call(this.raw.data)),t=0,a=this.glyphIDs.length;t<a;++t)r.pos=this.glyphOffsets[t];return r.data},e}(),aR=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return vi(e,Vn),e.prototype.tag="loca",e.prototype.parse=function(t){var r,a;return t.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?function(){var n,i;for(i=[],a=0,n=this.length;a<n;a+=2)i.push(2*t.readUInt16());return i}.call(this):function(){var n,i;for(i=[],a=0,n=this.length;a<n;a+=4)i.push(t.readUInt32());return i}.call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,r){for(var a=new Uint32Array(this.offsets.length),n=0,i=0,o=0;o<a.length;++o)if(a[o]=n,i<r.length&&r[i]==o){++i,a[o]=n;var A=this.offsets[o],l=this.offsets[o+1]-A;l>0&&(n+=l)}for(var c=new Array(4*a.length),d=0;d<a.length;++d)c[4*d+3]=255&a[d],c[4*d+2]=(65280&a[d])>>8,c[4*d+1]=(16711680&a[d])>>16,c[4*d]=(4278190080&a[d])>>24;return c},e}(),nR=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,a,n,i;for(r in n=this.font.cmap.tables[0].codeMap,t={},i=this.subset)a=i[r],t[r]=n[a];return t},e.prototype.glyphsFor=function(t){var r,a,n,i,o,A,l;for(n={},o=0,A=t.length;o<A;o++)n[i=t[o]]=this.font.glyf.glyphFor(i);for(i in r=[],n)(a=n[i])!=null&&a.compound&&r.push.apply(r,a.glyphIDs);if(r.length>0)for(i in l=this.glyphsFor(r))a=l[i],n[i]=a;return n},e.prototype.encode=function(t,r){var a,n,i,o,A,l,c,d,h,m,u,p,g,y,x;for(n in a=gS.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(t),u={0:0},x=a.charMap)u[(l=x[n]).old]=l.new;for(p in m=a.maxGlyphID,o)p in u||(u[p]=m++);return d=function(B){var j,w;for(j in w={},B)w[B[j]]=j;return w}(u),h=Object.keys(d).sort(function(B,j){return B-j}),g=function(){var B,j,w;for(w=[],B=0,j=h.length;B<j;B++)A=h[B],w.push(d[A]);return w}(),i=this.font.glyf.encode(o,g,u),c=this.font.loca.encode(i.offsets,g),y={cmap:this.font.cmap.raw(),glyf:i.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(y["OS/2"]=this.font.os2.raw()),this.font.directory.encode(y)},e}();wt.API.PDFObject=function(){var e;function t(){}return e=function(r,a){return(Array(a+1).join("0")+r).slice(-a)},t.convert=function(r){var a,n,i,o;if(Array.isArray(r))return"["+function(){var A,l,c;for(c=[],A=0,l=r.length;A<l;A++)a=r[A],c.push(t.convert(a));return c}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(n in i=["<<"],r)o=r[n],i.push("/"+n+" "+t.convert(o));return i.push(">>"),i.join(`
`)}return""+r},t}();/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var rv=function(e,t){return rv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(r[n]=a[n])},rv(e,t)};function zn(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");rv(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var sv=function(){return sv=Object.assign||function(t){for(var r,a=1,n=arguments.length;a<n;a++){r=arguments[a];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},sv.apply(this,arguments)};function wa(e,t,r,a){function n(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function A(d){try{c(a.next(d))}catch(h){o(h)}}function l(d){try{c(a.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):n(d.value).then(A,l)}c((a=a.apply(e,[])).next())})}function ca(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},a,n,i,o;return o={next:A(0),throw:A(1),return:A(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function A(c){return function(d){return l([c,d])}}function l(c){if(a)throw new TypeError("Generator is already executing.");for(;r;)try{if(a=1,n&&(i=c[0]&2?n.return:c[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,c[1])).done)return i;switch(n=0,i&&(c=[c[0]&2,i.value]),c[0]){case 0:case 1:i=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,n=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){r.label=c[1];break}if(c[0]===6&&r.label<i[1]){r.label=i[1],i=c;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(c);break}i[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(d){c=[6,d],n=0}finally{a=i=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function mf(e,t,r){if(arguments.length===2)for(var a=0,n=t.length,i;a<n;a++)(i||!(a in t))&&(i||(i=Array.prototype.slice.call(t,0,a)),i[a]=t[a]);return e.concat(i||t)}var Xi=function(){function e(t,r,a,n){this.left=t,this.top=r,this.width=a,this.height=n}return e.prototype.add=function(t,r,a,n){return new e(this.left+t,this.top+r,this.width+a,this.height+n)},e.fromClientRect=function(t,r){return new e(r.left+t.windowBounds.left,r.top+t.windowBounds.top,r.width,r.height)},e.fromDOMRectList=function(t,r){var a=Array.from(r).find(function(n){return n.width!==0});return a?new e(a.left+t.windowBounds.left,a.top+t.windowBounds.top,a.width,a.height):e.EMPTY},e.EMPTY=new e(0,0,0,0),e}(),Tp=function(e,t){return Xi.fromClientRect(e,t.getBoundingClientRect())},iR=function(e){var t=e.body,r=e.documentElement;if(!t||!r)throw new Error("Unable to get document size");var a=Math.max(Math.max(t.scrollWidth,r.scrollWidth),Math.max(t.offsetWidth,r.offsetWidth),Math.max(t.clientWidth,r.clientWidth)),n=Math.max(Math.max(t.scrollHeight,r.scrollHeight),Math.max(t.offsetHeight,r.offsetHeight),Math.max(t.clientHeight,r.clientHeight));return new Xi(0,0,a,n)},Rp=function(e){for(var t=[],r=0,a=e.length;r<a;){var n=e.charCodeAt(r++);if(n>=55296&&n<=56319&&r<a){var i=e.charCodeAt(r++);(i&64512)===56320?t.push(((n&1023)<<10)+(i&1023)+65536):(t.push(n),r--)}else t.push(n)}return t},cs=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var r=e.length;if(!r)return"";for(var a=[],n=-1,i="";++n<r;){var o=e[n];o<=65535?a.push(o):(o-=65536,a.push((o>>10)+55296,o%1024+56320)),(n+1===r||a.length>16384)&&(i+=String.fromCharCode.apply(String,a),a.length=0)}return i},Uy="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",oR=typeof Uint8Array=="undefined"?[]:new Uint8Array(256);for(var pf=0;pf<Uy.length;pf++)oR[Uy.charCodeAt(pf)]=pf;var Iy="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Td=typeof Uint8Array=="undefined"?[]:new Uint8Array(256);for(var gf=0;gf<Iy.length;gf++)Td[Iy.charCodeAt(gf)]=gf;var AR=function(e){var t=e.length*.75,r=e.length,a,n=0,i,o,A,l;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);var c=typeof ArrayBuffer!="undefined"&&typeof Uint8Array!="undefined"&&typeof Uint8Array.prototype.slice!="undefined"?new ArrayBuffer(t):new Array(t),d=Array.isArray(c)?c:new Uint8Array(c);for(a=0;a<r;a+=4)i=Td[e.charCodeAt(a)],o=Td[e.charCodeAt(a+1)],A=Td[e.charCodeAt(a+2)],l=Td[e.charCodeAt(a+3)],d[n++]=i<<2|o>>4,d[n++]=(o&15)<<4|A>>2,d[n++]=(A&3)<<6|l&63;return c},lR=function(e){for(var t=e.length,r=[],a=0;a<t;a+=2)r.push(e[a+1]<<8|e[a]);return r},cR=function(e){for(var t=e.length,r=[],a=0;a<t;a+=4)r.push(e[a+3]<<24|e[a+2]<<16|e[a+1]<<8|e[a]);return r},ZA=5,K1=11,_0=2,dR=K1-ZA,vS=65536>>ZA,uR=1<<ZA,S0=uR-1,hR=1024>>ZA,fR=vS+hR,mR=fR,pR=32,gR=mR+pR,xR=65536>>K1,vR=1<<dR,wR=vR-1,Qy=function(e,t,r){return e.slice?e.slice(t,r):new Uint16Array(Array.prototype.slice.call(e,t,r))},bR=function(e,t,r){return e.slice?e.slice(t,r):new Uint32Array(Array.prototype.slice.call(e,t,r))},yR=function(e,t){var r=AR(e),a=Array.isArray(r)?cR(r):new Uint32Array(r),n=Array.isArray(r)?lR(r):new Uint16Array(r),i=24,o=Qy(n,i/2,a[4]/2),A=a[5]===2?Qy(n,(i+a[4])/2):bR(a,Math.ceil((i+a[4])/4));return new BR(a[0],a[1],a[2],a[3],o,A)},BR=function(){function e(t,r,a,n,i,o){this.initialValue=t,this.errorValue=r,this.highStart=a,this.highValueIndex=n,this.index=i,this.data=o}return e.prototype.get=function(t){var r;if(t>=0){if(t<55296||t>56319&&t<=65535)return r=this.index[t>>ZA],r=(r<<_0)+(t&S0),this.data[r];if(t<=65535)return r=this.index[vS+(t-55296>>ZA)],r=(r<<_0)+(t&S0),this.data[r];if(t<this.highStart)return r=gR-xR+(t>>K1),r=this.index[r],r+=t>>ZA&wR,r=this.index[r],r=(r<<_0)+(t&S0),this.data[r];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),ky="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",jR=typeof Uint8Array=="undefined"?[]:new Uint8Array(256);for(var xf=0;xf<ky.length;xf++)jR[ky.charCodeAt(xf)]=xf;var CR="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",Ly=50,NR=1,wS=2,bS=3,_R=4,SR=5,Dy=7,yS=8,Py=9,Mo=10,av=11,My=12,nv=13,FR=14,Rd=15,iv=16,vf=17,yd=18,ER=19,Ty=20,ov=21,Bd=22,F0=23,Pl=24,Ga=25,Od=26,Hd=27,Ml=28,UR=29,PA=30,IR=31,wf=32,bf=33,Av=34,lv=35,cv=36,Qu=37,dv=38,nm=39,im=40,E0=41,BS=42,QR=43,kR=[9001,65288],jS="!",Zt="",yf="",uv=yR(CR),Pi=[PA,cv],hv=[NR,wS,bS,SR],CS=[Mo,yS],Ry=[Hd,Od],LR=hv.concat(CS),Oy=[dv,nm,im,Av,lv],DR=[Rd,nv],PR=function(e,t){t===void 0&&(t="strict");var r=[],a=[],n=[];return e.forEach(function(i,o){var A=uv.get(i);if(A>Ly?(n.push(!0),A-=Ly):n.push(!1),["normal","auto","loose"].indexOf(t)!==-1&&[8208,8211,12316,12448].indexOf(i)!==-1)return a.push(o),r.push(iv);if(A===_R||A===av){if(o===0)return a.push(o),r.push(PA);var l=r[o-1];return LR.indexOf(l)===-1?(a.push(a[o-1]),r.push(l)):(a.push(o),r.push(PA))}if(a.push(o),A===IR)return r.push(t==="strict"?ov:Qu);if(A===BS||A===UR)return r.push(PA);if(A===QR)return i>=131072&&i<=196605||i>=196608&&i<=262141?r.push(Qu):r.push(PA);r.push(A)}),[a,r,n]},U0=function(e,t,r,a){var n=a[r];if(Array.isArray(e)?e.indexOf(n)!==-1:e===n)for(var i=r;i<=a.length;){i++;var o=a[i];if(o===t)return!0;if(o!==Mo)break}if(n===Mo)for(var i=r;i>0;){i--;var A=a[i];if(Array.isArray(e)?e.indexOf(A)!==-1:e===A)for(var l=r;l<=a.length;){l++;var o=a[l];if(o===t)return!0;if(o!==Mo)break}if(A!==Mo)break}return!1},Hy=function(e,t){for(var r=e;r>=0;){var a=t[r];if(a===Mo)r--;else return a}return 0},MR=function(e,t,r,a,n){if(r[a]===0)return Zt;var i=a-1;if(Array.isArray(n)&&n[i]===!0)return Zt;var o=i-1,A=i+1,l=t[i],c=o>=0?t[o]:0,d=t[A];if(l===wS&&d===bS)return Zt;if(hv.indexOf(l)!==-1)return jS;if(hv.indexOf(d)!==-1||CS.indexOf(d)!==-1)return Zt;if(Hy(i,t)===yS)return yf;if(uv.get(e[i])===av||(l===wf||l===bf)&&uv.get(e[A])===av||l===Dy||d===Dy||l===Py||[Mo,nv,Rd].indexOf(l)===-1&&d===Py||[vf,yd,ER,Pl,Ml].indexOf(d)!==-1||Hy(i,t)===Bd||U0(F0,Bd,i,t)||U0([vf,yd],ov,i,t)||U0(My,My,i,t))return Zt;if(l===Mo)return yf;if(l===F0||d===F0)return Zt;if(d===iv||l===iv)return yf;if([nv,Rd,ov].indexOf(d)!==-1||l===FR||c===cv&&DR.indexOf(l)!==-1||l===Ml&&d===cv||d===Ty||Pi.indexOf(d)!==-1&&l===Ga||Pi.indexOf(l)!==-1&&d===Ga||l===Hd&&[Qu,wf,bf].indexOf(d)!==-1||[Qu,wf,bf].indexOf(l)!==-1&&d===Od||Pi.indexOf(l)!==-1&&Ry.indexOf(d)!==-1||Ry.indexOf(l)!==-1&&Pi.indexOf(d)!==-1||[Hd,Od].indexOf(l)!==-1&&(d===Ga||[Bd,Rd].indexOf(d)!==-1&&t[A+1]===Ga)||[Bd,Rd].indexOf(l)!==-1&&d===Ga||l===Ga&&[Ga,Ml,Pl].indexOf(d)!==-1)return Zt;if([Ga,Ml,Pl,vf,yd].indexOf(d)!==-1)for(var h=i;h>=0;){var m=t[h];if(m===Ga)return Zt;if([Ml,Pl].indexOf(m)!==-1)h--;else break}if([Hd,Od].indexOf(d)!==-1)for(var h=[vf,yd].indexOf(l)!==-1?o:i;h>=0;){var m=t[h];if(m===Ga)return Zt;if([Ml,Pl].indexOf(m)!==-1)h--;else break}if(dv===l&&[dv,nm,Av,lv].indexOf(d)!==-1||[nm,Av].indexOf(l)!==-1&&[nm,im].indexOf(d)!==-1||[im,lv].indexOf(l)!==-1&&d===im||Oy.indexOf(l)!==-1&&[Ty,Od].indexOf(d)!==-1||Oy.indexOf(d)!==-1&&l===Hd||Pi.indexOf(l)!==-1&&Pi.indexOf(d)!==-1||l===Pl&&Pi.indexOf(d)!==-1||Pi.concat(Ga).indexOf(l)!==-1&&d===Bd&&kR.indexOf(e[A])===-1||Pi.concat(Ga).indexOf(d)!==-1&&l===yd)return Zt;if(l===E0&&d===E0){for(var u=r[i],p=1;u>0&&(u--,t[u]===E0);)p++;if(p%2!==0)return Zt}return l===wf&&d===bf?Zt:yf},TR=function(e,t){t||(t={lineBreak:"normal",wordBreak:"normal"});var r=PR(e,t.lineBreak),a=r[0],n=r[1],i=r[2];(t.wordBreak==="break-all"||t.wordBreak==="break-word")&&(n=n.map(function(A){return[Ga,PA,BS].indexOf(A)!==-1?Qu:A}));var o=t.wordBreak==="keep-all"?i.map(function(A,l){return A&&e[l]>=19968&&e[l]<=40959}):void 0;return[a,n,o]},RR=function(){function e(t,r,a,n){this.codePoints=t,this.required=r===jS,this.start=a,this.end=n}return e.prototype.slice=function(){return cs.apply(void 0,this.codePoints.slice(this.start,this.end))},e}(),OR=function(e,t){var r=Rp(e),a=TR(r,t),n=a[0],i=a[1],o=a[2],A=r.length,l=0,c=0;return{next:function(){if(c>=A)return{done:!0,value:null};for(var d=Zt;c<A&&(d=MR(r,i,n,++c,o))===Zt;);if(d!==Zt||c===A){var h=new RR(r,d,l,c);return l=c,{value:h,done:!1}}return{done:!0,value:null}}}},HR=1,KR=2,eh=4,Ky=8,$m=10,$y=47,su=92,$R=9,VR=32,Bf=34,jd=61,zR=35,qR=36,GR=37,jf=39,Cf=40,Cd=41,WR=95,Ia=45,JR=33,XR=60,YR=62,ZR=64,e7=91,t7=93,r7=61,s7=123,Nf=63,a7=125,Vy=124,n7=126,i7=128,zy=65533,I0=42,$A=43,o7=44,A7=58,l7=59,ku=46,c7=0,d7=8,u7=11,h7=14,f7=31,m7=127,ti=-1,NS=48,_S=97,SS=101,p7=102,g7=117,x7=122,FS=65,ES=69,US=70,v7=85,w7=90,ua=function(e){return e>=NS&&e<=57},b7=function(e){return e>=55296&&e<=57343},Tl=function(e){return ua(e)||e>=FS&&e<=US||e>=_S&&e<=p7},y7=function(e){return e>=_S&&e<=x7},B7=function(e){return e>=FS&&e<=w7},j7=function(e){return y7(e)||B7(e)},C7=function(e){return e>=i7},_f=function(e){return e===$m||e===$R||e===VR},Vm=function(e){return j7(e)||C7(e)||e===WR},qy=function(e){return Vm(e)||ua(e)||e===Ia},N7=function(e){return e>=c7&&e<=d7||e===u7||e>=h7&&e<=f7||e===m7},So=function(e,t){return e!==su?!1:t!==$m},Sf=function(e,t,r){return e===Ia?Vm(t)||So(t,r):Vm(e)?!0:!!(e===su&&So(e,t))},Q0=function(e,t,r){return e===$A||e===Ia?ua(t)?!0:t===ku&&ua(r):ua(e===ku?t:e)},_7=function(e){var t=0,r=1;(e[t]===$A||e[t]===Ia)&&(e[t]===Ia&&(r=-1),t++);for(var a=[];ua(e[t]);)a.push(e[t++]);var n=a.length?parseInt(cs.apply(void 0,a),10):0;e[t]===ku&&t++;for(var i=[];ua(e[t]);)i.push(e[t++]);var o=i.length,A=o?parseInt(cs.apply(void 0,i),10):0;(e[t]===ES||e[t]===SS)&&t++;var l=1;(e[t]===$A||e[t]===Ia)&&(e[t]===Ia&&(l=-1),t++);for(var c=[];ua(e[t]);)c.push(e[t++]);var d=c.length?parseInt(cs.apply(void 0,c),10):0;return r*(n+A*Math.pow(10,-o))*Math.pow(10,l*d)},S7={type:2},F7={type:3},E7={type:4},U7={type:13},I7={type:8},Q7={type:21},k7={type:9},L7={type:10},D7={type:11},P7={type:12},M7={type:14},Ff={type:23},T7={type:1},R7={type:25},O7={type:24},H7={type:26},K7={type:27},$7={type:28},V7={type:29},z7={type:31},fv={type:32},IS=function(){function e(){this._value=[]}return e.prototype.write=function(t){this._value=this._value.concat(Rp(t))},e.prototype.read=function(){for(var t=[],r=this.consumeToken();r!==fv;)t.push(r),r=this.consumeToken();return t},e.prototype.consumeToken=function(){var t=this.consumeCodePoint();switch(t){case Bf:return this.consumeStringToken(Bf);case zR:var r=this.peekCodePoint(0),a=this.peekCodePoint(1),n=this.peekCodePoint(2);if(qy(r)||So(a,n)){var i=Sf(r,a,n)?KR:HR,o=this.consumeName();return{type:5,value:o,flags:i}}break;case qR:if(this.peekCodePoint(0)===jd)return this.consumeCodePoint(),U7;break;case jf:return this.consumeStringToken(jf);case Cf:return S7;case Cd:return F7;case I0:if(this.peekCodePoint(0)===jd)return this.consumeCodePoint(),M7;break;case $A:if(Q0(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case o7:return E7;case Ia:var A=t,l=this.peekCodePoint(0),c=this.peekCodePoint(1);if(Q0(A,l,c))return this.reconsumeCodePoint(t),this.consumeNumericToken();if(Sf(A,l,c))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();if(l===Ia&&c===YR)return this.consumeCodePoint(),this.consumeCodePoint(),O7;break;case ku:if(Q0(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case $y:if(this.peekCodePoint(0)===I0)for(this.consumeCodePoint();;){var d=this.consumeCodePoint();if(d===I0&&(d=this.consumeCodePoint(),d===$y))return this.consumeToken();if(d===ti)return this.consumeToken()}break;case A7:return H7;case l7:return K7;case XR:if(this.peekCodePoint(0)===JR&&this.peekCodePoint(1)===Ia&&this.peekCodePoint(2)===Ia)return this.consumeCodePoint(),this.consumeCodePoint(),R7;break;case ZR:var h=this.peekCodePoint(0),m=this.peekCodePoint(1),u=this.peekCodePoint(2);if(Sf(h,m,u)){var o=this.consumeName();return{type:7,value:o}}break;case e7:return $7;case su:if(So(t,this.peekCodePoint(0)))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();break;case t7:return V7;case r7:if(this.peekCodePoint(0)===jd)return this.consumeCodePoint(),I7;break;case s7:return D7;case a7:return P7;case g7:case v7:var p=this.peekCodePoint(0),g=this.peekCodePoint(1);return p===$A&&(Tl(g)||g===Nf)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(t),this.consumeIdentLikeToken();case Vy:if(this.peekCodePoint(0)===jd)return this.consumeCodePoint(),k7;if(this.peekCodePoint(0)===Vy)return this.consumeCodePoint(),Q7;break;case n7:if(this.peekCodePoint(0)===jd)return this.consumeCodePoint(),L7;break;case ti:return fv}return _f(t)?(this.consumeWhiteSpace(),z7):ua(t)?(this.reconsumeCodePoint(t),this.consumeNumericToken()):Vm(t)?(this.reconsumeCodePoint(t),this.consumeIdentLikeToken()):{type:6,value:cs(t)}},e.prototype.consumeCodePoint=function(){var t=this._value.shift();return typeof t=="undefined"?-1:t},e.prototype.reconsumeCodePoint=function(t){this._value.unshift(t)},e.prototype.peekCodePoint=function(t){return t>=this._value.length?-1:this._value[t]},e.prototype.consumeUnicodeRangeToken=function(){for(var t=[],r=this.consumeCodePoint();Tl(r)&&t.length<6;)t.push(r),r=this.consumeCodePoint();for(var a=!1;r===Nf&&t.length<6;)t.push(r),r=this.consumeCodePoint(),a=!0;if(a){var n=parseInt(cs.apply(void 0,t.map(function(l){return l===Nf?NS:l})),16),i=parseInt(cs.apply(void 0,t.map(function(l){return l===Nf?US:l})),16);return{type:30,start:n,end:i}}var o=parseInt(cs.apply(void 0,t),16);if(this.peekCodePoint(0)===Ia&&Tl(this.peekCodePoint(1))){this.consumeCodePoint(),r=this.consumeCodePoint();for(var A=[];Tl(r)&&A.length<6;)A.push(r),r=this.consumeCodePoint();var i=parseInt(cs.apply(void 0,A),16);return{type:30,start:o,end:i}}else return{type:30,start:o,end:o}},e.prototype.consumeIdentLikeToken=function(){var t=this.consumeName();return t.toLowerCase()==="url"&&this.peekCodePoint(0)===Cf?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===Cf?(this.consumeCodePoint(),{type:19,value:t}):{type:20,value:t}},e.prototype.consumeUrlToken=function(){var t=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===ti)return{type:22,value:""};var r=this.peekCodePoint(0);if(r===jf||r===Bf){var a=this.consumeStringToken(this.consumeCodePoint());return a.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===ti||this.peekCodePoint(0)===Cd)?(this.consumeCodePoint(),{type:22,value:a.value}):(this.consumeBadUrlRemnants(),Ff)}for(;;){var n=this.consumeCodePoint();if(n===ti||n===Cd)return{type:22,value:cs.apply(void 0,t)};if(_f(n))return this.consumeWhiteSpace(),this.peekCodePoint(0)===ti||this.peekCodePoint(0)===Cd?(this.consumeCodePoint(),{type:22,value:cs.apply(void 0,t)}):(this.consumeBadUrlRemnants(),Ff);if(n===Bf||n===jf||n===Cf||N7(n))return this.consumeBadUrlRemnants(),Ff;if(n===su)if(So(n,this.peekCodePoint(0)))t.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),Ff;else t.push(n)}},e.prototype.consumeWhiteSpace=function(){for(;_f(this.peekCodePoint(0));)this.consumeCodePoint()},e.prototype.consumeBadUrlRemnants=function(){for(;;){var t=this.consumeCodePoint();if(t===Cd||t===ti)return;So(t,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},e.prototype.consumeStringSlice=function(t){for(var r=5e4,a="";t>0;){var n=Math.min(r,t);a+=cs.apply(void 0,this._value.splice(0,n)),t-=n}return this._value.shift(),a},e.prototype.consumeStringToken=function(t){var r="",a=0;do{var n=this._value[a];if(n===ti||n===void 0||n===t)return r+=this.consumeStringSlice(a),{type:0,value:r};if(n===$m)return this._value.splice(0,a),T7;if(n===su){var i=this._value[a+1];i!==ti&&i!==void 0&&(i===$m?(r+=this.consumeStringSlice(a),a=-1,this._value.shift()):So(n,i)&&(r+=this.consumeStringSlice(a),r+=cs(this.consumeEscapedCodePoint()),a=-1))}a++}while(!0)},e.prototype.consumeNumber=function(){var t=[],r=eh,a=this.peekCodePoint(0);for((a===$A||a===Ia)&&t.push(this.consumeCodePoint());ua(this.peekCodePoint(0));)t.push(this.consumeCodePoint());a=this.peekCodePoint(0);var n=this.peekCodePoint(1);if(a===ku&&ua(n))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),r=Ky;ua(this.peekCodePoint(0));)t.push(this.consumeCodePoint());a=this.peekCodePoint(0),n=this.peekCodePoint(1);var i=this.peekCodePoint(2);if((a===ES||a===SS)&&((n===$A||n===Ia)&&ua(i)||ua(n)))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),r=Ky;ua(this.peekCodePoint(0));)t.push(this.consumeCodePoint());return[_7(t),r]},e.prototype.consumeNumericToken=function(){var t=this.consumeNumber(),r=t[0],a=t[1],n=this.peekCodePoint(0),i=this.peekCodePoint(1),o=this.peekCodePoint(2);if(Sf(n,i,o)){var A=this.consumeName();return{type:15,number:r,flags:a,unit:A}}return n===GR?(this.consumeCodePoint(),{type:16,number:r,flags:a}):{type:17,number:r,flags:a}},e.prototype.consumeEscapedCodePoint=function(){var t=this.consumeCodePoint();if(Tl(t)){for(var r=cs(t);Tl(this.peekCodePoint(0))&&r.length<6;)r+=cs(this.consumeCodePoint());_f(this.peekCodePoint(0))&&this.consumeCodePoint();var a=parseInt(r,16);return a===0||b7(a)||a>1114111?zy:a}return t===ti?zy:t},e.prototype.consumeName=function(){for(var t="";;){var r=this.consumeCodePoint();if(qy(r))t+=cs(r);else if(So(r,this.peekCodePoint(0)))t+=cs(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(r),t}},e}(),QS=function(){function e(t){this._tokens=t}return e.create=function(t){var r=new IS;return r.write(t),new e(r.read())},e.parseValue=function(t){return e.create(t).parseComponentValue()},e.parseValues=function(t){return e.create(t).parseComponentValues()},e.prototype.parseComponentValue=function(){for(var t=this.consumeToken();t.type===31;)t=this.consumeToken();if(t.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(t);var r=this.consumeComponentValue();do t=this.consumeToken();while(t.type===31);if(t.type===32)return r;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},e.prototype.parseComponentValues=function(){for(var t=[];;){var r=this.consumeComponentValue();if(r.type===32)return t;t.push(r),t.push()}},e.prototype.consumeComponentValue=function(){var t=this.consumeToken();switch(t.type){case 11:case 28:case 2:return this.consumeSimpleBlock(t.type);case 19:return this.consumeFunction(t)}return t},e.prototype.consumeSimpleBlock=function(t){for(var r={type:t,values:[]},a=this.consumeToken();;){if(a.type===32||G7(a,t))return r;this.reconsumeToken(a),r.values.push(this.consumeComponentValue()),a=this.consumeToken()}},e.prototype.consumeFunction=function(t){for(var r={name:t.value,values:[],type:18};;){var a=this.consumeToken();if(a.type===32||a.type===3)return r;this.reconsumeToken(a),r.values.push(this.consumeComponentValue())}},e.prototype.consumeToken=function(){var t=this._tokens.shift();return typeof t=="undefined"?fv:t},e.prototype.reconsumeToken=function(t){this._tokens.unshift(t)},e}(),th=function(e){return e.type===15},Mc=function(e){return e.type===17},jr=function(e){return e.type===20},q7=function(e){return e.type===0},mv=function(e,t){return jr(e)&&e.value===t},kS=function(e){return e.type!==31},Cc=function(e){return e.type!==31&&e.type!==4},wi=function(e){var t=[],r=[];return e.forEach(function(a){if(a.type===4){if(r.length===0)throw new Error("Error parsing function args, zero tokens for arg");t.push(r),r=[];return}a.type!==31&&r.push(a)}),r.length&&t.push(r),t},G7=function(e,t){return t===11&&e.type===12||t===28&&e.type===29?!0:t===2&&e.type===3},eA=function(e){return e.type===17||e.type===15},gs=function(e){return e.type===16||eA(e)},LS=function(e){return e.length>1?[e[0],e[1]]:[e[0]]},Ys={type:17,number:0,flags:eh},$1={type:16,number:50,flags:eh},To={type:16,number:100,flags:eh},Kd=function(e,t,r){var a=e[0],n=e[1];return[Er(a,t),Er(typeof n!="undefined"?n:a,r)]},Er=function(e,t){if(e.type===16)return e.number/100*t;if(th(e))switch(e.unit){case"rem":case"em":return 16*e.number;case"px":default:return e.number}return e.number},DS="deg",PS="grad",MS="rad",TS="turn",Op={name:"angle",parse:function(e,t){if(t.type===15)switch(t.unit){case DS:return Math.PI*t.number/180;case PS:return Math.PI/200*t.number;case MS:return t.number;case TS:return Math.PI*2*t.number}throw new Error("Unsupported angle type")}},RS=function(e){return e.type===15&&(e.unit===DS||e.unit===PS||e.unit===MS||e.unit===TS)},OS=function(e){var t=e.filter(jr).map(function(r){return r.value}).join(" ");switch(t){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Ys,Ys];case"to top":case"bottom":return gn(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Ys,To];case"to right":case"left":return gn(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[To,To];case"to bottom":case"top":return gn(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[To,Ys];case"to left":case"right":return gn(270)}return 0},gn=function(e){return Math.PI*e/180},zo={name:"color",parse:function(e,t){if(t.type===18){var r=W7[t.name];if(typeof r=="undefined")throw new Error('Attempting to parse an unsupported color function "'+t.name+'"');return r(e,t.values)}if(t.type===5){if(t.value.length===3){var a=t.value.substring(0,1),n=t.value.substring(1,2),i=t.value.substring(2,3);return Ro(parseInt(a+a,16),parseInt(n+n,16),parseInt(i+i,16),1)}if(t.value.length===4){var a=t.value.substring(0,1),n=t.value.substring(1,2),i=t.value.substring(2,3),o=t.value.substring(3,4);return Ro(parseInt(a+a,16),parseInt(n+n,16),parseInt(i+i,16),parseInt(o+o,16)/255)}if(t.value.length===6){var a=t.value.substring(0,2),n=t.value.substring(2,4),i=t.value.substring(4,6);return Ro(parseInt(a,16),parseInt(n,16),parseInt(i,16),1)}if(t.value.length===8){var a=t.value.substring(0,2),n=t.value.substring(2,4),i=t.value.substring(4,6),o=t.value.substring(6,8);return Ro(parseInt(a,16),parseInt(n,16),parseInt(i,16),parseInt(o,16)/255)}}if(t.type===20){var A=qi[t.value.toUpperCase()];if(typeof A!="undefined")return A}return qi.TRANSPARENT}},qo=function(e){return(255&e)===0},ks=function(e){var t=255&e,r=255&e>>8,a=255&e>>16,n=255&e>>24;return t<255?"rgba("+n+","+a+","+r+","+t/255+")":"rgb("+n+","+a+","+r+")"},Ro=function(e,t,r,a){return(e<<24|t<<16|r<<8|Math.round(a*255)<<0)>>>0},Gy=function(e,t){if(e.type===17)return e.number;if(e.type===16){var r=t===3?1:255;return t===3?e.number/100*r:Math.round(e.number/100*r)}return 0},Wy=function(e,t){var r=t.filter(Cc);if(r.length===3){var a=r.map(Gy),n=a[0],i=a[1],o=a[2];return Ro(n,i,o,1)}if(r.length===4){var A=r.map(Gy),n=A[0],i=A[1],o=A[2],l=A[3];return Ro(n,i,o,l)}return 0};function k0(e,t,r){return r<0&&(r+=1),r>=1&&(r-=1),r<1/6?(t-e)*r*6+e:r<1/2?t:r<2/3?(t-e)*6*(2/3-r)+e:e}var Jy=function(e,t){var r=t.filter(Cc),a=r[0],n=r[1],i=r[2],o=r[3],A=(a.type===17?gn(a.number):Op.parse(e,a))/(Math.PI*2),l=gs(n)?n.number/100:0,c=gs(i)?i.number/100:0,d=typeof o!="undefined"&&gs(o)?Er(o,1):1;if(l===0)return Ro(c*255,c*255,c*255,1);var h=c<=.5?c*(l+1):c+l-c*l,m=c*2-h,u=k0(m,h,A+1/3),p=k0(m,h,A),g=k0(m,h,A-1/3);return Ro(u*255,p*255,g*255,d)},W7={hsl:Jy,hsla:Jy,rgb:Wy,rgba:Wy},au=function(e,t){return zo.parse(e,QS.create(t).parseComponentValue())},qi={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},J7={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(r){if(jr(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},X7={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Hp=function(e,t){var r=zo.parse(e,t[0]),a=t[1];return a&&gs(a)?{color:r,stop:a}:{color:r,stop:null}},Xy=function(e,t){var r=e[0],a=e[e.length-1];r.stop===null&&(r.stop=Ys),a.stop===null&&(a.stop=To);for(var n=[],i=0,o=0;o<e.length;o++){var A=e[o].stop;if(A!==null){var l=Er(A,t);l>i?n.push(l):n.push(i),i=l}else n.push(null)}for(var c=null,o=0;o<n.length;o++){var d=n[o];if(d===null)c===null&&(c=o);else if(c!==null){for(var h=o-c,m=n[c-1],u=(d-m)/(h+1),p=1;p<=h;p++)n[c+p-1]=u*p;c=null}}return e.map(function(g,y){var x=g.color;return{color:x,stop:Math.max(Math.min(1,n[y]/t),0)}})},Y7=function(e,t,r){var a=t/2,n=r/2,i=Er(e[0],t)-a,o=n-Er(e[1],r);return(Math.atan2(o,i)+Math.PI*2)%(Math.PI*2)},Z7=function(e,t,r){var a=typeof e=="number"?e:Y7(e,t,r),n=Math.abs(t*Math.sin(a))+Math.abs(r*Math.cos(a)),i=t/2,o=r/2,A=n/2,l=Math.sin(a-Math.PI/2)*A,c=Math.cos(a-Math.PI/2)*A;return[n,i-c,i+c,o-l,o+l]},kn=function(e,t){return Math.sqrt(e*e+t*t)},Yy=function(e,t,r,a,n){var i=[[0,0],[0,t],[e,0],[e,t]];return i.reduce(function(o,A){var l=A[0],c=A[1],d=kn(r-l,a-c);return(n?d<o.optimumDistance:d>o.optimumDistance)?{optimumCorner:A,optimumDistance:d}:o},{optimumDistance:n?1/0:-1/0,optimumCorner:null}).optimumCorner},eO=function(e,t,r,a,n){var i=0,o=0;switch(e.size){case 0:e.shape===0?i=o=Math.min(Math.abs(t),Math.abs(t-a),Math.abs(r),Math.abs(r-n)):e.shape===1&&(i=Math.min(Math.abs(t),Math.abs(t-a)),o=Math.min(Math.abs(r),Math.abs(r-n)));break;case 2:if(e.shape===0)i=o=Math.min(kn(t,r),kn(t,r-n),kn(t-a,r),kn(t-a,r-n));else if(e.shape===1){var A=Math.min(Math.abs(r),Math.abs(r-n))/Math.min(Math.abs(t),Math.abs(t-a)),l=Yy(a,n,t,r,!0),c=l[0],d=l[1];i=kn(c-t,(d-r)/A),o=A*i}break;case 1:e.shape===0?i=o=Math.max(Math.abs(t),Math.abs(t-a),Math.abs(r),Math.abs(r-n)):e.shape===1&&(i=Math.max(Math.abs(t),Math.abs(t-a)),o=Math.max(Math.abs(r),Math.abs(r-n)));break;case 3:if(e.shape===0)i=o=Math.max(kn(t,r),kn(t,r-n),kn(t-a,r),kn(t-a,r-n));else if(e.shape===1){var A=Math.max(Math.abs(r),Math.abs(r-n))/Math.max(Math.abs(t),Math.abs(t-a)),h=Yy(a,n,t,r,!1),c=h[0],d=h[1];i=kn(c-t,(d-r)/A),o=A*i}break}return Array.isArray(e.size)&&(i=Er(e.size[0],a),o=e.size.length===2?Er(e.size[1],n):i),[i,o]},tO=function(e,t){var r=gn(180),a=[];return wi(t).forEach(function(n,i){if(i===0){var o=n[0];if(o.type===20&&o.value==="to"){r=OS(n);return}else if(RS(o)){r=Op.parse(e,o);return}}var A=Hp(e,n);a.push(A)}),{angle:r,stops:a,type:1}},Ef=function(e,t){var r=gn(180),a=[];return wi(t).forEach(function(n,i){if(i===0){var o=n[0];if(o.type===20&&["top","left","right","bottom"].indexOf(o.value)!==-1){r=OS(n);return}else if(RS(o)){r=(Op.parse(e,o)+gn(270))%gn(360);return}}var A=Hp(e,n);a.push(A)}),{angle:r,stops:a,type:1}},rO=function(e,t){var r=gn(180),a=[],n=1,i=0,o=3,A=[];return wi(t).forEach(function(l,c){var d=l[0];if(c===0){if(jr(d)&&d.value==="linear"){n=1;return}else if(jr(d)&&d.value==="radial"){n=2;return}}if(d.type===18){if(d.name==="from"){var h=zo.parse(e,d.values[0]);a.push({stop:Ys,color:h})}else if(d.name==="to"){var h=zo.parse(e,d.values[0]);a.push({stop:To,color:h})}else if(d.name==="color-stop"){var m=d.values.filter(Cc);if(m.length===2){var h=zo.parse(e,m[1]),u=m[0];Mc(u)&&a.push({stop:{type:16,number:u.number*100,flags:u.flags},color:h})}}}}),n===1?{angle:(r+gn(180))%gn(360),stops:a,type:n}:{size:o,shape:i,stops:a,position:A,type:n}},HS="closest-side",KS="farthest-side",$S="closest-corner",VS="farthest-corner",zS="circle",qS="ellipse",GS="cover",WS="contain",sO=function(e,t){var r=0,a=3,n=[],i=[];return wi(t).forEach(function(o,A){var l=!0;if(A===0){var c=!1;l=o.reduce(function(h,m){if(c)if(jr(m))switch(m.value){case"center":return i.push($1),h;case"top":case"left":return i.push(Ys),h;case"right":case"bottom":return i.push(To),h}else(gs(m)||eA(m))&&i.push(m);else if(jr(m))switch(m.value){case zS:return r=0,!1;case qS:return r=1,!1;case"at":return c=!0,!1;case HS:return a=0,!1;case GS:case KS:return a=1,!1;case WS:case $S:return a=2,!1;case VS:return a=3,!1}else if(eA(m)||gs(m))return Array.isArray(a)||(a=[]),a.push(m),!1;return h},l)}if(l){var d=Hp(e,o);n.push(d)}}),{size:a,shape:r,stops:n,position:i,type:2}},Uf=function(e,t){var r=0,a=3,n=[],i=[];return wi(t).forEach(function(o,A){var l=!0;if(A===0?l=o.reduce(function(d,h){if(jr(h))switch(h.value){case"center":return i.push($1),!1;case"top":case"left":return i.push(Ys),!1;case"right":case"bottom":return i.push(To),!1}else if(gs(h)||eA(h))return i.push(h),!1;return d},l):A===1&&(l=o.reduce(function(d,h){if(jr(h))switch(h.value){case zS:return r=0,!1;case qS:return r=1,!1;case WS:case HS:return a=0,!1;case KS:return a=1,!1;case $S:return a=2,!1;case GS:case VS:return a=3,!1}else if(eA(h)||gs(h))return Array.isArray(a)||(a=[]),a.push(h),!1;return d},l)),l){var c=Hp(e,o);n.push(c)}}),{size:a,shape:r,stops:n,position:i,type:2}},aO=function(e){return e.type===1},nO=function(e){return e.type===2},V1={name:"image",parse:function(e,t){if(t.type===22){var r={url:t.value,type:0};return e.cache.addImage(t.value),r}if(t.type===18){var a=JS[t.name];if(typeof a=="undefined")throw new Error('Attempting to parse an unsupported image function "'+t.name+'"');return a(e,t.values)}throw new Error("Unsupported image type "+t.type)}};function iO(e){return!(e.type===20&&e.value==="none")&&(e.type!==18||!!JS[e.name])}var JS={"linear-gradient":tO,"-moz-linear-gradient":Ef,"-ms-linear-gradient":Ef,"-o-linear-gradient":Ef,"-webkit-linear-gradient":Ef,"radial-gradient":sO,"-moz-radial-gradient":Uf,"-ms-radial-gradient":Uf,"-o-radial-gradient":Uf,"-webkit-radial-gradient":Uf,"-webkit-gradient":rO},oO={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(t.length===0)return[];var r=t[0];return r.type===20&&r.value==="none"?[]:t.filter(function(a){return Cc(a)&&iO(a)}).map(function(a){return V1.parse(e,a)})}},AO={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(r){if(jr(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},lO={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(e,t){return wi(t).map(function(r){return r.filter(gs)}).map(LS)}},cO={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(e,t){return wi(t).map(function(r){return r.filter(jr).map(function(a){return a.value}).join(" ")}).map(dO)}},dO=function(e){switch(e){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},oc;(function(e){e.AUTO="auto",e.CONTAIN="contain",e.COVER="cover"})(oc||(oc={}));var uO={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(e,t){return wi(t).map(function(r){return r.filter(hO)})}},hO=function(e){return jr(e)||gs(e)},Kp=function(e){return{name:"border-"+e+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},fO=Kp("top"),mO=Kp("right"),pO=Kp("bottom"),gO=Kp("left"),$p=function(e){return{name:"border-radius-"+e,initialValue:"0 0",prefix:!1,type:1,parse:function(t,r){return LS(r.filter(gs))}}},xO=$p("top-left"),vO=$p("top-right"),wO=$p("bottom-right"),bO=$p("bottom-left"),Vp=function(e){return{name:"border-"+e+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(t,r){switch(r){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},yO=Vp("top"),BO=Vp("right"),jO=Vp("bottom"),CO=Vp("left"),zp=function(e){return{name:"border-"+e+"-width",initialValue:"0",type:0,prefix:!1,parse:function(t,r){return th(r)?r.number:0}}},NO=zp("top"),_O=zp("right"),SO=zp("bottom"),FO=zp("left"),EO={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},UO={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(e,t){switch(t){case"rtl":return 1;case"ltr":default:return 0}}},IO={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(e,t){return t.filter(jr).reduce(function(r,a){return r|QO(a.value)},0)}},QO=function(e){switch(e){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},kO={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},LO={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(e,t){return t.type===20&&t.value==="normal"?0:t.type===17||t.type===15?t.number:0}},zm;(function(e){e.NORMAL="normal",e.STRICT="strict"})(zm||(zm={}));var DO={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"strict":return zm.STRICT;case"normal":default:return zm.NORMAL}}},PO={name:"line-height",initialValue:"normal",prefix:!1,type:4},Zy=function(e,t){return jr(e)&&e.value==="normal"?1.2*t:e.type===17?t*e.number:gs(e)?Er(e,t):t},MO={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(e,t){return t.type===20&&t.value==="none"?null:V1.parse(e,t)}},TO={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(e,t){switch(t){case"inside":return 0;case"outside":default:return 1}}},pv={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},qp=function(e){return{name:"margin-"+e,initialValue:"0",prefix:!1,type:4}},RO=qp("top"),OO=qp("right"),HO=qp("bottom"),KO=qp("left"),$O={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(e,t){return t.filter(jr).map(function(r){switch(r.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},VO={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-word":return"break-word";case"normal":default:return"normal"}}},Gp=function(e){return{name:"padding-"+e,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},zO=Gp("top"),qO=Gp("right"),GO=Gp("bottom"),WO=Gp("left"),JO={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(e,t){switch(t){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},XO={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(e,t){switch(t){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},YO={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.length===1&&mv(t[0],"none")?[]:wi(t).map(function(r){for(var a={color:qi.TRANSPARENT,offsetX:Ys,offsetY:Ys,blur:Ys},n=0,i=0;i<r.length;i++){var o=r[i];eA(o)?(n===0?a.offsetX=o:n===1?a.offsetY=o:a.blur=o,n++):a.color=zo.parse(e,o)}return a})}},ZO={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},eH={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(e,t){if(t.type===20&&t.value==="none")return null;if(t.type===18){var r=sH[t.name];if(typeof r=="undefined")throw new Error('Attempting to parse an unsupported transform function "'+t.name+'"');return r(t.values)}return null}},tH=function(e){var t=e.filter(function(r){return r.type===17}).map(function(r){return r.number});return t.length===6?t:null},rH=function(e){var t=e.filter(function(l){return l.type===17}).map(function(l){return l.number}),r=t[0],a=t[1];t[2],t[3];var n=t[4],i=t[5];t[6],t[7],t[8],t[9],t[10],t[11];var o=t[12],A=t[13];return t[14],t[15],t.length===16?[r,a,n,i,o,A]:null},sH={matrix:tH,matrix3d:rH},e5={type:16,number:50,flags:eh},aH=[e5,e5],nH={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(e,t){var r=t.filter(gs);return r.length!==2?aH:[r[0],r[1]]}},iH={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},nu;(function(e){e.NORMAL="normal",e.BREAK_ALL="break-all",e.KEEP_ALL="keep-all"})(nu||(nu={}));var oH={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-all":return nu.BREAK_ALL;case"keep-all":return nu.KEEP_ALL;case"normal":default:return nu.NORMAL}}},AH={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(e,t){if(t.type===20)return{auto:!0,order:0};if(Mc(t))return{auto:!1,order:t.number};throw new Error("Invalid z-index number parsed")}},XS={name:"time",parse:function(e,t){if(t.type===15)switch(t.unit.toLowerCase()){case"s":return 1e3*t.number;case"ms":return t.number}throw new Error("Unsupported time type")}},lH={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(e,t){return Mc(t)?t.number:1}},cH={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},dH={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(e,t){return t.filter(jr).map(function(r){switch(r.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(r){return r!==0})}},uH={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(e,t){var r=[],a=[];return t.forEach(function(n){switch(n.type){case 20:case 0:r.push(n.value);break;case 17:r.push(n.number.toString());break;case 4:a.push(r.join(" ")),r.length=0;break}}),r.length&&a.push(r.join(" ")),a.map(function(n){return n.indexOf(" ")===-1?n:"'"+n+"'"})}},hH={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},fH={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(e,t){if(Mc(t))return t.number;if(jr(t))switch(t.value){case"bold":return 700;case"normal":default:return 400}return 400}},mH={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.filter(jr).map(function(r){return r.value})}},pH={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},Es=function(e,t){return(e&t)!==0},gH={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(t.length===0)return[];var r=t[0];return r.type===20&&r.value==="none"?[]:t}},xH={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return null;var r=t[0];if(r.type===20&&r.value==="none")return null;for(var a=[],n=t.filter(kS),i=0;i<n.length;i++){var o=n[i],A=n[i+1];if(o.type===20){var l=A&&Mc(A)?A.number:1;a.push({counter:o.value,increment:l})}}return a}},vH={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return[];for(var r=[],a=t.filter(kS),n=0;n<a.length;n++){var i=a[n],o=a[n+1];if(jr(i)&&i.value!=="none"){var A=o&&Mc(o)?o.number:0;r.push({counter:i.value,reset:A})}}return r}},wH={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(e,t){return t.filter(th).map(function(r){return XS.parse(e,r)})}},bH={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return null;var r=t[0];if(r.type===20&&r.value==="none")return null;var a=[],n=t.filter(q7);if(n.length%2!==0)return null;for(var i=0;i<n.length;i+=2){var o=n[i].value,A=n[i+1].value;a.push({open:o,close:A})}return a}},t5=function(e,t,r){if(!e)return"";var a=e[Math.min(t,e.length-1)];return a?r?a.open:a.close:""},yH={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.length===1&&mv(t[0],"none")?[]:wi(t).map(function(r){for(var a={color:255,offsetX:Ys,offsetY:Ys,blur:Ys,spread:Ys,inset:!1},n=0,i=0;i<r.length;i++){var o=r[i];mv(o,"inset")?a.inset=!0:eA(o)?(n===0?a.offsetX=o:n===1?a.offsetY=o:n===2?a.blur=o:a.spread=o,n++):a.color=zo.parse(e,o)}return a})}},BH={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(e,t){var r=[0,1,2],a=[];return t.filter(jr).forEach(function(n){switch(n.value){case"stroke":a.push(1);break;case"fill":a.push(0);break;case"markers":a.push(2);break}}),r.forEach(function(n){a.indexOf(n)===-1&&a.push(n)}),a}},jH={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},CH={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return th(t)?t.number:0}},NH=function(){function e(t,r){var a,n;this.animationDuration=it(t,wH,r.animationDuration),this.backgroundClip=it(t,J7,r.backgroundClip),this.backgroundColor=it(t,X7,r.backgroundColor),this.backgroundImage=it(t,oO,r.backgroundImage),this.backgroundOrigin=it(t,AO,r.backgroundOrigin),this.backgroundPosition=it(t,lO,r.backgroundPosition),this.backgroundRepeat=it(t,cO,r.backgroundRepeat),this.backgroundSize=it(t,uO,r.backgroundSize),this.borderTopColor=it(t,fO,r.borderTopColor),this.borderRightColor=it(t,mO,r.borderRightColor),this.borderBottomColor=it(t,pO,r.borderBottomColor),this.borderLeftColor=it(t,gO,r.borderLeftColor),this.borderTopLeftRadius=it(t,xO,r.borderTopLeftRadius),this.borderTopRightRadius=it(t,vO,r.borderTopRightRadius),this.borderBottomRightRadius=it(t,wO,r.borderBottomRightRadius),this.borderBottomLeftRadius=it(t,bO,r.borderBottomLeftRadius),this.borderTopStyle=it(t,yO,r.borderTopStyle),this.borderRightStyle=it(t,BO,r.borderRightStyle),this.borderBottomStyle=it(t,jO,r.borderBottomStyle),this.borderLeftStyle=it(t,CO,r.borderLeftStyle),this.borderTopWidth=it(t,NO,r.borderTopWidth),this.borderRightWidth=it(t,_O,r.borderRightWidth),this.borderBottomWidth=it(t,SO,r.borderBottomWidth),this.borderLeftWidth=it(t,FO,r.borderLeftWidth),this.boxShadow=it(t,yH,r.boxShadow),this.color=it(t,EO,r.color),this.direction=it(t,UO,r.direction),this.display=it(t,IO,r.display),this.float=it(t,kO,r.cssFloat),this.fontFamily=it(t,uH,r.fontFamily),this.fontSize=it(t,hH,r.fontSize),this.fontStyle=it(t,pH,r.fontStyle),this.fontVariant=it(t,mH,r.fontVariant),this.fontWeight=it(t,fH,r.fontWeight),this.letterSpacing=it(t,LO,r.letterSpacing),this.lineBreak=it(t,DO,r.lineBreak),this.lineHeight=it(t,PO,r.lineHeight),this.listStyleImage=it(t,MO,r.listStyleImage),this.listStylePosition=it(t,TO,r.listStylePosition),this.listStyleType=it(t,pv,r.listStyleType),this.marginTop=it(t,RO,r.marginTop),this.marginRight=it(t,OO,r.marginRight),this.marginBottom=it(t,HO,r.marginBottom),this.marginLeft=it(t,KO,r.marginLeft),this.opacity=it(t,lH,r.opacity);var i=it(t,$O,r.overflow);this.overflowX=i[0],this.overflowY=i[i.length>1?1:0],this.overflowWrap=it(t,VO,r.overflowWrap),this.paddingTop=it(t,zO,r.paddingTop),this.paddingRight=it(t,qO,r.paddingRight),this.paddingBottom=it(t,GO,r.paddingBottom),this.paddingLeft=it(t,WO,r.paddingLeft),this.paintOrder=it(t,BH,r.paintOrder),this.position=it(t,XO,r.position),this.textAlign=it(t,JO,r.textAlign),this.textDecorationColor=it(t,cH,(a=r.textDecorationColor)!==null&&a!==void 0?a:r.color),this.textDecorationLine=it(t,dH,(n=r.textDecorationLine)!==null&&n!==void 0?n:r.textDecoration),this.textShadow=it(t,YO,r.textShadow),this.textTransform=it(t,ZO,r.textTransform),this.transform=it(t,eH,r.transform),this.transformOrigin=it(t,nH,r.transformOrigin),this.visibility=it(t,iH,r.visibility),this.webkitTextStrokeColor=it(t,jH,r.webkitTextStrokeColor),this.webkitTextStrokeWidth=it(t,CH,r.webkitTextStrokeWidth),this.wordBreak=it(t,oH,r.wordBreak),this.zIndex=it(t,AH,r.zIndex)}return e.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},e.prototype.isTransparent=function(){return qo(this.backgroundColor)},e.prototype.isTransformed=function(){return this.transform!==null},e.prototype.isPositioned=function(){return this.position!==0},e.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},e.prototype.isFloating=function(){return this.float!==0},e.prototype.isInlineLevel=function(){return Es(this.display,4)||Es(this.display,33554432)||Es(this.display,268435456)||Es(this.display,536870912)||Es(this.display,67108864)||Es(this.display,134217728)},e}(),_H=function(){function e(t,r){this.content=it(t,gH,r.content),this.quotes=it(t,bH,r.quotes)}return e}(),r5=function(){function e(t,r){this.counterIncrement=it(t,xH,r.counterIncrement),this.counterReset=it(t,vH,r.counterReset)}return e}(),it=function(e,t,r){var a=new IS,n=r!==null&&typeof r!="undefined"?r.toString():t.initialValue;a.write(n);var i=new QS(a.read());switch(t.type){case 2:var o=i.parseComponentValue();return t.parse(e,jr(o)?o.value:t.initialValue);case 0:return t.parse(e,i.parseComponentValue());case 1:return t.parse(e,i.parseComponentValues());case 4:return i.parseComponentValue();case 3:switch(t.format){case"angle":return Op.parse(e,i.parseComponentValue());case"color":return zo.parse(e,i.parseComponentValue());case"image":return V1.parse(e,i.parseComponentValue());case"length":var A=i.parseComponentValue();return eA(A)?A:Ys;case"length-percentage":var l=i.parseComponentValue();return gs(l)?l:Ys;case"time":return XS.parse(e,i.parseComponentValue())}break}},SH="data-html2canvas-debug",FH=function(e){var t=e.getAttribute(SH);switch(t){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},gv=function(e,t){var r=FH(e);return r===1||t===r},bi=function(){function e(t,r){if(this.context=t,this.textNodes=[],this.elements=[],this.flags=0,gv(r,3))debugger;this.styles=new NH(t,window.getComputedStyle(r,null)),wv(r)&&(this.styles.animationDuration.some(function(a){return a>0})&&(r.style.animationDuration="0s"),this.styles.transform!==null&&(r.style.transform="none")),this.bounds=Tp(this.context,r),gv(r,4)&&(this.flags|=16)}return e}(),EH="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",s5="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",$d=typeof Uint8Array=="undefined"?[]:new Uint8Array(256);for(var If=0;If<s5.length;If++)$d[s5.charCodeAt(If)]=If;var UH=function(e){var t=e.length*.75,r=e.length,a,n=0,i,o,A,l;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);var c=typeof ArrayBuffer!="undefined"&&typeof Uint8Array!="undefined"&&typeof Uint8Array.prototype.slice!="undefined"?new ArrayBuffer(t):new Array(t),d=Array.isArray(c)?c:new Uint8Array(c);for(a=0;a<r;a+=4)i=$d[e.charCodeAt(a)],o=$d[e.charCodeAt(a+1)],A=$d[e.charCodeAt(a+2)],l=$d[e.charCodeAt(a+3)],d[n++]=i<<2|o>>4,d[n++]=(o&15)<<4|A>>2,d[n++]=(A&3)<<6|l&63;return c},IH=function(e){for(var t=e.length,r=[],a=0;a<t;a+=2)r.push(e[a+1]<<8|e[a]);return r},QH=function(e){for(var t=e.length,r=[],a=0;a<t;a+=4)r.push(e[a+3]<<24|e[a+2]<<16|e[a+1]<<8|e[a]);return r},el=5,z1=11,L0=2,kH=z1-el,YS=65536>>el,LH=1<<el,D0=LH-1,DH=1024>>el,PH=YS+DH,MH=PH,TH=32,RH=MH+TH,OH=65536>>z1,HH=1<<kH,KH=HH-1,a5=function(e,t,r){return e.slice?e.slice(t,r):new Uint16Array(Array.prototype.slice.call(e,t,r))},$H=function(e,t,r){return e.slice?e.slice(t,r):new Uint32Array(Array.prototype.slice.call(e,t,r))},VH=function(e,t){var r=UH(e),a=Array.isArray(r)?QH(r):new Uint32Array(r),n=Array.isArray(r)?IH(r):new Uint16Array(r),i=24,o=a5(n,i/2,a[4]/2),A=a[5]===2?a5(n,(i+a[4])/2):$H(a,Math.ceil((i+a[4])/4));return new zH(a[0],a[1],a[2],a[3],o,A)},zH=function(){function e(t,r,a,n,i,o){this.initialValue=t,this.errorValue=r,this.highStart=a,this.highValueIndex=n,this.index=i,this.data=o}return e.prototype.get=function(t){var r;if(t>=0){if(t<55296||t>56319&&t<=65535)return r=this.index[t>>el],r=(r<<L0)+(t&D0),this.data[r];if(t<=65535)return r=this.index[YS+(t-55296>>el)],r=(r<<L0)+(t&D0),this.data[r];if(t<this.highStart)return r=RH-OH+(t>>z1),r=this.index[r],r+=t>>el&KH,r=this.index[r],r=(r<<L0)+(t&D0),this.data[r];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),n5="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",qH=typeof Uint8Array=="undefined"?[]:new Uint8Array(256);for(var Qf=0;Qf<n5.length;Qf++)qH[n5.charCodeAt(Qf)]=Qf;var GH=1,P0=2,M0=3,i5=4,o5=5,WH=7,A5=8,T0=9,R0=10,l5=11,c5=12,d5=13,u5=14,O0=15,JH=function(e){for(var t=[],r=0,a=e.length;r<a;){var n=e.charCodeAt(r++);if(n>=55296&&n<=56319&&r<a){var i=e.charCodeAt(r++);(i&64512)===56320?t.push(((n&1023)<<10)+(i&1023)+65536):(t.push(n),r--)}else t.push(n)}return t},XH=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var r=e.length;if(!r)return"";for(var a=[],n=-1,i="";++n<r;){var o=e[n];o<=65535?a.push(o):(o-=65536,a.push((o>>10)+55296,o%1024+56320)),(n+1===r||a.length>16384)&&(i+=String.fromCharCode.apply(String,a),a.length=0)}return i},YH=VH(EH),dn="",H0="",ZH=function(e){return YH.get(e)},e9=function(e,t,r){var a=r-2,n=t[a],i=t[r-1],o=t[r];if(i===P0&&o===M0)return dn;if(i===P0||i===M0||i===i5||o===P0||o===M0||o===i5)return H0;if(i===A5&&[A5,T0,l5,c5].indexOf(o)!==-1||(i===l5||i===T0)&&(o===T0||o===R0)||(i===c5||i===R0)&&o===R0||o===d5||o===o5||o===WH||i===GH)return dn;if(i===d5&&o===u5){for(;n===o5;)n=t[--a];if(n===u5)return dn}if(i===O0&&o===O0){for(var A=0;n===O0;)A++,n=t[--a];if(A%2===0)return dn}return H0},t9=function(e){var t=JH(e),r=t.length,a=0,n=0,i=t.map(ZH);return{next:function(){if(a>=r)return{done:!0,value:null};for(var o=dn;a<r&&(o=e9(t,i,++a))===dn;);if(o!==dn||a===r){var A=XH.apply(null,t.slice(n,a));return n=a,{value:A,done:!1}}return{done:!0,value:null}}}},r9=function(e){for(var t=t9(e),r=[],a;!(a=t.next()).done;)a.value&&r.push(a.value.slice());return r},s9=function(e){var t=123;if(e.createRange){var r=e.createRange();if(r.getBoundingClientRect){var a=e.createElement("boundtest");a.style.height=t+"px",a.style.display="block",e.body.appendChild(a),r.selectNode(a);var n=r.getBoundingClientRect(),i=Math.round(n.height);if(e.body.removeChild(a),i===t)return!0}}return!1},a9=function(e){var t=e.createElement("boundtest");t.style.width="50px",t.style.display="block",t.style.fontSize="12px",t.style.letterSpacing="0px",t.style.wordSpacing="0px",e.body.appendChild(t);var r=e.createRange();t.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var a=t.firstChild,n=Rp(a.data).map(function(l){return cs(l)}),i=0,o={},A=n.every(function(l,c){r.setStart(a,i),r.setEnd(a,i+l.length);var d=r.getBoundingClientRect();i+=l.length;var h=d.x>o.x||d.y>o.y;return o=d,c===0?!0:h});return e.body.removeChild(t),A},n9=function(){return typeof new Image().crossOrigin!="undefined"},i9=function(){return typeof new XMLHttpRequest().responseType=="string"},o9=function(e){var t=new Image,r=e.createElement("canvas"),a=r.getContext("2d");if(!a)return!1;t.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{a.drawImage(t,0,0),r.toDataURL()}catch(n){return!1}return!0},h5=function(e){return e[0]===0&&e[1]===255&&e[2]===0&&e[3]===255},A9=function(e){var t=e.createElement("canvas"),r=100;t.width=r,t.height=r;var a=t.getContext("2d");if(!a)return Promise.reject(!1);a.fillStyle="rgb(0, 255, 0)",a.fillRect(0,0,r,r);var n=new Image,i=t.toDataURL();n.src=i;var o=xv(r,r,0,0,n);return a.fillStyle="red",a.fillRect(0,0,r,r),f5(o).then(function(A){a.drawImage(A,0,0);var l=a.getImageData(0,0,r,r).data;a.fillStyle="red",a.fillRect(0,0,r,r);var c=e.createElement("div");return c.style.backgroundImage="url("+i+")",c.style.height=r+"px",h5(l)?f5(xv(r,r,0,0,c)):Promise.reject(!1)}).then(function(A){return a.drawImage(A,0,0),h5(a.getImageData(0,0,r,r).data)}).catch(function(){return!1})},xv=function(e,t,r,a,n){var i="http://www.w3.org/2000/svg",o=document.createElementNS(i,"svg"),A=document.createElementNS(i,"foreignObject");return o.setAttributeNS(null,"width",e.toString()),o.setAttributeNS(null,"height",t.toString()),A.setAttributeNS(null,"width","100%"),A.setAttributeNS(null,"height","100%"),A.setAttributeNS(null,"x",r.toString()),A.setAttributeNS(null,"y",a.toString()),A.setAttributeNS(null,"externalResourcesRequired","true"),o.appendChild(A),A.appendChild(n),o},f5=function(e){return new Promise(function(t,r){var a=new Image;a.onload=function(){return t(a)},a.onerror=r,a.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(e))})},Js={get SUPPORT_RANGE_BOUNDS(){var e=s9(document);return Object.defineProperty(Js,"SUPPORT_RANGE_BOUNDS",{value:e}),e},get SUPPORT_WORD_BREAKING(){var e=Js.SUPPORT_RANGE_BOUNDS&&a9(document);return Object.defineProperty(Js,"SUPPORT_WORD_BREAKING",{value:e}),e},get SUPPORT_SVG_DRAWING(){var e=o9(document);return Object.defineProperty(Js,"SUPPORT_SVG_DRAWING",{value:e}),e},get SUPPORT_FOREIGNOBJECT_DRAWING(){var e=typeof Array.from=="function"&&typeof window.fetch=="function"?A9(document):Promise.resolve(!1);return Object.defineProperty(Js,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:e}),e},get SUPPORT_CORS_IMAGES(){var e=n9();return Object.defineProperty(Js,"SUPPORT_CORS_IMAGES",{value:e}),e},get SUPPORT_RESPONSE_TYPE(){var e=i9();return Object.defineProperty(Js,"SUPPORT_RESPONSE_TYPE",{value:e}),e},get SUPPORT_CORS_XHR(){var e="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Js,"SUPPORT_CORS_XHR",{value:e}),e},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var e=!!(typeof Intl!="undefined"&&Intl.Segmenter);return Object.defineProperty(Js,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:e}),e}},iu=function(){function e(t,r){this.text=t,this.bounds=r}return e}(),l9=function(e,t,r,a){var n=u9(t,r),i=[],o=0;return n.forEach(function(A){if(r.textDecorationLine.length||A.trim().length>0)if(Js.SUPPORT_RANGE_BOUNDS){var l=m5(a,o,A.length).getClientRects();if(l.length>1){var c=q1(A),d=0;c.forEach(function(m){i.push(new iu(m,Xi.fromDOMRectList(e,m5(a,d+o,m.length).getClientRects()))),d+=m.length})}else i.push(new iu(A,Xi.fromDOMRectList(e,l)))}else{var h=a.splitText(A.length);i.push(new iu(A,c9(e,a))),a=h}else Js.SUPPORT_RANGE_BOUNDS||(a=a.splitText(A.length));o+=A.length}),i},c9=function(e,t){var r=t.ownerDocument;if(r){var a=r.createElement("html2canvaswrapper");a.appendChild(t.cloneNode(!0));var n=t.parentNode;if(n){n.replaceChild(a,t);var i=Tp(e,a);return a.firstChild&&n.replaceChild(a.firstChild,a),i}}return Xi.EMPTY},m5=function(e,t,r){var a=e.ownerDocument;if(!a)throw new Error("Node has no owner document");var n=a.createRange();return n.setStart(e,t),n.setEnd(e,t+r),n},q1=function(e){if(Js.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(t.segment(e)).map(function(r){return r.segment})}return r9(e)},d9=function(e,t){if(Js.SUPPORT_NATIVE_TEXT_SEGMENTATION){var r=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(r.segment(e)).map(function(a){return a.segment})}return f9(e,t)},u9=function(e,t){return t.letterSpacing!==0?q1(e):d9(e,t)},h9=[32,160,4961,65792,65793,4153,4241],f9=function(e,t){for(var r=OR(e,{lineBreak:t.lineBreak,wordBreak:t.overflowWrap==="break-word"?"break-word":t.wordBreak}),a=[],n,i=function(){if(n.value){var o=n.value.slice(),A=Rp(o),l="";A.forEach(function(c){h9.indexOf(c)===-1?l+=cs(c):(l.length&&a.push(l),a.push(cs(c)),l="")}),l.length&&a.push(l)}};!(n=r.next()).done;)i();return a},m9=function(){function e(t,r,a){this.text=p9(r.data,a.textTransform),this.textBounds=l9(t,this.text,a,r)}return e}(),p9=function(e,t){switch(t){case 1:return e.toLowerCase();case 3:return e.replace(g9,x9);case 2:return e.toUpperCase();default:return e}},g9=/(^|\s|:|-|\(|\))([a-z])/g,x9=function(e,t,r){return e.length>0?t+r.toUpperCase():e},ZS=function(e){zn(t,e);function t(r,a){var n=e.call(this,r,a)||this;return n.src=a.currentSrc||a.src,n.intrinsicWidth=a.naturalWidth,n.intrinsicHeight=a.naturalHeight,n.context.cache.addImage(n.src),n}return t}(bi),e3=function(e){zn(t,e);function t(r,a){var n=e.call(this,r,a)||this;return n.canvas=a,n.intrinsicWidth=a.width,n.intrinsicHeight=a.height,n}return t}(bi),t3=function(e){zn(t,e);function t(r,a){var n=e.call(this,r,a)||this,i=new XMLSerializer,o=Tp(r,a);return a.setAttribute("width",o.width+"px"),a.setAttribute("height",o.height+"px"),n.svg="data:image/svg+xml,"+encodeURIComponent(i.serializeToString(a)),n.intrinsicWidth=a.width.baseVal.value,n.intrinsicHeight=a.height.baseVal.value,n.context.cache.addImage(n.svg),n}return t}(bi),r3=function(e){zn(t,e);function t(r,a){var n=e.call(this,r,a)||this;return n.value=a.value,n}return t}(bi),vv=function(e){zn(t,e);function t(r,a){var n=e.call(this,r,a)||this;return n.start=a.start,n.reversed=typeof a.reversed=="boolean"&&a.reversed===!0,n}return t}(bi),v9=[{type:15,flags:0,unit:"px",number:3}],w9=[{type:16,flags:0,number:50}],b9=function(e){return e.width>e.height?new Xi(e.left+(e.width-e.height)/2,e.top,e.height,e.height):e.width<e.height?new Xi(e.left,e.top+(e.height-e.width)/2,e.width,e.width):e},y9=function(e){var t=e.type===B9?new Array(e.value.length+1).join(""):e.value;return t.length===0?e.placeholder||"":t},qm="checkbox",Gm="radio",B9="password",p5=707406591,G1=function(e){zn(t,e);function t(r,a){var n=e.call(this,r,a)||this;switch(n.type=a.type.toLowerCase(),n.checked=a.checked,n.value=y9(a),(n.type===qm||n.type===Gm)&&(n.styles.backgroundColor=3739148031,n.styles.borderTopColor=n.styles.borderRightColor=n.styles.borderBottomColor=n.styles.borderLeftColor=2779096575,n.styles.borderTopWidth=n.styles.borderRightWidth=n.styles.borderBottomWidth=n.styles.borderLeftWidth=1,n.styles.borderTopStyle=n.styles.borderRightStyle=n.styles.borderBottomStyle=n.styles.borderLeftStyle=1,n.styles.backgroundClip=[0],n.styles.backgroundOrigin=[0],n.bounds=b9(n.bounds)),n.type){case qm:n.styles.borderTopRightRadius=n.styles.borderTopLeftRadius=n.styles.borderBottomRightRadius=n.styles.borderBottomLeftRadius=v9;break;case Gm:n.styles.borderTopRightRadius=n.styles.borderTopLeftRadius=n.styles.borderBottomRightRadius=n.styles.borderBottomLeftRadius=w9;break}return n}return t}(bi),s3=function(e){zn(t,e);function t(r,a){var n=e.call(this,r,a)||this,i=a.options[a.selectedIndex||0];return n.value=i&&i.text||"",n}return t}(bi),a3=function(e){zn(t,e);function t(r,a){var n=e.call(this,r,a)||this;return n.value=a.value,n}return t}(bi),n3=function(e){zn(t,e);function t(r,a){var n=e.call(this,r,a)||this;n.src=a.src,n.width=parseInt(a.width,10)||0,n.height=parseInt(a.height,10)||0,n.backgroundColor=n.styles.backgroundColor;try{if(a.contentWindow&&a.contentWindow.document&&a.contentWindow.document.documentElement){n.tree=o3(r,a.contentWindow.document.documentElement);var i=a.contentWindow.document.documentElement?au(r,getComputedStyle(a.contentWindow.document.documentElement).backgroundColor):qi.TRANSPARENT,o=a.contentWindow.document.body?au(r,getComputedStyle(a.contentWindow.document.body).backgroundColor):qi.TRANSPARENT;n.backgroundColor=qo(i)?qo(o)?n.styles.backgroundColor:o:i}}catch(A){}return n}return t}(bi),j9=["OL","UL","MENU"],om=function(e,t,r,a){for(var n=t.firstChild,i=void 0;n;n=i)if(i=n.nextSibling,A3(n)&&n.data.trim().length>0)r.textNodes.push(new m9(e,n,r.styles));else if(Zl(n))if(u3(n)&&n.assignedNodes)n.assignedNodes().forEach(function(A){return om(e,A,r,a)});else{var o=i3(e,n);o.styles.isVisible()&&(C9(n,o,a)?o.flags|=4:N9(o.styles)&&(o.flags|=2),j9.indexOf(n.tagName)!==-1&&(o.flags|=8),r.elements.push(o),n.slot,n.shadowRoot?om(e,n.shadowRoot,o,a):!Wm(n)&&!l3(n)&&!Jm(n)&&om(e,n,o,a))}},i3=function(e,t){return bv(t)?new ZS(e,t):c3(t)?new e3(e,t):l3(t)?new t3(e,t):_9(t)?new r3(e,t):S9(t)?new vv(e,t):F9(t)?new G1(e,t):Jm(t)?new s3(e,t):Wm(t)?new a3(e,t):d3(t)?new n3(e,t):new bi(e,t)},o3=function(e,t){var r=i3(e,t);return r.flags|=4,om(e,t,r,r),r},C9=function(e,t,r){return t.styles.isPositionedWithZIndex()||t.styles.opacity<1||t.styles.isTransformed()||W1(e)&&r.styles.isTransparent()},N9=function(e){return e.isPositioned()||e.isFloating()},A3=function(e){return e.nodeType===Node.TEXT_NODE},Zl=function(e){return e.nodeType===Node.ELEMENT_NODE},wv=function(e){return Zl(e)&&typeof e.style!="undefined"&&!Am(e)},Am=function(e){return typeof e.className=="object"},_9=function(e){return e.tagName==="LI"},S9=function(e){return e.tagName==="OL"},F9=function(e){return e.tagName==="INPUT"},E9=function(e){return e.tagName==="HTML"},l3=function(e){return e.tagName==="svg"},W1=function(e){return e.tagName==="BODY"},c3=function(e){return e.tagName==="CANVAS"},g5=function(e){return e.tagName==="VIDEO"},bv=function(e){return e.tagName==="IMG"},d3=function(e){return e.tagName==="IFRAME"},x5=function(e){return e.tagName==="STYLE"},U9=function(e){return e.tagName==="SCRIPT"},Wm=function(e){return e.tagName==="TEXTAREA"},Jm=function(e){return e.tagName==="SELECT"},u3=function(e){return e.tagName==="SLOT"},v5=function(e){return e.tagName.indexOf("-")>0},I9=function(){function e(){this.counters={}}return e.prototype.getCounterValue=function(t){var r=this.counters[t];return r&&r.length?r[r.length-1]:1},e.prototype.getCounterValues=function(t){var r=this.counters[t];return r||[]},e.prototype.pop=function(t){var r=this;t.forEach(function(a){return r.counters[a].pop()})},e.prototype.parse=function(t){var r=this,a=t.counterIncrement,n=t.counterReset,i=!0;a!==null&&a.forEach(function(A){var l=r.counters[A.counter];l&&A.increment!==0&&(i=!1,l.length||l.push(1),l[Math.max(0,l.length-1)]+=A.increment)});var o=[];return i&&n.forEach(function(A){var l=r.counters[A.counter];o.push(A.counter),l||(l=r.counters[A.counter]=[]),l.push(A.reset)}),o},e}(),w5={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},b5={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Q9={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},k9={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Rl=function(e,t,r,a,n,i){return e<t||e>r?Lu(e,n,i.length>0):a.integers.reduce(function(o,A,l){for(;e>=A;)e-=A,o+=a.values[l];return o},"")+i},h3=function(e,t,r,a){var n="";do r||e--,n=a(e)+n,e/=t;while(e*t>=t);return n},os=function(e,t,r,a,n){var i=r-t+1;return(e<0?"-":"")+(h3(Math.abs(e),i,a,function(o){return cs(Math.floor(o%i)+t)})+n)},EA=function(e,t,r){r===void 0&&(r=". ");var a=t.length;return h3(Math.abs(e),a,!1,function(n){return t[Math.floor(n%a)]})+r},Wl=1,No=2,_o=4,Vd=8,Mi=function(e,t,r,a,n,i){if(e<-9999||e>9999)return Lu(e,4,n.length>0);var o=Math.abs(e),A=n;if(o===0)return t[0]+A;for(var l=0;o>0&&l<=4;l++){var c=o%10;c===0&&Es(i,Wl)&&A!==""?A=t[c]+A:c>1||c===1&&l===0||c===1&&l===1&&Es(i,No)||c===1&&l===1&&Es(i,_o)&&e>100||c===1&&l>1&&Es(i,Vd)?A=t[c]+(l>0?r[l-1]:"")+A:c===1&&l>0&&(A=r[l-1]+A),o=Math.floor(o/10)}return(e<0?a:"")+A},y5="",B5="",j5="",K0="",Lu=function(e,t,r){var a=r?". ":"",n=r?"":"",i=r?", ":"",o=r?" ":"";switch(t){case 0:return""+o;case 1:return""+o;case 2:return""+o;case 5:var A=os(e,48,57,!0,a);return A.length<4?"0"+A:A;case 4:return EA(e,"",n);case 6:return Rl(e,1,3999,w5,3,a).toLowerCase();case 7:return Rl(e,1,3999,w5,3,a);case 8:return os(e,945,969,!1,a);case 9:return os(e,97,122,!1,a);case 10:return os(e,65,90,!1,a);case 11:return os(e,1632,1641,!0,a);case 12:case 49:return Rl(e,1,9999,b5,3,a);case 35:return Rl(e,1,9999,b5,3,a).toLowerCase();case 13:return os(e,2534,2543,!0,a);case 14:case 30:return os(e,6112,6121,!0,a);case 15:return EA(e,"",n);case 16:return EA(e,"",n);case 17:case 48:return Mi(e,"",y5,"",n,No|_o|Vd);case 47:return Mi(e,"",B5,"",n,Wl|No|_o|Vd);case 42:return Mi(e,"",y5,"",n,No|_o|Vd);case 41:return Mi(e,"",B5,"",n,Wl|No|_o|Vd);case 26:return Mi(e,"","",j5,n,0);case 25:return Mi(e,"","",j5,n,Wl|No|_o);case 31:return Mi(e,"","",K0,i,Wl|No|_o);case 33:return Mi(e,"","",K0,i,0);case 32:return Mi(e,"","",K0,i,Wl|No|_o);case 18:return os(e,2406,2415,!0,a);case 20:return Rl(e,1,19999,k9,3,a);case 21:return os(e,2790,2799,!0,a);case 22:return os(e,2662,2671,!0,a);case 22:return Rl(e,1,10999,Q9,3,a);case 23:return EA(e,"");case 24:return EA(e,"");case 27:return os(e,3302,3311,!0,a);case 28:return EA(e,"",n);case 29:return EA(e,"",n);case 34:return os(e,3792,3801,!0,a);case 37:return os(e,6160,6169,!0,a);case 38:return os(e,4160,4169,!0,a);case 39:return os(e,2918,2927,!0,a);case 40:return os(e,1776,1785,!0,a);case 43:return os(e,3046,3055,!0,a);case 44:return os(e,3174,3183,!0,a);case 45:return os(e,3664,3673,!0,a);case 46:return os(e,3872,3881,!0,a);case 3:default:return os(e,48,57,!0,a)}},f3="data-html2canvas-ignore",C5=function(){function e(t,r,a){if(this.context=t,this.options=a,this.scrolledElements=[],this.referenceElement=r,this.counters=new I9,this.quoteDepth=0,!r.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(r.ownerDocument.documentElement,!1)}return e.prototype.toIFrame=function(t,r){var a=this,n=L9(t,r);if(!n.contentWindow)return Promise.reject("Unable to find iframe window");var i=t.defaultView.pageXOffset,o=t.defaultView.pageYOffset,A=n.contentWindow,l=A.document,c=M9(n).then(function(){return wa(a,void 0,void 0,function(){var d,h;return ca(this,function(m){switch(m.label){case 0:return this.scrolledElements.forEach(H9),A&&(A.scrollTo(r.left,r.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(A.scrollY!==r.top||A.scrollX!==r.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(A.scrollX-r.left,A.scrollY-r.top,0,0))),d=this.options.onclone,h=this.clonedReferenceElement,typeof h=="undefined"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:l.fonts&&l.fonts.ready?[4,l.fonts.ready]:[3,2];case 1:m.sent(),m.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,P9(l)]:[3,4];case 3:m.sent(),m.label=4;case 4:return typeof d=="function"?[2,Promise.resolve().then(function(){return d(l,h)}).then(function(){return n})]:[2,n]}})})});return l.open(),l.write(R9(document.doctype)+"<html></html>"),O9(this.referenceElement.ownerDocument,i,o),l.replaceChild(l.adoptNode(this.documentElement),l.documentElement),l.close(),c},e.prototype.createElementClone=function(t){if(gv(t,2))debugger;if(c3(t))return this.createCanvasClone(t);if(g5(t))return this.createVideoClone(t);if(x5(t))return this.createStyleClone(t);var r=t.cloneNode(!1);return bv(r)&&(bv(t)&&t.currentSrc&&t.currentSrc!==t.src&&(r.src=t.currentSrc,r.srcset=""),r.loading==="lazy"&&(r.loading="eager")),v5(r)?this.createCustomElementClone(r):r},e.prototype.createCustomElementClone=function(t){var r=document.createElement("html2canvascustomelement");return $0(t.style,r),r},e.prototype.createStyleClone=function(t){try{var r=t.sheet;if(r&&r.cssRules){var a=[].slice.call(r.cssRules,0).reduce(function(i,o){return o&&typeof o.cssText=="string"?i+o.cssText:i},""),n=t.cloneNode(!1);return n.textContent=a,n}}catch(i){if(this.context.logger.error("Unable to access cssRules property",i),i.name!=="SecurityError")throw i}return t.cloneNode(!1)},e.prototype.createCanvasClone=function(t){var r;if(this.options.inlineImages&&t.ownerDocument){var a=t.ownerDocument.createElement("img");try{return a.src=t.toDataURL(),a}catch(c){this.context.logger.info("Unable to inline canvas contents, canvas is tainted",t)}}var n=t.cloneNode(!1);try{n.width=t.width,n.height=t.height;var i=t.getContext("2d"),o=n.getContext("2d");if(o)if(!this.options.allowTaint&&i)o.putImageData(i.getImageData(0,0,t.width,t.height),0,0);else{var A=(r=t.getContext("webgl2"))!==null&&r!==void 0?r:t.getContext("webgl");if(A){var l=A.getContextAttributes();(l==null?void 0:l.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",t)}o.drawImage(t,0,0)}return n}catch(c){this.context.logger.info("Unable to clone canvas as it is tainted",t)}return n},e.prototype.createVideoClone=function(t){var r=t.ownerDocument.createElement("canvas");r.width=t.offsetWidth,r.height=t.offsetHeight;var a=r.getContext("2d");try{return a&&(a.drawImage(t,0,0,r.width,r.height),this.options.allowTaint||a.getImageData(0,0,r.width,r.height)),r}catch(i){this.context.logger.info("Unable to clone video as it is tainted",t)}var n=t.ownerDocument.createElement("canvas");return n.width=t.offsetWidth,n.height=t.offsetHeight,n},e.prototype.appendChildNode=function(t,r,a){(!Zl(r)||!U9(r)&&!r.hasAttribute(f3)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(r)))&&(!this.options.copyStyles||!Zl(r)||!x5(r))&&t.appendChild(this.cloneNode(r,a))},e.prototype.cloneChildNodes=function(t,r,a){for(var n=this,i=t.shadowRoot?t.shadowRoot.firstChild:t.firstChild;i;i=i.nextSibling)if(Zl(i)&&u3(i)&&typeof i.assignedNodes=="function"){var o=i.assignedNodes();o.length&&o.forEach(function(A){return n.appendChildNode(r,A,a)})}else this.appendChildNode(r,i,a)},e.prototype.cloneNode=function(t,r){if(A3(t))return document.createTextNode(t.data);if(!t.ownerDocument)return t.cloneNode(!1);var a=t.ownerDocument.defaultView;if(a&&Zl(t)&&(wv(t)||Am(t))){var n=this.createElementClone(t);n.style.transitionProperty="none";var i=a.getComputedStyle(t),o=a.getComputedStyle(t,":before"),A=a.getComputedStyle(t,":after");this.referenceElement===t&&wv(n)&&(this.clonedReferenceElement=n),W1(n)&&V9(n);var l=this.counters.parse(new r5(this.context,i)),c=this.resolvePseudoContent(t,n,o,ou.BEFORE);v5(t)&&(r=!0),g5(t)||this.cloneChildNodes(t,n,r),c&&n.insertBefore(c,n.firstChild);var d=this.resolvePseudoContent(t,n,A,ou.AFTER);return d&&n.appendChild(d),this.counters.pop(l),(i&&(this.options.copyStyles||Am(t))&&!d3(t)||r)&&$0(i,n),(t.scrollTop!==0||t.scrollLeft!==0)&&this.scrolledElements.push([n,t.scrollLeft,t.scrollTop]),(Wm(t)||Jm(t))&&(Wm(n)||Jm(n))&&(n.value=t.value),n}return t.cloneNode(!1)},e.prototype.resolvePseudoContent=function(t,r,a,n){var i=this;if(a){var o=a.content,A=r.ownerDocument;if(!(!A||!o||o==="none"||o==="-moz-alt-content"||a.display==="none")){this.counters.parse(new r5(this.context,a));var l=new _H(this.context,a),c=A.createElement("html2canvaspseudoelement");$0(a,c),l.content.forEach(function(h){if(h.type===0)c.appendChild(A.createTextNode(h.value));else if(h.type===22){var m=A.createElement("img");m.src=h.value,m.style.opacity="1",c.appendChild(m)}else if(h.type===18){if(h.name==="attr"){var u=h.values.filter(jr);u.length&&c.appendChild(A.createTextNode(t.getAttribute(u[0].value)||""))}else if(h.name==="counter"){var p=h.values.filter(Cc),g=p[0],y=p[1];if(g&&jr(g)){var x=i.counters.getCounterValue(g.value),B=y&&jr(y)?pv.parse(i.context,y.value):3;c.appendChild(A.createTextNode(Lu(x,B,!1)))}}else if(h.name==="counters"){var j=h.values.filter(Cc),g=j[0],w=j[1],y=j[2];if(g&&jr(g)){var N=i.counters.getCounterValues(g.value),I=y&&jr(y)?pv.parse(i.context,y.value):3,U=w&&w.type===0?w.value:"",D=N.map(function(S){return Lu(S,I,!1)}).join(U);c.appendChild(A.createTextNode(D))}}}else if(h.type===20)switch(h.value){case"open-quote":c.appendChild(A.createTextNode(t5(l.quotes,i.quoteDepth++,!0)));break;case"close-quote":c.appendChild(A.createTextNode(t5(l.quotes,--i.quoteDepth,!1)));break;default:c.appendChild(A.createTextNode(h.value))}}),c.className=yv+" "+Bv;var d=n===ou.BEFORE?" "+yv:" "+Bv;return Am(r)?r.className.baseValue+=d:r.className+=d,c}}},e.destroy=function(t){return t.parentNode?(t.parentNode.removeChild(t),!0):!1},e}(),ou;(function(e){e[e.BEFORE=0]="BEFORE",e[e.AFTER=1]="AFTER"})(ou||(ou={}));var L9=function(e,t){var r=e.createElement("iframe");return r.className="html2canvas-container",r.style.visibility="hidden",r.style.position="fixed",r.style.left="-10000px",r.style.top="0px",r.style.border="0",r.width=t.width.toString(),r.height=t.height.toString(),r.scrolling="no",r.setAttribute(f3,"true"),e.body.appendChild(r),r},D9=function(e){return new Promise(function(t){if(e.complete){t();return}if(!e.src){t();return}e.onload=t,e.onerror=t})},P9=function(e){return Promise.all([].slice.call(e.images,0).map(D9))},M9=function(e){return new Promise(function(t,r){var a=e.contentWindow;if(!a)return r("No window assigned for iframe");var n=a.document;a.onload=e.onload=function(){a.onload=e.onload=null;var i=setInterval(function(){n.body.childNodes.length>0&&n.readyState==="complete"&&(clearInterval(i),t(e))},50)}})},T9=["all","d","content"],$0=function(e,t){for(var r=e.length-1;r>=0;r--){var a=e.item(r);T9.indexOf(a)===-1&&t.style.setProperty(a,e.getPropertyValue(a))}return t},R9=function(e){var t="";return e&&(t+="<!DOCTYPE ",e.name&&(t+=e.name),e.internalSubset&&(t+=e.internalSubset),e.publicId&&(t+='"'+e.publicId+'"'),e.systemId&&(t+='"'+e.systemId+'"'),t+=">"),t},O9=function(e,t,r){e&&e.defaultView&&(t!==e.defaultView.pageXOffset||r!==e.defaultView.pageYOffset)&&e.defaultView.scrollTo(t,r)},H9=function(e){var t=e[0],r=e[1],a=e[2];t.scrollLeft=r,t.scrollTop=a},K9=":before",$9=":after",yv="___html2canvas___pseudoelement_before",Bv="___html2canvas___pseudoelement_after",N5=`{
    content: "" !important;
    display: none !important;
}`,V9=function(e){z9(e,"."+yv+K9+N5+`
         .`+Bv+$9+N5)},z9=function(e,t){var r=e.ownerDocument;if(r){var a=r.createElement("style");a.textContent=t,e.appendChild(a)}},m3=function(){function e(){}return e.getOrigin=function(t){var r=e._link;return r?(r.href=t,r.href=r.href,r.protocol+r.hostname+r.port):"about:blank"},e.isSameOrigin=function(t){return e.getOrigin(t)===e._origin},e.setContext=function(t){e._link=t.document.createElement("a"),e._origin=e.getOrigin(t.location.href)},e._origin="about:blank",e}(),q9=function(){function e(t,r){this.context=t,this._options=r,this._cache={}}return e.prototype.addImage=function(t){var r=Promise.resolve();return this.has(t)||(z0(t)||X9(t))&&(this._cache[t]=this.loadImage(t)).catch(function(){}),r},e.prototype.match=function(t){return this._cache[t]},e.prototype.loadImage=function(t){return wa(this,void 0,void 0,function(){var r,a,n,i,o=this;return ca(this,function(A){switch(A.label){case 0:return r=m3.isSameOrigin(t),a=!V0(t)&&this._options.useCORS===!0&&Js.SUPPORT_CORS_IMAGES&&!r,n=!V0(t)&&!r&&!z0(t)&&typeof this._options.proxy=="string"&&Js.SUPPORT_CORS_XHR&&!a,!r&&this._options.allowTaint===!1&&!V0(t)&&!z0(t)&&!n&&!a?[2]:(i=t,n?[4,this.proxy(i)]:[3,2]);case 1:i=A.sent(),A.label=2;case 2:return this.context.logger.debug("Added image "+t.substring(0,256)),[4,new Promise(function(l,c){var d=new Image;d.onload=function(){return l(d)},d.onerror=c,(Y9(i)||a)&&(d.crossOrigin="anonymous"),d.src=i,d.complete===!0&&setTimeout(function(){return l(d)},500),o._options.imageTimeout>0&&setTimeout(function(){return c("Timed out ("+o._options.imageTimeout+"ms) loading image")},o._options.imageTimeout)})];case 3:return[2,A.sent()]}})})},e.prototype.has=function(t){return typeof this._cache[t]!="undefined"},e.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},e.prototype.proxy=function(t){var r=this,a=this._options.proxy;if(!a)throw new Error("No proxy defined");var n=t.substring(0,256);return new Promise(function(i,o){var A=Js.SUPPORT_RESPONSE_TYPE?"blob":"text",l=new XMLHttpRequest;l.onload=function(){if(l.status===200)if(A==="text")i(l.response);else{var h=new FileReader;h.addEventListener("load",function(){return i(h.result)},!1),h.addEventListener("error",function(m){return o(m)},!1),h.readAsDataURL(l.response)}else o("Failed to proxy resource "+n+" with status code "+l.status)},l.onerror=o;var c=a.indexOf("?")>-1?"&":"?";if(l.open("GET",""+a+c+"url="+encodeURIComponent(t)+"&responseType="+A),A!=="text"&&l instanceof XMLHttpRequest&&(l.responseType=A),r._options.imageTimeout){var d=r._options.imageTimeout;l.timeout=d,l.ontimeout=function(){return o("Timed out ("+d+"ms) proxying "+n)}}l.send()})},e}(),G9=/^data:image\/svg\+xml/i,W9=/^data:image\/.*;base64,/i,J9=/^data:image\/.*/i,X9=function(e){return Js.SUPPORT_SVG_DRAWING||!Z9(e)},V0=function(e){return J9.test(e)},Y9=function(e){return W9.test(e)},z0=function(e){return e.substr(0,4)==="blob"},Z9=function(e){return e.substr(-3).toLowerCase()==="svg"||G9.test(e)},at=function(){function e(t,r){this.type=0,this.x=t,this.y=r}return e.prototype.add=function(t,r){return new e(this.x+t,this.y+r)},e}(),Ol=function(e,t,r){return new at(e.x+(t.x-e.x)*r,e.y+(t.y-e.y)*r)},kf=function(){function e(t,r,a,n){this.type=1,this.start=t,this.startControl=r,this.endControl=a,this.end=n}return e.prototype.subdivide=function(t,r){var a=Ol(this.start,this.startControl,t),n=Ol(this.startControl,this.endControl,t),i=Ol(this.endControl,this.end,t),o=Ol(a,n,t),A=Ol(n,i,t),l=Ol(o,A,t);return r?new e(this.start,a,o,l):new e(l,A,i,this.end)},e.prototype.add=function(t,r){return new e(this.start.add(t,r),this.startControl.add(t,r),this.endControl.add(t,r),this.end.add(t,r))},e.prototype.reverse=function(){return new e(this.end,this.endControl,this.startControl,this.start)},e}(),fn=function(e){return e.type===1},eK=function(){function e(t){var r=t.styles,a=t.bounds,n=Kd(r.borderTopLeftRadius,a.width,a.height),i=n[0],o=n[1],A=Kd(r.borderTopRightRadius,a.width,a.height),l=A[0],c=A[1],d=Kd(r.borderBottomRightRadius,a.width,a.height),h=d[0],m=d[1],u=Kd(r.borderBottomLeftRadius,a.width,a.height),p=u[0],g=u[1],y=[];y.push((i+l)/a.width),y.push((p+h)/a.width),y.push((o+g)/a.height),y.push((c+m)/a.height);var x=Math.max.apply(Math,y);x>1&&(i/=x,o/=x,l/=x,c/=x,h/=x,m/=x,p/=x,g/=x);var B=a.width-l,j=a.height-m,w=a.width-h,N=a.height-g,I=r.borderTopWidth,U=r.borderRightWidth,D=r.borderBottomWidth,L=r.borderLeftWidth,P=Er(r.paddingTop,t.bounds.width),S=Er(r.paddingRight,t.bounds.width),E=Er(r.paddingBottom,t.bounds.width),Q=Er(r.paddingLeft,t.bounds.width);this.topLeftBorderDoubleOuterBox=i>0||o>0?Mr(a.left+L/3,a.top+I/3,i-L/3,o-I/3,xr.TOP_LEFT):new at(a.left+L/3,a.top+I/3),this.topRightBorderDoubleOuterBox=i>0||o>0?Mr(a.left+B,a.top+I/3,l-U/3,c-I/3,xr.TOP_RIGHT):new at(a.left+a.width-U/3,a.top+I/3),this.bottomRightBorderDoubleOuterBox=h>0||m>0?Mr(a.left+w,a.top+j,h-U/3,m-D/3,xr.BOTTOM_RIGHT):new at(a.left+a.width-U/3,a.top+a.height-D/3),this.bottomLeftBorderDoubleOuterBox=p>0||g>0?Mr(a.left+L/3,a.top+N,p-L/3,g-D/3,xr.BOTTOM_LEFT):new at(a.left+L/3,a.top+a.height-D/3),this.topLeftBorderDoubleInnerBox=i>0||o>0?Mr(a.left+L*2/3,a.top+I*2/3,i-L*2/3,o-I*2/3,xr.TOP_LEFT):new at(a.left+L*2/3,a.top+I*2/3),this.topRightBorderDoubleInnerBox=i>0||o>0?Mr(a.left+B,a.top+I*2/3,l-U*2/3,c-I*2/3,xr.TOP_RIGHT):new at(a.left+a.width-U*2/3,a.top+I*2/3),this.bottomRightBorderDoubleInnerBox=h>0||m>0?Mr(a.left+w,a.top+j,h-U*2/3,m-D*2/3,xr.BOTTOM_RIGHT):new at(a.left+a.width-U*2/3,a.top+a.height-D*2/3),this.bottomLeftBorderDoubleInnerBox=p>0||g>0?Mr(a.left+L*2/3,a.top+N,p-L*2/3,g-D*2/3,xr.BOTTOM_LEFT):new at(a.left+L*2/3,a.top+a.height-D*2/3),this.topLeftBorderStroke=i>0||o>0?Mr(a.left+L/2,a.top+I/2,i-L/2,o-I/2,xr.TOP_LEFT):new at(a.left+L/2,a.top+I/2),this.topRightBorderStroke=i>0||o>0?Mr(a.left+B,a.top+I/2,l-U/2,c-I/2,xr.TOP_RIGHT):new at(a.left+a.width-U/2,a.top+I/2),this.bottomRightBorderStroke=h>0||m>0?Mr(a.left+w,a.top+j,h-U/2,m-D/2,xr.BOTTOM_RIGHT):new at(a.left+a.width-U/2,a.top+a.height-D/2),this.bottomLeftBorderStroke=p>0||g>0?Mr(a.left+L/2,a.top+N,p-L/2,g-D/2,xr.BOTTOM_LEFT):new at(a.left+L/2,a.top+a.height-D/2),this.topLeftBorderBox=i>0||o>0?Mr(a.left,a.top,i,o,xr.TOP_LEFT):new at(a.left,a.top),this.topRightBorderBox=l>0||c>0?Mr(a.left+B,a.top,l,c,xr.TOP_RIGHT):new at(a.left+a.width,a.top),this.bottomRightBorderBox=h>0||m>0?Mr(a.left+w,a.top+j,h,m,xr.BOTTOM_RIGHT):new at(a.left+a.width,a.top+a.height),this.bottomLeftBorderBox=p>0||g>0?Mr(a.left,a.top+N,p,g,xr.BOTTOM_LEFT):new at(a.left,a.top+a.height),this.topLeftPaddingBox=i>0||o>0?Mr(a.left+L,a.top+I,Math.max(0,i-L),Math.max(0,o-I),xr.TOP_LEFT):new at(a.left+L,a.top+I),this.topRightPaddingBox=l>0||c>0?Mr(a.left+Math.min(B,a.width-U),a.top+I,B>a.width+U?0:Math.max(0,l-U),Math.max(0,c-I),xr.TOP_RIGHT):new at(a.left+a.width-U,a.top+I),this.bottomRightPaddingBox=h>0||m>0?Mr(a.left+Math.min(w,a.width-L),a.top+Math.min(j,a.height-D),Math.max(0,h-U),Math.max(0,m-D),xr.BOTTOM_RIGHT):new at(a.left+a.width-U,a.top+a.height-D),this.bottomLeftPaddingBox=p>0||g>0?Mr(a.left+L,a.top+Math.min(N,a.height-D),Math.max(0,p-L),Math.max(0,g-D),xr.BOTTOM_LEFT):new at(a.left+L,a.top+a.height-D),this.topLeftContentBox=i>0||o>0?Mr(a.left+L+Q,a.top+I+P,Math.max(0,i-(L+Q)),Math.max(0,o-(I+P)),xr.TOP_LEFT):new at(a.left+L+Q,a.top+I+P),this.topRightContentBox=l>0||c>0?Mr(a.left+Math.min(B,a.width+L+Q),a.top+I+P,B>a.width+L+Q?0:l-L+Q,c-(I+P),xr.TOP_RIGHT):new at(a.left+a.width-(U+S),a.top+I+P),this.bottomRightContentBox=h>0||m>0?Mr(a.left+Math.min(w,a.width-(L+Q)),a.top+Math.min(j,a.height+I+P),Math.max(0,h-(U+S)),m-(D+E),xr.BOTTOM_RIGHT):new at(a.left+a.width-(U+S),a.top+a.height-(D+E)),this.bottomLeftContentBox=p>0||g>0?Mr(a.left+L+Q,a.top+N,Math.max(0,p-(L+Q)),g-(D+E),xr.BOTTOM_LEFT):new at(a.left+L+Q,a.top+a.height-(D+E))}return e}(),xr;(function(e){e[e.TOP_LEFT=0]="TOP_LEFT",e[e.TOP_RIGHT=1]="TOP_RIGHT",e[e.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",e[e.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(xr||(xr={}));var Mr=function(e,t,r,a,n){var i=4*((Math.sqrt(2)-1)/3),o=r*i,A=a*i,l=e+r,c=t+a;switch(n){case xr.TOP_LEFT:return new kf(new at(e,c),new at(e,c-A),new at(l-o,t),new at(l,t));case xr.TOP_RIGHT:return new kf(new at(e,t),new at(e+o,t),new at(l,c-A),new at(l,c));case xr.BOTTOM_RIGHT:return new kf(new at(l,t),new at(l,t+A),new at(e+o,c),new at(e,c));case xr.BOTTOM_LEFT:default:return new kf(new at(l,c),new at(l-o,c),new at(e,t+A),new at(e,t))}},Xm=function(e){return[e.topLeftBorderBox,e.topRightBorderBox,e.bottomRightBorderBox,e.bottomLeftBorderBox]},tK=function(e){return[e.topLeftContentBox,e.topRightContentBox,e.bottomRightContentBox,e.bottomLeftContentBox]},Ym=function(e){return[e.topLeftPaddingBox,e.topRightPaddingBox,e.bottomRightPaddingBox,e.bottomLeftPaddingBox]},rK=function(){function e(t,r,a){this.offsetX=t,this.offsetY=r,this.matrix=a,this.type=0,this.target=6}return e}(),Lf=function(){function e(t,r){this.path=t,this.target=r,this.type=1}return e}(),sK=function(){function e(t){this.opacity=t,this.type=2,this.target=6}return e}(),aK=function(e){return e.type===0},p3=function(e){return e.type===1},nK=function(e){return e.type===2},_5=function(e,t){return e.length===t.length?e.some(function(r,a){return r===t[a]}):!1},iK=function(e,t,r,a,n){return e.map(function(i,o){switch(o){case 0:return i.add(t,r);case 1:return i.add(t+a,r);case 2:return i.add(t+a,r+n);case 3:return i.add(t,r+n)}return i})},g3=function(){function e(t){this.element=t,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return e}(),x3=function(){function e(t,r){if(this.container=t,this.parent=r,this.effects=[],this.curves=new eK(this.container),this.container.styles.opacity<1&&this.effects.push(new sK(this.container.styles.opacity)),this.container.styles.transform!==null){var a=this.container.bounds.left+this.container.styles.transformOrigin[0].number,n=this.container.bounds.top+this.container.styles.transformOrigin[1].number,i=this.container.styles.transform;this.effects.push(new rK(a,n,i))}if(this.container.styles.overflowX!==0){var o=Xm(this.curves),A=Ym(this.curves);_5(o,A)?this.effects.push(new Lf(o,6)):(this.effects.push(new Lf(o,2)),this.effects.push(new Lf(A,4)))}}return e.prototype.getEffects=function(t){for(var r=[2,3].indexOf(this.container.styles.position)===-1,a=this.parent,n=this.effects.slice(0);a;){var i=a.effects.filter(function(l){return!p3(l)});if(r||a.container.styles.position!==0||!a.parent){if(n.unshift.apply(n,i),r=[2,3].indexOf(a.container.styles.position)===-1,a.container.styles.overflowX!==0){var o=Xm(a.curves),A=Ym(a.curves);_5(o,A)||n.unshift(new Lf(A,6))}}else n.unshift.apply(n,i);a=a.parent}return n.filter(function(l){return Es(l.target,t)})},e}(),jv=function(e,t,r,a){e.container.elements.forEach(function(n){var i=Es(n.flags,4),o=Es(n.flags,2),A=new x3(n,e);Es(n.styles.display,2048)&&a.push(A);var l=Es(n.flags,8)?[]:a;if(i||o){var c=i||n.styles.isPositioned()?r:t,d=new g3(A);if(n.styles.isPositioned()||n.styles.opacity<1||n.styles.isTransformed()){var h=n.styles.zIndex.order;if(h<0){var m=0;c.negativeZIndex.some(function(p,g){return h>p.element.container.styles.zIndex.order?(m=g,!1):m>0}),c.negativeZIndex.splice(m,0,d)}else if(h>0){var u=0;c.positiveZIndex.some(function(p,g){return h>=p.element.container.styles.zIndex.order?(u=g+1,!1):u>0}),c.positiveZIndex.splice(u,0,d)}else c.zeroOrAutoZIndexOrTransformedOrOpacity.push(d)}else n.styles.isFloating()?c.nonPositionedFloats.push(d):c.nonPositionedInlineLevel.push(d);jv(A,d,i?d:r,l)}else n.styles.isInlineLevel()?t.inlineLevel.push(A):t.nonInlineLevel.push(A),jv(A,t,r,l);Es(n.flags,8)&&v3(n,l)})},v3=function(e,t){for(var r=e instanceof vv?e.start:1,a=e instanceof vv?e.reversed:!1,n=0;n<t.length;n++){var i=t[n];i.container instanceof r3&&typeof i.container.value=="number"&&i.container.value!==0&&(r=i.container.value),i.listValue=Lu(r,i.container.styles.listStyleType,!0),r+=a?-1:1}},oK=function(e){var t=new x3(e,null),r=new g3(t),a=[];return jv(t,r,r,a),v3(t.container,a),r},S5=function(e,t){switch(t){case 0:return xn(e.topLeftBorderBox,e.topLeftPaddingBox,e.topRightBorderBox,e.topRightPaddingBox);case 1:return xn(e.topRightBorderBox,e.topRightPaddingBox,e.bottomRightBorderBox,e.bottomRightPaddingBox);case 2:return xn(e.bottomRightBorderBox,e.bottomRightPaddingBox,e.bottomLeftBorderBox,e.bottomLeftPaddingBox);case 3:default:return xn(e.bottomLeftBorderBox,e.bottomLeftPaddingBox,e.topLeftBorderBox,e.topLeftPaddingBox)}},AK=function(e,t){switch(t){case 0:return xn(e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox,e.topRightBorderBox,e.topRightBorderDoubleOuterBox);case 1:return xn(e.topRightBorderBox,e.topRightBorderDoubleOuterBox,e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox);case 2:return xn(e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox,e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox);case 3:default:return xn(e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox,e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox)}},lK=function(e,t){switch(t){case 0:return xn(e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox,e.topRightBorderDoubleInnerBox,e.topRightPaddingBox);case 1:return xn(e.topRightBorderDoubleInnerBox,e.topRightPaddingBox,e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox);case 2:return xn(e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox,e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox);case 3:default:return xn(e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox,e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox)}},cK=function(e,t){switch(t){case 0:return Df(e.topLeftBorderStroke,e.topRightBorderStroke);case 1:return Df(e.topRightBorderStroke,e.bottomRightBorderStroke);case 2:return Df(e.bottomRightBorderStroke,e.bottomLeftBorderStroke);case 3:default:return Df(e.bottomLeftBorderStroke,e.topLeftBorderStroke)}},Df=function(e,t){var r=[];return fn(e)?r.push(e.subdivide(.5,!1)):r.push(e),fn(t)?r.push(t.subdivide(.5,!0)):r.push(t),r},xn=function(e,t,r,a){var n=[];return fn(e)?n.push(e.subdivide(.5,!1)):n.push(e),fn(r)?n.push(r.subdivide(.5,!0)):n.push(r),fn(a)?n.push(a.subdivide(.5,!0).reverse()):n.push(a),fn(t)?n.push(t.subdivide(.5,!1).reverse()):n.push(t),n},w3=function(e){var t=e.bounds,r=e.styles;return t.add(r.borderLeftWidth,r.borderTopWidth,-(r.borderRightWidth+r.borderLeftWidth),-(r.borderTopWidth+r.borderBottomWidth))},Zm=function(e){var t=e.styles,r=e.bounds,a=Er(t.paddingLeft,r.width),n=Er(t.paddingRight,r.width),i=Er(t.paddingTop,r.width),o=Er(t.paddingBottom,r.width);return r.add(a+t.borderLeftWidth,i+t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth+a+n),-(t.borderTopWidth+t.borderBottomWidth+i+o))},dK=function(e,t){return e===0?t.bounds:e===2?Zm(t):w3(t)},uK=function(e,t){return e===0?t.bounds:e===2?Zm(t):w3(t)},q0=function(e,t,r){var a=dK(Jl(e.styles.backgroundOrigin,t),e),n=uK(Jl(e.styles.backgroundClip,t),e),i=hK(Jl(e.styles.backgroundSize,t),r,a),o=i[0],A=i[1],l=Kd(Jl(e.styles.backgroundPosition,t),a.width-o,a.height-A),c=fK(Jl(e.styles.backgroundRepeat,t),l,i,a,n),d=Math.round(a.left+l[0]),h=Math.round(a.top+l[1]);return[c,d,h,o,A]},Hl=function(e){return jr(e)&&e.value===oc.AUTO},Pf=function(e){return typeof e=="number"},hK=function(e,t,r){var a=t[0],n=t[1],i=t[2],o=e[0],A=e[1];if(!o)return[0,0];if(gs(o)&&A&&gs(A))return[Er(o,r.width),Er(A,r.height)];var l=Pf(i);if(jr(o)&&(o.value===oc.CONTAIN||o.value===oc.COVER)){if(Pf(i)){var c=r.width/r.height;return c<i!=(o.value===oc.COVER)?[r.width,r.width/i]:[r.height*i,r.height]}return[r.width,r.height]}var d=Pf(a),h=Pf(n),m=d||h;if(Hl(o)&&(!A||Hl(A))){if(d&&h)return[a,n];if(!l&&!m)return[r.width,r.height];if(m&&l){var u=d?a:n*i,p=h?n:a/i;return[u,p]}var g=d?a:r.width,y=h?n:r.height;return[g,y]}if(l){var x=0,B=0;return gs(o)?x=Er(o,r.width):gs(A)&&(B=Er(A,r.height)),Hl(o)?x=B*i:(!A||Hl(A))&&(B=x/i),[x,B]}var j=null,w=null;if(gs(o)?j=Er(o,r.width):A&&gs(A)&&(w=Er(A,r.height)),j!==null&&(!A||Hl(A))&&(w=d&&h?j/a*n:r.height),w!==null&&Hl(o)&&(j=d&&h?w/n*a:r.width),j!==null&&w!==null)return[j,w];throw new Error("Unable to calculate background-size for element")},Jl=function(e,t){var r=e[t];return typeof r=="undefined"?e[0]:r},fK=function(e,t,r,a,n){var i=t[0],o=t[1],A=r[0],l=r[1];switch(e){case 2:return[new at(Math.round(a.left),Math.round(a.top+o)),new at(Math.round(a.left+a.width),Math.round(a.top+o)),new at(Math.round(a.left+a.width),Math.round(l+a.top+o)),new at(Math.round(a.left),Math.round(l+a.top+o))];case 3:return[new at(Math.round(a.left+i),Math.round(a.top)),new at(Math.round(a.left+i+A),Math.round(a.top)),new at(Math.round(a.left+i+A),Math.round(a.height+a.top)),new at(Math.round(a.left+i),Math.round(a.height+a.top))];case 1:return[new at(Math.round(a.left+i),Math.round(a.top+o)),new at(Math.round(a.left+i+A),Math.round(a.top+o)),new at(Math.round(a.left+i+A),Math.round(a.top+o+l)),new at(Math.round(a.left+i),Math.round(a.top+o+l))];default:return[new at(Math.round(n.left),Math.round(n.top)),new at(Math.round(n.left+n.width),Math.round(n.top)),new at(Math.round(n.left+n.width),Math.round(n.height+n.top)),new at(Math.round(n.left),Math.round(n.height+n.top))]}},mK="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",F5="Hidden Text",pK=function(){function e(t){this._data={},this._document=t}return e.prototype.parseMetrics=function(t,r){var a=this._document.createElement("div"),n=this._document.createElement("img"),i=this._document.createElement("span"),o=this._document.body;a.style.visibility="hidden",a.style.fontFamily=t,a.style.fontSize=r,a.style.margin="0",a.style.padding="0",a.style.whiteSpace="nowrap",o.appendChild(a),n.src=mK,n.width=1,n.height=1,n.style.margin="0",n.style.padding="0",n.style.verticalAlign="baseline",i.style.fontFamily=t,i.style.fontSize=r,i.style.margin="0",i.style.padding="0",i.appendChild(this._document.createTextNode(F5)),a.appendChild(i),a.appendChild(n);var A=n.offsetTop-i.offsetTop+2;a.removeChild(i),a.appendChild(this._document.createTextNode(F5)),a.style.lineHeight="normal",n.style.verticalAlign="super";var l=n.offsetTop-a.offsetTop+2;return o.removeChild(a),{baseline:A,middle:l}},e.prototype.getMetrics=function(t,r){var a=t+" "+r;return typeof this._data[a]=="undefined"&&(this._data[a]=this.parseMetrics(t,r)),this._data[a]},e}(),b3=function(){function e(t,r){this.context=t,this.options=r}return e}(),gK=1e4,xK=function(e){zn(t,e);function t(r,a){var n=e.call(this,r,a)||this;return n._activeEffects=[],n.canvas=a.canvas?a.canvas:document.createElement("canvas"),n.ctx=n.canvas.getContext("2d"),a.canvas||(n.canvas.width=Math.floor(a.width*a.scale),n.canvas.height=Math.floor(a.height*a.scale),n.canvas.style.width=a.width+"px",n.canvas.style.height=a.height+"px"),n.fontMetrics=new pK(document),n.ctx.scale(n.options.scale,n.options.scale),n.ctx.translate(-a.x,-a.y),n.ctx.textBaseline="bottom",n._activeEffects=[],n.context.logger.debug("Canvas renderer initialized ("+a.width+"x"+a.height+") with scale "+a.scale),n}return t.prototype.applyEffects=function(r){for(var a=this;this._activeEffects.length;)this.popEffect();r.forEach(function(n){return a.applyEffect(n)})},t.prototype.applyEffect=function(r){this.ctx.save(),nK(r)&&(this.ctx.globalAlpha=r.opacity),aK(r)&&(this.ctx.translate(r.offsetX,r.offsetY),this.ctx.transform(r.matrix[0],r.matrix[1],r.matrix[2],r.matrix[3],r.matrix[4],r.matrix[5]),this.ctx.translate(-r.offsetX,-r.offsetY)),p3(r)&&(this.path(r.path),this.ctx.clip()),this._activeEffects.push(r)},t.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},t.prototype.renderStack=function(r){return wa(this,void 0,void 0,function(){var a;return ca(this,function(n){switch(n.label){case 0:return a=r.element.container.styles,a.isVisible()?[4,this.renderStackContent(r)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}})})},t.prototype.renderNode=function(r){return wa(this,void 0,void 0,function(){return ca(this,function(a){switch(a.label){case 0:if(Es(r.container.flags,16))debugger;return r.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(r)]:[3,3];case 1:return a.sent(),[4,this.renderNodeContent(r)];case 2:a.sent(),a.label=3;case 3:return[2]}})})},t.prototype.renderTextWithLetterSpacing=function(r,a,n){var i=this;if(a===0)this.ctx.fillText(r.text,r.bounds.left,r.bounds.top+n);else{var o=q1(r.text);o.reduce(function(A,l){return i.ctx.fillText(l,A,r.bounds.top+n),A+i.ctx.measureText(l).width},r.bounds.left)}},t.prototype.createFontStyle=function(r){var a=r.fontVariant.filter(function(o){return o==="normal"||o==="small-caps"}).join(""),n=BK(r.fontFamily).join(", "),i=th(r.fontSize)?""+r.fontSize.number+r.fontSize.unit:r.fontSize.number+"px";return[[r.fontStyle,a,r.fontWeight,i,n].join(" "),n,i]},t.prototype.renderTextNode=function(r,a){return wa(this,void 0,void 0,function(){var n,i,o,A,l,c,d,h,m=this;return ca(this,function(u){return n=this.createFontStyle(a),i=n[0],o=n[1],A=n[2],this.ctx.font=i,this.ctx.direction=a.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",l=this.fontMetrics.getMetrics(o,A),c=l.baseline,d=l.middle,h=a.paintOrder,r.textBounds.forEach(function(p){h.forEach(function(g){switch(g){case 0:m.ctx.fillStyle=ks(a.color),m.renderTextWithLetterSpacing(p,a.letterSpacing,c);var y=a.textShadow;y.length&&p.text.trim().length&&(y.slice(0).reverse().forEach(function(x){m.ctx.shadowColor=ks(x.color),m.ctx.shadowOffsetX=x.offsetX.number*m.options.scale,m.ctx.shadowOffsetY=x.offsetY.number*m.options.scale,m.ctx.shadowBlur=x.blur.number,m.renderTextWithLetterSpacing(p,a.letterSpacing,c)}),m.ctx.shadowColor="",m.ctx.shadowOffsetX=0,m.ctx.shadowOffsetY=0,m.ctx.shadowBlur=0),a.textDecorationLine.length&&(m.ctx.fillStyle=ks(a.textDecorationColor||a.color),a.textDecorationLine.forEach(function(x){switch(x){case 1:m.ctx.fillRect(p.bounds.left,Math.round(p.bounds.top+c),p.bounds.width,1);break;case 2:m.ctx.fillRect(p.bounds.left,Math.round(p.bounds.top),p.bounds.width,1);break;case 3:m.ctx.fillRect(p.bounds.left,Math.ceil(p.bounds.top+d),p.bounds.width,1);break}}));break;case 1:a.webkitTextStrokeWidth&&p.text.trim().length&&(m.ctx.strokeStyle=ks(a.webkitTextStrokeColor),m.ctx.lineWidth=a.webkitTextStrokeWidth,m.ctx.lineJoin=window.chrome?"miter":"round",m.ctx.strokeText(p.text,p.bounds.left,p.bounds.top+c)),m.ctx.strokeStyle="",m.ctx.lineWidth=0,m.ctx.lineJoin="miter";break}})}),[2]})})},t.prototype.renderReplacedElement=function(r,a,n){if(n&&r.intrinsicWidth>0&&r.intrinsicHeight>0){var i=Zm(r),o=Ym(a);this.path(o),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(n,0,0,r.intrinsicWidth,r.intrinsicHeight,i.left,i.top,i.width,i.height),this.ctx.restore()}},t.prototype.renderNodeContent=function(r){return wa(this,void 0,void 0,function(){var a,n,i,o,A,l,B,B,c,d,h,m,w,u,p,N,g,y,x,B,j,w,N;return ca(this,function(I){switch(I.label){case 0:this.applyEffects(r.getEffects(4)),a=r.container,n=r.curves,i=a.styles,o=0,A=a.textNodes,I.label=1;case 1:return o<A.length?(l=A[o],[4,this.renderTextNode(l,i)]):[3,4];case 2:I.sent(),I.label=3;case 3:return o++,[3,1];case 4:if(!(a instanceof ZS))return[3,8];I.label=5;case 5:return I.trys.push([5,7,,8]),[4,this.context.cache.match(a.src)];case 6:return B=I.sent(),this.renderReplacedElement(a,n,B),[3,8];case 7:return I.sent(),this.context.logger.error("Error loading image "+a.src),[3,8];case 8:if(a instanceof e3&&this.renderReplacedElement(a,n,a.canvas),!(a instanceof t3))return[3,12];I.label=9;case 9:return I.trys.push([9,11,,12]),[4,this.context.cache.match(a.svg)];case 10:return B=I.sent(),this.renderReplacedElement(a,n,B),[3,12];case 11:return I.sent(),this.context.logger.error("Error loading svg "+a.svg.substring(0,255)),[3,12];case 12:return a instanceof n3&&a.tree?(c=new t(this.context,{scale:this.options.scale,backgroundColor:a.backgroundColor,x:0,y:0,width:a.width,height:a.height}),[4,c.render(a.tree)]):[3,14];case 13:d=I.sent(),a.width&&a.height&&this.ctx.drawImage(d,0,0,a.width,a.height,a.bounds.left,a.bounds.top,a.bounds.width,a.bounds.height),I.label=14;case 14:if(a instanceof G1&&(h=Math.min(a.bounds.width,a.bounds.height),a.type===qm?a.checked&&(this.ctx.save(),this.path([new at(a.bounds.left+h*.39363,a.bounds.top+h*.79),new at(a.bounds.left+h*.16,a.bounds.top+h*.5549),new at(a.bounds.left+h*.27347,a.bounds.top+h*.44071),new at(a.bounds.left+h*.39694,a.bounds.top+h*.5649),new at(a.bounds.left+h*.72983,a.bounds.top+h*.23),new at(a.bounds.left+h*.84,a.bounds.top+h*.34085),new at(a.bounds.left+h*.39363,a.bounds.top+h*.79)]),this.ctx.fillStyle=ks(p5),this.ctx.fill(),this.ctx.restore()):a.type===Gm&&a.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(a.bounds.left+h/2,a.bounds.top+h/2,h/4,0,Math.PI*2,!0),this.ctx.fillStyle=ks(p5),this.ctx.fill(),this.ctx.restore())),vK(a)&&a.value.length){switch(m=this.createFontStyle(i),w=m[0],u=m[1],p=this.fontMetrics.getMetrics(w,u).baseline,this.ctx.font=w,this.ctx.fillStyle=ks(i.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=bK(a.styles.textAlign),N=Zm(a),g=0,a.styles.textAlign){case 1:g+=N.width/2;break;case 2:g+=N.width;break}y=N.add(g,0,0,-N.height/2+1),this.ctx.save(),this.path([new at(N.left,N.top),new at(N.left+N.width,N.top),new at(N.left+N.width,N.top+N.height),new at(N.left,N.top+N.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new iu(a.value,y),i.letterSpacing,p),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!Es(a.styles.display,2048))return[3,20];if(a.styles.listStyleImage===null)return[3,19];if(x=a.styles.listStyleImage,x.type!==0)return[3,18];B=void 0,j=x.url,I.label=15;case 15:return I.trys.push([15,17,,18]),[4,this.context.cache.match(j)];case 16:return B=I.sent(),this.ctx.drawImage(B,a.bounds.left-(B.width+10),a.bounds.top),[3,18];case 17:return I.sent(),this.context.logger.error("Error loading list-style-image "+j),[3,18];case 18:return[3,20];case 19:r.listValue&&a.styles.listStyleType!==-1&&(w=this.createFontStyle(i)[0],this.ctx.font=w,this.ctx.fillStyle=ks(i.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",N=new Xi(a.bounds.left,a.bounds.top+Er(a.styles.paddingTop,a.bounds.width),a.bounds.width,Zy(i.lineHeight,i.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new iu(r.listValue,N),i.letterSpacing,Zy(i.lineHeight,i.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),I.label=20;case 20:return[2]}})})},t.prototype.renderStackContent=function(r){return wa(this,void 0,void 0,function(){var a,n,x,i,o,x,A,l,x,c,d,x,h,m,x,u,p,x,g,y,x;return ca(this,function(B){switch(B.label){case 0:if(Es(r.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(r.element)];case 1:B.sent(),a=0,n=r.negativeZIndex,B.label=2;case 2:return a<n.length?(x=n[a],[4,this.renderStack(x)]):[3,5];case 3:B.sent(),B.label=4;case 4:return a++,[3,2];case 5:return[4,this.renderNodeContent(r.element)];case 6:B.sent(),i=0,o=r.nonInlineLevel,B.label=7;case 7:return i<o.length?(x=o[i],[4,this.renderNode(x)]):[3,10];case 8:B.sent(),B.label=9;case 9:return i++,[3,7];case 10:A=0,l=r.nonPositionedFloats,B.label=11;case 11:return A<l.length?(x=l[A],[4,this.renderStack(x)]):[3,14];case 12:B.sent(),B.label=13;case 13:return A++,[3,11];case 14:c=0,d=r.nonPositionedInlineLevel,B.label=15;case 15:return c<d.length?(x=d[c],[4,this.renderStack(x)]):[3,18];case 16:B.sent(),B.label=17;case 17:return c++,[3,15];case 18:h=0,m=r.inlineLevel,B.label=19;case 19:return h<m.length?(x=m[h],[4,this.renderNode(x)]):[3,22];case 20:B.sent(),B.label=21;case 21:return h++,[3,19];case 22:u=0,p=r.zeroOrAutoZIndexOrTransformedOrOpacity,B.label=23;case 23:return u<p.length?(x=p[u],[4,this.renderStack(x)]):[3,26];case 24:B.sent(),B.label=25;case 25:return u++,[3,23];case 26:g=0,y=r.positiveZIndex,B.label=27;case 27:return g<y.length?(x=y[g],[4,this.renderStack(x)]):[3,30];case 28:B.sent(),B.label=29;case 29:return g++,[3,27];case 30:return[2]}})})},t.prototype.mask=function(r){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(r.slice(0).reverse()),this.ctx.closePath()},t.prototype.path=function(r){this.ctx.beginPath(),this.formatPath(r),this.ctx.closePath()},t.prototype.formatPath=function(r){var a=this;r.forEach(function(n,i){var o=fn(n)?n.start:n;i===0?a.ctx.moveTo(o.x,o.y):a.ctx.lineTo(o.x,o.y),fn(n)&&a.ctx.bezierCurveTo(n.startControl.x,n.startControl.y,n.endControl.x,n.endControl.y,n.end.x,n.end.y)})},t.prototype.renderRepeat=function(r,a,n,i){this.path(r),this.ctx.fillStyle=a,this.ctx.translate(n,i),this.ctx.fill(),this.ctx.translate(-n,-i)},t.prototype.resizeImage=function(r,a,n){var i;if(r.width===a&&r.height===n)return r;var o=(i=this.canvas.ownerDocument)!==null&&i!==void 0?i:document,A=o.createElement("canvas");A.width=Math.max(1,a),A.height=Math.max(1,n);var l=A.getContext("2d");return l.drawImage(r,0,0,r.width,r.height,0,0,a,n),A},t.prototype.renderBackgroundImage=function(r){return wa(this,void 0,void 0,function(){var a,n,i,o,A,l;return ca(this,function(c){switch(c.label){case 0:a=r.styles.backgroundImage.length-1,n=function(d){var h,m,u,P,Y,q,Q,V,D,p,P,Y,q,Q,V,g,y,x,B,j,w,N,I,U,D,L,P,S,E,Q,V,ae,Y,q,K,Z,fe,we,T,G,X,se;return ca(this,function(le){switch(le.label){case 0:if(d.type!==0)return[3,5];h=void 0,m=d.url,le.label=1;case 1:return le.trys.push([1,3,,4]),[4,i.context.cache.match(m)];case 2:return h=le.sent(),[3,4];case 3:return le.sent(),i.context.logger.error("Error loading background-image "+m),[3,4];case 4:return h&&(u=q0(r,a,[h.width,h.height,h.width/h.height]),P=u[0],Y=u[1],q=u[2],Q=u[3],V=u[4],D=i.ctx.createPattern(i.resizeImage(h,Q,V),"repeat"),i.renderRepeat(P,D,Y,q)),[3,6];case 5:aO(d)?(p=q0(r,a,[null,null,null]),P=p[0],Y=p[1],q=p[2],Q=p[3],V=p[4],g=Z7(d.angle,Q,V),y=g[0],x=g[1],B=g[2],j=g[3],w=g[4],N=document.createElement("canvas"),N.width=Q,N.height=V,I=N.getContext("2d"),U=I.createLinearGradient(x,j,B,w),Xy(d.stops,y).forEach(function(de){return U.addColorStop(de.stop,ks(de.color))}),I.fillStyle=U,I.fillRect(0,0,Q,V),Q>0&&V>0&&(D=i.ctx.createPattern(N,"repeat"),i.renderRepeat(P,D,Y,q))):nO(d)&&(L=q0(r,a,[null,null,null]),P=L[0],S=L[1],E=L[2],Q=L[3],V=L[4],ae=d.position.length===0?[$1]:d.position,Y=Er(ae[0],Q),q=Er(ae[ae.length-1],V),K=eO(d,Y,q,Q,V),Z=K[0],fe=K[1],Z>0&&fe>0&&(we=i.ctx.createRadialGradient(S+Y,E+q,0,S+Y,E+q,Z),Xy(d.stops,Z*2).forEach(function(de){return we.addColorStop(de.stop,ks(de.color))}),i.path(P),i.ctx.fillStyle=we,Z!==fe?(T=r.bounds.left+.5*r.bounds.width,G=r.bounds.top+.5*r.bounds.height,X=fe/Z,se=1/X,i.ctx.save(),i.ctx.translate(T,G),i.ctx.transform(1,0,0,X,0,0),i.ctx.translate(-T,-G),i.ctx.fillRect(S,se*(E-G)+G,Q,V*se),i.ctx.restore()):i.ctx.fill())),le.label=6;case 6:return a--,[2]}})},i=this,o=0,A=r.styles.backgroundImage.slice(0).reverse(),c.label=1;case 1:return o<A.length?(l=A[o],[5,n(l)]):[3,4];case 2:c.sent(),c.label=3;case 3:return o++,[3,1];case 4:return[2]}})})},t.prototype.renderSolidBorder=function(r,a,n){return wa(this,void 0,void 0,function(){return ca(this,function(i){return this.path(S5(n,a)),this.ctx.fillStyle=ks(r),this.ctx.fill(),[2]})})},t.prototype.renderDoubleBorder=function(r,a,n,i){return wa(this,void 0,void 0,function(){var o,A;return ca(this,function(l){switch(l.label){case 0:return a<3?[4,this.renderSolidBorder(r,n,i)]:[3,2];case 1:return l.sent(),[2];case 2:return o=AK(i,n),this.path(o),this.ctx.fillStyle=ks(r),this.ctx.fill(),A=lK(i,n),this.path(A),this.ctx.fill(),[2]}})})},t.prototype.renderNodeBackgroundAndBorders=function(r){return wa(this,void 0,void 0,function(){var a,n,i,o,A,l,c,d,h=this;return ca(this,function(m){switch(m.label){case 0:return this.applyEffects(r.getEffects(2)),a=r.container.styles,n=!qo(a.backgroundColor)||a.backgroundImage.length,i=[{style:a.borderTopStyle,color:a.borderTopColor,width:a.borderTopWidth},{style:a.borderRightStyle,color:a.borderRightColor,width:a.borderRightWidth},{style:a.borderBottomStyle,color:a.borderBottomColor,width:a.borderBottomWidth},{style:a.borderLeftStyle,color:a.borderLeftColor,width:a.borderLeftWidth}],o=wK(Jl(a.backgroundClip,0),r.curves),n||a.boxShadow.length?(this.ctx.save(),this.path(o),this.ctx.clip(),qo(a.backgroundColor)||(this.ctx.fillStyle=ks(a.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(r.container)]):[3,2];case 1:m.sent(),this.ctx.restore(),a.boxShadow.slice(0).reverse().forEach(function(u){h.ctx.save();var p=Xm(r.curves),g=u.inset?0:gK,y=iK(p,-g+(u.inset?1:-1)*u.spread.number,(u.inset?1:-1)*u.spread.number,u.spread.number*(u.inset?-2:2),u.spread.number*(u.inset?-2:2));u.inset?(h.path(p),h.ctx.clip(),h.mask(y)):(h.mask(p),h.ctx.clip(),h.path(y)),h.ctx.shadowOffsetX=u.offsetX.number+g,h.ctx.shadowOffsetY=u.offsetY.number,h.ctx.shadowColor=ks(u.color),h.ctx.shadowBlur=u.blur.number,h.ctx.fillStyle=u.inset?ks(u.color):"rgba(0,0,0,1)",h.ctx.fill(),h.ctx.restore()}),m.label=2;case 2:A=0,l=0,c=i,m.label=3;case 3:return l<c.length?(d=c[l],d.style!==0&&!qo(d.color)&&d.width>0?d.style!==2?[3,5]:[4,this.renderDashedDottedBorder(d.color,d.width,A,r.curves,2)]:[3,11]):[3,13];case 4:return m.sent(),[3,11];case 5:return d.style!==3?[3,7]:[4,this.renderDashedDottedBorder(d.color,d.width,A,r.curves,3)];case 6:return m.sent(),[3,11];case 7:return d.style!==4?[3,9]:[4,this.renderDoubleBorder(d.color,d.width,A,r.curves)];case 8:return m.sent(),[3,11];case 9:return[4,this.renderSolidBorder(d.color,A,r.curves)];case 10:m.sent(),m.label=11;case 11:A++,m.label=12;case 12:return l++,[3,3];case 13:return[2]}})})},t.prototype.renderDashedDottedBorder=function(r,a,n,i,o){return wa(this,void 0,void 0,function(){var A,l,c,d,h,m,u,p,g,y,x,B,j,w,N,I,N,I;return ca(this,function(U){return this.ctx.save(),A=cK(i,n),l=S5(i,n),o===2&&(this.path(l),this.ctx.clip()),fn(l[0])?(c=l[0].start.x,d=l[0].start.y):(c=l[0].x,d=l[0].y),fn(l[1])?(h=l[1].end.x,m=l[1].end.y):(h=l[1].x,m=l[1].y),n===0||n===2?u=Math.abs(c-h):u=Math.abs(d-m),this.ctx.beginPath(),o===3?this.formatPath(A):this.formatPath(l.slice(0,2)),p=a<3?a*3:a*2,g=a<3?a*2:a,o===3&&(p=a,g=a),y=!0,u<=p*2?y=!1:u<=p*2+g?(x=u/(2*p+g),p*=x,g*=x):(B=Math.floor((u+g)/(p+g)),j=(u-B*p)/(B-1),w=(u-(B+1)*p)/B,g=w<=0||Math.abs(g-j)<Math.abs(g-w)?j:w),y&&(o===3?this.ctx.setLineDash([0,p+g]):this.ctx.setLineDash([p,g])),o===3?(this.ctx.lineCap="round",this.ctx.lineWidth=a):this.ctx.lineWidth=a*2+1.1,this.ctx.strokeStyle=ks(r),this.ctx.stroke(),this.ctx.setLineDash([]),o===2&&(fn(l[0])&&(N=l[3],I=l[0],this.ctx.beginPath(),this.formatPath([new at(N.end.x,N.end.y),new at(I.start.x,I.start.y)]),this.ctx.stroke()),fn(l[1])&&(N=l[1],I=l[2],this.ctx.beginPath(),this.formatPath([new at(N.end.x,N.end.y),new at(I.start.x,I.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},t.prototype.render=function(r){return wa(this,void 0,void 0,function(){var a;return ca(this,function(n){switch(n.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=ks(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),a=oK(r),[4,this.renderStack(a)];case 1:return n.sent(),this.applyEffects([]),[2,this.canvas]}})})},t}(b3),vK=function(e){return e instanceof a3||e instanceof s3?!0:e instanceof G1&&e.type!==Gm&&e.type!==qm},wK=function(e,t){switch(e){case 0:return Xm(t);case 2:return tK(t);case 1:default:return Ym(t)}},bK=function(e){switch(e){case 1:return"center";case 2:return"right";case 0:default:return"left"}},yK=["-apple-system","system-ui"],BK=function(e){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?e.filter(function(t){return yK.indexOf(t)===-1}):e},jK=function(e){zn(t,e);function t(r,a){var n=e.call(this,r,a)||this;return n.canvas=a.canvas?a.canvas:document.createElement("canvas"),n.ctx=n.canvas.getContext("2d"),n.options=a,n.canvas.width=Math.floor(a.width*a.scale),n.canvas.height=Math.floor(a.height*a.scale),n.canvas.style.width=a.width+"px",n.canvas.style.height=a.height+"px",n.ctx.scale(n.options.scale,n.options.scale),n.ctx.translate(-a.x,-a.y),n.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+a.width+"x"+a.height+" at "+a.x+","+a.y+") with scale "+a.scale),n}return t.prototype.render=function(r){return wa(this,void 0,void 0,function(){var a,n;return ca(this,function(i){switch(i.label){case 0:return a=xv(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,r),[4,CK(a)];case 1:return n=i.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=ks(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(n,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},t}(b3),CK=function(e){return new Promise(function(t,r){var a=new Image;a.onload=function(){t(a)},a.onerror=r,a.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(e))})},NK=function(){function e(t){var r=t.id,a=t.enabled;this.id=r,this.enabled=a,this.start=Date.now()}return e.prototype.debug=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&(typeof window!="undefined"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,mf([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.prototype.getTime=function(){return Date.now()-this.start},e.prototype.info=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&typeof window!="undefined"&&window.console&&typeof console.info=="function"&&console.info.apply(console,mf([this.id,this.getTime()+"ms"],t))},e.prototype.warn=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&(typeof window!="undefined"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,mf([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.prototype.error=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&(typeof window!="undefined"&&window.console&&typeof console.error=="function"?console.error.apply(console,mf([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.instances={},e}(),_K=function(){function e(t,r){var a;this.windowBounds=r,this.instanceName="#"+e.instanceCount++,this.logger=new NK({id:this.instanceName,enabled:t.logging}),this.cache=(a=t.cache)!==null&&a!==void 0?a:new q9(this,t)}return e.instanceCount=1,e}(),y3=function(e,t){return t===void 0&&(t={}),SK(e,t)};typeof window!="undefined"&&m3.setContext(window);var SK=function(e,t){return wa(void 0,void 0,void 0,function(){var r,a,n,i,o,A,l,c,d,h,m,u,p,g,y,x,B,j,w,N,U,I,U,D,L,P,S,E,Q,V,ae,Y,q,K,Z,fe,we,T,G,X;return ca(this,function(se){switch(se.label){case 0:if(!e||typeof e!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(r=e.ownerDocument,!r)throw new Error("Element is not attached to a Document");if(a=r.defaultView,!a)throw new Error("Document is not attached to a Window");return n={allowTaint:(D=t.allowTaint)!==null&&D!==void 0?D:!1,imageTimeout:(L=t.imageTimeout)!==null&&L!==void 0?L:15e3,proxy:t.proxy,useCORS:(P=t.useCORS)!==null&&P!==void 0?P:!1},i=sv({logging:(S=t.logging)!==null&&S!==void 0?S:!0,cache:t.cache},n),o={windowWidth:(E=t.windowWidth)!==null&&E!==void 0?E:a.innerWidth,windowHeight:(Q=t.windowHeight)!==null&&Q!==void 0?Q:a.innerHeight,scrollX:(V=t.scrollX)!==null&&V!==void 0?V:a.pageXOffset,scrollY:(ae=t.scrollY)!==null&&ae!==void 0?ae:a.pageYOffset},A=new Xi(o.scrollX,o.scrollY,o.windowWidth,o.windowHeight),l=new _K(i,A),c=(Y=t.foreignObjectRendering)!==null&&Y!==void 0?Y:!1,d={allowTaint:(q=t.allowTaint)!==null&&q!==void 0?q:!1,onclone:t.onclone,ignoreElements:t.ignoreElements,inlineImages:c,copyStyles:c},l.logger.debug("Starting document clone with size "+A.width+"x"+A.height+" scrolled to "+-A.left+","+-A.top),h=new C5(l,e,d),m=h.clonedReferenceElement,m?[4,h.toIFrame(r,A)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return u=se.sent(),p=W1(m)||E9(m)?iR(m.ownerDocument):Tp(l,m),g=p.width,y=p.height,x=p.left,B=p.top,j=FK(l,m,t.backgroundColor),w={canvas:t.canvas,backgroundColor:j,scale:(Z=(K=t.scale)!==null&&K!==void 0?K:a.devicePixelRatio)!==null&&Z!==void 0?Z:1,x:((fe=t.x)!==null&&fe!==void 0?fe:0)+x,y:((we=t.y)!==null&&we!==void 0?we:0)+B,width:(T=t.width)!==null&&T!==void 0?T:Math.ceil(g),height:(G=t.height)!==null&&G!==void 0?G:Math.ceil(y)},c?(l.logger.debug("Document cloned, using foreign object rendering"),U=new jK(l,w),[4,U.render(m)]):[3,3];case 2:return N=se.sent(),[3,5];case 3:return l.logger.debug("Document cloned, element located at "+x+","+B+" with size "+g+"x"+y+" using computed rendering"),l.logger.debug("Starting DOM parsing"),I=o3(l,m),j===I.styles.backgroundColor&&(I.styles.backgroundColor=qi.TRANSPARENT),l.logger.debug("Starting renderer for element at "+w.x+","+w.y+" with size "+w.width+"x"+w.height),U=new xK(l,w),[4,U.render(I)];case 4:N=se.sent(),se.label=5;case 5:return(!((X=t.removeContainer)!==null&&X!==void 0)||X)&&(C5.destroy(u)||l.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),l.logger.debug("Finished rendering"),[2,N]}})})},FK=function(e,t,r){var a=t.ownerDocument,n=a.documentElement?au(e,getComputedStyle(a.documentElement).backgroundColor):qi.TRANSPARENT,i=a.body?au(e,getComputedStyle(a.body).backgroundColor):qi.TRANSPARENT,o=typeof r=="string"?au(e,r):r===null?qi.TRANSPARENT:4294967295;return t===a.documentElement?qo(n)?qo(i)?o:i:n:o};const EK=Object.freeze(Object.defineProperty({__proto__:null,default:y3},Symbol.toStringTag,{value:"Module"})),B3=b.memo(()=>{var m,u;const[e,t]=b.useState(""),[r,a]=b.useState(!1),{patients:n}=xi(),{events:i}=ul(),{toast:o}=ir(),A=b.useMemo(()=>e?i.filter(p=>p.patient_id===e):[],[i,e]),l=b.useMemo(()=>{const p={};return A.forEach(g=>{var x;const y=((x=g.occurred_at)==null?void 0:x.split("T")[0])||new Date().toISOString().split("T")[0];switch(p[y]||(p[y]={alimentosPercent:0,alimentosCount:0,medicacaoCount:0,banheiroCount:0,totalLiquidos:0,liquidosML:0,liquidosCount:0,drenosML:0,drenoEsquerdo:0,drenoDireito:0,drenoCount:0,urinaML:0,humorScore:0,humorCount:0,sinaisVitais:{pressaoSistolica:0,pressaoDiastolica:0,frequenciaCardiaca:0,temperatura:0,saturacaoOxigenio:0,frequenciaRespiratoria:0,count:0}}),g.type){case"meal":g.consumption_percentage&&(p[y].alimentosPercent+=g.consumption_percentage,p[y].alimentosCount++);break;case"drink":g.volume_ml&&(p[y].liquidosML+=g.volume_ml,p[y].liquidosCount++);break;case"bathroom":p[y].banheiroCount++,g.volume_ml&&(p[y].urinaML+=g.volume_ml);break;case"mood":g.mood_scale&&(p[y].humorScore+=g.mood_scale,p[y].humorCount++);break;case"medication":p[y].medicacaoCount++;break;case"drain":if(p[y].drenoCount++,g.notes){const B=g.notes.toLowerCase(),j=B.match(/esquerdo?[:\s-]*(\d+)\s*ml/i),w=B.match(/direito?[:\s-]*(\d+)\s*ml/i);j&&(p[y].drenoEsquerdo+=parseInt(j[1])),w&&(p[y].drenoDireito+=parseInt(w[1]))}break;case"vital_signs":p[y].sinaisVitais.count++;break}}),Object.keys(p).forEach(g=>{const y=p[g];if(y.alimentosCount>0&&(y.alimentosPercent=Math.round(y.alimentosPercent/y.alimentosCount)),y.humorCount>0&&(y.humorScore=Math.round(y.humorScore/y.humorCount)),y.sinaisVitais.count>0){const x=y.sinaisVitais;x.pressaoSistolica=Math.round(x.pressaoSistolica/x.count),x.pressaoDiastolica=Math.round(x.pressaoDiastolica/x.count),x.frequenciaCardiaca=Math.round(x.frequenciaCardiaca/x.count),x.temperatura=Math.round(x.temperatura/x.count*10)/10,x.saturacaoOxigenio=Math.round(x.saturacaoOxigenio/x.count),x.frequenciaRespiratoria=Math.round(x.frequenciaRespiratoria/x.count)}}),Object.entries(p).map(([g,y])=>_({date:g},y)).sort((g,y)=>new Date(g.date).getTime()-new Date(y.date).getTime())},[A]),c=b.useCallback(()=>Ae(void 0,null,function*(){if(!e){o({title:"Erro",description:"Selecione um paciente para exportar o relatrio",variant:"destructive"});return}a(!0);try{const p=document.getElementById("report-content");if(!p)return;const g=yield y3(p,{scale:2,useCORS:!0,allowTaint:!0}),y=g.toDataURL("image/png"),x=new wt("p","mm","a4"),B=210,j=295,w=g.height*B/g.width;let N=w,I=0;for(x.addImage(y,"PNG",0,I,B,w),N-=j;N>=0;)I=N-w,x.addPage(),x.addImage(y,"PNG",0,I,B,w),N-=j;const U=n.find(L=>L.id===e),D=`relatorio_${(U==null?void 0:U.name)||"paciente"}_${new Date().toISOString().split("T")[0]}.pdf`;x.save(D),o({title:"Sucesso",description:"Relatrio exportado com sucesso!"})}catch(p){console.error("Erro ao exportar PDF:",p),o({title:"Erro",description:"Erro ao exportar o relatrio",variant:"destructive"})}finally{a(!1)}}),[e,n,o]),d=b.useMemo(()=>({alimentosData:l.filter(p=>p.alimentosCount>0),liquidosData:l.filter(p=>p.liquidosML>0),medicacaoData:l.filter(p=>p.medicacaoCount>0),drenosData:l.filter(p=>p.drenoCount>0),urinaData:l.filter(p=>p.urinaML>0),humorData:l.filter(p=>p.humorScore>0),sinaisVitaisData:l.filter(p=>p.sinaisVitais.count>0)}),[l]),h=n.find(p=>p.id===e);return s.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Relatrios"}),s.jsx("p",{className:"text-muted-foreground",children:"Visualize e exporte relatrios detalhados dos cuidados"})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs(kt,{value:e,onValueChange:t,children:[s.jsx(Et,{className:"w-[200px]",children:s.jsx(Lt,{placeholder:"Selecionar paciente"})}),s.jsx(Ut,{children:n.map(p=>s.jsx(Se,{value:p.id,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Or,{className:"h-4 w-4"}),p.name]})},p.id))})]}),s.jsxs(ne,{onClick:c,disabled:!e||r,className:"flex items-center gap-2",children:[r?s.jsx(Ms,{className:"h-4 w-4 animate-spin"}):s.jsx(Ba,{className:"h-4 w-4"}),"Exportar PDF"]})]})]}),e?s.jsxs("div",{id:"report-content",className:"space-y-6",children:[s.jsx(Ee,{children:s.jsxs(He,{children:[s.jsxs(Ke,{className:"flex items-center gap-2",children:[s.jsx(Or,{className:"h-5 w-5"}),"Relatrio de ",h==null?void 0:h.name]}),s.jsxs(St,{children:["Perodo: ",l.length>0?`${(m=l[0])==null?void 0:m.date} at ${(u=l[l.length-1])==null?void 0:u.date}`:"Sem dados"]})]})}),d.alimentosData.length>0&&s.jsxs(Ee,{children:[s.jsxs(He,{children:[s.jsxs(Ke,{className:"flex items-center gap-2",children:[s.jsx(lu,{className:"h-5 w-5"}),"Consumo de Alimentos"]}),s.jsx(St,{children:"Percentual mdio de consumo por dia"})]}),s.jsx(Ue,{children:s.jsx(Co,{config:{alimentosPercent:{label:"Consumo (%)",color:"hsl(var(--chart-1))"}},className:"h-[300px]",children:s.jsx(Bo,{width:"100%",height:"100%",children:s.jsxs(Kh,{data:d.alimentosData,children:[s.jsx(_A,{strokeDasharray:"3 3"}),s.jsx(SA,{dataKey:"date"}),s.jsx(xo,{}),s.jsx(Il,{content:s.jsx(IA,{})}),s.jsx(FA,{dataKey:"alimentosPercent",fill:"var(--color-alimentosPercent)"})]})})})})]}),d.liquidosData.length>0&&s.jsxs(Ee,{children:[s.jsxs(He,{children:[s.jsxs(Ke,{className:"flex items-center gap-2",children:[s.jsx(di,{className:"h-5 w-5"}),"Controle de Lquidos"]}),s.jsx(St,{children:"Volume de lquidos ingeridos por dia (mL)"})]}),s.jsx(Ue,{children:s.jsx(Co,{config:{liquidosML:{label:"Lquidos (mL)",color:"hsl(var(--chart-2))"}},className:"h-[300px]",children:s.jsx(Bo,{width:"100%",height:"100%",children:s.jsxs(Yw,{data:d.liquidosData,children:[s.jsx(_A,{strokeDasharray:"3 3"}),s.jsx(SA,{dataKey:"date"}),s.jsx(xo,{}),s.jsx(Il,{content:s.jsx(IA,{})}),s.jsx($h,{type:"monotone",dataKey:"liquidosML",stroke:"var(--color-liquidosML)",strokeWidth:2})]})})})})]}),d.urinaData.length>0&&s.jsxs(Ee,{children:[s.jsxs(He,{children:[s.jsx(Ke,{children:"Controle de Diurese"}),s.jsx(St,{children:"Volume de urina por dia (mL)"})]}),s.jsx(Ue,{children:s.jsx(Co,{config:{urinaML:{label:"Urina (mL)",color:"hsl(var(--chart-3))"}},className:"h-[300px]",children:s.jsx(Bo,{width:"100%",height:"100%",children:s.jsxs(Kh,{data:d.urinaData,children:[s.jsx(_A,{strokeDasharray:"3 3"}),s.jsx(SA,{dataKey:"date"}),s.jsx(xo,{}),s.jsx(Il,{content:s.jsx(IA,{})}),s.jsx(FA,{dataKey:"urinaML",fill:"var(--color-urinaML)"})]})})})})]}),d.medicacaoData.length>0&&s.jsxs(Ee,{children:[s.jsxs(He,{children:[s.jsxs(Ke,{className:"flex items-center gap-2",children:[s.jsx(lu,{className:"h-5 w-5"}),"Administrao de Medicamentos"]}),s.jsx(St,{children:"Nmero de medicamentos administrados por dia"})]}),s.jsx(Ue,{children:s.jsx(Co,{config:{medicacaoCount:{label:"Medicamentos",color:"hsl(var(--chart-5))"}},className:"h-[300px]",children:s.jsx(Bo,{width:"100%",height:"100%",children:s.jsxs(Kh,{data:d.medicacaoData,children:[s.jsx(_A,{strokeDasharray:"3 3"}),s.jsx(SA,{dataKey:"date"}),s.jsx(xo,{}),s.jsx(Il,{content:s.jsx(IA,{})}),s.jsx(FA,{dataKey:"medicacaoCount",fill:"var(--color-medicacaoCount)"})]})})})})]}),d.drenosData.length>0&&s.jsxs(Ee,{children:[s.jsxs(He,{children:[s.jsxs(Ke,{className:"flex items-center gap-2",children:[s.jsx(di,{className:"h-5 w-5"}),"Controle de Drenos"]}),s.jsx(St,{children:"Volume de drenagem por lado (mL)"})]}),s.jsx(Ue,{children:s.jsx(Co,{config:{drenoEsquerdo:{label:"Dreno Esquerdo (mL)",color:"hsl(var(--chart-6))"},drenoDireito:{label:"Dreno Direito (mL)",color:"hsl(var(--chart-7))"}},className:"h-[300px]",children:s.jsx(Bo,{width:"100%",height:"100%",children:s.jsxs(Kh,{data:d.drenosData,children:[s.jsx(_A,{strokeDasharray:"3 3"}),s.jsx(SA,{dataKey:"date"}),s.jsx(xo,{}),s.jsx(Il,{content:s.jsx(IA,{})}),s.jsx(FA,{dataKey:"drenoEsquerdo",fill:"var(--color-drenoEsquerdo)"}),s.jsx(FA,{dataKey:"drenoDireito",fill:"var(--color-drenoDireito)"}),s.jsx(Zw,{})]})})})})]}),d.humorData.length>0&&s.jsxs(Ee,{children:[s.jsxs(He,{children:[s.jsx(Ke,{children:"Escala de Humor"}),s.jsx(St,{children:"Pontuao mdia de humor por dia (1-10)"})]}),s.jsx(Ue,{children:s.jsx(Co,{config:{humorScore:{label:"Humor",color:"hsl(var(--chart-4))"}},className:"h-[300px]",children:s.jsx(Bo,{width:"100%",height:"100%",children:s.jsxs(Yw,{data:d.humorData,children:[s.jsx(_A,{strokeDasharray:"3 3"}),s.jsx(SA,{dataKey:"date"}),s.jsx(xo,{domain:[1,10]}),s.jsx(Il,{content:s.jsx(IA,{})}),s.jsx($h,{type:"monotone",dataKey:"humorScore",stroke:"var(--color-humorScore)",strokeWidth:2})]})})})})]}),d.sinaisVitaisData.length>0&&s.jsxs(Ee,{children:[s.jsxs(He,{children:[s.jsx(Ke,{children:"Sinais Vitais"}),s.jsx(St,{children:"Monitoramento dos sinais vitais"})]}),s.jsx(Ue,{children:s.jsx(Co,{config:{pressaoSistolica:{label:"Presso Sistlica",color:"hsl(var(--chart-1))"},pressaoDiastolica:{label:"Presso Diastlica",color:"hsl(var(--chart-2))"},frequenciaCardiaca:{label:"Frequncia Cardaca",color:"hsl(var(--chart-3))"},temperatura:{label:"Temperatura",color:"hsl(var(--chart-4))"}},className:"h-[400px]",children:s.jsx(Bo,{width:"100%",height:"100%",children:s.jsxs(xE,{data:d.sinaisVitaisData,children:[s.jsx(_A,{strokeDasharray:"3 3"}),s.jsx(SA,{dataKey:"date"}),s.jsx(xo,{yAxisId:"left"}),s.jsx(xo,{yAxisId:"right",orientation:"right"}),s.jsx(CB,{}),s.jsx(Zw,{}),s.jsx(FA,{yAxisId:"left",dataKey:"sinaisVitais.pressaoSistolica",fill:"var(--color-pressaoSistolica)",name:"Presso Sistlica"}),s.jsx(FA,{yAxisId:"left",dataKey:"sinaisVitais.pressaoDiastolica",fill:"var(--color-pressaoDiastolica)",name:"Presso Diastlica"}),s.jsx($h,{yAxisId:"left",type:"monotone",dataKey:"sinaisVitais.frequenciaCardiaca",stroke:"var(--color-frequenciaCardiaca)",name:"Freq. Cardaca"}),s.jsx($h,{yAxisId:"right",type:"monotone",dataKey:"sinaisVitais.temperatura",stroke:"var(--color-temperatura)",name:"Temperatura"})]})})})})]}),s.jsxs(Ee,{children:[s.jsx(He,{children:s.jsx(Ke,{children:"Resumo do Perodo"})}),s.jsx(Ue,{children:s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:A.filter(p=>p.type==="meal").length}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Refeies"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:A.filter(p=>p.type==="bathroom").length}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Idas ao Banheiro"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-purple-600",children:A.filter(p=>p.type==="medication").length}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Medicamentos"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-orange-600",children:A.filter(p=>p.type==="vital_signs").length}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Sinais Vitais"})]})]})})]})]}):s.jsx(Ee,{children:s.jsx(Ue,{className:"flex items-center justify-center h-64",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Xt,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Selecione um paciente"}),s.jsx("p",{className:"text-muted-foreground",children:"Escolha um paciente para visualizar seus relatrios"})]})})})]})});B3.displayName="Reports";function UK({currentImage:e,userName:t,onImageChange:r,size:a="md"}){const[n,i]=b.useState(!1),[o,A]=b.useState(e||null),l=b.useRef(null),{toast:c}=ir();rt.useEffect(()=>{A(e||null)},[e]);const d={sm:"h-16 w-16",md:"h-24 w-24",lg:"h-32 w-32"},h=g=>{var B;const y=(B=g.target.files)==null?void 0:B[0];if(!y)return;if(!y.type.startsWith("image/")){c({title:"Erro",description:"Por favor, selecione apenas arquivos de imagem.",variant:"destructive"});return}if(y.size>5*1024*1024){c({title:"Erro",description:"A imagem deve ter no mximo 5MB.",variant:"destructive"});return}i(!0);const x=new FileReader;x.onload=j=>{var N;const w=(N=j.target)==null?void 0:N.result;A(w),r(w),i(!1),c({title:"Sucesso",description:"Imagem de perfil atualizada com sucesso!"})},x.onerror=()=>{i(!1),c({title:"Erro",description:"Erro ao carregar a imagem. Tente novamente.",variant:"destructive"})},x.readAsDataURL(y)},m=()=>{A(null),r(null),l.current&&(l.current.value=""),c({title:"Sucesso",description:"Imagem de perfil removida."})},u=()=>{var g;(g=l.current)==null||g.click()},p=g=>g?g.split(" ").map(y=>y[0]).join("").toUpperCase().slice(0,2):"";return s.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[s.jsxs("div",{className:"relative group",children:[s.jsxs(gu,{className:`${d[a]} cursor-pointer transition-all duration-200 group-hover:opacity-80`,children:[s.jsx(xu,{src:o||void 0,alt:t,className:"object-cover"}),s.jsx(vu,{className:"text-lg font-semibold",children:p(t)||s.jsx(Or,{className:"h-6 w-6"})})]}),s.jsx("div",{className:"absolute inset-0 bg-black/50 rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-200 cursor-pointer",onClick:u,children:s.jsx(On,{className:"h-6 w-6 text-white"})})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs(ne,{variant:"outline",size:"sm",onClick:u,disabled:n,children:[s.jsx(Ji,{className:"h-4 w-4 mr-2"}),n?"Carregando...":"Alterar Foto"]}),o&&s.jsxs(ne,{variant:"outline",size:"sm",onClick:m,disabled:n,children:[s.jsx(ja,{className:"h-4 w-4 mr-2"}),"Remover"]})]}),s.jsx("input",{ref:l,type:"file",accept:"image/*",onChange:h,className:"hidden"})]})}function IK(){const{logoUrl:e,isCustomLogo:t,uploadLogo:r,resetToDefaultLogo:a,defaultLogoUrl:n}=GC(),[i,o]=b.useState(!1),[A,l]=b.useState(null),[c,d]=b.useState(!1),h=b.useRef(null),m=g=>Ae(this,null,function*(){var x;const y=(x=g.target.files)==null?void 0:x[0];if(y){o(!0),l(null),d(!1);try{yield r(y),d(!0),setTimeout(()=>d(!1),3e3)}catch(B){l(B instanceof Error?B.message:"Erro ao fazer upload da imagem")}finally{o(!1),h.current&&(h.current.value="")}}}),u=()=>{var g;(g=h.current)==null||g.click()},p=()=>{a(),l(null),d(!0),setTimeout(()=>d(!1),3e3)};return s.jsxs(Ee,{className:"w-full max-w-md",children:[s.jsxs(He,{children:[s.jsxs(Ke,{className:"flex items-center gap-2",children:[s.jsx(kv,{className:"h-5 w-5"}),"Logo da Empresa"]}),s.jsx(St,{children:"Personalize o logo que aparece na sidebar e header do sistema"})]}),s.jsxs(Ue,{className:"space-y-4",children:[s.jsxs("div",{className:"flex flex-col items-center space-y-3",children:[s.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-white to-gray-50 rounded-xl shadow-lg flex items-center justify-center p-2",children:s.jsx("img",{src:e,alt:"Logo atual",className:"w-full h-full object-contain",onError:g=>{const y=g.target;y.src=n}})}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-sm font-medium",children:t?"Logo Personalizado":"Logo Padro"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Formatos aceitos: PNG, JPG, SVG (mx. 5MB)"})]})]}),A&&s.jsxs(en,{variant:"destructive",children:[s.jsx(Ts,{className:"h-4 w-4"}),s.jsx(tn,{children:A})]}),c&&s.jsxs(en,{className:"border-green-200 bg-green-50",children:[s.jsx(Wo,{className:"h-4 w-4 text-green-600"}),s.jsx(tn,{className:"text-green-800",children:"Logo atualizado com sucesso!"})]}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsxs(ne,{onClick:u,disabled:i,className:"w-full",children:[s.jsx(Ji,{className:"h-4 w-4 mr-2"}),i?"Enviando...":"Alterar Logo"]}),t&&s.jsxs(ne,{onClick:p,variant:"outline",className:"w-full",children:[s.jsx(cu,{className:"h-4 w-4 mr-2"}),"Restaurar Logo Padro"]})]}),s.jsx("input",{ref:h,type:"file",accept:"image/*",onChange:m,className:"hidden"})]})]})}const QK=({versions:e,onRollback:t,onDelete:r,onExport:a,onImport:n,currentVersionId:i})=>{const[o,A]=b.useState(null),[l,c]=b.useState(!1),d=u=>{var g;const p=(g=u.target.files)==null?void 0:g[0];p&&(n(p),u.target.value="")},h=u=>new Date(u).toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),m=u=>({initial:"bg-blue-100 text-blue-800",default:"bg-gray-100 text-gray-800",update:"bg-green-100 text-green-800",reset:"bg-yellow-100 text-yellow-800",migration:"bg-purple-100 text-purple-800",manual:"bg-indigo-100 text-indigo-800"})[u]||"bg-gray-100 text-gray-800";return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Yr,{className:"h-5 w-5 text-gray-500"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Histrico de Configuraes"})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs("button",{onClick:a,className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[s.jsx(Ba,{className:"h-4 w-4 mr-2"}),"Exportar"]}),s.jsxs("label",{className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 cursor-pointer",children:[s.jsx(Ji,{className:"h-4 w-4 mr-2"}),"Importar",s.jsx("input",{type:"file",accept:".json",onChange:d,className:"hidden"})]})]})]}),s.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:s.jsx("ul",{className:"divide-y divide-gray-200",children:e.length===0?s.jsx("li",{className:"px-6 py-4 text-center text-gray-500",children:"Nenhuma verso encontrada"}):e.map(u=>s.jsx("li",{className:"px-6 py-4 hover:bg-gray-50",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"flex-1 min-w-0",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"flex-shrink-0",children:u.isActive&&s.jsx("div",{className:"h-2 w-2 bg-green-400 rounded-full"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:u.versionName}),s.jsx("p",{className:"text-sm text-gray-500 truncate",children:u.description}),s.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[s.jsx("span",{className:"text-xs text-gray-400",children:h(u.createdAt)}),u.createdBy&&s.jsxs("span",{className:"text-xs text-gray-400",children:["por ",u.createdBy]})]}),u.tags&&u.tags.length>0&&s.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:u.tags.map((p,g)=>s.jsxs("span",{className:`inline-flex items-center px-2 py-0.5 rounded text-xs font-medium ${m(p)}`,children:[s.jsx(WE,{className:"h-3 w-3 mr-1"}),p]},g))})]})]})}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>{A(u),c(!0)},className:"inline-flex items-center p-1 border border-transparent rounded-full shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",title:"Ver detalhes",children:s.jsx(Zs,{className:"h-4 w-4"})}),!u.isActive&&s.jsx("button",{onClick:()=>t(u.versionId),className:"inline-flex items-center p-1 border border-transparent rounded-full shadow-sm text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",title:"Restaurar esta verso",children:s.jsx(cu,{className:"h-4 w-4"})}),!u.isActive&&s.jsx("button",{onClick:()=>r(u.versionId),className:"inline-flex items-center p-1 border border-transparent rounded-full shadow-sm text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",title:"Excluir verso",children:s.jsx(ha,{className:"h-4 w-4"})})]})]})},u.versionId))})}),l&&o&&s.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:s.jsx("div",{className:"relative top-20 mx-auto p-5 border w-11/12 md:w-3/4 lg:w-1/2 shadow-lg rounded-md bg-white",children:s.jsxs("div",{className:"mt-3",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Detalhes da Verso"}),s.jsx("button",{onClick:()=>c(!1),className:"text-gray-400 hover:text-gray-600",children:""})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Nome da Verso"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900",children:o.versionName})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Descrio"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900",children:o.description})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Data de Criao"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900",children:h(o.createdAt)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Configuraes"}),s.jsx("pre",{className:"mt-1 text-xs bg-gray-100 p-3 rounded-md overflow-auto max-h-64",children:JSON.stringify(o.settingsData,null,2)})]})]}),s.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[s.jsx("button",{onClick:()=>c(!1),className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400",children:"Fechar"}),!o.isActive&&s.jsx("button",{onClick:()=>{t(o.versionId),c(!1)},className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700",children:"Restaurar Verso"})]})]})})})]})},lm=b.forwardRef((a,r)=>{var n=a,{className:e}=n,t=he(n,["className"]);return s.jsx("div",{className:"relative w-full overflow-auto",children:s.jsx("table",_({ref:r,className:ze("w-full caption-bottom text-sm",e)},t))})});lm.displayName="Table";const cm=b.forwardRef((a,r)=>{var n=a,{className:e}=n,t=he(n,["className"]);return s.jsx("thead",_({ref:r,className:ze("[&_tr]:border-b",e)},t))});cm.displayName="TableHeader";const dm=b.forwardRef((a,r)=>{var n=a,{className:e}=n,t=he(n,["className"]);return s.jsx("tbody",_({ref:r,className:ze("[&_tr:last-child]:border-0",e)},t))});dm.displayName="TableBody";const kK=b.forwardRef((a,r)=>{var n=a,{className:e}=n,t=he(n,["className"]);return s.jsx("tfoot",_({ref:r,className:ze("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e)},t))});kK.displayName="TableFooter";const kA=b.forwardRef((a,r)=>{var n=a,{className:e}=n,t=he(n,["className"]);return s.jsx("tr",_({ref:r,className:ze("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",e)},t))});kA.displayName="TableRow";const As=b.forwardRef((a,r)=>{var n=a,{className:e}=n,t=he(n,["className"]);return s.jsx("th",_({ref:r,className:ze("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e)},t))});As.displayName="TableHead";const ls=b.forwardRef((a,r)=>{var n=a,{className:e}=n,t=he(n,["className"]);return s.jsx("td",_({ref:r,className:ze("p-4 align-middle [&:has([role=checkbox])]:pr-0",e)},t))});ls.displayName="TableCell";const LK=b.forwardRef((a,r)=>{var n=a,{className:e}=n,t=he(n,["className"]);return s.jsx("caption",_({ref:r,className:ze("mt-4 text-sm text-muted-foreground",e)},t))});LK.displayName="TableCaption";const E5="medicare-settings-history";function DK(e){const[t,r]=b.useState([]),[a,n]=b.useState(!0),i=()=>Date.now().toString(36)+Math.random().toString(36).substr(2),o=B=>{const j=B.map(N=>N.versionId).filter(N=>N.match(/^v\d+\.\d+\.\d+$/)).map(N=>{const I=N.substring(1).split(".").map(Number);return{major:I[0]||0,minor:I[1]||0,patch:I[2]||0}}).sort((N,I)=>N.major!==I.major?I.major-N.major:N.minor!==I.minor?I.minor-N.minor:I.patch-N.patch);if(j.length===0)return"v1.0.0";const w=j[0];return`v${w.major}.${w.minor}.${w.patch+1}`},A=()=>{try{const B=`${E5}-${e}`,j=localStorage.getItem(B);if(j){const w=JSON.parse(j);r(w.sort((N,I)=>new Date(I.createdAt).getTime()-new Date(N.createdAt).getTime()))}}catch(B){console.error("Erro ao carregar histrico de configuraes:",B)}finally{n(!1)}},l=B=>{try{const j=`${E5}-${e}`;return localStorage.setItem(j,JSON.stringify(B)),r(B.sort((w,N)=>new Date(N.createdAt).getTime()-new Date(w.createdAt).getTime())),!0}catch(j){return console.error("Erro ao salvar histrico de configuraes:",j),!1}},c=(B,j={})=>{const w={id:i(),versionId:j.versionId||o(t),versionName:j.versionName,settingsType:e,settingsData:JSON.parse(JSON.stringify(B)),description:j.description,createdBy:j.createdBy||"Sistema",createdAt:new Date().toISOString(),isActive:!0,tags:j.tags||[]},N=t.map(U=>M(_({},U),{isActive:!1})),I=[w,...N];return l(I)?w:null},d=B=>{const j=t.map(w=>M(_({},w),{isActive:w.versionId===B}));return l(j)},h=()=>t.find(B=>B.isActive)||null,m=B=>t.find(j=>j.versionId===B)||null,u=B=>{const j=t.find(N=>N.versionId===B);if(!j||j.isActive&&t.length===1)return!1;let w=t.filter(N=>N.versionId!==B);return j.isActive&&w.length>0&&(w[0].isActive=!0),l(w)},p=(B,j)=>{const w=m(B),N=m(j);return!w||!N?null:{version1:w,version2:N,differences:g(w.settingsData,N.settingsData)}},g=(B,j,w="")=>{const N=[];return new Set([...Object.keys(B||{}),...Object.keys(j||{})]).forEach(U=>{const D=w?`${w}.${U}`:U,L=B==null?void 0:B[U],P=j==null?void 0:j[U];U in(B||{})?U in(j||{})?typeof L=="object"&&typeof P=="object"&&L!==null&&P!==null?N.push(...g(L,P,D)):L!==P&&N.push({path:D,oldValue:L,newValue:P,type:"changed"}):N.push({path:D,oldValue:L,newValue:void 0,type:"removed"}):N.push({path:D,oldValue:void 0,newValue:P,type:"added"})}),N},y=()=>{const B={settingsType:e,exportedAt:new Date().toISOString(),versions:t},j=new Blob([JSON.stringify(B,null,2)],{type:"application/json"}),w=URL.createObjectURL(j),N=document.createElement("a");N.href=w,N.download=`settings-history-${e}-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(N),N.click(),document.body.removeChild(N),URL.revokeObjectURL(w)},x=B=>new Promise(j=>{const w=new FileReader;w.onload=N=>{var I;try{const U=JSON.parse((I=N.target)==null?void 0:I.result);if(U.settingsType!==e){console.error("Tipo de configurao no compatvel"),j(!1);return}Array.isArray(U.versions)?j(l(U.versions)):j(!1)}catch(U){console.error("Erro ao importar histrico:",U),j(!1)}},w.readAsText(B)});return b.useEffect(()=>{A()},[e]),{versions:t,isLoading:a,createVersion:c,activateVersion:d,getActiveVersion:h,getVersionById:m,deleteVersion:u,compareVersions:p,exportHistory:y,importHistory:x,refetch:A}}const Kl={apiKey:"",model:"gpt-4o-mini",temperature:.7,maxTokens:1e3,presencePenalty:.1,frequencyPenalty:.1,systemPrompt:`Voc  um assistente virtual especializado no sistema MediCare, um sistema de gesto hospitalar.

Voc tem acesso aos seguintes dados do sistema:
- Pacientes: informaes pessoais, leitos, notas mdicas
- Eventos de cuidado: medicamentos, refeies, hidratao, idas ao banheiro, observaes
- Perfis de usurios: profissionais de sade e suas funes

Suas responsabilidades:
1. Ajudar os usurios a encontrar informaes sobre pacientes
2. Fornecer relatrios sobre eventos de cuidado
3. Responder perguntas sobre o histrico mdico dos pacientes
4. Auxiliar na anlise de padres de cuidado
5. Sugerir melhorias nos cuidados com base nos dados

Sempre seja preciso, profissional e mantenha a confidencialidade mdica. Responda em portugus brasileiro.`},G0="medicare-chat-settings";function PK(){const[e,t]=b.useState(Kl),[r,a]=b.useState(!0),n=DK("chat");b.useEffect(()=>{try{const d=n.getActiveVersion();if(d){const h=_(_({},Kl),d.settingsData);h.apiKey||(h.apiKey=""),t(h)}else{const h=localStorage.getItem(G0);if(h){const m=JSON.parse(h),u=_(_({},Kl),m);u.apiKey||(u.apiKey=""),t(u),n.createVersion(u,{versionName:"Migrao automtica",description:"Configuraes migradas do sistema antigo",tags:["migration"]})}else{const m=_({},Kl);m.apiKey||(m.apiKey=""),t(m),n.createVersion(m,{versionName:"Configurao inicial",description:"Configuraes padro do sistema",tags:["initial","default"]})}}}catch(d){console.error("Erro ao carregar configuraes do chat:",d)}finally{a(!1)}},[n]);const i=(d,h)=>{try{return d.apiKey==="your-openai-api-key-here"?(console.error("Tentativa de salvar API key invlida"),!1):(localStorage.setItem(G0,JSON.stringify(d)),t(d),n.createVersion(d,{versionName:(h==null?void 0:h.versionName)||`Atualizao ${new Date().toLocaleString("pt-BR")}`,description:(h==null?void 0:h.description)||"Configuraes atualizadas",tags:(h==null?void 0:h.tags)||["update"],createdBy:"Usurio"})!==null)}catch(m){return console.error("Erro ao salvar configuraes do chat:",m),!1}};return{settings:e,isLoading:r,saveSettings:i,updateSetting:(d,h)=>{const m=M(_({},e),{[d]:h});return i(m)},resetToDefaults:()=>i(Kl,{versionName:"Restaurao para padres",description:"Configuraes restauradas para os valores padro do sistema",tags:["reset","default"]}),rollbackToVersion:d=>{try{const h=n.getVersionById(d);return h?n.activateVersion(d)?(t(_(_({},Kl),h.settingsData)),localStorage.setItem(G0,JSON.stringify(h.settingsData)),!0):!1:(console.error("Verso no encontrada:",d),!1)}catch(h){return console.error("Erro ao fazer rollback:",h),!1}},validateSettings:d=>{const h=[];return d.apiKey.trim()?d.apiKey==="your-openai-api-key-here"&&h.push("Chave da API invlida. Use uma chave API vlida da OpenAI"):h.push("Chave da API  obrigatria"),d.model.trim()||h.push("Modelo  obrigatrio"),(d.temperature<0||d.temperature>2)&&h.push("Temperatura deve estar entre 0 e 2"),(d.maxTokens<1||d.maxTokens>4e3)&&h.push("Mximo de tokens deve estar entre 1 e 4000"),(d.presencePenalty<-2||d.presencePenalty>2)&&h.push("Penalidade de presena deve estar entre -2 e 2"),(d.frequencyPenalty<-2||d.frequencyPenalty>2)&&h.push("Penalidade de frequncia deve estar entre -2 e 2"),d.systemPrompt.trim()||h.push("Prompt do sistema  obrigatrio"),{isValid:h.length===0,errors:h}},settingsHistory:n}}function MK(){var ct;const{user:e,updateUserProfile:t}=Ca(),{logs:r,addLog:a,clearLogs:n,exportLogs:i,getLogsByLevel:o}=Ip(),{settings:A,saveSettings:l,resetToDefaults:c,validateSettings:d,rollbackToVersion:h,settingsHistory:m}=PK(),[u,p]=b.useState([{id:"1",name:"Dr. Amir Charruf",email:"amir.charruf@hospital.com",role:"doctor",hospital:"Hospital Central",status:"active",createdAt:"2024-01-15"},{id:"2",name:"Enf Maria Santos",email:"maria.santos@hospital.com",role:"nurse",hospital:"Hospital Central",status:"active",createdAt:"2024-01-20"}]);b.useEffect(()=>{g()},[]);const g=()=>Ae(this,null,function*(){try{const{data:me,error:Je}=yield et.from("profiles").select("*").order("created_at",{ascending:!1});if(Je){console.error("Erro ao carregar usurios:",Je);return}if(me&&me.length>0){const st=me.map(nt=>{var ht;return{id:nt.id,name:nt.full_name||"Nome no informado",email:`${(ht=nt.full_name)==null?void 0:ht.toLowerCase().replace(/\s+/g,".")}@hospital.com`||"email@hospital.com",role:nt.role||"nurse",hospital:"Hospital Central",status:"active",createdAt:new Date(nt.created_at).toISOString().split("T")[0]}});p(st)}}catch(me){console.error("Erro ao carregar usurios:",me)}}),[y,x]=b.useState([{id:"1",name:"Hospital Central",address:"Rua das Flores, 123 - Centro",phone:"(11) 3333-4444",email:"contato@hospitalcentral.com",status:"active",createdAt:"2024-01-01"},{id:"2",name:"Hospital So Jos",address:"Av. Paulista, 456 - Bela Vista",phone:"(11) 5555-6666",email:"contato@hospitalsaojose.com",status:"active",createdAt:"2024-01-10"}]),[B,j]=b.useState(!1),[w,N]=b.useState(!1),[I,U]=b.useState(!1),[D,L]=b.useState(null),[P,S]=b.useState(null),[E,Q]=b.useState(!1),[V,ae]=b.useState(null),[Y,q]=b.useState({name:"",email:"",password:"",role:"nurse",hospital:"",status:"active"}),[K,Z]=b.useState({name:"",address:"",phone:"",email:"",status:"active"}),[fe,we]=b.useState("all"),[T,G]=b.useState(A),[X,se]=b.useState([]);b.useEffect(()=>{G(A)},[A]),b.useEffect(()=>{r.length===0&&(a("info","Sistema Iniciado","Pgina de configuraes carregada com sucesso"),a("info","Acesso  Configuraes",`Usurio ${(e==null?void 0:e.name)||"Annimo"} acessou as configuraes do sistema`))},[r.length,a,e==null?void 0:e.name]);const le=()=>Ae(this,null,function*(){try{if(Q(!0),!Y.name||!Y.email||!Y.password){ye({title:"Erro",description:"Por favor, preencha todos os campos obrigatrios.",variant:"destructive"});return}const{data:me,error:Je}=yield et.auth.signUp({email:Y.email,password:Y.password,options:{data:{full_name:Y.name,role:Y.role}}});if(Je){if(console.error("Erro ao criar usurio:",Je),Je.message.includes("For security purposes, you can only request this after")){const rr=Je.message.match(/after (\d+) seconds/),Jt=rr?parseInt(rr[1]):60;ae(Jt);const ot=setInterval(()=>{ae(Qt=>Qt&&Qt>1?Qt-1:(clearInterval(ot),null))},1e3);ye({title:"Limite de tentativas atingido",description:`Por segurana, aguarde ${Jt} segundos antes de tentar criar outro usurio.`,variant:"destructive"})}else ye({title:"Erro",description:Je.message||"No foi possvel criar o usurio. Tente novamente.",variant:"destructive"});return}if(!me.user){ye({title:"Erro",description:"Erro ao criar usurio. Tente novamente.",variant:"destructive"});return}yield new Promise(rr=>setTimeout(rr,1e3));const{data:st,error:nt}=yield et.from("profiles").select("*").eq("id",me.user.id).single();nt&&console.error("Erro ao verificar profile:",nt);const ht={id:me.user.id,name:(st==null?void 0:st.full_name)||Y.name,email:me.user.email||Y.email,role:(st==null?void 0:st.role)||Y.role,hospital:Y.hospital,status:Y.status,createdAt:new Date(me.user.created_at).toISOString().split("T")[0]};p([...u,ht]),q({name:"",email:"",password:"",role:"nurse",hospital:"",status:"active"}),N(!1),ye({title:"Sucesso",description:"Usurio criado com sucesso!"})}catch(me){console.error("Erro ao criar usurio:",me),ye({title:"Erro",description:"Erro interno. Tente novamente.",variant:"destructive"})}finally{Q(!1)}}),de=me=>{L(me),q({name:me.name,email:me.email,password:"",role:me.role,hospital:me.hospital,status:me.status}),N(!0)},Ne=()=>Ae(this,null,function*(){if(D)try{const{error:me}=yield et.from("profiles").update({full_name:Y.name,role:Y.role}).eq("id",D.id);if(me){console.error("Erro ao atualizar usurio:",me),ye({title:"Erro",description:"No foi possvel atualizar o usurio. Tente novamente.",variant:"destructive"});return}p(u.map(Je=>Je.id===D.id?_(_({},Je),Y):Je)),L(null),q({name:"",email:"",password:"",role:"nurse",hospital:"",status:"active"}),N(!1),ye({title:"Sucesso",description:"Usurio atualizado com sucesso!"})}catch(me){console.error("Erro ao atualizar usurio:",me),ye({title:"Erro",description:"Erro interno. Tente novamente.",variant:"destructive"})}}),je=me=>Ae(this,null,function*(){try{const{error:Je}=yield et.from("profiles").delete().eq("id",me);if(Je){console.error("Erro ao deletar usurio:",Je),ye({title:"Erro",description:"No foi possvel deletar o usurio. Tente novamente.",variant:"destructive"});return}p(u.filter(st=>st.id!==me)),ye({title:"Sucesso",description:"Usurio deletado com sucesso!"})}catch(Je){console.error("Erro ao deletar usurio:",Je),ye({title:"Erro",description:"Erro interno. Tente novamente.",variant:"destructive"})}}),Ie=()=>{const me=M(_({id:Date.now().toString()},K),{createdAt:new Date().toISOString().split("T")[0]});x([...y,me]),Z({name:"",address:"",phone:"",email:"",status:"active"}),U(!1)},Oe=me=>{S(me),Z({name:me.name,address:me.address,phone:me.phone,email:me.email,status:me.status}),U(!0)},ue=()=>{P&&(x(y.map(me=>me.id===P.id?_(_({},me),K):me)),S(null),Z({name:"",address:"",phone:"",email:"",status:"active"}),U(!1))},ke=me=>{x(y.filter(Je=>Je.id!==me))},ge=me=>({admin:"Administrador",doctor:"Mdico",nurse:"Enfermeiro(a)"})[me]||me,J=me=>({admin:"destructive",doctor:"default",nurse:"secondary"})[me]||"default",xe=me=>({info:"default",warning:"secondary",error:"destructive",debug:"outline"})[me]||"default",Te=()=>({total:r.length,info:o("info").length,warning:o("warning").length,error:o("error").length,debug:o("debug").length}),Xe=()=>{const me=i(),Je=new Blob([me],{type:"application/json"}),st=URL.createObjectURL(Je),nt=document.createElement("a");nt.href=st,nt.download=`bedside-logs-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(nt),nt.click(),document.body.removeChild(nt),URL.revokeObjectURL(st)},Qe=Te(),Ye=fe==="all"?r:r.filter(me=>me.level===fe),We=me=>(typeof me=="string"?new Date(me):me).toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"}),xt=(me,Je)=>{G(st=>M(_({},st),{[me]:Je}))},{toast:ye}=ir(),gt=()=>{const me=d(T);se(me.errors),me.isValid?l(T)?(a("info","Configuraes do chat atualizadas",(e==null?void 0:e.name)||"Sistema"),ye({title:"Configuraes atualizadas",description:"As configuraes do chat foram salvas com sucesso."})):(a("error","Erro ao salvar configuraes do chat",(e==null?void 0:e.name)||"Sistema"),ye({title:"Erro",description:"No foi possvel salvar as configuraes do chat.",variant:"destructive"})):(a("warning","Configuraes do chat invlidas",(e==null?void 0:e.name)||"Sistema"),ye({title:"Validao falhou",description:"Verifique os campos destacados e tente novamente.",variant:"destructive"}))},yt=()=>{c(),G(A),se([]),a("info","Configuraes do chat restauradas para padro",(e==null?void 0:e.name)||"Sistema")};return s.jsx("div",{className:"fixed inset-0 bg-gradient-to-br from-purple-50/30 via-white to-blue-50/30 overflow-hidden",children:s.jsxs("div",{className:"h-full flex flex-col",children:[s.jsxs("div",{className:"flex items-center gap-2 p-6 backdrop-blur-sm bg-white/70 border-b border-white/20 shadow-sm flex-shrink-0",children:[s.jsx(Ru,{className:"h-6 w-6 text-purple-600"}),s.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-purple-600 to-blue-600 bg-clip-text text-transparent",children:"Configuraes da Plataforma"})]}),s.jsxs(E1,{defaultValue:"profile",className:"flex-1 flex flex-col overflow-hidden",children:[s.jsx("div",{className:"w-full backdrop-blur-sm bg-white/70 border-b border-white/20 shadow-sm flex-shrink-0",children:s.jsx(kp,{className:"w-full h-auto p-1 bg-transparent justify-start overflow-x-auto scrollbar-hide",children:s.jsxs("div",{className:"flex gap-1 min-w-max",children:[s.jsxs(Ss,{value:"profile",className:"flex items-center gap-2 data-[state=active]:bg-gradient-to-r data-[state=active]:from-purple-500 data-[state=active]:to-blue-500 data-[state=active]:text-white transition-all duration-300 whitespace-nowrap px-4 py-2.5 rounded-md",children:[s.jsx(Or,{className:"h-4 w-4 flex-shrink-0"}),"Perfil"]}),s.jsxs(Ss,{value:"branding",className:"flex items-center gap-2 data-[state=active]:bg-gradient-to-r data-[state=active]:from-purple-500 data-[state=active]:to-blue-500 data-[state=active]:text-white transition-all duration-300 whitespace-nowrap px-4 py-2.5 rounded-md",children:[s.jsx(kv,{className:"h-4 w-4 flex-shrink-0"}),"Logo"]}),s.jsxs(Ss,{value:"users",className:"flex items-center gap-2 data-[state=active]:bg-gradient-to-r data-[state=active]:from-purple-500 data-[state=active]:to-blue-500 data-[state=active]:text-white transition-all duration-300 whitespace-nowrap px-4 py-2.5 rounded-md",children:[s.jsx(Xs,{className:"h-4 w-4 flex-shrink-0"}),"Usurios"]}),s.jsxs(Ss,{value:"hospitals",className:"flex items-center gap-2 data-[state=active]:bg-gradient-to-r data-[state=active]:from-purple-500 data-[state=active]:to-blue-500 data-[state=active]:text-white transition-all duration-300 whitespace-nowrap px-4 py-2.5 rounded-md",children:[s.jsx(pm,{className:"h-4 w-4 flex-shrink-0"}),"Hospitais"]}),s.jsxs(Ss,{value:"permissions",className:"flex items-center gap-2 data-[state=active]:bg-gradient-to-r data-[state=active]:from-purple-500 data-[state=active]:to-blue-500 data-[state=active]:text-white transition-all duration-300 whitespace-nowrap px-4 py-2.5 rounded-md",children:[s.jsx(tA,{className:"h-4 w-4 flex-shrink-0"}),"Permisses"]}),s.jsxs(Ss,{value:"chat",className:"flex items-center gap-2 data-[state=active]:bg-gradient-to-r data-[state=active]:from-purple-500 data-[state=active]:to-blue-500 data-[state=active]:text-white transition-all duration-300 whitespace-nowrap px-4 py-2.5 rounded-md",children:[s.jsx(mm,{className:"h-4 w-4 flex-shrink-0"}),"Chat IA"]}),s.jsxs(Ss,{value:"history",className:"flex items-center gap-2 data-[state=active]:bg-gradient-to-r data-[state=active]:from-purple-500 data-[state=active]:to-blue-500 data-[state=active]:text-white transition-all duration-300 whitespace-nowrap px-4 py-2.5 rounded-md",children:[s.jsx(gm,{className:"h-4 w-4 flex-shrink-0"}),"Histrico"]}),s.jsxs(Ss,{value:"logs",className:"flex items-center gap-2 data-[state=active]:bg-gradient-to-r data-[state=active]:from-purple-500 data-[state=active]:to-blue-500 data-[state=active]:text-white transition-all duration-300 whitespace-nowrap px-4 py-2.5 rounded-md",children:[s.jsx(Xt,{className:"h-4 w-4 flex-shrink-0"}),"Logs"]})]})})}),s.jsx(Fs,{value:"profile",className:"flex-1 overflow-y-auto p-6",children:s.jsxs(Ee,{className:"backdrop-blur-sm bg-white/70 border-white/20 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-[1.01] max-w-4xl mx-auto",children:[s.jsxs(He,{className:"bg-gradient-to-r from-purple-50/50 to-blue-50/50 rounded-t-lg",children:[s.jsx(Ke,{className:"text-gray-800",children:"Meu Perfil"}),s.jsx(St,{children:"Gerencie suas informaes pessoais e foto de perfil"})]}),s.jsxs(Ue,{className:"space-y-6 p-6",children:[s.jsx("div",{className:"flex flex-col items-center space-y-4",children:s.jsx(UK,{currentImage:e==null?void 0:e.profilePhoto,userName:e==null?void 0:e.name,onImageChange:me=>{t({profilePhoto:me||void 0})},size:"lg"})}),s.jsxs("div",{className:"grid gap-4 max-w-md mx-auto",children:[s.jsxs("div",{className:"grid gap-2",children:[s.jsx(ie,{htmlFor:"profile-name",children:"Nome Completo"}),s.jsx(_e,{id:"profile-name",value:(e==null?void 0:e.name)||"",readOnly:!0,className:"bg-muted"})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(ie,{htmlFor:"profile-email",children:"Email"}),s.jsx(_e,{id:"profile-email",type:"email",value:(e==null?void 0:e.email)||"",readOnly:!0,className:"bg-muted"})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(ie,{htmlFor:"profile-role",children:"Funo"}),s.jsx(_e,{id:"profile-role",value:ge((e==null?void 0:e.role)||""),readOnly:!0,className:"bg-muted"})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(ie,{htmlFor:"profile-hospital",children:"Hospital"}),s.jsx(_e,{id:"profile-hospital",value:(e==null?void 0:e.hospital)||"",readOnly:!0,className:"bg-muted"})]})]})]})]})}),s.jsx(Fs,{value:"branding",className:"flex-1 overflow-y-auto p-6",children:s.jsxs(Ee,{className:"max-w-4xl mx-auto",children:[s.jsxs(He,{children:[s.jsx(Ke,{children:"Personalizao do Logo"}),s.jsx(St,{children:"Personalize o logo da aplicao que aparece na sidebar e outras reas do sistema"})]}),s.jsx(Ue,{children:s.jsx(IK,{})})]})}),s.jsx(Fs,{value:"users",className:"flex-1 overflow-y-auto p-6",children:s.jsxs(Ee,{className:"max-w-7xl mx-auto",children:[s.jsx(He,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(Ke,{children:"Gesto de Usurios"}),s.jsx(St,{children:"Gerencie usurios, suas credenciais e permisses no sistema"})]}),s.jsxs(Rn,{open:w,onOpenChange:N,children:[s.jsx(Bx,{asChild:!0,children:s.jsxs(ne,{onClick:()=>{L(null),q({name:"",email:"",password:"",role:"nurse",hospital:"",status:"active"})},children:[s.jsx(Xr,{className:"h-4 w-4 mr-2"}),"Novo Usurio"]})}),s.jsxs(wn,{className:"sm:max-w-[425px]",children:[s.jsxs(bn,{children:[s.jsx(yn,{children:D?"Editar Usurio":"Novo Usurio"}),s.jsx(Yo,{children:D?"Atualize as informaes do usurio.":"Crie um novo usurio no sistema."})]}),s.jsxs("div",{className:"grid gap-4 py-4",children:[s.jsxs("div",{className:"grid gap-2",children:[s.jsx(ie,{htmlFor:"name",children:"Nome Completo"}),s.jsx(_e,{id:"name",value:Y.name,onChange:me=>q(M(_({},Y),{name:me.target.value})),placeholder:"Digite o nome completo"})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(ie,{htmlFor:"email",children:"Email"}),s.jsx(_e,{id:"email",type:"email",value:Y.email,onChange:me=>q(M(_({},Y),{email:me.target.value})),placeholder:"usuario@hospital.com"})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(ie,{htmlFor:"password",children:"Senha"}),s.jsxs("div",{className:"relative",children:[s.jsx(_e,{id:"password",type:B?"text":"password",value:Y.password,onChange:me=>q(M(_({},Y),{password:me.target.value})),placeholder:D?"Deixe em branco para manter a atual":"Digite a senha"}),s.jsx(ne,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>j(!B),children:B?s.jsx(tl,{className:"h-4 w-4"}):s.jsx(Zs,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(ie,{htmlFor:"role",children:"Funo"}),s.jsxs(kt,{value:Y.role,onValueChange:me=>q(M(_({},Y),{role:me})),children:[s.jsx(Et,{children:s.jsx(Lt,{placeholder:"Selecione a funo"})}),s.jsxs(Ut,{children:[s.jsx(Se,{value:"admin",children:"Administrador"}),s.jsx(Se,{value:"doctor",children:"Mdico"}),s.jsx(Se,{value:"nurse",children:"Enfermeiro(a)"})]})]})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(ie,{htmlFor:"hospital",children:"Hospital"}),s.jsxs(kt,{value:Y.hospital,onValueChange:me=>q(M(_({},Y),{hospital:me})),children:[s.jsx(Et,{children:s.jsx(Lt,{placeholder:"Selecione o hospital"})}),s.jsx(Ut,{children:y.map(me=>s.jsx(Se,{value:me.name,children:me.name},me.id))})]})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(ie,{htmlFor:"status",children:"Status"}),s.jsxs(kt,{value:Y.status,onValueChange:me=>q(M(_({},Y),{status:me})),children:[s.jsx(Et,{children:s.jsx(Lt,{placeholder:"Selecione o status"})}),s.jsxs(Ut,{children:[s.jsx(Se,{value:"active",children:"Ativo"}),s.jsx(Se,{value:"inactive",children:"Inativo"})]})]})]})]}),s.jsx(ec,{children:s.jsx(ne,{type:"submit",onClick:D?Ne:le,disabled:E||V!==null&&!D,children:E?s.jsxs(s.Fragment,{children:[s.jsx(vm,{className:"h-4 w-4 mr-2 animate-spin"}),"Criando..."]}):V!==null&&!D?`Aguarde ${V}s`:`${D?"Atualizar":"Criar"} Usurio`})})]})]})]})}),s.jsx(Ue,{children:s.jsxs(lm,{children:[s.jsx(cm,{children:s.jsxs(kA,{children:[s.jsx(As,{children:"Nome"}),s.jsx(As,{children:"Email"}),s.jsx(As,{children:"Funo"}),s.jsx(As,{children:"Hospital"}),s.jsx(As,{children:"Status"}),s.jsx(As,{children:"Criado em"}),s.jsx(As,{className:"text-right",children:"Aes"})]})}),s.jsx(dm,{children:u.map(me=>s.jsxs(kA,{children:[s.jsx(ls,{className:"font-medium",children:me.name}),s.jsx(ls,{children:me.email}),s.jsx(ls,{children:s.jsx(At,{variant:J(me.role),children:ge(me.role)})}),s.jsx(ls,{children:me.hospital}),s.jsx(ls,{children:s.jsx(At,{variant:me.status==="active"?"default":"secondary",children:me.status==="active"?"Ativo":"Inativo"})}),s.jsx(ls,{children:new Date(me.createdAt).toLocaleDateString("pt-BR")}),s.jsx(ls,{className:"text-right",children:s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsx(ne,{variant:"ghost",size:"sm",onClick:()=>de(me),children:s.jsx(rl,{className:"h-4 w-4"})}),s.jsx(ne,{variant:"ghost",size:"sm",onClick:()=>je(me.id),className:"text-red-600 hover:text-red-700",children:s.jsx(ha,{className:"h-4 w-4"})})]})})]},me.id))})]})})]})}),s.jsx(Fs,{value:"hospitals",className:"flex-1 overflow-y-auto p-6",children:s.jsxs(Ee,{className:"max-w-7xl mx-auto",children:[s.jsx(He,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(Ke,{children:"Gesto de Hospitais"}),s.jsx(St,{children:"Gerencie os hospitais onde os pacientes so registrados"})]}),s.jsxs(Rn,{open:I,onOpenChange:U,children:[s.jsx(Bx,{asChild:!0,children:s.jsxs(ne,{onClick:()=>{S(null),Z({name:"",address:"",phone:"",email:"",status:"active"})},children:[s.jsx(Xr,{className:"h-4 w-4 mr-2"}),"Novo Hospital"]})}),s.jsxs(wn,{className:"sm:max-w-[425px]",children:[s.jsxs(bn,{children:[s.jsx(yn,{children:P?"Editar Hospital":"Novo Hospital"}),s.jsx(Yo,{children:P?"Atualize as informaes do hospital.":"Cadastre um novo hospital no sistema."})]}),s.jsxs("div",{className:"grid gap-4 py-4",children:[s.jsxs("div",{className:"grid gap-2",children:[s.jsx(ie,{htmlFor:"hospital-name",children:"Nome do Hospital"}),s.jsx(_e,{id:"hospital-name",value:K.name,onChange:me=>Z(M(_({},K),{name:me.target.value})),placeholder:"Digite o nome do hospital"})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(ie,{htmlFor:"address",children:"Endereo"}),s.jsx(_e,{id:"address",value:K.address,onChange:me=>Z(M(_({},K),{address:me.target.value})),placeholder:"Rua, nmero, bairro, cidade"})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(ie,{htmlFor:"phone",children:"Telefone"}),s.jsx(_e,{id:"phone",value:K.phone,onChange:me=>Z(M(_({},K),{phone:me.target.value})),placeholder:"(11) 3333-4444"})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(ie,{htmlFor:"hospital-email",children:"Email"}),s.jsx(_e,{id:"hospital-email",type:"email",value:K.email,onChange:me=>Z(M(_({},K),{email:me.target.value})),placeholder:"contato@hospital.com"})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(ie,{htmlFor:"hospital-status",children:"Status"}),s.jsxs(kt,{value:K.status,onValueChange:me=>Z(M(_({},K),{status:me})),children:[s.jsx(Et,{children:s.jsx(Lt,{placeholder:"Selecione o status"})}),s.jsxs(Ut,{children:[s.jsx(Se,{value:"active",children:"Ativo"}),s.jsx(Se,{value:"inactive",children:"Inativo"})]})]})]})]}),s.jsx(ec,{children:s.jsxs(ne,{type:"submit",onClick:P?ue:Ie,children:[P?"Atualizar":"Criar"," Hospital"]})})]})]})]})}),s.jsx(Ue,{children:s.jsxs(lm,{children:[s.jsx(cm,{children:s.jsxs(kA,{children:[s.jsx(As,{children:"Nome"}),s.jsx(As,{children:"Endereo"}),s.jsx(As,{children:"Telefone"}),s.jsx(As,{children:"Email"}),s.jsx(As,{children:"Status"}),s.jsx(As,{children:"Criado em"}),s.jsx(As,{className:"text-right",children:"Aes"})]})}),s.jsx(dm,{children:y.map(me=>s.jsxs(kA,{children:[s.jsx(ls,{className:"font-medium",children:me.name}),s.jsx(ls,{children:me.address}),s.jsx(ls,{children:me.phone}),s.jsx(ls,{children:me.email}),s.jsx(ls,{children:s.jsx(At,{variant:me.status==="active"?"default":"secondary",children:me.status==="active"?"Ativo":"Inativo"})}),s.jsx(ls,{children:new Date(me.createdAt).toLocaleDateString("pt-BR")}),s.jsx(ls,{className:"text-right",children:s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsx(ne,{variant:"ghost",size:"sm",onClick:()=>Oe(me),children:s.jsx(rl,{className:"h-4 w-4"})}),s.jsx(ne,{variant:"ghost",size:"sm",onClick:()=>ke(me.id),className:"text-red-600 hover:text-red-700",children:s.jsx(ha,{className:"h-4 w-4"})})]})})]},me.id))})]})})]})}),s.jsx(Fs,{value:"permissions",className:"flex-1 overflow-y-auto p-6",children:s.jsxs(Ee,{className:"max-w-4xl mx-auto",children:[s.jsxs(He,{children:[s.jsx(Ke,{children:"Controle de Permisses"}),s.jsx(St,{children:"Gerencie as permisses e nveis de acesso dos usurios"})]}),s.jsx(Ue,{children:s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{className:"grid gap-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Nveis de Acesso"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"border rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h4",{className:"font-medium",children:"Administrador"}),s.jsx(At,{variant:"destructive",children:"Acesso Total"})]}),s.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Acesso completo ao sistema, incluindo configuraes, usurios e relatrios."}),s.jsxs("div",{className:"text-sm",children:[s.jsx("strong",{children:"Permisses:"}),s.jsxs("ul",{className:"list-disc list-inside mt-1 space-y-1",children:[s.jsx("li",{children:"Gerenciar usurios e hospitais"}),s.jsx("li",{children:"Visualizar todos os pacientes e cuidados"}),s.jsx("li",{children:"Gerar relatrios completos"}),s.jsx("li",{children:"Configurar sistema"})]})]})]}),s.jsxs("div",{className:"border rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h4",{className:"font-medium",children:"Mdico"}),s.jsx(At,{variant:"default",children:"Acesso Clnico"})]}),s.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Acesso aos dados clnicos dos pacientes e relatrios mdicos."}),s.jsxs("div",{className:"text-sm",children:[s.jsx("strong",{children:"Permisses:"}),s.jsxs("ul",{className:"list-disc list-inside mt-1 space-y-1",children:[s.jsx("li",{children:"Visualizar e editar dados dos pacientes"}),s.jsx("li",{children:"Registrar cuidados mdicos"}),s.jsx("li",{children:"Gerar relatrios de pacientes"}),s.jsx("li",{children:"Visualizar histrico completo"})]})]})]}),s.jsxs("div",{className:"border rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h4",{className:"font-medium",children:"Enfermeiro(a)"}),s.jsx(At,{variant:"secondary",children:"Acesso Operacional"})]}),s.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Acesso para registrar cuidados dirios e visualizar dados dos pacientes."}),s.jsxs("div",{className:"text-sm",children:[s.jsx("strong",{children:"Permisses:"}),s.jsxs("ul",{className:"list-disc list-inside mt-1 space-y-1",children:[s.jsx("li",{children:"Registrar cuidados dirios"}),s.jsx("li",{children:"Visualizar dados dos pacientes"}),s.jsx("li",{children:"Gerar relatrios bsicos"}),s.jsx("li",{children:"Atualizar informaes de cuidados"})]})]})]})]})]})})})]})}),s.jsx(Fs,{value:"chat",className:"flex-1 overflow-y-auto p-6",children:s.jsxs(Ee,{className:"max-w-4xl mx-auto",children:[s.jsxs(He,{children:[s.jsxs(Ke,{className:"flex items-center gap-2",children:[s.jsx(mm,{className:"h-5 w-5"}),"Configuraes do Chat IA"]}),s.jsx(St,{children:"Configure as configuraes da inteligncia artificial para o chat assistente"})]}),s.jsx(Ue,{className:"space-y-6",children:s.jsxs("div",{className:"grid gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[s.jsx(IB,{className:"h-4 w-4"}),"Configuraes da API"]}),s.jsxs("div",{className:"grid gap-4",children:[s.jsxs("div",{className:"grid gap-2",children:[s.jsx(ie,{htmlFor:"api-key",children:"Chave da API OpenAI"}),s.jsxs("div",{className:"relative",children:[s.jsx(_e,{id:"api-key",type:B?"text":"password",value:T.apiKey,onChange:me=>xt("apiKey",me.target.value),placeholder:"sk-...",className:"pr-10"}),s.jsx(ne,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>j(!B),children:B?s.jsx(tl,{className:"h-4 w-4"}):s.jsx(Zs,{className:"h-4 w-4"})})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Sua chave da API OpenAI para usar o chat assistente"})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(ie,{htmlFor:"model",children:"Modelo"}),s.jsxs(kt,{value:T.model,onValueChange:me=>xt("model",me),children:[s.jsx(Et,{children:s.jsx(Lt,{placeholder:"Selecione o modelo"})}),s.jsxs(Ut,{children:[s.jsx(Se,{value:"gpt-3.5-turbo",children:"GPT-3.5 Turbo"}),s.jsx(Se,{value:"gpt-4",children:"GPT-4"}),s.jsx(Se,{value:"gpt-4o-mini",children:"GPT-4o Mini"}),s.jsx(Se,{value:"gpt-4-turbo-preview",children:"GPT-4 Turbo"})]})]})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[s.jsx(qE,{className:"h-4 w-4"}),"Parmetros do Modelo"]}),s.jsxs("div",{className:"grid gap-4",children:[s.jsxs("div",{className:"grid gap-2",children:[s.jsxs(ie,{htmlFor:"temperature",children:["Temperatura: ",T.temperature]}),s.jsx("input",{id:"temperature",type:"range",min:"0",max:"2",step:"0.1",value:T.temperature,onChange:me=>xt("temperature",parseFloat(me.target.value)),className:"w-full"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Controla a criatividade das respostas (0 = mais focado, 2 = mais criativo)"})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(ie,{htmlFor:"max-tokens",children:"Mximo de Tokens"}),s.jsx(_e,{id:"max-tokens",type:"number",min:"1",max:"4000",value:T.maxTokens,onChange:me=>xt("maxTokens",parseInt(me.target.value))}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Nmero mximo de tokens na resposta"})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsxs(ie,{htmlFor:"presence-penalty",children:["Penalidade de Presena: ",T.presencePenalty]}),s.jsx("input",{id:"presence-penalty",type:"range",min:"-2",max:"2",step:"0.1",value:T.presencePenalty,onChange:me=>xt("presencePenalty",parseFloat(me.target.value)),className:"w-full"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Penaliza a repetio de tpicos j mencionados"})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsxs(ie,{htmlFor:"frequency-penalty",children:["Penalidade de Frequncia: ",T.frequencyPenalty]}),s.jsx("input",{id:"frequency-penalty",type:"range",min:"-2",max:"2",step:"0.1",value:T.frequencyPenalty,onChange:me=>xt("frequencyPenalty",parseFloat(me.target.value)),className:"w-full"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Penaliza a repetio de palavras especficas"})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[s.jsx(ME,{className:"h-4 w-4"}),"Prompt do Sistema"]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(ie,{htmlFor:"system-prompt",children:"Instrues para o Assistente"}),s.jsx("textarea",{id:"system-prompt",value:T.systemPrompt,onChange:me=>xt("systemPrompt",me.target.value),className:"min-h-[200px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",placeholder:"Digite as instrues para o assistente IA..."}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Define o comportamento e conhecimento do assistente IA"})]})]}),X.length>0&&s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(Ts,{className:"h-5 w-5 text-red-600 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-red-800",children:"Erros de Configurao"}),s.jsx("ul",{className:"mt-2 text-sm text-red-700 list-disc list-inside",children:X.map((me,Je)=>s.jsx("li",{children:me},Je))})]})]})}),s.jsxs("div",{className:"flex gap-2 pt-4",children:[s.jsx(ne,{onClick:gt,children:"Salvar Configuraes"}),s.jsxs(ne,{variant:"outline",onClick:yt,children:[s.jsx(vm,{className:"h-4 w-4 mr-2"}),"Restaurar Padres"]})]})]})})]})}),s.jsx(Fs,{value:"history",className:"flex-1 overflow-y-auto p-6",children:s.jsxs(Ee,{className:"max-w-7xl mx-auto",children:[s.jsxs(He,{children:[s.jsx(Ke,{children:"Histrico de Configuraes"}),s.jsx(St,{children:"Visualize e gerencie o histrico de verses das configuraes do sistema"})]}),s.jsx(Ue,{children:s.jsx(QK,{versions:m.versions,onRollback:me=>{h(me)?(ye({title:"Rollback realizado",description:"Configuraes restauradas com sucesso"}),a("info","Rollback de Configuraes",`Usurio ${(e==null?void 0:e.name)||"Annimo"} restaurou configuraes para verso ${me}`)):ye({title:"Erro no rollback",description:"No foi possvel restaurar as configuraes",variant:"destructive"})},onDelete:me=>{m.deleteVersion(me),ye({title:"Verso excluda",description:"Verso removida do histrico"}),a("info","Excluso de Verso",`Usurio ${(e==null?void 0:e.name)||"Annimo"} excluiu verso ${me} do histrico`)},onExport:()=>{m.exportHistory(),ye({title:"Histrico exportado",description:"Arquivo baixado com sucesso"}),a("info","Exportao de Histrico",`Usurio ${(e==null?void 0:e.name)||"Annimo"} exportou histrico de configuraes`)},onImport:me=>{m.importHistory(me).then(Je=>{Je?(ye({title:"Histrico importado",description:"Configuraes importadas com sucesso"}),a("info","Importao de Histrico",`Usurio ${(e==null?void 0:e.name)||"Annimo"} importou histrico de configuraes`)):ye({title:"Erro na importao",description:"Arquivo invlido ou corrompido",variant:"destructive"})}).catch(()=>{ye({title:"Erro na importao",description:"No foi possvel processar o arquivo",variant:"destructive"})})},currentVersionId:(ct=m.getActiveVersion())==null?void 0:ct.versionId})})]})}),s.jsx(Fs,{value:"logs",className:"flex-1 overflow-y-auto p-6",children:s.jsxs(Ee,{className:"max-w-7xl mx-auto",children:[s.jsx(He,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(Ke,{children:"Logs do Sistema"}),s.jsx(St,{children:"Visualize e monitore todas as atividades do sistema"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(kt,{value:fe,onValueChange:me=>we(me),children:[s.jsx(Et,{className:"w-[180px]",children:s.jsx(Lt,{placeholder:"Filtrar por nvel"})}),s.jsxs(Ut,{children:[s.jsx(Se,{value:"all",children:"Todos"}),s.jsx(Se,{value:"info",children:"Info"}),s.jsx(Se,{value:"warning",children:"Warning"}),s.jsx(Se,{value:"error",children:"Error"}),s.jsx(Se,{value:"debug",children:"Debug"})]})]}),s.jsxs(ne,{variant:"outline",size:"sm",onClick:Xe,children:[s.jsx(Ba,{className:"h-4 w-4 mr-2"}),"Exportar Logs"]}),s.jsxs(ne,{variant:"outline",size:"sm",onClick:n,children:[s.jsx(ha,{className:"h-4 w-4 mr-2"}),"Limpar Logs"]})]})]})}),s.jsx(Ue,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[s.jsx("div",{className:"bg-primary/10 border border-primary/20 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-primary",children:"Info"}),s.jsx("p",{className:"text-2xl font-bold text-primary",children:Qe.info})]}),s.jsx("div",{className:"h-8 w-8 bg-primary/10 rounded-full flex items-center justify-center",children:s.jsx(Xt,{className:"h-4 w-4 text-primary"})})]})}),s.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-yellow-600",children:"Warning"}),s.jsx("p",{className:"text-2xl font-bold text-yellow-700",children:Qe.warning})]}),s.jsx("div",{className:"h-8 w-8 bg-yellow-100 rounded-full flex items-center justify-center",children:s.jsx(Xt,{className:"h-4 w-4 text-yellow-600"})})]})}),s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-red-600",children:"Error"}),s.jsx("p",{className:"text-2xl font-bold text-red-700",children:Qe.error})]}),s.jsx("div",{className:"h-8 w-8 bg-red-100 rounded-full flex items-center justify-center",children:s.jsx(Xt,{className:"h-4 w-4 text-red-600"})})]})}),s.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total"}),s.jsx("p",{className:"text-2xl font-bold text-gray-700",children:Qe.total})]}),s.jsx("div",{className:"h-8 w-8 bg-gray-100 rounded-full flex items-center justify-center",children:s.jsx(Xt,{className:"h-4 w-4 text-gray-600"})})]})})]}),s.jsx("div",{className:"border rounded-lg",children:s.jsxs(lm,{children:[s.jsx(cm,{children:s.jsxs(kA,{children:[s.jsx(As,{children:"Timestamp"}),s.jsx(As,{children:"Nvel"}),s.jsx(As,{children:"Ao"}),s.jsx(As,{children:"Usurio"}),s.jsx(As,{children:"Detalhes"}),s.jsx(As,{children:"IP"})]})}),s.jsx(dm,{children:Ye.map(me=>s.jsxs(kA,{children:[s.jsx(ls,{className:"font-mono text-sm",children:We(me.timestamp)}),s.jsx(ls,{children:s.jsx(At,{variant:xe(me.level),children:me.level.toUpperCase()})}),s.jsx(ls,{className:"font-medium",children:me.action}),s.jsx(ls,{children:me.user}),s.jsx(ls,{className:"max-w-xs truncate",title:me.details,children:me.details}),s.jsx(ls,{className:"font-mono text-sm text-muted-foreground",children:me.ip||"-"})]},me.id))})]})}),Ye.length===0&&s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Xt,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:"Nenhum log encontrado"}),s.jsx("p",{className:"text-muted-foreground",children:"No h logs disponveis para o filtro selecionado."})]})]})})]})})]})]})})}const TK={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 ms",other:"cerca de {{count}} meses"},xMonths:{one:"1 ms",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},RK=(e,t,r)=>{let a;const n=TK[e];return typeof n=="string"?a=n:t===1?a=n.one:a=n.other.replace("{{count}}",String(t)),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"em "+a:"h "+a:a},OK={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},HK={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},KK={full:"{{date}} 's' {{time}}",long:"{{date}} 's' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},$K={date:Ig({formats:OK,defaultWidth:"full"}),time:Ig({formats:HK,defaultWidth:"full"}),dateTime:Ig({formats:KK,defaultWidth:"full"})},VK={lastWeek:e=>{const t=e.getDay();return"'"+(t===0||t===6?"ltimo":"ltima")+"' eeee 's' p"},yesterday:"'ontem s' p",today:"'hoje s' p",tomorrow:"'amanh s' p",nextWeek:"eeee 's' p",other:"P"},zK=(e,t,r,a)=>{const n=VK[e];return typeof n=="function"?n(t):n},qK={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},GK={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},WK={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","maro","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},JK={narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","tera","quarta","quinta","sexta","sbado"],wide:["domingo","segunda-feira","tera-feira","quarta-feira","quinta-feira","sexta-feira","sbado"]},XK={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"}},YK={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},ZK=(e,t)=>{const r=Number(e);return(t==null?void 0:t.unit)==="week"?r+"":r+""},e$={ordinalNumber:ZK,era:hd({values:qK,defaultWidth:"wide"}),quarter:hd({values:GK,defaultWidth:"wide",argumentCallback:e=>e-1}),month:hd({values:WK,defaultWidth:"wide"}),day:hd({values:JK,defaultWidth:"wide"}),dayPeriod:hd({values:XK,defaultWidth:"wide",formattingValues:YK,defaultFormattingWidth:"wide"})},t$=/^(\d+)[o]?/i,r$=/\d+/i,s$={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},a$={any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},n$={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},i$={any:[/1/i,/2/i,/3/i,/4/i]},o$={narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|maro|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},A$={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},l$={narrow:/^(dom|[23456]?|s[a]b)/i,short:/^(dom|[23456]?|s[a]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[a]b)/i,wide:/^(domingo|(segunda|ter[c]a|quarta|quinta|sexta)([- ]feira)?|s[a]bado)/i},c$={short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[a]b/i]},d$={narrow:/^(a|p|mn|md|(da) (manh|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manh|tarde|noite))/i},u$={any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manh/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},h$={ordinalNumber:iE({matchPattern:t$,parsePattern:r$,valueCallback:e=>parseInt(e,10)}),era:fd({matchPatterns:s$,defaultMatchWidth:"wide",parsePatterns:a$,defaultParseWidth:"any"}),quarter:fd({matchPatterns:n$,defaultMatchWidth:"wide",parsePatterns:i$,defaultParseWidth:"any",valueCallback:e=>e+1}),month:fd({matchPatterns:o$,defaultMatchWidth:"wide",parsePatterns:A$,defaultParseWidth:"any"}),day:fd({matchPatterns:l$,defaultMatchWidth:"wide",parsePatterns:c$,defaultParseWidth:"any"}),dayPeriod:fd({matchPatterns:d$,defaultMatchWidth:"any",parsePatterns:u$,defaultParseWidth:"any"})},xs={code:"pt-BR",formatDistance:RK,formatLong:$K,formatRelative:zK,localize:e$,match:h$,options:{weekStartsOn:0,firstWeekContainsDate:1}};var Dt=function(){return Dt=Object.assign||function(t){for(var r,a=1,n=arguments.length;a<n;a++){r=arguments[a];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Dt.apply(this,arguments)};function f$(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,a=Object.getOwnPropertySymbols(e);n<a.length;n++)t.indexOf(a[n])<0&&Object.prototype.propertyIsEnumerable.call(e,a[n])&&(r[a[n]]=e[a[n]]);return r}function j3(e,t,r){for(var a=0,n=t.length,i;a<n;a++)(i||!(a in t))&&(i||(i=Array.prototype.slice.call(t,0,a)),i[a]=t[a]);return e.concat(i||Array.prototype.slice.call(t))}function rh(e){return e.mode==="multiple"}function sh(e){return e.mode==="range"}function Wp(e){return e.mode==="single"}var m$={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function p$(e,t){return yr(e,"LLLL y",t)}function g$(e,t){return yr(e,"d",t)}function x$(e,t){return yr(e,"LLLL",t)}function v$(e){return"".concat(e)}function w$(e,t){return yr(e,"cccccc",t)}function b$(e,t){return yr(e,"yyyy",t)}var y$=Object.freeze({__proto__:null,formatCaption:p$,formatDay:g$,formatMonthCaption:x$,formatWeekNumber:v$,formatWeekdayName:w$,formatYearCaption:b$}),B$=function(e,t,r){return yr(e,"do MMMM (EEEE)",r)},j$=function(){return"Month: "},C$=function(){return"Go to next month"},N$=function(){return"Go to previous month"},_$=function(e,t){return yr(e,"cccc",t)},S$=function(e){return"Week n. ".concat(e)},F$=function(){return"Year: "},E$=Object.freeze({__proto__:null,labelDay:B$,labelMonthDropdown:j$,labelNext:C$,labelPrevious:N$,labelWeekNumber:S$,labelWeekday:_$,labelYearDropdown:F$});function U$(){var e="buttons",t=m$,r=lE,a={},n={},i=1,o={},A=new Date;return{captionLayout:e,classNames:t,formatters:y$,labels:E$,locale:r,modifiersClassNames:a,modifiers:n,numberOfMonths:i,styles:o,today:A,mode:"default"}}function I$(e){var t=e.fromYear,r=e.toYear,a=e.fromMonth,n=e.toMonth,i=e.fromDate,o=e.toDate;return a?i=Za(a):t&&(i=new Date(t,0,1)),n?o=Ev(n):r&&(o=new Date(r,11,31)),{fromDate:i?Jw(i):void 0,toDate:o?Jw(o):void 0}}var C3=b.createContext(void 0);function Q$(e){var t,r=e.initialProps,a=U$(),n=I$(r),i=n.fromDate,o=n.toDate,A=(t=r.captionLayout)!==null&&t!==void 0?t:a.captionLayout;A!=="buttons"&&(!i||!o)&&(A="buttons");var l;(Wp(r)||rh(r)||sh(r))&&(l=r.onSelect);var c=Dt(Dt(Dt({},a),r),{captionLayout:A,classNames:Dt(Dt({},a.classNames),r.classNames),components:Dt({},r.components),formatters:Dt(Dt({},a.formatters),r.formatters),fromDate:i,labels:Dt(Dt({},a.labels),r.labels),mode:r.mode||a.mode,modifiers:Dt(Dt({},a.modifiers),r.modifiers),modifiersClassNames:Dt(Dt({},a.modifiersClassNames),r.modifiersClassNames),onSelect:l,styles:Dt(Dt({},a.styles),r.styles),toDate:o});return s.jsx(C3.Provider,{value:c,children:e.children})}function Ur(){var e=b.useContext(C3);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function N3(e){var t=Ur(),r=t.locale,a=t.classNames,n=t.styles,i=t.formatters.formatCaption;return s.jsx("div",{className:a.caption_label,style:n.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:i(e.displayMonth,{locale:r})})}function k$(e){return s.jsx("svg",Dt({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:s.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function _3(e){var t,r,a=e.onChange,n=e.value,i=e.children,o=e.caption,A=e.className,l=e.style,c=Ur(),d=(r=(t=c.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&r!==void 0?r:k$;return s.jsxs("div",{className:A,style:l,children:[s.jsx("span",{className:c.classNames.vhidden,children:e["aria-label"]}),s.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:c.classNames.dropdown,style:c.styles.dropdown,value:n,onChange:a,children:i}),s.jsxs("div",{className:c.classNames.caption_label,style:c.styles.caption_label,"aria-hidden":"true",children:[o,s.jsx(d,{className:c.classNames.dropdown_icon,style:c.styles.dropdown_icon})]})]})}function L$(e){var t,r=Ur(),a=r.fromDate,n=r.toDate,i=r.styles,o=r.locale,A=r.formatters.formatMonthCaption,l=r.classNames,c=r.components,d=r.labels.labelMonthDropdown;if(!a)return s.jsx(s.Fragment,{});if(!n)return s.jsx(s.Fragment,{});var h=[];if(cE(a,n))for(var m=Za(a),u=a.getMonth();u<=n.getMonth();u++)h.push(kg(m,u));else for(var m=Za(new Date),u=0;u<=11;u++)h.push(kg(m,u));var p=function(y){var x=Number(y.target.value),B=kg(Za(e.displayMonth),x);e.onChange(B)},g=(t=c==null?void 0:c.Dropdown)!==null&&t!==void 0?t:_3;return s.jsx(g,{name:"months","aria-label":d(),className:l.dropdown_month,style:i.dropdown_month,onChange:p,value:e.displayMonth.getMonth(),caption:A(e.displayMonth,{locale:o}),children:h.map(function(y){return s.jsx("option",{value:y.getMonth(),children:A(y,{locale:o})},y.getMonth())})})}function D$(e){var t,r=e.displayMonth,a=Ur(),n=a.fromDate,i=a.toDate,o=a.locale,A=a.styles,l=a.classNames,c=a.components,d=a.formatters.formatYearCaption,h=a.labels.labelYearDropdown,m=[];if(!n)return s.jsx(s.Fragment,{});if(!i)return s.jsx(s.Fragment,{});for(var u=n.getFullYear(),p=i.getFullYear(),g=u;g<=p;g++)m.push(Xw(dE(new Date),g));var y=function(B){var j=Xw(Za(r),Number(B.target.value));e.onChange(j)},x=(t=c==null?void 0:c.Dropdown)!==null&&t!==void 0?t:_3;return s.jsx(x,{name:"years","aria-label":h(),className:l.dropdown_year,style:A.dropdown_year,onChange:y,value:r.getFullYear(),caption:d(r,{locale:o}),children:m.map(function(B){return s.jsx("option",{value:B.getFullYear(),children:d(B,{locale:o})},B.getFullYear())})})}function P$(e,t){var r=b.useState(e),a=r[0],n=r[1],i=t===void 0?a:t;return[i,n]}function M$(e){var t=e.month,r=e.defaultMonth,a=e.today,n=t||r||a||new Date,i=e.toDate,o=e.fromDate,A=e.numberOfMonths,l=A===void 0?1:A;if(i&&Au(i,n)<0){var c=-1*(l-1);n=fi(i,c)}return o&&Au(n,o)<0&&(n=o),Za(n)}function T$(){var e=Ur(),t=M$(e),r=P$(t,e.month),a=r[0],n=r[1],i=function(o){var A;if(!e.disableNavigation){var l=Za(o);n(l),(A=e.onMonthChange)===null||A===void 0||A.call(e,l)}};return[a,i]}function R$(e,t){for(var r=t.reverseMonths,a=t.numberOfMonths,n=Za(e),i=Za(fi(n,a)),o=Au(i,n),A=[],l=0;l<o;l++){var c=fi(n,l);A.push(c)}return r&&(A=A.reverse()),A}function O$(e,t){if(!t.disableNavigation){var r=t.toDate,a=t.pagedNavigation,n=t.numberOfMonths,i=n===void 0?1:n,o=a?i:1,A=Za(e);if(!r)return fi(A,o);var l=Au(r,e);if(!(l<i))return fi(A,o)}}function H$(e,t){if(!t.disableNavigation){var r=t.fromDate,a=t.pagedNavigation,n=t.numberOfMonths,i=n===void 0?1:n,o=a?i:1,A=Za(e);if(!r)return fi(A,-o);var l=Au(A,r);if(!(l<=0))return fi(A,-o)}}var S3=b.createContext(void 0);function K$(e){var t=Ur(),r=T$(),a=r[0],n=r[1],i=R$(a,t),o=O$(a,t),A=H$(a,t),l=function(h){return i.some(function(m){return Uv(h,m)})},c=function(h,m){l(h)||(m&&bB(h,m)?n(fi(h,1+t.numberOfMonths*-1)):n(h))},d={currentMonth:a,displayMonths:i,goToMonth:n,goToDate:c,previousMonth:A,nextMonth:o,isDateDisplayed:l};return s.jsx(S3.Provider,{value:d,children:e.children})}function ah(){var e=b.useContext(S3);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function U5(e){var t,r=Ur(),a=r.classNames,n=r.styles,i=r.components,o=ah().goToMonth,A=function(d){o(fi(d,e.displayIndex?-e.displayIndex:0))},l=(t=i==null?void 0:i.CaptionLabel)!==null&&t!==void 0?t:N3,c=s.jsx(l,{id:e.id,displayMonth:e.displayMonth});return s.jsxs("div",{className:a.caption_dropdowns,style:n.caption_dropdowns,children:[s.jsx("div",{className:a.vhidden,children:c}),s.jsx(L$,{onChange:A,displayMonth:e.displayMonth}),s.jsx(D$,{onChange:A,displayMonth:e.displayMonth})]})}function $$(e){return s.jsx("svg",Dt({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:s.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function V$(e){return s.jsx("svg",Dt({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:s.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var ep=b.forwardRef(function(e,t){var r=Ur(),a=r.classNames,n=r.styles,i=[a.button_reset,a.button];e.className&&i.push(e.className);var o=i.join(" "),A=Dt(Dt({},n.button_reset),n.button);return e.style&&Object.assign(A,e.style),s.jsx("button",Dt({},e,{ref:t,type:"button",className:o,style:A}))});function z$(e){var t,r,a=Ur(),n=a.dir,i=a.locale,o=a.classNames,A=a.styles,l=a.labels,c=l.labelPrevious,d=l.labelNext,h=a.components;if(!e.nextMonth&&!e.previousMonth)return s.jsx(s.Fragment,{});var m=c(e.previousMonth,{locale:i}),u=[o.nav_button,o.nav_button_previous].join(" "),p=d(e.nextMonth,{locale:i}),g=[o.nav_button,o.nav_button_next].join(" "),y=(t=h==null?void 0:h.IconRight)!==null&&t!==void 0?t:V$,x=(r=h==null?void 0:h.IconLeft)!==null&&r!==void 0?r:$$;return s.jsxs("div",{className:o.nav,style:A.nav,children:[!e.hidePrevious&&s.jsx(ep,{name:"previous-month","aria-label":m,className:u,style:A.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:n==="rtl"?s.jsx(y,{className:o.nav_icon,style:A.nav_icon}):s.jsx(x,{className:o.nav_icon,style:A.nav_icon})}),!e.hideNext&&s.jsx(ep,{name:"next-month","aria-label":p,className:g,style:A.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:n==="rtl"?s.jsx(x,{className:o.nav_icon,style:A.nav_icon}):s.jsx(y,{className:o.nav_icon,style:A.nav_icon})})]})}function I5(e){var t=Ur().numberOfMonths,r=ah(),a=r.previousMonth,n=r.nextMonth,i=r.goToMonth,o=r.displayMonths,A=o.findIndex(function(p){return Uv(e.displayMonth,p)}),l=A===0,c=A===o.length-1,d=t>1&&(l||!c),h=t>1&&(c||!l),m=function(){a&&i(a)},u=function(){n&&i(n)};return s.jsx(z$,{displayMonth:e.displayMonth,hideNext:d,hidePrevious:h,nextMonth:n,previousMonth:a,onPreviousClick:m,onNextClick:u})}function q$(e){var t,r=Ur(),a=r.classNames,n=r.disableNavigation,i=r.styles,o=r.captionLayout,A=r.components,l=(t=A==null?void 0:A.CaptionLabel)!==null&&t!==void 0?t:N3,c;return n?c=s.jsx(l,{id:e.id,displayMonth:e.displayMonth}):o==="dropdown"?c=s.jsx(U5,{displayMonth:e.displayMonth,id:e.id}):o==="dropdown-buttons"?c=s.jsxs(s.Fragment,{children:[s.jsx(U5,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),s.jsx(I5,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):c=s.jsxs(s.Fragment,{children:[s.jsx(l,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),s.jsx(I5,{displayMonth:e.displayMonth,id:e.id})]}),s.jsx("div",{className:a.caption,style:i.caption,children:c})}function G$(e){var t=Ur(),r=t.footer,a=t.styles,n=t.classNames.tfoot;return r?s.jsx("tfoot",{className:n,style:a.tfoot,children:s.jsx("tr",{children:s.jsx("td",{colSpan:8,children:r})})}):s.jsx(s.Fragment,{})}function W$(e,t,r){for(var a=r?Iv(new Date):Qv(new Date,{locale:e,weekStartsOn:t}),n=[],i=0;i<7;i++){var o=da(a,i);n.push(o)}return n}function J$(){var e=Ur(),t=e.classNames,r=e.styles,a=e.showWeekNumber,n=e.locale,i=e.weekStartsOn,o=e.ISOWeek,A=e.formatters.formatWeekdayName,l=e.labels.labelWeekday,c=W$(n,i,o);return s.jsxs("tr",{style:r.head_row,className:t.head_row,children:[a&&s.jsx("td",{style:r.head_cell,className:t.head_cell}),c.map(function(d,h){return s.jsx("th",{scope:"col",className:t.head_cell,style:r.head_cell,"aria-label":l(d,{locale:n}),children:A(d,{locale:n})},h)})]})}function X$(){var e,t=Ur(),r=t.classNames,a=t.styles,n=t.components,i=(e=n==null?void 0:n.HeadRow)!==null&&e!==void 0?e:J$;return s.jsx("thead",{style:a.head,className:r.head,children:s.jsx(i,{})})}function Y$(e){var t=Ur(),r=t.locale,a=t.formatters.formatDay;return s.jsx(s.Fragment,{children:a(e.date,{locale:r})})}var J1=b.createContext(void 0);function Z$(e){if(!rh(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return s.jsx(J1.Provider,{value:t,children:e.children})}return s.jsx(eV,{initialProps:e.initialProps,children:e.children})}function eV(e){var t=e.initialProps,r=e.children,a=t.selected,n=t.min,i=t.max,o=function(c,d,h){var m,u;(m=t.onDayClick)===null||m===void 0||m.call(t,c,d,h);var p=!!(d.selected&&n&&(a==null?void 0:a.length)===n);if(!p){var g=!!(!d.selected&&i&&(a==null?void 0:a.length)===i);if(!g){var y=a?j3([],a):[];if(d.selected){var x=y.findIndex(function(B){return Qa(c,B)});y.splice(x,1)}else y.push(c);(u=t.onSelect)===null||u===void 0||u.call(t,y,c,d,h)}}},A={disabled:[]};a&&A.disabled.push(function(c){var d=i&&a.length>i-1,h=a.some(function(m){return Qa(m,c)});return!!(d&&!h)});var l={selected:a,onDayClick:o,modifiers:A};return s.jsx(J1.Provider,{value:l,children:r})}function X1(){var e=b.useContext(J1);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function tV(e,t){var r=t||{},a=r.from,n=r.to;return a&&n?Qa(n,e)&&Qa(a,e)?void 0:Qa(n,e)?{from:n,to:void 0}:Qa(a,e)?void 0:tx(a,e)?{from:e,to:n}:{from:a,to:e}:n?tx(e,n)?{from:n,to:e}:{from:e,to:n}:a?bB(e,a)?{from:e,to:a}:{from:a,to:e}:{from:e,to:void 0}}var Y1=b.createContext(void 0);function rV(e){if(!sh(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return s.jsx(Y1.Provider,{value:t,children:e.children})}return s.jsx(sV,{initialProps:e.initialProps,children:e.children})}function sV(e){var t=e.initialProps,r=e.children,a=t.selected,n=a||{},i=n.from,o=n.to,A=t.min,l=t.max,c=function(u,p,g){var y,x;(y=t.onDayClick)===null||y===void 0||y.call(t,u,p,g);var B=tV(u,a);(x=t.onSelect)===null||x===void 0||x.call(t,B,u,p,g)},d={range_start:[],range_end:[],range_middle:[],disabled:[]};if(i?(d.range_start=[i],o?(d.range_end=[o],Qa(i,o)||(d.range_middle=[{after:i,before:o}])):d.range_end=[i]):o&&(d.range_start=[o],d.range_end=[o]),A&&(i&&!o&&d.disabled.push({after:Qg(i,A-1),before:da(i,A-1)}),i&&o&&d.disabled.push({after:i,before:da(i,A-1)}),!i&&o&&d.disabled.push({after:Qg(o,A-1),before:da(o,A-1)})),l){if(i&&!o&&(d.disabled.push({before:da(i,-l+1)}),d.disabled.push({after:da(i,l-1)})),i&&o){var h=Vi(o,i)+1,m=l-h;d.disabled.push({before:Qg(i,m)}),d.disabled.push({after:da(o,m)})}!i&&o&&(d.disabled.push({before:da(o,-l+1)}),d.disabled.push({after:da(o,l-1)}))}return s.jsx(Y1.Provider,{value:{selected:a,onDayClick:c,modifiers:d},children:r})}function Z1(){var e=b.useContext(Y1);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function um(e){return Array.isArray(e)?j3([],e):e!==void 0?[e]:[]}function aV(e){var t={};return Object.entries(e).forEach(function(r){var a=r[0],n=r[1];t[a]=um(n)}),t}var Kn;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(Kn||(Kn={}));var nV=Kn.Selected,Ti=Kn.Disabled,iV=Kn.Hidden,oV=Kn.Today,W0=Kn.RangeEnd,J0=Kn.RangeMiddle,X0=Kn.RangeStart,AV=Kn.Outside;function lV(e,t,r){var a,n=(a={},a[nV]=um(e.selected),a[Ti]=um(e.disabled),a[iV]=um(e.hidden),a[oV]=[e.today],a[W0]=[],a[J0]=[],a[X0]=[],a[AV]=[],a);return e.fromDate&&n[Ti].push({before:e.fromDate}),e.toDate&&n[Ti].push({after:e.toDate}),rh(e)?n[Ti]=n[Ti].concat(t.modifiers[Ti]):sh(e)&&(n[Ti]=n[Ti].concat(r.modifiers[Ti]),n[X0]=r.modifiers[X0],n[J0]=r.modifiers[J0],n[W0]=r.modifiers[W0]),n}var F3=b.createContext(void 0);function cV(e){var t=Ur(),r=X1(),a=Z1(),n=lV(t,r,a),i=aV(t.modifiers),o=Dt(Dt({},n),i);return s.jsx(F3.Provider,{value:o,children:e.children})}function E3(){var e=b.useContext(F3);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function dV(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function uV(e){return!!(e&&typeof e=="object"&&"from"in e)}function hV(e){return!!(e&&typeof e=="object"&&"after"in e)}function fV(e){return!!(e&&typeof e=="object"&&"before"in e)}function mV(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function pV(e,t){var r,a=t.from,n=t.to;if(a&&n){var i=Vi(n,a)<0;i&&(r=[n,a],a=r[0],n=r[1]);var o=Vi(e,a)>=0&&Vi(n,e)>=0;return o}return n?Qa(n,e):a?Qa(a,e):!1}function gV(e){return jB(e)}function xV(e){return Array.isArray(e)&&e.every(jB)}function vV(e,t){return t.some(function(r){if(typeof r=="boolean")return r;if(gV(r))return Qa(e,r);if(xV(r))return r.includes(e);if(uV(r))return pV(e,r);if(mV(r))return r.dayOfWeek.includes(e.getDay());if(dV(r)){var a=Vi(r.before,e),n=Vi(r.after,e),i=a>0,o=n<0,A=tx(r.before,r.after);return A?o&&i:i||o}return hV(r)?Vi(e,r.after)>0:fV(r)?Vi(r.before,e)>0:typeof r=="function"?r(e):!1})}function ew(e,t,r){var a=Object.keys(t).reduce(function(i,o){var A=t[o];return vV(e,A)&&i.push(o),i},[]),n={};return a.forEach(function(i){return n[i]=!0}),r&&!Uv(e,r)&&(n.outside=!0),n}function wV(e,t){for(var r=Za(e[0]),a=Ev(e[e.length-1]),n,i,o=r;o<=a;){var A=ew(o,t),l=!A.disabled&&!A.hidden;if(!l){o=da(o,1);continue}if(A.selected)return o;A.today&&!i&&(i=o),n||(n=o),o=da(o,1)}return i||n}var bV=365;function U3(e,t){var r=t.moveBy,a=t.direction,n=t.context,i=t.modifiers,o=t.retry,A=o===void 0?{count:0,lastFocused:e}:o,l=n.weekStartsOn,c=n.fromDate,d=n.toDate,h=n.locale,m={day:da,week:rx,month:fi,year:pE,startOfWeek:function(y){return n.ISOWeek?Iv(y):Qv(y,{locale:h,weekStartsOn:l})},endOfWeek:function(y){return n.ISOWeek?yB(y):BB(y,{locale:h,weekStartsOn:l})}},u=m[r](e,a==="after"?1:-1);a==="before"&&c?u=uE([c,u]):a==="after"&&d&&(u=hE([d,u]));var p=!0;if(i){var g=ew(u,i);p=!g.disabled&&!g.hidden}return p?u:A.count>bV?A.lastFocused:U3(u,{moveBy:r,direction:a,context:n,modifiers:i,retry:Dt(Dt({},A),{count:A.count+1})})}var I3=b.createContext(void 0);function yV(e){var t=ah(),r=E3(),a=b.useState(),n=a[0],i=a[1],o=b.useState(),A=o[0],l=o[1],c=wV(t.displayMonths,r),d=(n!=null?n:A&&t.isDateDisplayed(A))?A:c,h=function(){l(n),i(void 0)},m=function(y){i(y)},u=Ur(),p=function(y,x){if(n){var B=U3(n,{moveBy:y,direction:x,context:u,modifiers:r});Qa(n,B)||(t.goToDate(B,n),m(B))}},g={focusedDay:n,focusTarget:d,blur:h,focus:m,focusDayAfter:function(){return p("day","after")},focusDayBefore:function(){return p("day","before")},focusWeekAfter:function(){return p("week","after")},focusWeekBefore:function(){return p("week","before")},focusMonthBefore:function(){return p("month","before")},focusMonthAfter:function(){return p("month","after")},focusYearBefore:function(){return p("year","before")},focusYearAfter:function(){return p("year","after")},focusStartOfWeek:function(){return p("startOfWeek","before")},focusEndOfWeek:function(){return p("endOfWeek","after")}};return s.jsx(I3.Provider,{value:g,children:e.children})}function tw(){var e=b.useContext(I3);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function BV(e,t){var r=E3(),a=ew(e,r,t);return a}var rw=b.createContext(void 0);function jV(e){if(!Wp(e.initialProps)){var t={selected:void 0};return s.jsx(rw.Provider,{value:t,children:e.children})}return s.jsx(CV,{initialProps:e.initialProps,children:e.children})}function CV(e){var t=e.initialProps,r=e.children,a=function(i,o,A){var l,c,d;if((l=t.onDayClick)===null||l===void 0||l.call(t,i,o,A),o.selected&&!t.required){(c=t.onSelect)===null||c===void 0||c.call(t,void 0,i,o,A);return}(d=t.onSelect)===null||d===void 0||d.call(t,i,i,o,A)},n={selected:t.selected,onDayClick:a};return s.jsx(rw.Provider,{value:n,children:r})}function Q3(){var e=b.useContext(rw);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function NV(e,t){var r=Ur(),a=Q3(),n=X1(),i=Z1(),o=tw(),A=o.focusDayAfter,l=o.focusDayBefore,c=o.focusWeekAfter,d=o.focusWeekBefore,h=o.blur,m=o.focus,u=o.focusMonthBefore,p=o.focusMonthAfter,g=o.focusYearBefore,y=o.focusYearAfter,x=o.focusStartOfWeek,B=o.focusEndOfWeek,j=function(q){var K,Z,fe,we;Wp(r)?(K=a.onDayClick)===null||K===void 0||K.call(a,e,t,q):rh(r)?(Z=n.onDayClick)===null||Z===void 0||Z.call(n,e,t,q):sh(r)?(fe=i.onDayClick)===null||fe===void 0||fe.call(i,e,t,q):(we=r.onDayClick)===null||we===void 0||we.call(r,e,t,q)},w=function(q){var K;m(e),(K=r.onDayFocus)===null||K===void 0||K.call(r,e,t,q)},N=function(q){var K;h(),(K=r.onDayBlur)===null||K===void 0||K.call(r,e,t,q)},I=function(q){var K;(K=r.onDayMouseEnter)===null||K===void 0||K.call(r,e,t,q)},U=function(q){var K;(K=r.onDayMouseLeave)===null||K===void 0||K.call(r,e,t,q)},D=function(q){var K;(K=r.onDayPointerEnter)===null||K===void 0||K.call(r,e,t,q)},L=function(q){var K;(K=r.onDayPointerLeave)===null||K===void 0||K.call(r,e,t,q)},P=function(q){var K;(K=r.onDayTouchCancel)===null||K===void 0||K.call(r,e,t,q)},S=function(q){var K;(K=r.onDayTouchEnd)===null||K===void 0||K.call(r,e,t,q)},E=function(q){var K;(K=r.onDayTouchMove)===null||K===void 0||K.call(r,e,t,q)},Q=function(q){var K;(K=r.onDayTouchStart)===null||K===void 0||K.call(r,e,t,q)},V=function(q){var K;(K=r.onDayKeyUp)===null||K===void 0||K.call(r,e,t,q)},ae=function(q){var K;switch(q.key){case"ArrowLeft":q.preventDefault(),q.stopPropagation(),r.dir==="rtl"?A():l();break;case"ArrowRight":q.preventDefault(),q.stopPropagation(),r.dir==="rtl"?l():A();break;case"ArrowDown":q.preventDefault(),q.stopPropagation(),c();break;case"ArrowUp":q.preventDefault(),q.stopPropagation(),d();break;case"PageUp":q.preventDefault(),q.stopPropagation(),q.shiftKey?g():u();break;case"PageDown":q.preventDefault(),q.stopPropagation(),q.shiftKey?y():p();break;case"Home":q.preventDefault(),q.stopPropagation(),x();break;case"End":q.preventDefault(),q.stopPropagation(),B();break}(K=r.onDayKeyDown)===null||K===void 0||K.call(r,e,t,q)},Y={onClick:j,onFocus:w,onBlur:N,onKeyDown:ae,onKeyUp:V,onMouseEnter:I,onMouseLeave:U,onPointerEnter:D,onPointerLeave:L,onTouchCancel:P,onTouchEnd:S,onTouchMove:E,onTouchStart:Q};return Y}function _V(){var e=Ur(),t=Q3(),r=X1(),a=Z1(),n=Wp(e)?t.selected:rh(e)?r.selected:sh(e)?a.selected:void 0;return n}function SV(e){return Object.values(Kn).includes(e)}function FV(e,t){var r=[e.classNames.day];return Object.keys(t).forEach(function(a){var n=e.modifiersClassNames[a];if(n)r.push(n);else if(SV(a)){var i=e.classNames["day_".concat(a)];i&&r.push(i)}}),r}function EV(e,t){var r=Dt({},e.styles.day);return Object.keys(t).forEach(function(a){var n;r=Dt(Dt({},r),(n=e.modifiersStyles)===null||n===void 0?void 0:n[a])}),r}function UV(e,t,r){var a,n,i,o=Ur(),A=tw(),l=BV(e,t),c=NV(e,l),d=_V(),h=!!(o.onDayClick||o.mode!=="default");b.useEffect(function(){var I;l.outside||A.focusedDay&&h&&Qa(A.focusedDay,e)&&((I=r.current)===null||I===void 0||I.focus())},[A.focusedDay,e,r,h,l.outside]);var m=FV(o,l).join(" "),u=EV(o,l),p=!!(l.outside&&!o.showOutsideDays||l.hidden),g=(i=(n=o.components)===null||n===void 0?void 0:n.DayContent)!==null&&i!==void 0?i:Y$,y=s.jsx(g,{date:e,displayMonth:t,activeModifiers:l}),x={style:u,className:m,children:y,role:"gridcell"},B=A.focusTarget&&Qa(A.focusTarget,e)&&!l.outside,j=A.focusedDay&&Qa(A.focusedDay,e),w=Dt(Dt(Dt({},x),(a={disabled:l.disabled,role:"gridcell"},a["aria-selected"]=l.selected,a.tabIndex=j||B?0:-1,a)),c),N={isButton:h,isHidden:p,activeModifiers:l,selectedDays:d,buttonProps:w,divProps:x};return N}function IV(e){var t=b.useRef(null),r=UV(e.date,e.displayMonth,t);return r.isHidden?s.jsx("div",{role:"gridcell"}):r.isButton?s.jsx(ep,Dt({name:"day",ref:t},r.buttonProps)):s.jsx("div",Dt({},r.divProps))}function QV(e){var t=e.number,r=e.dates,a=Ur(),n=a.onWeekNumberClick,i=a.styles,o=a.classNames,A=a.locale,l=a.labels.labelWeekNumber,c=a.formatters.formatWeekNumber,d=c(Number(t),{locale:A});if(!n)return s.jsx("span",{className:o.weeknumber,style:i.weeknumber,children:d});var h=l(Number(t),{locale:A}),m=function(u){n(t,r,u)};return s.jsx(ep,{name:"week-number","aria-label":h,className:o.weeknumber,style:i.weeknumber,onClick:m,children:d})}function kV(e){var t,r,a=Ur(),n=a.styles,i=a.classNames,o=a.showWeekNumber,A=a.components,l=(t=A==null?void 0:A.Day)!==null&&t!==void 0?t:IV,c=(r=A==null?void 0:A.WeekNumber)!==null&&r!==void 0?r:QV,d;return o&&(d=s.jsx("td",{className:i.cell,style:n.cell,children:s.jsx(c,{number:e.weekNumber,dates:e.dates})})),s.jsxs("tr",{className:i.row,style:n.row,children:[d,e.dates.map(function(h){return s.jsx("td",{className:i.cell,style:n.cell,role:"presentation",children:s.jsx(l,{displayMonth:e.displayMonth,date:h})},oE(h))})]})}function Q5(e,t,r){for(var a=r!=null&&r.ISOWeek?yB(t):BB(t,r),n=r!=null&&r.ISOWeek?Iv(e):Qv(e,r),i=Vi(a,n),o=[],A=0;A<=i;A++)o.push(da(n,A));var l=o.reduce(function(c,d){var h=r!=null&&r.ISOWeek?fE(d):mE(d,r),m=c.find(function(u){return u.weekNumber===h});return m?(m.dates.push(d),c):(c.push({weekNumber:h,dates:[d]}),c)},[]);return l}function LV(e,t){var r=Q5(Za(e),Ev(e),t);if(t!=null&&t.useFixedWeeks){var a=AE(e,t);if(a<6){var n=r[r.length-1],i=n.dates[n.dates.length-1],o=rx(i,6-a),A=Q5(rx(i,1),o,t);r.push.apply(r,A)}}return r}function DV(e){var t,r,a,n=Ur(),i=n.locale,o=n.classNames,A=n.styles,l=n.hideHead,c=n.fixedWeeks,d=n.components,h=n.weekStartsOn,m=n.firstWeekContainsDate,u=n.ISOWeek,p=LV(e.displayMonth,{useFixedWeeks:!!c,ISOWeek:u,locale:i,weekStartsOn:h,firstWeekContainsDate:m}),g=(t=d==null?void 0:d.Head)!==null&&t!==void 0?t:X$,y=(r=d==null?void 0:d.Row)!==null&&r!==void 0?r:kV,x=(a=d==null?void 0:d.Footer)!==null&&a!==void 0?a:G$;return s.jsxs("table",{id:e.id,className:o.table,style:A.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!l&&s.jsx(g,{}),s.jsx("tbody",{className:o.tbody,style:A.tbody,children:p.map(function(B){return s.jsx(y,{displayMonth:e.displayMonth,dates:B.dates,weekNumber:B.weekNumber},B.weekNumber)})}),s.jsx(x,{displayMonth:e.displayMonth})]})}function PV(){return!!(typeof window!="undefined"&&window.document&&window.document.createElement)}var MV=PV()?b.useLayoutEffect:b.useEffect,Y0=!1,TV=0;function k5(){return"react-day-picker-".concat(++TV)}function RV(e){var t,r=e!=null?e:Y0?k5():null,a=b.useState(r),n=a[0],i=a[1];return MV(function(){n===null&&i(k5())},[]),b.useEffect(function(){Y0===!1&&(Y0=!0)},[]),(t=e!=null?e:n)!==null&&t!==void 0?t:void 0}function OV(e){var t,r,a=Ur(),n=a.dir,i=a.classNames,o=a.styles,A=a.components,l=ah().displayMonths,c=RV(a.id?"".concat(a.id,"-").concat(e.displayIndex):void 0),d=a.id?"".concat(a.id,"-grid-").concat(e.displayIndex):void 0,h=[i.month],m=o.month,u=e.displayIndex===0,p=e.displayIndex===l.length-1,g=!u&&!p;n==="rtl"&&(t=[u,p],p=t[0],u=t[1]),u&&(h.push(i.caption_start),m=Dt(Dt({},m),o.caption_start)),p&&(h.push(i.caption_end),m=Dt(Dt({},m),o.caption_end)),g&&(h.push(i.caption_between),m=Dt(Dt({},m),o.caption_between));var y=(r=A==null?void 0:A.Caption)!==null&&r!==void 0?r:q$;return s.jsxs("div",{className:h.join(" "),style:m,children:[s.jsx(y,{id:c,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),s.jsx(DV,{id:d,"aria-labelledby":c,displayMonth:e.displayMonth})]},e.displayIndex)}function HV(e){var t=Ur(),r=t.classNames,a=t.styles;return s.jsx("div",{className:r.months,style:a.months,children:e.children})}function KV(e){var t,r,a=e.initialProps,n=Ur(),i=tw(),o=ah(),A=b.useState(!1),l=A[0],c=A[1];b.useEffect(function(){n.initialFocus&&i.focusTarget&&(l||(i.focus(i.focusTarget),c(!0)))},[n.initialFocus,l,i.focus,i.focusTarget,i]);var d=[n.classNames.root,n.className];n.numberOfMonths>1&&d.push(n.classNames.multiple_months),n.showWeekNumber&&d.push(n.classNames.with_weeknumber);var h=Dt(Dt({},n.styles.root),n.style),m=Object.keys(a).filter(function(p){return p.startsWith("data-")}).reduce(function(p,g){var y;return Dt(Dt({},p),(y={},y[g]=a[g],y))},{}),u=(r=(t=a.components)===null||t===void 0?void 0:t.Months)!==null&&r!==void 0?r:HV;return s.jsx("div",Dt({className:d.join(" "),style:h,dir:n.dir,id:n.id,nonce:a.nonce,title:a.title,lang:a.lang},m,{children:s.jsx(u,{children:o.displayMonths.map(function(p,g){return s.jsx(OV,{displayIndex:g,displayMonth:p},g)})})}))}function $V(e){var t=e.children,r=f$(e,["children"]);return s.jsx(Q$,{initialProps:r,children:s.jsx(K$,{children:s.jsx(jV,{initialProps:r,children:s.jsx(Z$,{initialProps:r,children:s.jsx(rV,{initialProps:r,children:s.jsx(cV,{children:s.jsx(yV,{children:t})})})})})})})}function VV(e){return s.jsx($V,Dt({},e,{children:s.jsx(KV,{initialProps:e})}))}function Go(n){var i=n,{className:e,classNames:t,showOutsideDays:r=!0}=i,a=he(i,["className","classNames","showOutsideDays"]);return s.jsx(VV,_({showOutsideDays:r,className:ze("p-3",e),classNames:_({months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:ze(wx({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:ze(wx({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible"},t),components:{IconLeft:A=>{var o=he(A,[]);return s.jsx(IE,{className:"h-4 w-4"})},IconRight:A=>{var o=he(A,[]);return s.jsx(Tu,{className:"h-4 w-4"})}}},a))}Go.displayName="Calendar";var Jp="Popover",[k3,Fq]=mi(Jp,[Fc]),nh=Fc(),[zV,sA]=k3(Jp),L3=e=>{const{__scopePopover:t,children:r,open:a,defaultOpen:n,onOpenChange:i,modal:o=!1}=e,A=nh(t),l=b.useRef(null),[c,d]=b.useState(!1),[h,m]=Ec({prop:a,defaultProp:n!=null?n:!1,onChange:i,caller:Jp});return s.jsx(Fv,M(_({},A),{children:s.jsx(zV,{scope:t,contentId:pc(),triggerRef:l,open:h,onOpenChange:m,onOpenToggle:b.useCallback(()=>m(u=>!u),[m]),hasCustomAnchor:c,onCustomAnchorAdd:b.useCallback(()=>d(!0),[]),onCustomAnchorRemove:b.useCallback(()=>d(!1),[]),modal:o,children:r})}))};L3.displayName=Jp;var D3="PopoverAnchor",qV=b.forwardRef((e,t)=>{const l=e,{__scopePopover:r}=l,a=he(l,["__scopePopover"]),n=sA(D3,r),i=nh(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:A}=n;return b.useEffect(()=>(o(),()=>A()),[o,A]),s.jsx(rp,M(_(_({},i),a),{ref:t}))});qV.displayName=D3;var P3="PopoverTrigger",M3=b.forwardRef((e,t)=>{const l=e,{__scopePopover:r}=l,a=he(l,["__scopePopover"]),n=sA(P3,r),i=nh(r),o=Rs(t,n.triggerRef),A=s.jsx(vr.button,M(_({type:"button","aria-haspopup":"dialog","aria-expanded":n.open,"aria-controls":n.contentId,"data-state":K3(n.open)},a),{ref:o,onClick:Nt(e.onClick,n.onOpenToggle)}));return n.hasCustomAnchor?A:s.jsx(rp,M(_({asChild:!0},i),{children:A}))});M3.displayName=P3;var sw="PopoverPortal",[GV,WV]=k3(sw,{forceMount:void 0}),T3=e=>{const{__scopePopover:t,forceMount:r,children:a,container:n}=e,i=sA(sw,t);return s.jsx(GV,{scope:t,forceMount:r,children:s.jsx(rn,{present:r||i.open,children:s.jsx(AB,{asChild:!0,container:n,children:a})})})};T3.displayName=sw;var Nc="PopoverContent",R3=b.forwardRef((e,t)=>{const r=WV(Nc,e.__scopePopover),o=e,{forceMount:a=r.forceMount}=o,n=he(o,["forceMount"]),i=sA(Nc,e.__scopePopover);return s.jsx(rn,{present:a||i.open,children:i.modal?s.jsx(XV,M(_({},n),{ref:t})):s.jsx(YV,M(_({},n),{ref:t}))})});R3.displayName=Nc;var JV=lB("PopoverContent.RemoveScroll"),XV=b.forwardRef((e,t)=>{const r=sA(Nc,e.__scopePopover),a=b.useRef(null),n=Rs(t,a),i=b.useRef(!1);return b.useEffect(()=>{const o=a.current;if(o)return sB(o)},[]),s.jsx(oB,{as:JV,allowPinchZoom:!0,children:s.jsx(O3,M(_({},e),{ref:n,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Nt(e.onCloseAutoFocus,o=>{var A;o.preventDefault(),i.current||(A=r.triggerRef.current)==null||A.focus()}),onPointerDownOutside:Nt(e.onPointerDownOutside,o=>{const A=o.detail.originalEvent,l=A.button===0&&A.ctrlKey===!0,c=A.button===2||l;i.current=c},{checkForDefaultPrevented:!1}),onFocusOutside:Nt(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})}))})}),YV=b.forwardRef((e,t)=>{const r=sA(Nc,e.__scopePopover),a=b.useRef(!1),n=b.useRef(!1);return s.jsx(O3,M(_({},e),{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,A;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(a.current||(A=r.triggerRef.current)==null||A.focus(),i.preventDefault()),a.current=!1,n.current=!1},onInteractOutside:i=>{var l,c;(l=e.onInteractOutside)==null||l.call(e,i),i.defaultPrevented||(a.current=!0,i.detail.originalEvent.type==="pointerdown"&&(n.current=!0));const o=i.target;((c=r.triggerRef.current)==null?void 0:c.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&n.current&&i.preventDefault()}}))}),O3=b.forwardRef((e,t)=>{const p=e,{__scopePopover:r,trapFocus:a,onOpenAutoFocus:n,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:A,onPointerDownOutside:l,onFocusOutside:c,onInteractOutside:d}=p,h=he(p,["__scopePopover","trapFocus","onOpenAutoFocus","onCloseAutoFocus","disableOutsidePointerEvents","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside"]),m=sA(Nc,r),u=nh(r);return aB(),s.jsx(nB,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:n,onUnmountAutoFocus:i,children:s.jsx(Nv,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:d,onEscapeKeyDown:A,onPointerDownOutside:l,onFocusOutside:c,onDismiss:()=>m.onOpenChange(!1),children:s.jsx(_v,M(_(_({"data-state":K3(m.open),role:"dialog",id:m.contentId},u),h),{ref:t,style:M(_({},h.style),{"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"})}))})})}),H3="PopoverClose",ZV=b.forwardRef((e,t)=>{const i=e,{__scopePopover:r}=i,a=he(i,["__scopePopover"]),n=sA(H3,r);return s.jsx(vr.button,M(_({type:"button"},a),{ref:t,onClick:Nt(e.onClick,()=>n.onOpenChange(!1))}))});ZV.displayName=H3;var ez="PopoverArrow",tz=b.forwardRef((e,t)=>{const i=e,{__scopePopover:r}=i,a=he(i,["__scopePopover"]),n=nh(r);return s.jsx(Sv,M(_(_({},n),a),{ref:t}))});tz.displayName=ez;function K3(e){return e?"open":"closed"}var rz=L3,sz=M3,az=T3,$3=R3;const _c=rz,Sc=sz,Al=b.forwardRef((i,n)=>{var o=i,{className:e,align:t="center",sideOffset:r=4}=o,a=he(o,["className","align","sideOffset"]);return s.jsx(az,{children:s.jsx($3,_({ref:n,align:t,sideOffset:r,className:ze("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e)},a))})});Al.displayName=$3.displayName;function nz({patientId:e,patientName:t,doctorName:r,doctorCrm:a,doctorSpecialty:n,onClose:i}){const{toast:o}=ir(),[A,l]=b.useState(!1),[c,d]=b.useState({patientName:t,doctorName:r,doctorCrm:a,doctorSpecialty:n,prescriptionDate:new Date().toISOString().split("T")[0],issueCity:"",medications:[],observations:""}),h=()=>{const x={id:`med-${Date.now()}`,medicationName:"",dosage:"",form:"",frequency:"",duration:"",quantity:"",instructions:"",genericSubstitution:!0,urgent:!1};d(B=>M(_({},B),{medications:[...B.medications,x]}))},m=x=>{d(B=>M(_({},B),{medications:B.medications.filter(j=>j.id!==x)}))},u=(x,B)=>{d(j=>M(_({},j),{medications:j.medications.map(w=>w.id===x?_(_({},w),B):w)}))},p=()=>{if(!c.patientName.trim())return o({title:"Erro de Validao",description:"Nome do paciente  obrigatrio",variant:"destructive"}),!1;if(!c.doctorName.trim())return o({title:"Erro de Validao",description:"Nome do mdico  obrigatrio",variant:"destructive"}),!1;if(!c.doctorCrm.trim())return o({title:"Erro de Validao",description:"CRM do mdico  obrigatrio",variant:"destructive"}),!1;if(!c.issueCity.trim())return o({title:"Erro de Validao",description:"Cidade de emisso  obrigatria",variant:"destructive"}),!1;if(c.medications.length===0)return o({title:"Erro de Validao",description:"Pelo menos um medicamento deve ser prescrito",variant:"destructive"}),!1;for(const x of c.medications)if(!x.medicationName.trim()||!x.dosage.trim()||!x.frequency.trim())return o({title:"Erro de Validao",description:"Nome, dosagem e frequncia so obrigatrios para todos os medicamentos",variant:"destructive"}),!1;return!0},g=x=>Ae(this,null,function*(){try{return yield fm.toDataURL(x,{width:150,margin:2,color:{dark:"#000000",light:"#FFFFFF"}})}catch(B){return console.error("Erro ao gerar QR Code:",B),""}}),y=()=>Ae(this,null,function*(){if(p()){l(!0);try{const x=new wt,B=x.internal.pageSize.getWidth(),j=x.internal.pageSize.getHeight();x.setFont("helvetica"),x.setFontSize(18),x.setFont("helvetica","bold"),x.text("PRESCRIO MDICA",B/2,30,{align:"center"}),x.setLineWidth(.5),x.line(20,35,B-20,35);let w=50;if(x.setFontSize(12),x.setFont("helvetica","bold"),x.text("DADOS DO MDICO:",20,w),w+=8,x.setFont("helvetica","normal"),x.text(`Nome: ${c.doctorName}`,20,w),w+=6,x.text(`CRM: ${c.doctorCrm}`,20,w),w+=6,x.text(`Especialidade: ${c.doctorSpecialty}`,20,w),w+=15,x.setFont("helvetica","bold"),x.text("DADOS DO PACIENTE:",20,w),w+=8,x.setFont("helvetica","normal"),x.text(`Nome: ${c.patientName}`,20,w),w+=15,x.setFont("helvetica","bold"),x.text("MEDICAMENTOS PRESCRITOS:",20,w),w+=10,c.medications.forEach((U,D)=>{if(x.setFont("helvetica","bold"),x.text(`${D+1}. ${U.medicationName}`,25,w),w+=6,x.setFont("helvetica","normal"),x.text(`   Dosagem: ${U.dosage}`,25,w),w+=5,U.form&&(x.text(`   Forma: ${U.form}`,25,w),w+=5),x.text(`   Frequncia: ${U.frequency}`,25,w),w+=5,U.duration&&(x.text(`   Durao: ${U.duration}`,25,w),w+=5),U.quantity&&(x.text(`   Quantidade: ${U.quantity}`,25,w),w+=5),U.instructions){const L=x.splitTextToSize(`   Instrues: ${U.instructions}`,160);x.text(L,25,w),w+=L.length*5}U.genericSubstitution&&(x.setFont("helvetica","italic"),x.text("   (Aceita medicamento genrico)",25,w),w+=5),U.urgent&&(x.setFont("helvetica","bold"),x.text("   *** URGENTE ***",25,w),w+=5),w+=8,w>j-80&&(x.addPage(),w=30)}),c.observations){x.setFont("helvetica","bold"),x.text("OBSERVAES:",20,w),w+=8,x.setFont("helvetica","normal");const U=x.splitTextToSize(c.observations,170);x.text(U,20,w),w+=U.length*6+15}w+=10,x.text(`${c.issueCity}, ${c.prescriptionDate}`,20,w),w+=30,x.line(120,w,B-20,w),w+=7,x.text(`Dr(a). ${c.doctorName}`,120,w),w+=7,x.text(`CRM: ${c.doctorCrm}`,120,w),w+=25,x.setFontSize(10),x.setFont("helvetica","bold"),x.text("CERTIFICAO DIGITAL ICP-BRASIL",B/2,w,{align:"center"}),w+=5,x.setFont("helvetica","normal"),x.text("Este documento foi assinado digitalmente conforme MP 2.200-2/2001",B/2,w,{align:"center"}),w+=5;const N={type:"PRESCRICAO_MEDICA",patientName:c.patientName,doctorName:c.doctorName,doctorCrm:c.doctorCrm,date:c.prescriptionDate,hash:"SHA256:"+Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),timestamp:new Date().toISOString(),validator:"www.iti.gov.br/verificador"},I=yield g(JSON.stringify(N));I&&(x.addImage(I,"PNG",B/2-25,w+5,50,50),w+=60),x.setFontSize(8),x.text(`Hash: ${N.hash}`,B/2,w,{align:"center"}),w+=4,x.text(`Timestamp: ${N.timestamp}`,B/2,w,{align:"center"}),w+=4,x.setFont("helvetica","italic"),x.text("Para validar este documento, escaneie o QR Code ou acesse: www.iti.gov.br/verificador",B/2,w,{align:"center"}),w+=3,x.text("Documento com validade jurdica conforme Lei 14.063/2020",B/2,w,{align:"center"}),x.save(`prescricao-medica-${c.patientName.replace(/\s+/g,"-").toLowerCase()}.pdf`),o({title:"Sucesso",description:"Prescrio mdica gerada com sucesso!",variant:"default"}),i()}catch(x){console.error("Erro ao gerar PDF:",x),o({title:"Erro",description:"Erro ao gerar prescrio mdica",variant:"destructive"})}finally{l(!1)}}});return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsx("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Nova Prescrio Mdica"}),s.jsx(ne,{variant:"ghost",onClick:i,children:""})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(Ee,{children:[s.jsx(He,{children:s.jsx(Ke,{children:"Dados da Prescrio"})}),s.jsx(Ue,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"patientName",children:"Paciente"}),s.jsx(_e,{id:"patientName",value:c.patientName,disabled:!0,className:"bg-gray-50"})]}),s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"prescriptionDate",children:"Data da Prescrio"}),s.jsx(_e,{id:"prescriptionDate",type:"date",value:c.prescriptionDate,onChange:x=>d(B=>M(_({},B),{prescriptionDate:x.target.value}))})]}),s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"doctorName",children:"Mdico"}),s.jsx(_e,{id:"doctorName",value:c.doctorName,onChange:x=>d(B=>M(_({},B),{doctorName:x.target.value}))})]}),s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"doctorCrm",children:"CRM"}),s.jsx(_e,{id:"doctorCrm",value:c.doctorCrm,onChange:x=>d(B=>M(_({},B),{doctorCrm:x.target.value}))})]}),s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"doctorSpecialty",children:"Especialidade"}),s.jsx(_e,{id:"doctorSpecialty",value:c.doctorSpecialty,onChange:x=>d(B=>M(_({},B),{doctorSpecialty:x.target.value}))})]}),s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"issueCity",children:"Cidade de Emisso *"}),s.jsx(_e,{id:"issueCity",value:c.issueCity,onChange:x=>d(B=>M(_({},B),{issueCity:x.target.value})),placeholder:"Ex: So Paulo"})]})]})})]}),s.jsxs(Ee,{children:[s.jsx(He,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Ke,{children:"Medicamentos Prescritos"}),s.jsxs(ne,{variant:"outline",size:"sm",onClick:h,children:[s.jsx(Xr,{className:"h-4 w-4 mr-1"}),"Adicionar Medicamento"]})]})}),s.jsx(Ue,{children:s.jsxs("div",{className:"space-y-4",children:[c.medications.map((x,B)=>s.jsxs(Ee,{className:"border-l-4 border-l-blue-500",children:[s.jsx(He,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h4",{className:"font-medium",children:["Medicamento ",B+1]}),s.jsx(ne,{variant:"ghost",size:"sm",onClick:()=>m(x.id),children:s.jsx(ha,{className:"h-4 w-4"})})]})}),s.jsx(Ue,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"md:col-span-2 lg:col-span-1",children:[s.jsx(ie,{children:"Nome do Medicamento *"}),s.jsx(_e,{value:x.medicationName,onChange:j=>u(x.id,{medicationName:j.target.value}),placeholder:"Digite o nome do medicamento"})]}),s.jsxs("div",{children:[s.jsx(ie,{children:"Dosagem *"}),s.jsx(_e,{value:x.dosage,onChange:j=>u(x.id,{dosage:j.target.value}),placeholder:"Ex: 500mg"})]}),s.jsxs("div",{children:[s.jsx(ie,{children:"Forma Farmacutica"}),s.jsxs(kt,{value:x.form,onValueChange:j=>u(x.id,{form:j}),children:[s.jsx(Et,{children:s.jsx(Lt,{placeholder:"Selecione"})}),s.jsxs(Ut,{children:[s.jsx(Se,{value:"comprimido",children:"Comprimido"}),s.jsx(Se,{value:"capsula",children:"Cpsula"}),s.jsx(Se,{value:"xarope",children:"Xarope"}),s.jsx(Se,{value:"solucao",children:"Soluo"}),s.jsx(Se,{value:"pomada",children:"Pomada"}),s.jsx(Se,{value:"creme",children:"Creme"}),s.jsx(Se,{value:"gotas",children:"Gotas"}),s.jsx(Se,{value:"spray",children:"Spray"})]})]})]}),s.jsxs("div",{children:[s.jsx(ie,{children:"Frequncia *"}),s.jsx(_e,{value:x.frequency,onChange:j=>u(x.id,{frequency:j.target.value}),placeholder:"Ex: 8/8h, 2x ao dia"})]}),s.jsxs("div",{children:[s.jsx(ie,{children:"Durao"}),s.jsx(_e,{value:x.duration,onChange:j=>u(x.id,{duration:j.target.value}),placeholder:"Ex: 7 dias"})]}),s.jsxs("div",{children:[s.jsx(ie,{children:"Quantidade"}),s.jsx(_e,{value:x.quantity,onChange:j=>u(x.id,{quantity:j.target.value}),placeholder:"Ex: 1 caixa"})]}),s.jsxs("div",{className:"md:col-span-2 lg:col-span-3",children:[s.jsx(ie,{children:"Instrues de Uso"}),s.jsx(Ar,{value:x.instructions,onChange:j=>u(x.id,{instructions:j.target.value}),placeholder:"Instrues especficas para o paciente",rows:2})]}),s.jsxs("div",{className:"md:col-span-2 lg:col-span-3 flex gap-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ju,{id:`generic-${x.id}`,checked:x.genericSubstitution,onCheckedChange:j=>u(x.id,{genericSubstitution:j})}),s.jsx(ie,{htmlFor:`generic-${x.id}`,children:"Aceita medicamento genrico"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ju,{id:`urgent-${x.id}`,checked:x.urgent,onCheckedChange:j=>u(x.id,{urgent:j})}),s.jsx(ie,{htmlFor:`urgent-${x.id}`,children:"Urgente"})]})]})]})})]},x.id)),c.medications.length===0&&s.jsx("div",{className:"text-center py-8 text-gray-500",children:'Nenhum medicamento adicionado. Clique em "Adicionar Medicamento" para comear.'})]})})]}),s.jsxs(Ee,{children:[s.jsx(He,{children:s.jsx(Ke,{children:"Observaes"})}),s.jsx(Ue,{children:s.jsx(Ar,{value:c.observations,onChange:x=>d(B=>M(_({},B),{observations:x.target.value})),placeholder:"Observaes adicionais, orientaes especiais, etc.",rows:4})})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx(ne,{variant:"outline",onClick:i,disabled:A,children:"Cancelar"}),s.jsxs(ne,{onClick:y,disabled:A||c.medications.length===0,className:"bg-blue-600 hover:bg-blue-700",children:[s.jsx(Ba,{className:"h-4 w-4 mr-1"}),A?"Gerando...":"Gerar Prescrio PDF"]})]})]})]})})})}const iz=({initialValues:e,onSave:t,onCancel:r,patientId:a,readOnly:n=!1})=>{const[i,o]=b.useState(e||{recorded_at:new Date().toISOString()}),[A,l]=b.useState({});b.useEffect(()=>{if(i.height&&i.weight){const p=i.height/100,g=i.weight/(p*p);o(y=>M(_({},y),{bmi:Math.round(g*10)/10}))}},[i.height,i.weight]);const c=(p,g)=>{if(g==null)return null;switch(p){case"blood_pressure_systolic":if(g<60||g>250)return"PA sistlica deve estar entre 60-250 mmHg";break;case"blood_pressure_diastolic":if(g<30||g>150)return"PA diastlica deve estar entre 30-150 mmHg";break;case"heart_rate":if(g<30||g>220)return"FC deve estar entre 30-220 bpm";break;case"respiratory_rate":if(g<8||g>60)return"FR deve estar entre 8-60 rpm";break;case"temperature":if(g<32||g>45)return"Temperatura deve estar entre 32-45C";break;case"oxygen_saturation":if(g<70||g>100)return"SpO2 deve estar entre 70-100%";break;case"weight":if(g<.5||g>500)return"Peso deve estar entre 0.5-500 kg";break;case"height":if(g<30||g>250)return"Altura deve estar entre 30-250 cm";break;case"pain_scale":if(g<0||g>10)return"Escala de dor deve estar entre 0-10";break}return null},d=(p,g)=>{if(g==null)return null;let y="normal",x="Normal";switch(p){case"blood_pressure_systolic":g>=180?(y="critical",x="Hipertenso grave"):g>=140?(y="warning",x="Hipertenso"):g<90&&(y="warning",x="Hipotenso");break;case"blood_pressure_diastolic":g>=110?(y="critical",x="Hipertenso grave"):g>=90?(y="warning",x="Hipertenso"):g<60&&(y="warning",x="Hipotenso");break;case"heart_rate":g>100?(y="warning",x="Taquicardia"):g<60&&(y="warning",x="Bradicardia");break;case"temperature":g>=38.5?(y="warning",x="Febre alta"):g>=37.5?(y="warning",x="Febre"):g<36&&(y="warning",x="Hipotermia");break;case"oxygen_saturation":g<90?(y="critical",x="Hipoxemia grave"):g<95&&(y="warning",x="Hipoxemia");break;case"bmi":g>=40?(y="critical",x="Obesidade mrbida"):g>=30?(y="warning",x="Obesidade"):g>=25?(y="warning",x="Sobrepeso"):g<18.5&&(y="warning",x="Baixo peso");break}const B={normal:"bg-green-100 text-green-800",warning:"bg-yellow-100 text-yellow-800",critical:"bg-red-100 text-red-800"};return s.jsx(At,{className:`${B[y]} ml-2`,children:x})},h=(p,g)=>{const y=g===""?void 0:Number(g);o(B=>M(_({},B),{[p]:y}));const x=c(p,y);l(B=>M(_({},B),{[p]:x||""}))},m=()=>{Object.values(A).some(g=>g!=="")||t(M(_({},i),{recorded_at:new Date().toISOString()}))},u=({field:p,label:g,unit:y,placeholder:x,icon:B,step:j="1"})=>s.jsxs("div",{className:"space-y-2",children:[s.jsxs(ie,{className:"flex items-center gap-2",children:[s.jsx(B,{className:"h-4 w-4"}),g," (",y,")"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(_e,{type:"number",step:j,placeholder:x,value:i[p]||"",onChange:w=>h(p,w.target.value),disabled:n,className:A[p]?"border-red-500":""}),typeof i[p]=="number"&&d(p,i[p])]}),A[p]&&s.jsxs("p",{className:"text-sm text-red-600 flex items-center gap-1",children:[s.jsx(gc,{className:"h-3 w-3"}),A[p]]})]});return s.jsxs(Ee,{children:[s.jsx(He,{children:s.jsxs(Ke,{className:"flex items-center gap-2",children:[s.jsx(Tr,{className:"h-5 w-5"}),"Sinais Vitais",i.recorded_at&&s.jsx("span",{className:"text-sm font-normal text-gray-500 ml-auto",children:new Date(i.recorded_at).toLocaleString("pt-BR")})]})}),s.jsxs(Ue,{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(u,{field:"blood_pressure_systolic",label:"Presso Arterial Sistlica",unit:"mmHg",placeholder:"120",icon:Qr}),s.jsx(u,{field:"blood_pressure_diastolic",label:"Presso Arterial Diastlica",unit:"mmHg",placeholder:"80",icon:Qr})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(u,{field:"heart_rate",label:"Frequncia Cardaca",unit:"bpm",placeholder:"72",icon:Qr}),s.jsx(u,{field:"respiratory_rate",label:"Frequncia Respiratria",unit:"rpm",placeholder:"16",icon:Tr})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(u,{field:"temperature",label:"Temperatura",unit:"C",placeholder:"36.5",icon:PB,step:"0.1"}),s.jsx(u,{field:"oxygen_saturation",label:"Saturao de Oxignio",unit:"%",placeholder:"98",icon:Tr})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx(u,{field:"weight",label:"Peso",unit:"kg",placeholder:"70.0",icon:HE,step:"0.1"}),s.jsx(u,{field:"height",label:"Altura",unit:"cm",placeholder:"170",icon:di}),i.bmi&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs(ie,{className:"flex items-center gap-2",children:[s.jsx(di,{className:"h-4 w-4"}),"IMC (kg/m)"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(_e,{value:i.bmi,disabled:!0,className:"bg-gray-50"}),d("bmi",i.bmi)]})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:s.jsx(u,{field:"pain_scale",label:"Escala de Dor",unit:"0-10",placeholder:"0",icon:gc})}),Object.keys(i).some(p=>i[p]!==void 0&&p!=="recorded_at"&&p!=="recorded_by")&&s.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[s.jsxs("h4",{className:"font-medium text-blue-900 mb-2 flex items-center gap-2",children:[s.jsx(Rr,{className:"h-4 w-4"}),"Resumo dos Sinais Vitais"]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 text-sm",children:[i.blood_pressure_systolic&&i.blood_pressure_diastolic&&s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"PA:"})," ",i.blood_pressure_systolic,"/",i.blood_pressure_diastolic," mmHg"]}),i.heart_rate&&s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"FC:"})," ",i.heart_rate," bpm"]}),i.temperature&&s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"T:"})," ",i.temperature,"C"]}),i.oxygen_saturation&&s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"SpO2:"})," ",i.oxygen_saturation,"%"]})]})]}),!n&&s.jsxs("div",{className:"flex justify-end gap-4 pt-4 border-t",children:[r&&s.jsx(ne,{type:"button",variant:"outline",onClick:r,children:"Cancelar"}),s.jsxs(ne,{onClick:m,children:[s.jsx(hn,{className:"h-4 w-4 mr-2"}),"Salvar Sinais Vitais"]})]})]})]})},L5=[{code:"Z00.0",description:"Exame mdico geral",category:"Exames"},{code:"I10",description:"Hipertenso essencial",category:"Cardiovascular"},{code:"E11.9",description:"Diabetes mellitus tipo 2 sem complicaes",category:"Endcrino"},{code:"J06.9",description:"Infeco aguda das vias areas superiores",category:"Respiratrio"},{code:"M79.3",description:"Dor no especificada",category:"Musculoesqueltico"},{code:"K59.0",description:"Constipao",category:"Digestivo"},{code:"R50.9",description:"Febre no especificada",category:"Sintomas"},{code:"F32.9",description:"Episdio depressivo no especificado",category:"Mental"},{code:"N39.0",description:"Infeco do trato urinrio",category:"Genitourinrio"},{code:"L30.9",description:"Dermatite no especificada",category:"Pele"},{code:"H52.4",description:"Presbiopia",category:"Oftalmolgico"},{code:"G43.9",description:"Enxaqueca no especificada",category:"Neurolgico"},{code:"Z51.1",description:"Sesso de quimioterapia",category:"Tratamento"},{code:"Z12.1",description:"Exame especial de rastreamento de neoplasia",category:"Preveno"}],oz=({initialCodes:e=[],onCodesChange:t,readOnly:r=!1,maxCodes:a=10})=>{const[n,i]=b.useState(e),[o,A]=b.useState(""),[l,c]=b.useState("all"),[d,h]=b.useState(!1);b.useEffect(()=>{t(n)},[n,t]);const m=Array.from(new Set(L5.map(w=>w.category))),u=L5.filter(w=>{const N=o===""||w.code.toLowerCase().includes(o.toLowerCase())||w.description.toLowerCase().includes(o.toLowerCase()),I=l==="all"||w.category===l;return N&&I}),p=w=>{if(n.length>=a)return;const N={id:Date.now().toString(),code:(w==null?void 0:w.code)||"",description:(w==null?void 0:w.description)||"",type:(w==null?void 0:w.type)||"CID10",category:(w==null?void 0:w.category)||"",is_primary:n.length===0,notes:(w==null?void 0:w.notes)||""};i(I=>[...I,N])},g=(w,N,I)=>{i(U=>U.map((D,L)=>L===w?M(_({},D),{[N]:I}):D))},y=w=>{i(N=>{const I=N.filter((U,D)=>D!==w);return N[w].is_primary&&I.length>0&&(I[0].is_primary=!0),I})},x=w=>{i(N=>N.map((I,U)=>M(_({},I),{is_primary:U===w})))},B=w=>{n.some(I=>I.code===w.code)||(p({code:w.code,description:w.description,type:"CID10",category:w.category}),h(!1))},j=(w,N)=>{if(!w)return!1;switch(N){case"CID10":return/^[A-Z]\d{2}(\.\d{1,2})?$/.test(w);case"CID11":return/^[0-9A-Z]{2,10}$/.test(w);default:return w.length>0}};return s.jsxs(Ee,{children:[s.jsx(He,{children:s.jsxs(Ke,{className:"flex items-center gap-2",children:[s.jsx(dx,{className:"h-5 w-5"}),"Cdigos Diagnsticos (CID-10)",!r&&n.length<a&&s.jsxs("div",{className:"ml-auto flex gap-2",children:[s.jsxs(ne,{type:"button",variant:"outline",size:"sm",onClick:()=>h(!d),children:[s.jsx(EE,{className:"h-4 w-4 mr-1"}),"Cdigos Comuns"]}),s.jsxs(ne,{type:"button",variant:"outline",size:"sm",onClick:()=>p(),children:[s.jsx(Xr,{className:"h-4 w-4 mr-1"}),"Adicionar"]})]})]})}),s.jsxs(Ue,{className:"space-y-4",children:[d&&!r&&s.jsxs(Ee,{className:"bg-blue-50 border-blue-200",children:[s.jsx(He,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"flex-1",children:s.jsx(_e,{placeholder:"Buscar cdigo ou descrio...",value:o,onChange:w=>A(w.target.value),className:"bg-white"})}),s.jsxs(kt,{value:l,onValueChange:c,children:[s.jsx(Et,{className:"w-48 bg-white",children:s.jsx(Lt,{})}),s.jsxs(Ut,{children:[s.jsx(Se,{value:"all",children:"Todas as categorias"}),m.map(w=>s.jsx(Se,{value:w,children:w},w))]})]})]})}),s.jsx(Ue,{className:"max-h-64 overflow-y-auto",children:s.jsx("div",{className:"grid gap-2",children:u.map((w,N)=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-white rounded-lg border hover:bg-gray-50 cursor-pointer",onClick:()=>B(w),children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(At,{variant:"outline",className:"font-mono",children:w.code}),s.jsx(At,{variant:"secondary",className:"text-xs",children:w.category})]}),s.jsx("p",{className:"text-sm text-gray-700 mt-1",children:w.description})]}),s.jsx(ne,{size:"sm",variant:"ghost",children:s.jsx(Xr,{className:"h-4 w-4"})})]},N))})})]}),n.length===0?s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(dx,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"Nenhum cdigo diagnstico adicionado"}),!r&&s.jsx("p",{className:"text-sm mt-2",children:'Clique em "Adicionar" ou "Cdigos Comuns" para comear'})]}):s.jsx("div",{className:"space-y-4",children:n.map((w,N)=>s.jsx(Ee,{className:`${w.is_primary?"border-blue-500 bg-blue-50":""}`,children:s.jsx(Ue,{className:"p-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx(ie,{children:"Cdigo"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(_e,{placeholder:"Ex: I10",value:w.code,onChange:I=>g(N,"code",I.target.value),disabled:r,className:`font-mono ${!j(w.code,w.type)&&w.code?"border-red-500":""}`}),w.is_primary&&s.jsxs(At,{className:"bg-blue-600",children:[s.jsx(Of,{className:"h-3 w-3 mr-1"}),"Principal"]})]}),!j(w.code,w.type)&&w.code&&s.jsxs("p",{className:"text-xs text-red-600 mt-1 flex items-center gap-1",children:[s.jsx(Ts,{className:"h-3 w-3"}),"Formato invlido"]})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx(ie,{children:"Descrio"}),s.jsx(_e,{placeholder:"Descrio do diagnstico",value:w.description,onChange:I=>g(N,"description",I.target.value),disabled:r})]}),s.jsxs("div",{className:"flex items-end gap-2",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx(ie,{children:"Tipo"}),s.jsxs(kt,{value:w.type,onValueChange:I=>g(N,"type",I),disabled:r,children:[s.jsx(Et,{children:s.jsx(Lt,{})}),s.jsxs(Ut,{children:[s.jsx(Se,{value:"CID10",children:"CID-10"}),s.jsx(Se,{value:"CID11",children:"CID-11"}),s.jsx(Se,{value:"SNOMED",children:"SNOMED"}),s.jsx(Se,{value:"OTHER",children:"Outro"})]})]})]}),!r&&s.jsxs("div",{className:"flex gap-1",children:[!w.is_primary&&n.length>1&&s.jsx(ne,{type:"button",variant:"outline",size:"sm",onClick:()=>x(N),title:"Definir como diagnstico principal",children:s.jsx(Of,{className:"h-4 w-4"})}),s.jsx(ne,{type:"button",variant:"outline",size:"sm",onClick:()=>y(N),className:"text-red-600 hover:text-red-700",children:s.jsx(ha,{className:"h-4 w-4"})})]})]}),w.category&&s.jsxs("div",{className:"md:col-span-2",children:[s.jsx(ie,{children:"Categoria"}),s.jsx(_e,{value:w.category,onChange:I=>g(N,"category",I.target.value),disabled:r,placeholder:"Categoria do diagnstico"})]}),s.jsxs("div",{className:"md:col-span-4",children:[s.jsx(ie,{children:"Observaes"}),s.jsx(_e,{placeholder:"Observaes sobre o diagnstico",value:w.notes||"",onChange:I=>g(N,"notes",I.target.value),disabled:r})]})]})})},w.id||N))}),n.length>0&&s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsxs("h4",{className:"font-medium text-gray-900 mb-2 flex items-center gap-2",children:[s.jsx(Rr,{className:"h-4 w-4"}),"Resumo dos Diagnsticos"]}),s.jsx("div",{className:"space-y-1 text-sm",children:n.map((w,N)=>s.jsxs("div",{className:"flex items-center gap-2",children:[w.is_primary&&s.jsx(Of,{className:"h-3 w-3 text-blue-600"}),s.jsx("span",{className:"font-mono text-xs bg-white px-2 py-1 rounded",children:w.code}),s.jsx("span",{className:"text-gray-700",children:w.description}),w.is_primary&&s.jsx(At,{variant:"secondary",className:"text-xs",children:"Principal"})]},N))}),n.length<a&&!r&&s.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Voc pode adicionar at ",a-n.length," diagnsticos adicionais."]})]})]})]})},aw=({isOpen:e,onClose:t,onDataExtracted:r,patientId:a})=>{const n=b.useRef(null),i=b.useRef(null),[o,A]=b.useState(!1),[l,c]=b.useState(null),[d,h]=b.useState(!1),[m,u]=b.useState("environment"),[p,g]=b.useState(null),[y,x]=b.useState(!1),{toast:B}=ir();b.useEffect(()=>{x((()=>{const S=navigator.userAgent.toLowerCase();return["mobile","android","iphone","ipad","tablet"].some(Q=>S.includes(Q))||window.innerWidth<=768})())},[]);const j=b.useCallback(()=>Ae(void 0,null,function*(){try{A(!0);const P={video:{facingMode:m,width:{ideal:1920,max:1920},height:{ideal:1080,max:1080}},audio:!1},S=yield navigator.mediaDevices.getUserMedia(P);g(S),n.current&&(n.current.srcObject=S,n.current.play())}catch(P){console.error("Erro ao acessar cmera:",P),B({title:"Erro na cmera",description:"No foi possvel acessar a cmera. Verifique as permisses.",variant:"destructive"}),A(!1)}}),[m,B]),w=b.useCallback(()=>{p&&(p.getTracks().forEach(P=>P.stop()),g(null)),A(!1)},[p]),N=b.useCallback(()=>{w(),u(P=>P==="user"?"environment":"user")},[w]),I=b.useCallback(()=>{if(!n.current||!i.current)return;const P=n.current,S=i.current,E=S.getContext("2d");if(!E)return;S.width=P.videoWidth,S.height=P.videoHeight,E.drawImage(P,0,0,S.width,S.height);const Q=S.toDataURL("image/jpeg",.9);c(Q),w()},[w]),U=b.useCallback(()=>Ae(void 0,null,function*(){if(l){h(!0);try{const P=yield D(l);P.success&&P.data?(r(P.data),B({title:"Medicao reconhecida!",description:"Os dados foram extrados da imagem com sucesso."}),t()):B({title:"No foi possvel reconhecer",description:"No foi possvel extrair informaes de medicao da imagem. Tente novamente com uma imagem mais clara.",variant:"destructive"})}catch(P){console.error("Erro ao processar imagem:",P),B({title:"Erro no processamento",description:"Ocorreu um erro ao processar a imagem.",variant:"destructive"})}finally{h(!1)}}}),[l,r,B,t]),D=P=>Ae(void 0,null,function*(){const{processMedicationImage:S,getMockMedicationData:E}=yield zd(()=>Ae(void 0,null,function*(){const{processMedicationImage:Q,getMockMedicationData:V}=yield import("./medicationOCR-CpZM3y2G.js");return{processMedicationImage:Q,getMockMedicationData:V}}),__vite__mapDeps([8,0,1]));try{const Q=yield S(P);return Q.success&&Q.data?Q:(console.log("OCR falhou, usando dados simulados para demonstrao"),{success:!0,data:E()})}catch(Q){return console.error("Erro no processamento:",Q),{success:!0,data:E()}}}),L=b.useCallback(()=>{c(null),h(!1),j()},[j]);return b.useEffect(()=>(e&&!o&&!l&&j(),()=>{e||(w(),c(null),h(!1))}),[e,o,l,j,w]),b.useEffect(()=>()=>{w()},[w]),e?s.jsx("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-75 flex items-center justify-center p-4",children:s.jsxs(Ee,{className:"w-full max-w-2xl max-h-[90vh] overflow-hidden",children:[s.jsxs(He,{className:"pb-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(Ke,{className:"flex items-center gap-2",children:[s.jsx(mr,{className:"h-5 w-5 text-blue-600"}),l?d?"Processando medicao...":"Imagem capturada":"Capturar Receita/Bula"]}),s.jsx(ne,{variant:"ghost",size:"sm",onClick:t,className:"h-8 w-8 p-0",children:s.jsx(ja,{className:"h-4 w-4"})})]}),y&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-blue-600 bg-blue-50 p-2 rounded-lg",children:[s.jsx(LB,{className:"h-4 w-4"}),s.jsx("span",{children:"Posicione a receita ou bula de forma clara e bem iluminada"})]})]}),s.jsxs(Ue,{className:"p-0",children:[s.jsxs("div",{className:"relative bg-black aspect-video",children:[l?s.jsx("img",{src:l,alt:"Imagem capturada",className:"w-full h-full object-cover"}):s.jsxs(s.Fragment,{children:[s.jsx("video",{ref:n,className:"w-full h-full object-cover",playsInline:!0,muted:!0}),!o&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-900",children:s.jsxs("div",{className:"text-center text-white",children:[s.jsx(On,{className:"h-8 w-8 mx-auto mb-2"}),s.jsx("p",{children:"Iniciando cmera..."})]})}),s.jsx("div",{className:"absolute inset-4 border-2 border-white border-dashed rounded-lg flex items-center justify-center",children:s.jsxs("div",{className:"text-center text-white bg-black bg-opacity-50 p-4 rounded-lg",children:[s.jsx(mr,{className:"h-8 w-8 mx-auto mb-2"}),s.jsx("p",{className:"text-sm",children:"Posicione a receita ou bula dentro desta rea"})]})})]}),d&&s.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-75 flex items-center justify-center",children:s.jsxs("div",{className:"text-center text-white",children:[s.jsx(Ms,{className:"h-8 w-8 mx-auto mb-2 animate-spin"}),s.jsx("p",{children:"Extraindo informaes da medicao..."})]})})]}),s.jsx("canvas",{ref:i,className:"hidden"}),s.jsxs("div",{className:"p-4 bg-gray-50 border-t",children:[s.jsx("div",{className:"flex justify-center gap-4",children:l?s.jsxs(s.Fragment,{children:[s.jsxs(ne,{onClick:U,disabled:d,size:"lg",className:"bg-green-600 hover:bg-green-700",children:[d?s.jsx(Ms,{className:"h-4 w-4 mr-2 animate-spin"}):s.jsx(Wo,{className:"h-4 w-4 mr-2"}),d?"Processando...":"Extrair Dados"]}),s.jsxs(ne,{variant:"outline",onClick:L,disabled:d,size:"lg",children:[s.jsx(cu,{className:"h-4 w-4 mr-2"}),"Nova Foto"]})]}):s.jsxs(s.Fragment,{children:[s.jsxs(ne,{onClick:I,disabled:!o,size:"lg",className:"bg-blue-600 hover:bg-blue-700",children:[s.jsx(On,{className:"h-4 w-4 mr-2"}),"Capturar"]}),y&&s.jsx(ne,{variant:"outline",onClick:N,disabled:!o,size:"lg",children:s.jsx(DB,{className:"h-4 w-4"})})]})}),s.jsx("div",{className:"mt-4 text-center",children:s.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-gray-600",children:[s.jsx(Ts,{className:"h-4 w-4"}),s.jsx("span",{children:l?"Verifique se a imagem est clara antes de processar":"Certifique-se de que o texto esteja legvel e bem iluminado"})]})})]})]})]})}):null},Az=["mg","g","mcg","ml","L","UI","comprimido(s)","cpsula(s)","gota(s)","colher(es)","ampola(s)","frasco(s)","aplicao(es)"],D5=[{value:"1x/dia",label:"1x ao dia",times:["08:00"]},{value:"2x/dia",label:"2x ao dia (12/12h)",times:["08:00","20:00"]},{value:"3x/dia",label:"3x ao dia (8/8h)",times:["08:00","16:00","00:00"]},{value:"4x/dia",label:"4x ao dia (6/6h)",times:["06:00","12:00","18:00","00:00"]},{value:"6x/dia",label:"6x ao dia (4/4h)",times:["06:00","10:00","14:00","18:00","22:00","02:00"]},{value:"SOS",label:"Se necessrio (SOS)",times:[]},{value:"custom",label:"Personalizado",times:[]}],lz=["Oral","Sublingual","Intramuscular","Intravenosa","Subcutnea","Tpica","Oftlmica","Otolgica","Nasal","Retal","Vaginal","Inalatria"],cz=[{name:"Paracetamol",ingredient:"Paracetamol",defaultDose:"500",unit:"mg"},{name:"Ibuprofeno",ingredient:"Ibuprofeno",defaultDose:"400",unit:"mg"},{name:"Dipirona",ingredient:"Dipirona sdica",defaultDose:"500",unit:"mg"},{name:"Omeprazol",ingredient:"Omeprazol",defaultDose:"20",unit:"mg"},{name:"Losartana",ingredient:"Losartana potssica",defaultDose:"50",unit:"mg"},{name:"Metformina",ingredient:"Metformina",defaultDose:"850",unit:"mg"},{name:"Sinvastatina",ingredient:"Sinvastatina",defaultDose:"20",unit:"mg"},{name:"Captopril",ingredient:"Captopril",defaultDose:"25",unit:"mg"},{name:"Hidroclorotiazida",ingredient:"Hidroclorotiazida",defaultDose:"25",unit:"mg"},{name:"Atenolol",ingredient:"Atenolol",defaultDose:"50",unit:"mg"}],dz=({initialMedications:e=[],onMedicationsChange:t,readOnly:r=!1,showSchedule:a=!0})=>{const[n,i]=b.useState(e),[o,A]=b.useState(""),[l,c]=b.useState(!1),[d,h]=b.useState(null),[m,u]=b.useState(!1);b.useEffect(()=>{t(n)},[n,t]);const p=P=>{const S=_({id:Date.now().toString(),name:(P==null?void 0:P.name)||"",active_ingredient:(P==null?void 0:P.active_ingredient)||"",dosage:(P==null?void 0:P.dosage)||"",unit:(P==null?void 0:P.unit)||"mg",frequency:"1x/dia",route:"Oral",start_date:new Date().toISOString().split("T")[0],instructions:"",is_controlled:!1,is_continuous:!1,status:"active",schedule:[],interactions:[],side_effects:[]},P);i(E=>[...E,S]),h(S)},g=(P,S,E)=>{i(Q=>{const V=Q.map((ae,Y)=>{if(Y===P){const q=M(_({},ae),{[S]:E});if(S==="frequency"){const K=D5.find(Z=>Z.value===E);K&&K.times.length>0&&(q.schedule=K.times.map(Z=>({time:Z,dose:q.dosage,taken:!1})))}if(S==="duration_days"&&E&&q.start_date){const K=new Date(q.start_date),Z=new Date(K);Z.setDate(K.getDate()+parseInt(E)),q.end_date=Z.toISOString().split("T")[0]}return q}return ae});return d&&d.id===Q[P].id&&h(V[P]),V})},y=P=>{i(S=>S.filter((E,Q)=>Q!==P)),h(null)},x=P=>{p({name:P.name,active_ingredient:P.ingredient,dosage:P.defaultDose,unit:P.unit}),c(!1)},B=P=>{const S={name:P.name||"",active_ingredient:P.activeIngredient||P.name||"",dosage:P.dosage||"",unit:j(P.dosage)||"mg",frequency:w(P.frequency)||"1x/dia",route:P.route||"Oral",instructions:P.instructions||"",prescriber:P.prescriber||"",start_date:new Date().toISOString().split("T")[0]};p(S),u(!1)},j=P=>{if(!P)return"mg";const S=P.match(/(mg|g|mcg|ml|L|UI|comprimido|cpsula|gota|colher|ampola|frasco|aplicao)/i);if(S){const E=S[1].toLowerCase();return{mg:"mg",g:"g",mcg:"mcg",ml:"ml",l:"L",ui:"UI",comprimido:"comprimido(s)",cpsula:"cpsula(s)",gota:"gota(s)",colher:"colher(es)",ampola:"ampola(s)",frasco:"frasco(s)",aplicao:"aplicao(es)"}[E]||"mg"}return"mg"},w=P=>{if(!P)return"1x/dia";const S=P.toLowerCase();return S.includes("1")||S.includes("uma vez")||S.includes("1x")?"1x/dia":S.includes("2")||S.includes("duas vezes")||S.includes("2x")||S.includes("12/12")?"2x/dia":S.includes("3")||S.includes("trs vezes")||S.includes("3x")||S.includes("8/8")?"3x/dia":S.includes("4")||S.includes("quatro vezes")||S.includes("4x")||S.includes("6/6")?"4x/dia":S.includes("6")||S.includes("seis vezes")||S.includes("6x")||S.includes("4/4")?"6x/dia":S.includes("sos")||S.includes("necessrio")?"SOS":"1x/dia"},N=P=>{switch(P){case"active":return"bg-green-100 text-green-800";case"completed":return"bg-blue-100 text-blue-800";case"discontinued":return"bg-red-100 text-red-800";case"suspended":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},I=P=>{switch(P){case"active":return Rr;case"completed":return Rr;case"discontinued":return ax;case"suspended":return MB;default:return UB}},U=P=>{const S=[],E=P.filter(Q=>Q.status==="active").map(Q=>{var V;return(V=Q.active_ingredient)==null?void 0:V.toLowerCase()}).filter(Boolean);return E.includes("varfarina")&&E.includes("aspirina")&&S.push("Varfarina + Aspirina: Risco aumentado de sangramento"),E.includes("digoxina")&&E.includes("furosemida")&&S.push("Digoxina + Furosemida: Risco de toxicidade da digoxina"),S},D=cz.filter(P=>o===""||P.name.toLowerCase().includes(o.toLowerCase())||P.ingredient.toLowerCase().includes(o.toLowerCase())),L=U(n);return s.jsxs(Ee,{children:[s.jsx(He,{children:s.jsxs(Ke,{className:"flex items-center gap-2",children:[s.jsx(mr,{className:"h-5 w-5"}),"Medicamentos",!r&&s.jsxs("div",{className:"ml-auto flex gap-2",children:[s.jsxs(ne,{type:"button",variant:"outline",size:"sm",onClick:()=>u(!0),className:"bg-blue-50 hover:bg-blue-100 text-blue-700 border-blue-200",children:[s.jsx(On,{className:"h-4 w-4 mr-1"}),"Capturar Receita"]}),s.jsxs(ne,{type:"button",variant:"outline",size:"sm",onClick:()=>c(!l),children:[s.jsx(Xo,{className:"h-4 w-4 mr-1"}),"Medicamentos Comuns"]}),s.jsxs(ne,{type:"button",variant:"outline",size:"sm",onClick:()=>p(),children:[s.jsx(Xr,{className:"h-4 w-4 mr-1"}),"Adicionar"]})]})]})}),s.jsxs(Ue,{className:"space-y-4",children:[L.length>0&&s.jsx(Ee,{className:"border-orange-200 bg-orange-50",children:s.jsx(Ue,{className:"p-4",children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(gc,{className:"h-5 w-5 text-orange-600 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-orange-800 mb-2",children:"Possveis Interaes Medicamentosas"}),s.jsx("ul",{className:"space-y-1 text-sm text-orange-700",children:L.map((P,S)=>s.jsxs("li",{children:[" ",P]},S))})]})]})})}),l&&!r&&s.jsxs(Ee,{className:"bg-blue-50 border-blue-200",children:[s.jsx(He,{className:"pb-3",children:s.jsx("div",{className:"flex items-center gap-4",children:s.jsx(_e,{placeholder:"Buscar medicamento...",value:o,onChange:P=>A(P.target.value),className:"bg-white"})})}),s.jsx(Ue,{className:"max-h-64 overflow-y-auto",children:s.jsx("div",{className:"grid gap-2",children:D.map((P,S)=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-white rounded-lg border hover:bg-gray-50 cursor-pointer",onClick:()=>x(P),children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:P.name}),s.jsxs("div",{className:"text-sm text-gray-600",children:[P.ingredient," - ",P.defaultDose,P.unit]})]}),s.jsx(ne,{size:"sm",variant:"ghost",children:s.jsx(Xr,{className:"h-4 w-4"})})]},S))})})]}),n.length===0?s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(mr,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"Nenhum medicamento prescrito"})]}):s.jsx("div",{className:"space-y-4",children:n.map((P,S)=>{const E=I(P.status);return s.jsx(Ee,{className:"border-l-4 border-l-blue-500",children:s.jsxs(Ue,{className:"p-4",children:[s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ie,{children:"Nome do Medicamento"}),s.jsx(_e,{placeholder:"Ex: Paracetamol",value:P.name,onChange:Q=>g(S,"name",Q.target.value),disabled:r})]}),s.jsxs("div",{children:[s.jsx(ie,{children:"Princpio Ativo"}),s.jsx(_e,{placeholder:"Ex: Paracetamol",value:P.active_ingredient||"",onChange:Q=>g(S,"active_ingredient",Q.target.value),disabled:r})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx(ie,{children:"Dosagem"}),s.jsx(_e,{placeholder:"500",value:P.dosage,onChange:Q=>g(S,"dosage",Q.target.value),disabled:r})]}),s.jsxs("div",{children:[s.jsx(ie,{children:"Unidade"}),s.jsxs(kt,{value:P.unit,onValueChange:Q=>g(S,"unit",Q),disabled:r,children:[s.jsx(Et,{children:s.jsx(Lt,{})}),s.jsx(Ut,{children:Az.map(Q=>s.jsx(Se,{value:Q,children:Q},Q))})]})]}),s.jsxs("div",{children:[s.jsx(ie,{children:"Frequncia"}),s.jsxs(kt,{value:P.frequency,onValueChange:Q=>g(S,"frequency",Q),disabled:r,children:[s.jsx(Et,{children:s.jsx(Lt,{})}),s.jsx(Ut,{children:D5.map(Q=>s.jsx(Se,{value:Q.value,children:Q.label},Q.value))})]})]}),s.jsxs("div",{children:[s.jsx(ie,{children:"Via"}),s.jsxs(kt,{value:P.route,onValueChange:Q=>g(S,"route",Q),disabled:r,children:[s.jsx(Et,{children:s.jsx(Lt,{})}),s.jsx(Ut,{children:lz.map(Q=>s.jsx(Se,{value:Q,children:Q},Q))})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx(ie,{children:"Data de Incio"}),s.jsx(_e,{type:"date",value:P.start_date,onChange:Q=>g(S,"start_date",Q.target.value),disabled:r})]}),s.jsxs("div",{children:[s.jsx(ie,{children:"Durao (dias)"}),s.jsx(_e,{type:"number",placeholder:"7",value:P.duration_days||"",onChange:Q=>g(S,"duration_days",Q.target.value),disabled:r})]}),s.jsxs("div",{children:[s.jsx(ie,{children:"Data de Trmino"}),s.jsx(_e,{type:"date",value:P.end_date||"",onChange:Q=>g(S,"end_date",Q.target.value),disabled:r})]})]}),s.jsxs("div",{children:[s.jsx(ie,{children:"Instrues de Uso"}),s.jsx(Ar,{placeholder:"Tomar com gua, aps as refeies...",value:P.instructions,onChange:Q=>g(S,"instructions",Q.target.value),disabled:r,className:"min-h-[80px]"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ie,{children:"Indicao"}),s.jsx(_e,{placeholder:"Ex: Dor de cabea",value:P.indication||"",onChange:Q=>g(S,"indication",Q.target.value),disabled:r})]}),s.jsxs("div",{children:[s.jsx(ie,{children:"Prescritor"}),s.jsx(_e,{placeholder:"Dr. Joo Silva",value:P.prescriber||"",onChange:Q=>g(S,"prescriber",Q.target.value),disabled:r})]})]}),s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:P.is_controlled||!1,onChange:Q=>g(S,"is_controlled",Q.target.checked),disabled:r}),s.jsx("span",{className:"text-sm",children:"Medicamento Controlado"})]}),s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:P.is_continuous||!1,onChange:Q=>g(S,"is_continuous",Q.target.checked),disabled:r}),s.jsx("span",{className:"text-sm",children:"Uso Contnuo"})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(ie,{children:"Status"}),s.jsxs(kt,{value:P.status,onValueChange:Q=>g(S,"status",Q),disabled:r,children:[s.jsx(Et,{children:s.jsx(Lt,{})}),s.jsxs(Ut,{children:[s.jsx(Se,{value:"active",children:"Ativo"}),s.jsx(Se,{value:"completed",children:"Concludo"}),s.jsx(Se,{value:"discontinued",children:"Descontinuado"}),s.jsx(Se,{value:"suspended",children:"Suspenso"})]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(E,{className:"h-4 w-4"}),s.jsxs(At,{className:N(P.status),children:[P.status==="active"&&"Ativo",P.status==="completed"&&"Concludo",P.status==="discontinued"&&"Descontinuado",P.status==="suspended"&&"Suspenso"]})]}),P.is_controlled&&s.jsxs(At,{variant:"destructive",className:"w-fit",children:[s.jsx(YE,{className:"h-3 w-3 mr-1"}),"Controlado"]}),!r&&s.jsxs(ne,{type:"button",variant:"outline",size:"sm",onClick:()=>y(S),className:"w-full text-red-600 hover:text-red-700",children:[s.jsx(ha,{className:"h-4 w-4 mr-1"}),"Remover"]})]})]}),a&&P.schedule&&P.schedule.length>0&&s.jsxs("div",{className:"mt-4 pt-4 border-t",children:[s.jsxs("h4",{className:"font-medium mb-3 flex items-center gap-2",children:[s.jsx(Yr,{className:"h-4 w-4"}),"Horrios de Administrao"]}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:P.schedule.map((Q,V)=>s.jsxs("div",{className:`p-3 rounded-lg border text-center ${Q.taken?"bg-green-50 border-green-200":"bg-gray-50 border-gray-200"}`,children:[s.jsx("div",{className:"font-medium",children:Q.time}),s.jsxs("div",{className:"text-sm text-gray-600",children:[Q.dose," ",P.unit]}),Q.taken&&Q.taken_at&&s.jsxs("div",{className:"text-xs text-green-600 mt-1",children:[" ",new Date(Q.taken_at).toLocaleTimeString("pt-BR")]})]},V))})]})]})},P.id||S)})}),n.length>0&&s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsxs("h4",{className:"font-medium text-gray-900 mb-2 flex items-center gap-2",children:[s.jsx(Rr,{className:"h-4 w-4"}),"Resumo da Medicao"]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Total:"}),s.jsx("p",{className:"font-medium",children:n.length})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Ativos:"}),s.jsx("p",{className:"font-medium text-green-600",children:n.filter(P=>P.status==="active").length})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Controlados:"}),s.jsx("p",{className:"font-medium text-red-600",children:n.filter(P=>P.is_controlled).length})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Uso Contnuo:"}),s.jsx("p",{className:"font-medium text-blue-600",children:n.filter(P=>P.is_continuous).length})]})]})]})]}),s.jsx(aw,{isOpen:m,onClose:()=>u(!1),onDataExtracted:B})]})},uz=["image/jpeg","image/png","image/gif","application/pdf","text/plain","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],Z0=[{value:"lab_result",label:"Resultado de Exame",icon:Xt},{value:"imaging",label:"Imagem Mdica",icon:XA},{value:"prescription",label:"Receita Mdica",icon:Xt},{value:"report",label:"Relatrio Mdico",icon:EB},{value:"consent",label:"Termo de Consentimento",icon:Xt},{value:"other",label:"Outro",icon:lx}],hz=({initialAttachments:e=[],onAttachmentsChange:t,readOnly:r=!1,maxFiles:a=10,maxFileSize:n=10,allowedTypes:i=uz})=>{const[o,A]=b.useState(e),[l,c]=b.useState(!1),[d,h]=b.useState(!1),[m,u]=b.useState(null),p=b.useRef(null),g=b.useCallback(Q=>{A(Q),t(Q)},[t]),y=Q=>{if(Q===0)return"0 Bytes";const V=1024,ae=["Bytes","KB","MB","GB"],Y=Math.floor(Math.log(Q)/Math.log(V));return parseFloat((Q/Math.pow(V,Y)).toFixed(2))+" "+ae[Y]},x=(Q,V)=>{if(Q.startsWith("image/"))return kv;if(Q==="application/pdf")return Xt;const ae=Z0.find(Y=>Y.value===V);return(ae==null?void 0:ae.icon)||EB},B=Q=>i.includes(Q.type)?Q.size>n*1024*1024?`Arquivo muito grande. Mximo: ${n}MB`:o.length>=a?`Nmero mximo de arquivos atingido: ${a}`:null:`Tipo de arquivo no permitido: ${Q.type}`,j=(Q,V="other")=>Ae(void 0,null,function*(){return new Promise((ae,Y)=>{const q=new FileReader;q.onload=K=>{var fe;const Z={id:Date.now().toString(),file_name:Q.name,file_type:Q.type,file_size:Q.size,attachment_type:V,uploaded_date:new Date().toISOString(),uploaded_by:"Current User",file_data:(fe=K.target)==null?void 0:fe.result,is_confidential:!1,tags:[]};ae(Z)},q.onerror=()=>Y(new Error("Erro ao ler arquivo")),q.readAsDataURL(Q)})}),w=(Q,V="other")=>Ae(void 0,null,function*(){if(r)return;h(!0);const ae=[];for(let Y=0;Y<Q.length;Y++){const q=Q[Y],K=B(q);if(K){alert(K);continue}try{const Z=yield j(q,V);ae.push(Z)}catch(Z){console.error("Erro ao processar arquivo:",Z),alert(`Erro ao processar ${q.name}`)}}ae.length>0&&g([...o,...ae]),h(!1)}),N=Q=>{Q.preventDefault(),c(!1),Q.dataTransfer.files&&w(Q.dataTransfer.files)},I=Q=>{Q.preventDefault(),c(!0)},U=Q=>{Q.preventDefault(),c(!1)},D=Q=>{const V=o.filter((ae,Y)=>Y!==Q);g(V)},L=(Q,V,ae)=>{const Y=o.map((q,K)=>K===Q?M(_({},q),{[V]:ae}):q);g(Y)},P=Q=>{if(Q.file_data){const V=document.createElement("a");V.href=Q.file_data,V.download=Q.file_name,document.body.appendChild(V),V.click(),document.body.removeChild(V)}},S=Q=>{u(Q)},E=Q=>Q.startsWith("image/")||Q==="application/pdf"||Q.startsWith("text/");return s.jsxs(Ee,{children:[s.jsx(He,{children:s.jsxs(Ke,{className:"flex items-center gap-2",children:[s.jsx(lx,{className:"h-5 w-5"}),"Anexos Mdicos",!r&&s.jsx("div",{className:"ml-auto",children:s.jsxs(ne,{type:"button",variant:"outline",size:"sm",onClick:()=>{var Q;return(Q=p.current)==null?void 0:Q.click()},disabled:d||o.length>=a,children:[s.jsx(Ji,{className:"h-4 w-4 mr-1"}),d?"Enviando...":"Adicionar Arquivo"]})})]})}),s.jsxs(Ue,{className:"space-y-4",children:[s.jsx("input",{ref:p,type:"file",multiple:!0,accept:i.join(","),onChange:Q=>Q.target.files&&w(Q.target.files),className:"hidden"}),!r&&o.length<a&&s.jsxs("div",{className:`border-2 border-dashed rounded-lg p-8 text-center transition-colors ${l?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-gray-400"}`,onDrop:N,onDragOver:I,onDragLeave:U,children:[s.jsx(Ji,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),s.jsx("p",{className:"text-gray-600 mb-2",children:'Arraste arquivos aqui ou clique em "Adicionar Arquivo"'}),s.jsxs("p",{className:"text-sm text-gray-500",children:["Tipos permitidos: PDF, Imagens, Documentos (mx. ",n,"MB cada)"]})]}),o.length===0?s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(lx,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"Nenhum anexo adicionado"})]}):s.jsx("div",{className:"space-y-4",children:o.map((Q,V)=>{var Y;const ae=x(Q.file_type,Q.attachment_type);return s.jsx(Ee,{className:"border-l-4 border-l-blue-500",children:s.jsx(Ue,{className:"p-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(ae,{className:"h-8 w-8 text-blue-600 mt-1"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h4",{className:"font-medium text-gray-900 truncate",children:Q.file_name}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.jsx(At,{variant:"outline",className:"text-xs",children:(Y=Z0.find(q=>q.value===Q.attachment_type))==null?void 0:Y.label}),s.jsx("span",{className:"text-xs text-gray-500",children:y(Q.file_size)}),Q.is_confidential&&s.jsx(At,{variant:"destructive",className:"text-xs",children:"Confidencial"})]}),s.jsxs("div",{className:"flex items-center gap-4 mt-2 text-xs text-gray-500",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Us,{className:"h-3 w-3"}),new Date(Q.uploaded_date).toLocaleDateString("pt-BR")]}),Q.uploaded_by&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Or,{className:"h-3 w-3"}),Q.uploaded_by]})]})]})]}),s.jsxs("div",{className:"mt-3",children:[s.jsx(ie,{className:"text-xs",children:"Descrio"}),s.jsx(Ar,{placeholder:"Descrio do anexo...",value:Q.description||"",onChange:q=>L(V,"description",q.target.value),disabled:r,className:"mt-1 min-h-[60px]"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-3",children:[s.jsxs("div",{children:[s.jsx(ie,{className:"text-xs",children:"Tipo de Anexo"}),s.jsxs(kt,{value:Q.attachment_type,onValueChange:q=>L(V,"attachment_type",q),disabled:r,children:[s.jsx(Et,{className:"mt-1",children:s.jsx(Lt,{})}),s.jsx(Ut,{children:Z0.map(q=>s.jsx(Se,{value:q.value,children:q.label},q.value))})]})]}),s.jsx("div",{className:"flex items-end",children:s.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[s.jsx("input",{type:"checkbox",checked:Q.is_confidential||!1,onChange:q=>L(V,"is_confidential",q.target.checked),disabled:r,className:"rounded"}),"Confidencial"]})})]})]}),s.jsxs("div",{className:"flex flex-col gap-2",children:[E(Q.file_type)&&s.jsxs(ne,{type:"button",variant:"outline",size:"sm",onClick:()=>S(Q),className:"w-full",children:[s.jsx(Zs,{className:"h-4 w-4 mr-1"}),"Visualizar"]}),s.jsxs(ne,{type:"button",variant:"outline",size:"sm",onClick:()=>P(Q),className:"w-full",children:[s.jsx(Ba,{className:"h-4 w-4 mr-1"}),"Download"]}),!r&&s.jsxs(ne,{type:"button",variant:"outline",size:"sm",onClick:()=>D(V),className:"w-full text-red-600 hover:text-red-700",children:[s.jsx(ha,{className:"h-4 w-4 mr-1"}),"Remover"]})]})]})})},Q.id||V)})}),o.length>0&&s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsxs("h4",{className:"font-medium text-gray-900 mb-2 flex items-center gap-2",children:[s.jsx(Rr,{className:"h-4 w-4"}),"Resumo dos Anexos"]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Total de arquivos:"}),s.jsx("p",{className:"font-medium",children:o.length})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Tamanho total:"}),s.jsx("p",{className:"font-medium",children:y(o.reduce((Q,V)=>Q+V.file_size,0))})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Confidenciais:"}),s.jsx("p",{className:"font-medium",children:o.filter(Q=>Q.is_confidential).length})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Espao restante:"}),s.jsxs("p",{className:"font-medium",children:[a-o.length," arquivos"]})]})]})]}),m&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg max-w-4xl max-h-[90vh] overflow-hidden",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[s.jsx("h3",{className:"font-medium",children:m.file_name}),s.jsx(ne,{variant:"ghost",size:"sm",onClick:()=>u(null),children:s.jsx(ja,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"p-4 max-h-[70vh] overflow-auto",children:[m.file_type.startsWith("image/")&&m.file_data&&s.jsx("img",{src:m.file_data,alt:m.file_name,className:"max-w-full h-auto"}),m.file_type==="application/pdf"&&m.file_data&&s.jsx("iframe",{src:m.file_data,className:"w-full h-96",title:m.file_name}),m.file_type.startsWith("text/")&&m.file_data&&s.jsx("pre",{className:"whitespace-pre-wrap text-sm",children:atob(m.file_data.split(",")[1])})]})]})})]})]})},Mf=[{value:"consultation",label:"Consulta",icon:Wi,color:"bg-blue-100 text-blue-800"},{value:"procedure",label:"Procedimento",icon:Tr,color:"bg-purple-100 text-purple-800"},{value:"medication",label:"Medicao",icon:mr,color:"bg-green-100 text-green-800"},{value:"lab_result",label:"Exame Laboratorial",icon:du,color:"bg-yellow-100 text-yellow-800"},{value:"imaging",label:"Exame de Imagem",icon:Xt,color:"bg-indigo-100 text-indigo-800"},{value:"vaccination",label:"Vacinao",icon:GE,color:"bg-teal-100 text-teal-800"},{value:"hospitalization",label:"Internao",icon:Qr,color:"bg-red-100 text-red-800"},{value:"emergency",label:"Emergncia",icon:Ts,color:"bg-red-100 text-red-800"},{value:"other",label:"Outro",icon:Xt,color:"bg-gray-100 text-gray-800"}],fz={low:"bg-green-100 text-green-800",medium:"bg-yellow-100 text-yellow-800",high:"bg-orange-100 text-orange-800",critical:"bg-red-100 text-red-800"},mz=[{id:"1",date:"2024-01-15",time:"14:30",type:"consultation",title:"Consulta Cardiolgica",description:"Avaliao de rotina cardiovascular",provider:"Dr. Joo Silva",location:"Clnica CardioVida",outcome:"Paciente estvel, manter medicao atual",severity:"low",status:"completed",related_conditions:["Hipertenso"],medications_prescribed:["Losartana 50mg"],follow_up_required:!0,follow_up_date:"2024-04-15",notes:"Presso arterial controlada. Paciente aderente ao tratamento."},{id:"2",date:"2024-01-10",time:"09:00",type:"lab_result",title:"Exames de Rotina",description:"Hemograma completo, glicemia, colesterol",provider:"Lab. Diagnstica",location:"Laboratrio Central",outcome:"Resultados dentro da normalidade",severity:"low",status:"completed",notes:"Todos os parmetros normais. Manter acompanhamento."},{id:"3",date:"2024-01-05",time:"16:00",type:"procedure",title:"Eletrocardiograma",description:"ECG de repouso",provider:"Dr. Maria Santos",location:"Hospital So Jos",outcome:"Ritmo sinusal normal",severity:"low",status:"completed",notes:"ECG normal, sem alteraes significativas."},{id:"4",date:"2023-12-20",time:"11:30",type:"vaccination",title:"Vacina da Gripe",description:"Vacinao anual contra influenza",provider:"Enf. Ana Costa",location:"UBS Central",outcome:"Vacinao realizada com sucesso",severity:"low",status:"completed",notes:"Sem reaes adversas imediatas."},{id:"5",date:"2023-11-15",time:"08:00",type:"emergency",title:"Atendimento de Emergncia",description:"Dor torcica aguda",provider:"Dr. Carlos Lima",location:"Pronto Socorro Municipal",outcome:"Descartado infarto, alta hospitalar",severity:"high",status:"completed",related_conditions:["Ansiedade"],notes:"Dor de origem no cardaca. Orientado sobre manejo da ansiedade."}],pz=({events:e=mz,readOnly:t=!0,showFilters:r=!0,groupByPeriod:a="month"})=>{const[n,i]=b.useState([]),[o,A]=b.useState("all"),[l,c]=b.useState(""),[d,h]=b.useState(new Set),[m,u]=b.useState({start:"",end:""}),[p,g]=b.useState(a),y=b.useMemo(()=>e.filter(N=>{var I,U,D;if(n.length>0&&!n.includes(N.type)||o!=="all"&&N.severity!==o)return!1;if(l){const L=l.toLowerCase();if(!(N.title.toLowerCase().includes(L)||((I=N.description)==null?void 0:I.toLowerCase().includes(L))||((U=N.provider)==null?void 0:U.toLowerCase().includes(L))||((D=N.outcome)==null?void 0:D.toLowerCase().includes(L))))return!1}return!(m.start&&N.date<m.start||m.end&&N.date>m.end)}),[e,n,o,l,m]),x=b.useMemo(()=>{const N={};return y.forEach(U=>{let D;const L=new Date(U.date);switch(p){case"day":D=U.date;break;case"week":const P=new Date(L);P.setDate(L.getDate()-L.getDay()),D=P.toISOString().split("T")[0];break;case"month":D=`${L.getFullYear()}-${String(L.getMonth()+1).padStart(2,"0")}`;break;case"year":D=L.getFullYear().toString();break;default:D=U.date}N[D]||(N[D]=[]),N[D].push(U)}),Object.keys(N).sort((U,D)=>D.localeCompare(U)).reduce((U,D)=>(U[D]=N[D].sort((L,P)=>{const S=P.date.localeCompare(L.date);return S===0&&L.time&&P.time?P.time.localeCompare(L.time):S}),U),{})},[y,p]),B=N=>{const I=new Set(d);I.has(N)?I.delete(N):I.add(N),h(I)},j=N=>Mf.find(I=>I.value===N)||Mf[Mf.length-1],w=N=>{switch(p){case"day":return new Date(N).toLocaleDateString("pt-BR",{weekday:"long",year:"numeric",month:"long",day:"numeric"});case"week":const I=new Date(N),U=new Date(I);return U.setDate(I.getDate()+6),`Semana de ${I.toLocaleDateString("pt-BR")} a ${U.toLocaleDateString("pt-BR")}`;case"month":const[D,L]=N.split("-");return new Date(parseInt(D),parseInt(L)-1).toLocaleDateString("pt-BR",{year:"numeric",month:"long"});case"year":return N;default:return N}};return s.jsxs(Ee,{children:[s.jsx(He,{children:s.jsxs(Ke,{className:"flex items-center gap-2",children:[s.jsx(Us,{className:"h-5 w-5"}),"Histrico Mdico"]})}),s.jsxs(Ue,{className:"space-y-4",children:[r&&s.jsx(Ee,{className:"bg-gray-50",children:s.jsxs(Ue,{className:"p-4 space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Buscar"}),s.jsxs("div",{className:"relative",children:[s.jsx(Xo,{className:"h-4 w-4 absolute left-3 top-3 text-gray-400"}),s.jsx(_e,{placeholder:"Buscar eventos...",value:l,onChange:N=>c(N.target.value),className:"pl-10"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Tipo de Evento"}),s.jsxs(kt,{value:n.length===1?n[0]:"all",onValueChange:N=>{i(N==="all"?[]:[N])},children:[s.jsx(Et,{children:s.jsx(Lt,{placeholder:"Todos os tipos"})}),s.jsxs(Ut,{children:[s.jsx(Se,{value:"all",children:"Todos os tipos"}),Mf.map(N=>s.jsx(Se,{value:N.value,children:N.label},N.value))]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Severidade"}),s.jsxs(kt,{value:o,onValueChange:A,children:[s.jsx(Et,{children:s.jsx(Lt,{})}),s.jsxs(Ut,{children:[s.jsx(Se,{value:"all",children:"Todas"}),s.jsx(Se,{value:"low",children:"Baixa"}),s.jsx(Se,{value:"medium",children:"Mdia"}),s.jsx(Se,{value:"high",children:"Alta"}),s.jsx(Se,{value:"critical",children:"Crtica"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Agrupar por"}),s.jsxs(kt,{value:p,onValueChange:N=>g(N),children:[s.jsx(Et,{children:s.jsx(Lt,{})}),s.jsxs(Ut,{children:[s.jsx(Se,{value:"day",children:"Dia"}),s.jsx(Se,{value:"week",children:"Semana"}),s.jsx(Se,{value:"month",children:"Ms"}),s.jsx(Se,{value:"year",children:"Ano"})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Data Inicial"}),s.jsx(_e,{type:"date",value:m.start,onChange:N=>u(I=>M(_({},I),{start:N.target.value}))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Data Final"}),s.jsx(_e,{type:"date",value:m.end,onChange:N=>u(I=>M(_({},I),{end:N.target.value}))})]})]})]})}),Object.keys(x).length===0?s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(Us,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"Nenhum evento encontrado"})]}):s.jsx("div",{className:"space-y-6",children:Object.entries(x).map(([N,I])=>s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-3 pb-2 border-b border-gray-200",children:[s.jsx(Us,{className:"h-5 w-5 text-blue-600"}),s.jsx("h3",{className:"font-semibold text-lg text-gray-900",children:w(N)}),s.jsxs(At,{variant:"secondary",className:"ml-auto",children:[I.length," evento",I.length!==1?"s":""]})]}),s.jsx("div",{className:"space-y-3 ml-8",children:I.map((U,D)=>{const L=j(U.type),P=L.icon,S=d.has(U.id);return s.jsxs(Ee,{className:"relative",children:[D<I.length-1&&s.jsx("div",{className:"absolute left-6 top-12 w-0.5 h-full bg-gray-200 -z-10"}),s.jsx(Ue,{className:"p-4",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:`p-2 rounded-full ${L.color}`,children:s.jsx(P,{className:"h-4 w-4"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("h4",{className:"font-medium text-gray-900",children:U.title}),s.jsx(At,{className:L.color,variant:"secondary",children:L.label}),U.severity&&s.jsxs(At,{className:fz[U.severity],variant:"secondary",children:[U.severity==="low"&&"Baixa",U.severity==="medium"&&"Mdia",U.severity==="high"&&"Alta",U.severity==="critical"&&"Crtica"]})]}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600 mb-2",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Yr,{className:"h-3 w-3"}),new Date(U.date).toLocaleDateString("pt-BR"),U.time&&` s ${U.time}`]}),U.provider&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Or,{className:"h-3 w-3"}),U.provider]})]}),U.description&&s.jsx("p",{className:"text-sm text-gray-700 mb-2",children:U.description}),U.outcome&&!S&&s.jsxs("p",{className:"text-sm text-gray-600 italic",children:["Resultado: ",U.outcome]})]}),s.jsx(ne,{variant:"ghost",size:"sm",onClick:()=>B(U.id),className:"ml-2",children:S?s.jsx(Mu,{className:"h-4 w-4"}):s.jsx(Tu,{className:"h-4 w-4"})})]}),S&&s.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100 space-y-3",children:[U.outcome&&s.jsxs("div",{children:[s.jsx("h5",{className:"font-medium text-sm text-gray-900 mb-1",children:"Resultado:"}),s.jsx("p",{className:"text-sm text-gray-700",children:U.outcome})]}),U.location&&s.jsxs("div",{children:[s.jsx("h5",{className:"font-medium text-sm text-gray-900 mb-1",children:"Local:"}),s.jsx("p",{className:"text-sm text-gray-700",children:U.location})]}),U.related_conditions&&U.related_conditions.length>0&&s.jsxs("div",{children:[s.jsx("h5",{className:"font-medium text-sm text-gray-900 mb-1",children:"Condies Relacionadas:"}),s.jsx("div",{className:"flex flex-wrap gap-1",children:U.related_conditions.map((E,Q)=>s.jsx(At,{variant:"outline",className:"text-xs",children:E},Q))})]}),U.medications_prescribed&&U.medications_prescribed.length>0&&s.jsxs("div",{children:[s.jsx("h5",{className:"font-medium text-sm text-gray-900 mb-1",children:"Medicamentos Prescritos:"}),s.jsx("div",{className:"flex flex-wrap gap-1",children:U.medications_prescribed.map((E,Q)=>s.jsxs(At,{variant:"outline",className:"text-xs",children:[s.jsx(mr,{className:"h-3 w-3 mr-1"}),E]},Q))})]}),U.follow_up_required&&s.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(Ts,{className:"h-4 w-4 text-blue-600"}),s.jsx("span",{className:"font-medium text-sm text-blue-900",children:"Acompanhamento Necessrio"})]}),U.follow_up_date&&s.jsxs("p",{className:"text-sm text-blue-700",children:["Prxima consulta: ",new Date(U.follow_up_date).toLocaleDateString("pt-BR")]})]}),U.notes&&s.jsxs("div",{children:[s.jsx("h5",{className:"font-medium text-sm text-gray-900 mb-1",children:"Observaes:"}),s.jsx("p",{className:"text-sm text-gray-700 bg-gray-50 p-2 rounded",children:U.notes})]})]})]})]})})]},U.id)})})]},N))}),y.length>0&&s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Resumo do Histrico"}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Total de eventos:"}),s.jsx("p",{className:"font-medium",children:y.length})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Consultas:"}),s.jsx("p",{className:"font-medium text-blue-600",children:y.filter(N=>N.type==="consultation").length})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Exames:"}),s.jsx("p",{className:"font-medium text-yellow-600",children:y.filter(N=>["lab_result","imaging"].includes(N.type)).length})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Emergncias:"}),s.jsx("p",{className:"font-medium text-red-600",children:y.filter(N=>N.type==="emergency").length})]})]})]})]})]})},gz=({patientId:e,patientName:t="",doctorName:r="",doctorCrm:a="",doctorSpecialty:n="",onClose:i})=>{const{toast:o}=ir(),[A,l]=b.useState(!1),[c,d]=b.useState(!1);b.useState(!1);const[h,m]=b.useState({patientName:t,patientCpf:"",doctorName:r,doctorCrm:a,doctorSpecialty:n,cid:"",cidDescription:"",startDate:new Date,endDate:da(new Date,1),days:1,reason:"",observations:"",issueDate:new Date,issueLocation:"So Paulo, SP"}),u=(B,j)=>{m(w=>M(_({},w),{[B]:j}))},p=B=>{const j=da(h.startDate,B-1);m(w=>M(_({},w),{days:B,endDate:j}))},g=B=>{const j=da(B,h.days-1);m(w=>M(_({},w),{startDate:B,endDate:j}))},y=()=>h.patientName.trim()?h.patientCpf.trim()?h.doctorName.trim()?h.doctorCrm.trim()?h.cid.trim()?h.reason.trim()?!0:(o({title:"Erro de Validao",description:"Motivo do afastamento  obrigatrio",variant:"destructive"}),!1):(o({title:"Erro de Validao",description:"Cdigo CID  obrigatrio",variant:"destructive"}),!1):(o({title:"Erro de Validao",description:"CRM do mdico  obrigatrio",variant:"destructive"}),!1):(o({title:"Erro de Validao",description:"Nome do mdico  obrigatrio",variant:"destructive"}),!1):(o({title:"Erro de Validao",description:"CPF do paciente  obrigatrio",variant:"destructive"}),!1):(o({title:"Erro de Validao",description:"Nome do paciente  obrigatrio",variant:"destructive"}),!1),x=()=>Ae(void 0,null,function*(){if(y())try{l(!0);const B=new wt,j=B.internal.pageSize.width,w=B.internal.pageSize.height,N=20,I=j-N*2;B.setFontSize(18),B.setFont("helvetica","bold"),B.text("ATESTADO MDICO",j/2,30,{align:"center"}),B.setLineWidth(.5),B.line(N,40,j-N,40),B.setFontSize(12),B.setFont("helvetica","normal");let U=60;B.text(`Dr(a). ${h.doctorName}`,N,U),U+=8,B.text(`CRM: ${h.doctorCrm}`,N,U),U+=8,h.doctorSpecialty&&(B.text(`Especialidade: ${h.doctorSpecialty}`,N,U),U+=8),U+=10,B.setFontSize(14),B.setFont("helvetica","bold"),B.text("ATESTO PARA OS DEVIDOS FINS",j/2,U,{align:"center"}),U+=20,B.setFontSize(12),B.setFont("helvetica","normal");const D=`Que o(a) paciente ${h.patientName}, portador(a) do CPF ${h.patientCpf}, `,L=`necessita de afastamento de suas atividades por ${h.days} ${h.days===1?"dia":"dias"}, `,P=`no perodo de ${yr(h.startDate,"dd/MM/yyyy",{locale:xs})} a ${yr(h.endDate,"dd/MM/yyyy",{locale:xs})}, `,S=`devido a: ${h.reason}.`,E=D+L+P+S;B.splitTextToSize(E,I).forEach(we=>{B.text(we,N,U),U+=7}),U+=10,h.cid&&(B.text(`CID: ${h.cid}`,N,U),h.cidDescription&&(U+=7,B.text(`Descrio: ${h.cidDescription}`,N,U)),U+=15),h.observations.trim()&&(B.setFont("helvetica","bold"),B.text("Observaes:",N,U),U+=7,B.setFont("helvetica","normal"),B.splitTextToSize(h.observations,I).forEach(T=>{B.text(T,N,U),U+=7}),U+=10),U=Math.max(U,w-80);const V=`${h.issueLocation}, ${yr(h.issueDate,"dd/MM/yyyy",{locale:xs})}`;B.text(V,j/2,U,{align:"center"}),U+=30,B.setLineWidth(.3),B.line(j/2-60,U,j/2+60,U),U+=8,B.setFont("helvetica","bold"),B.text(`Dr(a). ${h.doctorName}`,j/2,U,{align:"center"}),U+=6,B.setFont("helvetica","normal"),B.text(`CRM: ${h.doctorCrm}`,j/2,U,{align:"center"});const ae=`ATESTADO-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,Y={type:"medical_certificate",id:ae,patient:h.patientName,doctor:h.doctorName,crm:h.doctorCrm,issueDate:h.issueDate.toISOString(),validationUrl:`https://medicare.com.br/validate/${ae}`},q=yield fm.toDataURL(JSON.stringify(Y),{width:80,margin:1,color:{dark:"#000000",light:"#FFFFFF"}});U+=20,B.setFontSize(10),B.setFont("helvetica","bold"),B.setTextColor(0,0,0),B.text("CERTIFICAO DIGITAL ICP-BRASIL",j/2,U,{align:"center"}),U+=5,B.setFont("helvetica","normal"),B.text("Este documento foi assinado digitalmente conforme MP 2.200-2/2001",j/2,U,{align:"center"}),U+=5;const K="SHA256: A1B2C3D4E5F6789012345678901234567890ABCDEF";B.setFontSize(8),B.text(`Hash da Assinatura: ${K}`,j/2,U,{align:"center"}),U+=5;const Z=new Date().toISOString();B.text(`Timestamp: ${Z}`,j/2,U,{align:"center"}),U+=5,B.text(`ID do Certificado: ${ae}`,j/2,U,{align:"center"}),U+=8,B.addImage(q,"PNG",j/2-15,U,30,30),U+=35,B.setFont("helvetica","italic"),B.text("Escaneie o QR Code ou acesse: www.iti.gov.br/verificador",j/2,U,{align:"center"}),U+=3,B.text("Documento com validade jurdica conforme Lei 14.063/2020",j/2,U,{align:"center"}),U=w-20,B.setFontSize(8),B.setTextColor(100,100,100),B.text("Este documento ser assinado digitalmente com certificao ICP-Brasil",j/2,U,{align:"center"});const fe=`atestado_medico_${h.patientName.replace(/\s+/g,"_")}_${yr(new Date,"yyyyMMdd_HHmmss")}.pdf`;B.save(fe),o({title:"Sucesso",description:"Atestado mdico gerado com sucesso!"}),i&&i()}catch(B){console.error("Erro ao gerar PDF:",B),o({title:"Erro",description:"Erro ao gerar o atestado mdico",variant:"destructive"})}finally{l(!1)}});return s.jsxs(Ee,{className:"w-full max-w-4xl mx-auto",children:[s.jsx(He,{children:s.jsxs(Ke,{className:"flex items-center gap-2",children:[s.jsx(Xt,{className:"h-5 w-5"}),"Emitir Atestado Mdico",s.jsx(tA,{className:"h-4 w-4 text-green-600 ml-2"}),s.jsx("span",{className:"text-sm font-normal text-green-600",children:"ICP-Brasil"})]})}),s.jsxs(Ue,{className:"space-y-6",children:[s.jsxs(Ee,{children:[s.jsx(He,{children:s.jsxs(Ke,{className:"flex items-center gap-2 text-lg",children:[s.jsx(Or,{className:"h-4 w-4"}),"Dados do Paciente"]})}),s.jsxs(Ue,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"patientName",children:"Nome Completo *"}),s.jsx(_e,{id:"patientName",value:h.patientName,onChange:B=>u("patientName",B.target.value),placeholder:"Nome completo do paciente"})]}),s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"patientCpf",children:"CPF *"}),s.jsx(_e,{id:"patientCpf",value:h.patientCpf,onChange:B=>u("patientCpf",B.target.value),placeholder:"000.000.000-00",maxLength:14})]})]})]}),s.jsxs(Ee,{children:[s.jsx(He,{children:s.jsxs(Ke,{className:"flex items-center gap-2 text-lg",children:[s.jsx(Wi,{className:"h-4 w-4"}),"Dados do Mdico"]})}),s.jsxs(Ue,{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"doctorName",children:"Nome do Mdico *"}),s.jsx(_e,{id:"doctorName",value:h.doctorName,onChange:B=>u("doctorName",B.target.value),placeholder:"Nome completo do mdico"})]}),s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"doctorCrm",children:"CRM *"}),s.jsx(_e,{id:"doctorCrm",value:h.doctorCrm,onChange:B=>u("doctorCrm",B.target.value),placeholder:"CRM/UF"})]}),s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"doctorSpecialty",children:"Especialidade"}),s.jsx(_e,{id:"doctorSpecialty",value:h.doctorSpecialty,onChange:B=>u("doctorSpecialty",B.target.value),placeholder:"Especialidade mdica"})]})]})]}),s.jsxs(Ee,{children:[s.jsx(He,{children:s.jsx(Ke,{className:"text-lg",children:"Informaes Clnicas"})}),s.jsxs(Ue,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"cid",children:"Cdigo CID *"}),s.jsx(_e,{id:"cid",value:h.cid,onChange:B=>u("cid",B.target.value),placeholder:"Ex: M54.5"})]}),s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"cidDescription",children:"Descrio do CID"}),s.jsx(_e,{id:"cidDescription",value:h.cidDescription,onChange:B=>u("cidDescription",B.target.value),placeholder:"Descrio da condio mdica"})]})]}),s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"reason",children:"Motivo do Afastamento *"}),s.jsx(Ar,{id:"reason",value:h.reason,onChange:B=>u("reason",B.target.value),placeholder:"Descreva o motivo do afastamento mdico",rows:3})]}),s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"observations",children:"Observaes Adicionais"}),s.jsx(Ar,{id:"observations",value:h.observations,onChange:B=>u("observations",B.target.value),placeholder:"Observaes complementares (opcional)",rows:2})]})]})]}),s.jsxs(Ee,{children:[s.jsx(He,{children:s.jsx(Ke,{className:"text-lg",children:"Perodo de Afastamento"})}),s.jsx(Ue,{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx(ie,{children:"Data de Incio *"}),s.jsxs(_c,{open:c,onOpenChange:d,children:[s.jsx(Sc,{asChild:!0,children:s.jsxs(ne,{variant:"outline",className:"w-full justify-start text-left font-normal",children:[s.jsx(Us,{className:"mr-2 h-4 w-4"}),yr(h.startDate,"dd/MM/yyyy",{locale:xs})]})}),s.jsx(Al,{className:"w-auto p-0",children:s.jsx(Go,{mode:"single",selected:h.startDate,onSelect:B=>{B&&(g(B),d(!1))},initialFocus:!0})})]})]}),s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"days",children:"Quantidade de Dias *"}),s.jsxs(kt,{value:h.days.toString(),onValueChange:B=>p(parseInt(B)),children:[s.jsx(Et,{children:s.jsx(Lt,{})}),s.jsx(Ut,{children:Array.from({length:30},(B,j)=>j+1).map(B=>s.jsxs(Se,{value:B.toString(),children:[B," ",B===1?"dia":"dias"]},B))})]})]}),s.jsxs("div",{children:[s.jsx(ie,{children:"Data de Trmino"}),s.jsx("div",{className:"p-2 bg-gray-50 rounded-md border",children:yr(h.endDate,"dd/MM/yyyy",{locale:xs})})]})]})})]}),s.jsxs(Ee,{children:[s.jsx(He,{children:s.jsx(Ke,{className:"text-lg",children:"Emisso do Atestado"})}),s.jsxs(Ue,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"issueLocation",children:"Local de Emisso"}),s.jsx(_e,{id:"issueLocation",value:h.issueLocation,onChange:B=>u("issueLocation",B.target.value),placeholder:"Cidade, UF"})]}),s.jsxs("div",{children:[s.jsx(ie,{children:"Data de Emisso"}),s.jsx("div",{className:"p-2 bg-gray-50 rounded-md border",children:yr(h.issueDate,"dd/MM/yyyy",{locale:xs})})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-4 pt-4",children:[i&&s.jsx(ne,{type:"button",variant:"outline",onClick:i,children:"Cancelar"}),s.jsxs(ne,{onClick:x,disabled:A,className:"bg-green-600 hover:bg-green-700",children:[s.jsx(Ba,{className:"h-4 w-4 mr-2"}),A?"Gerando PDF...":"Emitir Atestado"]})]})]})]})},P5=({patientId:e,recordId:t,onSave:r,onCancel:a})=>{var Ie,Oe;const{toast:n}=ir(),[i,o]=b.useState(!1),[A,l]=b.useState([]),[c,d]=b.useState([]),[h,m]=b.useState(null),[u,p]=b.useState(null),[g,y]=b.useState(new Date),[x,B]=b.useState(!1),[j,w]=b.useState(!1),[N,I]=b.useState({patient_id:e||"",doctor_id:"",record_date:new Date().toISOString().split("T")[0],chief_complaint:"",history_present_illness:"",past_medical_history:"",medications:"",allergies:"",social_history:"",family_history:"",review_systems:"",physical_examination:"",assessment_plan:"",notes:"",status:"draft"}),[U,D]=b.useState([{diagnosis_text:"",diagnosis_code:"",primary_diagnosis:!0}]),[L,P]=b.useState([]),[S,E]=b.useState(null),[Q,V]=b.useState([]),[ae,Y]=b.useState([]),[q,K]=b.useState(!1);b.useEffect(()=>{Z()},[t]);const Z=()=>Ae(void 0,null,function*(){try{o(!0);const{data:{user:ue}}=yield et.auth.getUser();if(ue){const{data:J,error:xe}=yield et.from("profiles").select("*").eq("id",ue.id).single();xe?(console.error("Erro ao carregar perfil:",xe),n({title:"Erro",description:"Erro ao carregar perfil do usurio",variant:"destructive"})):J&&(m(J),p(J),I(Te=>M(_({},Te),{doctor_id:J.id})))}const{data:ke}=yield et.from("patients").select("*").order("full_name");ke&&l(ke);const{data:ge}=yield et.from("profiles").select("*").not("full_name","is",null).order("full_name");ge&&d(ge),t&&(yield fe(t))}catch(ue){console.error("Erro ao carregar dados:",ue),n({title:"Erro",description:"Erro ao carregar dados iniciais",variant:"destructive"})}finally{o(!1)}}),fe=ue=>Ae(void 0,null,function*(){try{const{data:ke}=yield et.from("medical_records").select(`
          *,
          doctor:profiles!medical_records_doctor_id_fkey(*)
        `).eq("id",ue).single();ke&&(I(ke),y(new Date(ke.record_date)),ke.doctor&&p(ke.doctor));const{data:ge}=yield et.from("medical_diagnoses").select("*").eq("medical_record_id",ue);ge&&ge.length>0&&D(ge);const{data:J}=yield et.from("medical_exams").select("*").eq("medical_record_id",ue);J&&P(J.map(xe=>M(_({},xe),{exam_date:xe.exam_date?new Date(xe.exam_date):void 0,status:xe.status})))}catch(ke){console.error("Erro ao carregar pronturio:",ke),n({title:"Erro",description:"Erro ao carregar pronturio mdico",variant:"destructive"})}}),we=(ue,ke)=>{I(ge=>M(_({},ge),{[ue]:ke}))},T=ue=>{ue&&(y(ue),I(ke=>M(_({},ke),{record_date:ue.toISOString()})))},G=()=>{D(ue=>[...ue,{diagnosis_text:"",diagnosis_code:"",primary_diagnosis:!1}])},X=ue=>{U.length>1&&D(ke=>ke.filter((ge,J)=>J!==ue))},se=(ue,ke,ge)=>{D(J=>J.map((xe,Te)=>Te===ue?M(_({},xe),{[ke]:ge}):xe))},le=()=>{P(ue=>[...ue,{exam_type:"",status:"requested",notes:""}])},de=ue=>{P(ke=>ke.filter((ge,J)=>J!==ue))},Ne=(ue,ke,ge)=>{P(J=>J.map((xe,Te)=>Te===ue?M(_({},xe),{[ke]:ge}):xe))},je=()=>Ae(void 0,null,function*(){try{if(o(!0),console.log("Iniciando salvamento do pronturio..."),console.log("FormData:",N),!N.patient_id||!N.doctor_id){console.log("Erro: Campos obrigatrios no preenchidos",{patient_id:N.patient_id,doctor_id:N.doctor_id}),n({title:"Erro",description:"Paciente e mdico so obrigatrios",variant:"destructive"});return}let ue=t;if(t){console.log("Atualizando pronturio existente:",t);const{error:ke}=yield et.from("medical_records").update(N).eq("id",t);if(ke)throw console.error("Erro ao atualizar pronturio:",ke),ke;console.log("Pronturio atualizado com sucesso")}else{console.log("Criando novo pronturio...");const{data:ke,error:ge}=yield et.from("medical_records").insert(N).select().single();if(ge)throw console.error("Erro ao criar novo pronturio:",ge),ge;ue=ke.id,console.log("Novo pronturio criado com ID:",ue)}if(ue){yield et.from("medical_diagnoses").delete().eq("medical_record_id",ue);const ke=U.filter(J=>J.diagnosis_text.trim()).map(J=>({medical_record_id:ue,diagnosis_text:J.diagnosis_text,diagnosis_code:J.diagnosis_code||null,primary_diagnosis:J.primary_diagnosis}));if(ke.length>0){const{error:J}=yield et.from("medical_diagnoses").insert(ke);if(J)throw J}yield et.from("medical_exams").delete().eq("medical_record_id",ue);const ge=L.filter(J=>J.exam_type.trim()).map(J=>{var xe;return{medical_record_id:ue,exam_type:J.exam_type,exam_date:((xe=J.exam_date)==null?void 0:xe.toISOString())||null,status:J.status,result:J.result||null,notes:J.notes||null}});if(ge.length>0){const{error:J}=yield et.from("medical_exams").insert(ge);if(J)throw J}if(Q&&Q.length>0)try{const{data:J,error:xe}=yield et.from("medical_prescriptions").insert({medical_record_id:ue,prescription_date:N.record_date,status:"active",notes:"Prescrio gerada automaticamente do pronturio mdico"}).select().single();if(xe)console.warn("Erro ao criar prescrio:",xe);else if(J){const Te=Q.map(Qe=>({prescription_id:J.id,medication_name:Qe.name,dosage:`${Qe.dosage} ${Qe.unit}`,frequency:Qe.frequency,duration:Qe.duration_days?`${Qe.duration_days} dias`:void 0,instructions:Qe.instructions,quantity:Qe.duration_days?Math.ceil(Qe.duration_days*parseFloat(Qe.frequency.replace(/[^\d]/g,"")||"1")).toString():void 0})),{error:Xe}=yield et.from("prescription_items").insert(Te);Xe&&console.warn("Erro ao salvar itens da prescrio:",Xe)}}catch(J){console.warn("Erro ao processar medicamentos:",J)}if(ae&&ae.length>0){yield et.from("medical_record_attachments").delete().eq("medical_record_id",ue);const J=ae.map(xe=>({medical_record_id:ue,file_name:xe.name||xe.fileName,file_path:xe.path||xe.filePath,file_size:xe.size||xe.fileSize,attachment_type:xe.type||xe.attachmentType||"document"}));if(J.length>0){const{error:xe}=yield et.from("medical_record_attachments").insert(J);xe&&console.warn("Erro ao salvar anexos:",xe)}}if(S&&Object.keys(S).length>0){const J={patient_id:N.patient_id,type:"mood",occurred_at:N.record_date,systolic_bp:S.blood_pressure_systolic||null,diastolic_bp:S.blood_pressure_diastolic||null,heart_rate:S.heart_rate||null,temperature:S.temperature||null,oxygen_saturation:S.oxygen_saturation||null,respiratory_rate:S.respiratory_rate||null,notes:`Sinais vitais do pronturio mdico - ID: ${ue}`},{error:xe}=yield et.from("events").insert(J);xe&&console.warn("Erro ao salvar sinais vitais:",xe)}}n({title:"Sucesso",description:"Pronturio mdico salvo com sucesso"}),r&&ue&&r(ue)}catch(ue){console.error("Erro detalhado ao salvar pronturio:",ue),console.error("Stack trace:",ue.stack),console.error("Dados do formulrio no momento do erro:",N),ue!=null&&ue.code&&(console.error("Cdigo do erro Supabase:",ue.code),console.error("Mensagem do erro Supabase:",ue.message),console.error("Detalhes do erro Supabase:",ue.details)),n({title:"Erro",description:`Erro ao salvar pronturio mdico: ${(ue==null?void 0:ue.message)||"Erro desconhecido"}`,variant:"destructive"})}finally{o(!1)}});return i&&!t?s.jsx("div",{className:"flex items-center justify-center p-8",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{children:"Carregando..."})]})}):s.jsxs("div",{className:"max-w-6xl mx-auto p-6 space-y-6",children:[s.jsxs(Ee,{children:[s.jsx(He,{children:s.jsxs(Ke,{className:"flex items-center gap-2",children:[s.jsx(Xt,{className:"h-5 w-5"}),t?"Editar Pronturio Mdico":"Novo Pronturio Mdico"]})}),s.jsxs(Ue,{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"patient",children:"Paciente *"}),s.jsxs(kt,{value:N.patient_id,onValueChange:ue=>we("patient_id",ue),children:[s.jsx(Et,{children:s.jsx(Lt,{placeholder:"Selecione o paciente"})}),s.jsx(Ut,{children:A.map(ue=>s.jsx(Se,{value:ue.id,children:ue.name},ue.id))})]})]}),s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"doctor",children:"Mdico Responsvel"}),u!=null&&u.full_name?s.jsx(_e,{value:`Dr(a). ${u.full_name}`,disabled:!0,className:"bg-gray-50"}):i?s.jsx(_e,{value:"Carregando...",disabled:!0,className:"bg-gray-50"}):s.jsxs(kt,{value:N.doctor_id,onValueChange:ue=>{const ke=c.find(ge=>ge.id===ue);ke&&(p(ke),I(ge=>M(_({},ge),{doctor_id:ue})))},children:[s.jsx(Et,{children:s.jsx(Lt,{placeholder:"Selecione um mdico"})}),s.jsx(Ut,{children:c.map(ue=>s.jsxs(Se,{value:ue.id,children:["Dr(a). ",ue.full_name]},ue.id))})]})]}),s.jsxs("div",{children:[s.jsx(ie,{children:"Data do Atendimento *"}),s.jsxs(_c,{children:[s.jsx(Sc,{asChild:!0,children:s.jsxs(ne,{variant:"outline",className:"w-full justify-start text-left font-normal",children:[s.jsx(Us,{className:"mr-2 h-4 w-4"}),g?yr(g,"dd/MM/yyyy",{locale:xs}):"Selecionar data"]})}),s.jsx(Al,{className:"w-auto p-0",children:s.jsx(Go,{mode:"single",selected:g,onSelect:T,initialFocus:!0})})]})]}),s.jsxs("div",{className:"md:col-span-3",children:[s.jsx(ie,{htmlFor:"status",children:"Status"}),s.jsxs(kt,{value:N.status,onValueChange:ue=>we("status",ue),children:[s.jsx(Et,{children:s.jsx(Lt,{})}),s.jsxs(Ut,{children:[s.jsx(Se,{value:"draft",children:"Rascunho"}),s.jsx(Se,{value:"completed",children:"Concludo"}),s.jsx(Se,{value:"archived",children:"Arquivado"})]})]})]})]})]}),s.jsxs(Ee,{children:[s.jsx(He,{children:s.jsxs(Ke,{className:"flex items-center gap-2",children:[s.jsx(Or,{className:"h-5 w-5"}),"Anamnese"]})}),s.jsxs(Ue,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"chief_complaint",children:"Queixa Principal"}),s.jsx(Ar,{id:"chief_complaint",value:N.chief_complaint||"",onChange:ue=>we("chief_complaint",ue.target.value),placeholder:"Descreva a queixa principal do paciente...",rows:3})]}),s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"history_present_illness",children:"Histria da Doena Atual"}),s.jsx(Ar,{id:"history_present_illness",value:N.history_present_illness||"",onChange:ue=>we("history_present_illness",ue.target.value),placeholder:"Descreva a evoluo da doena atual...",rows:4})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"past_medical_history",children:"Antecedentes Pessoais"}),s.jsx(Ar,{id:"past_medical_history",value:N.past_medical_history||"",onChange:ue=>we("past_medical_history",ue.target.value),placeholder:"Doenas anteriores, cirurgias, internaes...",rows:4})]}),s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"family_history",children:"Antecedentes Familiares"}),s.jsx(Ar,{id:"family_history",value:N.family_history||"",onChange:ue=>we("family_history",ue.target.value),placeholder:"Histrico familiar de doenas...",rows:4})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"medications",children:"Medicaes em Uso"}),s.jsx(Ar,{id:"medications",value:N.medications||"",onChange:ue=>we("medications",ue.target.value),placeholder:"Liste as medicaes atuais...",rows:3})]}),s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"allergies",children:"Alergias"}),s.jsx(Ar,{id:"allergies",value:N.allergies||"",onChange:ue=>we("allergies",ue.target.value),placeholder:"Alergias conhecidas...",rows:3})]})]}),s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"social_history",children:"Histria Social"}),s.jsx(Ar,{id:"social_history",value:N.social_history||"",onChange:ue=>we("social_history",ue.target.value),placeholder:"Tabagismo, etilismo, atividade fsica, profisso...",rows:3})]}),s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"review_systems",children:"Reviso de Sistemas"}),s.jsx(Ar,{id:"review_systems",value:N.review_systems||"",onChange:ue=>we("review_systems",ue.target.value),placeholder:"Reviso por sistemas...",rows:4})]})]})]}),s.jsxs(Ee,{children:[s.jsx(He,{children:s.jsxs(Ke,{className:"flex items-center gap-2",children:[s.jsx(Tr,{className:"h-5 w-5"}),"Sinais Vitais"]})}),s.jsx(Ue,{children:s.jsx(iz,{initialValues:S,onSave:E,readOnly:!1})})]}),s.jsxs(Ee,{children:[s.jsx(He,{children:s.jsxs(Ke,{className:"flex items-center gap-2",children:[s.jsx(Wi,{className:"h-5 w-5"}),"Exame Fsico"]})}),s.jsx(Ue,{children:s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"physical_examination",children:"Achados do Exame Fsico"}),s.jsx(Ar,{id:"physical_examination",value:N.physical_examination||"",onChange:ue=>we("physical_examination",ue.target.value),placeholder:"Descreva os achados do exame fsico...",rows:6})]})})]}),s.jsxs(Ee,{children:[s.jsx(He,{children:s.jsxs(Ke,{className:"flex items-center gap-2",children:[s.jsx(FB,{className:"h-5 w-5"}),"Diagnsticos"]})}),s.jsxs(Ue,{className:"space-y-4",children:[U.map((ue,ke)=>s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 p-4 border rounded-lg",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx(ie,{children:"Diagnstico"}),s.jsx(_e,{value:ue.diagnosis_text,onChange:ge=>se(ke,"diagnosis_text",ge.target.value),placeholder:"Descrio do diagnstico"})]}),s.jsxs("div",{children:[s.jsx(ie,{children:"Cdigo CID"}),s.jsx(_e,{value:ue.diagnosis_code||"",onChange:ge=>se(ke,"diagnosis_code",ge.target.value),placeholder:"Ex: F32.9"})]}),s.jsxs("div",{className:"flex items-end gap-2",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",id:`primary-${ke}`,checked:ue.primary_diagnosis,onChange:ge=>se(ke,"primary_diagnosis",ge.target.checked)}),s.jsx(ie,{htmlFor:`primary-${ke}`,children:"Principal"})]}),U.length>1&&s.jsx(ne,{type:"button",variant:"outline",size:"sm",onClick:()=>X(ke),children:s.jsx(ha,{className:"h-4 w-4"})})]})]},ke)),s.jsxs(ne,{type:"button",variant:"outline",onClick:G,className:"w-full",children:[s.jsx(Xr,{className:"h-4 w-4 mr-2"}),"Adicionar Diagnstico"]})]})]}),s.jsxs(Ee,{children:[s.jsx(He,{children:s.jsxs(Ke,{className:"flex items-center gap-2",children:[s.jsx(nx,{className:"h-5 w-5"}),"Cdigos Diagnsticos (CID-10)"]})}),s.jsx(Ue,{children:s.jsx(oz,{initialCodes:U.map(ue=>({code:ue.diagnosis_code||"",description:ue.diagnosis_text,type:"CID10",is_primary:ue.primary_diagnosis})),onCodesChange:ue=>{const ke=ue.map(ge=>({diagnosis_text:ge.description,diagnosis_code:ge.code,primary_diagnosis:ge.is_primary||!1}));D(ke)},readOnly:!1})})]}),s.jsxs(Ee,{children:[s.jsx(He,{children:s.jsxs(Ke,{className:"flex items-center gap-2",children:[s.jsx(Zs,{className:"h-5 w-5"}),"Exames Solicitados"]})}),s.jsxs(Ue,{className:"space-y-4",children:[L.map((ue,ke)=>s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 p-4 border rounded-lg",children:[s.jsxs("div",{children:[s.jsx(ie,{children:"Tipo de Exame"}),s.jsx(_e,{value:ue.exam_type,onChange:ge=>Ne(ke,"exam_type",ge.target.value),placeholder:"Ex: Hemograma completo"})]}),s.jsxs("div",{children:[s.jsx(ie,{children:"Status"}),s.jsxs(kt,{value:ue.status,onValueChange:ge=>Ne(ke,"status",ge),children:[s.jsx(Et,{children:s.jsx(Lt,{})}),s.jsxs(Ut,{children:[s.jsx(Se,{value:"requested",children:"Solicitado"}),s.jsx(Se,{value:"scheduled",children:"Agendado"}),s.jsx(Se,{value:"completed",children:"Realizado"}),s.jsx(Se,{value:"cancelled",children:"Cancelado"})]})]})]}),s.jsxs("div",{children:[s.jsx(ie,{children:"Data do Exame"}),s.jsx(_e,{type:"date",value:ue.exam_date?yr(ue.exam_date,"yyyy-MM-dd"):"",onChange:ge=>Ne(ke,"exam_date",ge.target.value?new Date(ge.target.value):void 0)})]}),s.jsxs("div",{children:[s.jsx(ie,{children:"Resultado"}),s.jsx(_e,{value:ue.result||"",onChange:ge=>Ne(ke,"result",ge.target.value),placeholder:"Resultado do exame"})]}),s.jsx("div",{className:"flex items-end",children:s.jsx(ne,{type:"button",variant:"outline",size:"sm",onClick:()=>de(ke),children:s.jsx(ha,{className:"h-4 w-4"})})})]},ke)),s.jsxs(ne,{type:"button",variant:"outline",onClick:le,className:"w-full",children:[s.jsx(Xr,{className:"h-4 w-4 mr-2"}),"Adicionar Exame"]})]})]}),s.jsxs(Ee,{children:[s.jsx(He,{children:s.jsxs(Ke,{className:"flex items-center gap-2",children:[s.jsx(mr,{className:"h-5 w-5"}),"Avaliao e Plano Teraputico"]})}),s.jsxs(Ue,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"assessment_plan",children:"Conduta e Plano"}),s.jsx(Ar,{id:"assessment_plan",value:N.assessment_plan||"",onChange:ue=>we("assessment_plan",ue.target.value),placeholder:"Descreva a conduta e plano teraputico...",rows:6})]}),s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"notes",children:"Observaes Adicionais"}),s.jsx(Ar,{id:"notes",value:N.notes||"",onChange:ue=>we("notes",ue.target.value),placeholder:"Observaes gerais...",rows:3})]}),s.jsx("div",{className:"pt-4 border-t",children:s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(ne,{type:"button",onClick:()=>B(!0),className:"flex-1",children:[s.jsx(mr,{className:"h-4 w-4 mr-2"}),"Criar Prescrio Mdica"]}),!q&&s.jsxs(ne,{type:"button",variant:"outline",onClick:()=>K(!0),className:"flex-1",children:[s.jsx(gm,{className:"h-4 w-4 mr-2"}),"Ver Histrico Mdico"]})]})})]})]}),s.jsxs(Ee,{children:[s.jsx(He,{children:s.jsxs(Ke,{className:"flex items-center gap-2",children:[s.jsx(mr,{className:"h-5 w-5"}),"Medicaes"]})}),s.jsx(Ue,{children:s.jsx(dz,{initialMedications:Q,onMedicationsChange:V,readOnly:!1})})]}),s.jsxs(Ee,{children:[s.jsx(He,{children:s.jsxs(Ke,{className:"flex items-center gap-2",children:[s.jsx(XA,{className:"h-5 w-5"}),"Anexos Mdicos"]})}),s.jsx(Ue,{children:s.jsx(hz,{initialAttachments:ae,onAttachmentsChange:Y,readOnly:!1})})]}),N.patient_id&&s.jsxs(Ee,{children:[s.jsx(He,{children:s.jsxs(Ke,{className:"flex items-center gap-2",children:[s.jsx(gm,{className:"h-5 w-5"}),"Histrico Mdico do Paciente",s.jsx(ne,{type:"button",variant:"outline",size:"sm",onClick:()=>K(!q),children:q?"Ocultar":"Mostrar"})]})}),q&&s.jsx(Ue,{children:s.jsx(pz,{readOnly:!0,showFilters:!0,groupByPeriod:"month"})})]}),s.jsxs("div",{className:"flex justify-end gap-4",children:[a&&s.jsx(ne,{type:"button",variant:"outline",onClick:a,children:"Cancelar"}),t&&s.jsxs(ne,{type:"button",variant:"outline",onClick:()=>w(!0),className:"bg-green-50 text-green-700 hover:bg-green-100 border-green-200",children:[s.jsx(Xt,{className:"h-4 w-4 mr-2"}),"Emitir Atestado"]}),s.jsxs(ne,{onClick:je,disabled:i,children:[s.jsx(hn,{className:"h-4 w-4 mr-2"}),i?"Salvando...":"Salvar Pronturio"]})]}),x&&t&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsx("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:s.jsx("div",{className:"p-6",children:s.jsx(nz,{patientId:N.patient_id,patientName:((Ie=A.find(ue=>ue.id===N.patient_id))==null?void 0:Ie.name)||"",doctorName:(u==null?void 0:u.full_name)||(h==null?void 0:h.full_name)||"",doctorCrm:"",doctorSpecialty:"",onClose:()=>B(!1)})})})}),j&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsx("div",{className:"bg-white rounded-lg max-w-5xl w-full max-h-[90vh] overflow-y-auto",children:s.jsx("div",{className:"p-6",children:s.jsx(gz,{patientId:N.patient_id,patientName:((Oe=A.find(ue=>ue.id===N.patient_id))==null?void 0:Oe.name)||"",doctorName:(u==null?void 0:u.full_name)||(h==null?void 0:h.full_name)||"",doctorCrm:"",doctorSpecialty:"",onClose:()=>w(!1)})})})})]})},xz=({patientId:e,onViewRecord:t,onEditRecord:r,onNewRecord:a})=>{const{toast:n}=ir(),[i,o]=b.useState(!1),[A,l]=b.useState([]),[c,d]=b.useState([]),[h,m]=b.useState([]),[u,p]=b.useState(""),[g,y]=b.useState(e||"all"),[x,B]=b.useState("all"),[j,w]=b.useState(),[N,I]=b.useState();b.useEffect(()=>{U(),D()},[]),b.useEffect(()=>{L()},[A,u,g,x,j,N]);const U=()=>Ae(void 0,null,function*(){try{o(!0);let Q=et.from("medical_records").select(`
          *,
          patient:patients(*),
          doctor:profiles!medical_records_doctor_id_fkey(*)
        `).order("record_date",{ascending:!1});e&&(Q=Q.eq("patient_id",e));const{data:V,error:ae}=yield Q;if(ae)throw ae;l(V||[])}catch(Q){console.error("Erro ao carregar pronturios:",Q),n({title:"Erro",description:"Erro ao carregar histrico de pronturios",variant:"destructive"})}finally{o(!1)}}),D=()=>Ae(void 0,null,function*(){try{const{data:Q,error:V}=yield et.from("patients").select("*").order("name");if(V)throw V;d(Q||[])}catch(Q){console.error("Erro ao carregar pacientes:",Q)}}),L=()=>{let Q=[...A];u&&(Q=Q.filter(V=>{var ae,Y,q;return((ae=V.chief_complaint)==null?void 0:ae.toLowerCase().includes(u.toLowerCase()))||((Y=V.assessment_plan)==null?void 0:Y.toLowerCase().includes(u.toLowerCase()))||V.patient.name.toLowerCase().includes(u.toLowerCase())||((q=V.doctor.full_name)==null?void 0:q.toLowerCase().includes(u.toLowerCase()))})),g&&g!=="all"&&(Q=Q.filter(V=>V.patient_id===g)),x&&x!=="all"&&(Q=Q.filter(V=>V.status===x)),j&&(Q=Q.filter(V=>new Date(V.record_date)>=j)),N&&(Q=Q.filter(V=>new Date(V.record_date)<=N)),m(Q)},P=()=>{p(""),y(e||""),B(""),w(void 0),I(void 0)},S=Q=>{const V={draft:{label:"Rascunho",variant:"secondary"},completed:{label:"Concludo",variant:"default"},archived:{label:"Arquivado",variant:"outline"}},ae=V[Q]||V.draft;return s.jsx(At,{variant:ae.variant,children:ae.label})},E=Q=>Ae(void 0,null,function*(){if(confirm("Tem certeza que deseja excluir este pronturio?"))try{const{error:V}=yield et.from("medical_records").delete().eq("id",Q);if(V)throw V;n({title:"Sucesso",description:"Pronturio excludo com sucesso"}),U()}catch(V){console.error("Erro ao excluir pronturio:",V),n({title:"Erro",description:"Erro ao excluir pronturio",variant:"destructive"})}});return i?s.jsx("div",{className:"flex items-center justify-center p-8",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{children:"Carregando pronturios..."})]})}):s.jsxs("div",{className:"max-w-7xl mx-auto p-6 space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Histrico de Pronturios"}),s.jsxs("p",{className:"text-gray-600",children:[h.length," pronturio(s) encontrado(s)"]})]}),s.jsxs(ne,{onClick:()=>a==null?void 0:a(g),children:[s.jsx(Xr,{className:"h-4 w-4 mr-2"}),"Novo Pronturio"]})]}),s.jsxs(Ee,{children:[s.jsx(He,{children:s.jsxs(Ke,{className:"flex items-center gap-2",children:[s.jsx(lp,{className:"h-5 w-5"}),"Filtros"]})}),s.jsxs(Ue,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[s.jsx("div",{children:s.jsx(_e,{placeholder:"Buscar por queixa, plano ou mdico...",value:u,onChange:Q=>p(Q.target.value),className:"w-full"})}),!e&&s.jsx("div",{children:s.jsxs(kt,{value:g,onValueChange:y,children:[s.jsx(Et,{children:s.jsx(Lt,{placeholder:"Todos os pacientes"})}),s.jsxs(Ut,{children:[s.jsx(Se,{value:"all",children:"Todos os pacientes"}),c.map(Q=>s.jsx(Se,{value:Q.id,children:Q.name},Q.id))]})]})}),s.jsx("div",{children:s.jsxs(kt,{value:x,onValueChange:B,children:[s.jsx(Et,{children:s.jsx(Lt,{placeholder:"Todos os status"})}),s.jsxs(Ut,{children:[s.jsx(Se,{value:"all",children:"Todos os status"}),s.jsx(Se,{value:"draft",children:"Rascunho"}),s.jsx(Se,{value:"completed",children:"Concludo"}),s.jsx(Se,{value:"archived",children:"Arquivado"})]})]})}),s.jsx("div",{children:s.jsxs(_c,{children:[s.jsx(Sc,{asChild:!0,children:s.jsxs(ne,{variant:"outline",className:"w-full justify-start text-left font-normal",children:[s.jsx(Us,{className:"mr-2 h-4 w-4"}),j?yr(j,"dd/MM/yyyy",{locale:xs}):"Data inicial"]})}),s.jsx(Al,{className:"w-auto p-0",children:s.jsx(Go,{mode:"single",selected:j,onSelect:w,initialFocus:!0})})]})}),s.jsx("div",{children:s.jsxs(_c,{children:[s.jsx(Sc,{asChild:!0,children:s.jsxs(ne,{variant:"outline",className:"w-full justify-start text-left font-normal",children:[s.jsx(Us,{className:"mr-2 h-4 w-4"}),N?yr(N,"dd/MM/yyyy",{locale:xs}):"Data final"]})}),s.jsx(Al,{className:"w-auto p-0",children:s.jsx(Go,{mode:"single",selected:N,onSelect:I,initialFocus:!0})})]})})]}),s.jsx("div",{className:"flex justify-end mt-4",children:s.jsx(ne,{variant:"outline",onClick:P,children:"Limpar Filtros"})})]})]}),s.jsx("div",{className:"space-y-4",children:h.length===0?s.jsx(Ee,{children:s.jsxs(Ue,{className:"text-center py-8",children:[s.jsx(Xt,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Nenhum pronturio encontrado"}),s.jsx(ne,{className:"mt-4",onClick:()=>a==null?void 0:a(g),children:"Criar Primeiro Pronturio"})]})}):h.map(Q=>s.jsx(Ee,{className:"hover:shadow-md transition-shadow",children:s.jsxs(Ue,{className:"p-6",children:[s.jsxs("div",{className:"flex justify-between items-start mb-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("h3",{className:"text-lg font-semibold",children:Q.patient.name}),S(Q.status)]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-gray-600",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Go,{className:"h-4 w-4"}),yr(new Date(Q.record_date),"dd/MM/yyyy 's' HH:mm",{locale:xs})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Or,{className:"h-4 w-4"}),"Dr(a). ",Q.doctor.full_name]})]}),Q.chief_complaint&&s.jsxs("div",{className:"mt-3",children:[s.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Queixa Principal:"}),s.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:Q.chief_complaint})]}),Q.assessment_plan&&s.jsxs("div",{className:"mt-2",children:[s.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Plano:"}),s.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:Q.assessment_plan})]})]}),s.jsxs("div",{className:"flex gap-2 ml-4",children:[s.jsx(ne,{variant:"outline",size:"sm",onClick:()=>t==null?void 0:t(Q.id),children:s.jsx(Zs,{className:"h-4 w-4"})}),s.jsx(ne,{variant:"outline",size:"sm",onClick:()=>r==null?void 0:r(Q.id),children:s.jsx(rl,{className:"h-4 w-4"})}),s.jsx(ne,{variant:"outline",size:"sm",onClick:()=>E(Q.id),children:s.jsx(ha,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{className:"flex items-center justify-between pt-3 border-t",children:[s.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[s.jsx(Yr,{className:"h-3 w-3"}),"Atualizado em ",yr(new Date(Q.updated_at),"dd/MM/yyyy 's' HH:mm",{locale:xs})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(ne,{variant:"ghost",size:"sm",children:s.jsx(Ba,{className:"h-4 w-4"})}),s.jsx(ne,{variant:"ghost",size:"sm",children:s.jsx(kB,{className:"h-4 w-4"})})]})]})]})},Q.id))})]})},vz=({recordId:e,onEdit:t,onBack:r})=>{const{toast:a}=ir(),[n,i]=b.useState(!0),[o,A]=b.useState(null);b.useEffect(()=>{l()},[e]);const l=()=>Ae(void 0,null,function*(){try{i(!0);const{data:h,error:m}=yield et.from("medical_records").select(`
          *,
          patient:patients(*),
          doctor:profiles!medical_records_doctor_id_fkey(*)
        `).eq("id",e).single();if(m)throw m;const{data:u}=yield et.from("medical_diagnoses").select("*").eq("medical_record_id",e).order("primary_diagnosis",{ascending:!1}),{data:p}=yield et.from("medical_exams").select("*").eq("medical_record_id",e).order("exam_date",{ascending:!1}),{data:g}=yield et.from("medical_prescriptions").select("*").eq("medical_record_id",e).order("created_at",{ascending:!1});A(M(_({},h),{diagnoses:u||[],exams:p||[],prescriptions:g||[]}))}catch(h){console.error("Erro ao carregar pronturio:",h),a({title:"Erro",description:"Erro ao carregar pronturio mdico",variant:"destructive"})}finally{i(!1)}}),c=h=>{const m={draft:{label:"Rascunho",variant:"secondary"},completed:{label:"Concludo",variant:"default"},archived:{label:"Arquivado",variant:"outline"}},u=m[h]||m.draft;return s.jsx(At,{variant:u.variant,children:u.label})},d=h=>{const m={requested:{label:"Solicitado",variant:"secondary"},scheduled:{label:"Agendado",variant:"default"},completed:{label:"Realizado",variant:"default"},cancelled:{label:"Cancelado",variant:"destructive"}},u=m[h]||m.requested;return s.jsx(At,{variant:u.variant,children:u.label})};return n?s.jsx("div",{className:"flex items-center justify-center p-8",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{children:"Carregando pronturio..."})]})}):o?s.jsxs("div",{className:"max-w-6xl mx-auto p-6 space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[r&&s.jsx(ne,{variant:"outline",onClick:r,children:s.jsx(zi,{className:"h-4 w-4"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Pronturio Mdico"}),s.jsxs("p",{className:"text-gray-600",children:[o.patient.name," - ",yr(new Date(o.record_date),"dd/MM/yyyy",{locale:xs})]})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(ne,{variant:"outline",children:[s.jsx(Ba,{className:"h-4 w-4 mr-2"}),"Exportar"]}),s.jsxs(ne,{variant:"outline",children:[s.jsx(kB,{className:"h-4 w-4 mr-2"}),"Compartilhar"]}),t&&s.jsxs(ne,{onClick:()=>t(o.id),children:[s.jsx(rl,{className:"h-4 w-4 mr-2"}),"Editar"]})]})]}),s.jsxs(Ee,{children:[s.jsx(He,{children:s.jsxs(Ke,{className:"flex items-center gap-2",children:[s.jsx(Xt,{className:"h-5 w-5"}),"Informaes Gerais"]})}),s.jsxs(Ue,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-700 mb-2",children:"Paciente"}),s.jsx("p",{className:"text-lg",children:o.patient.name}),s.jsx("p",{className:"text-sm text-gray-600",children:o.patient.birth_date&&`Nascimento: ${yr(new Date(o.patient.birth_date),"dd/MM/yyyy",{locale:xs})}`})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-700 mb-2",children:"Mdico Responsvel"}),s.jsxs("p",{className:"text-lg",children:["Dr(a). ",o.doctor.full_name]}),s.jsx("p",{className:"text-sm text-gray-600",children:o.doctor.email})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-700 mb-2",children:"Data e Status"}),s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Us,{className:"h-4 w-4"}),s.jsx("span",{children:yr(new Date(o.record_date),"dd/MM/yyyy 's' HH:mm",{locale:xs})})]}),c(o.status)]})]}),s.jsxs("div",{className:"mt-4 pt-4 border-t flex items-center gap-2 text-sm text-gray-500",children:[s.jsx(Yr,{className:"h-4 w-4"}),"ltima atualizao: ",yr(new Date(o.updated_at),"dd/MM/yyyy 's' HH:mm",{locale:xs})]})]})]}),s.jsxs(Ee,{children:[s.jsx(He,{children:s.jsxs(Ke,{className:"flex items-center gap-2",children:[s.jsx(Or,{className:"h-5 w-5"}),"Anamnese"]})}),s.jsxs(Ue,{className:"space-y-4",children:[o.chief_complaint&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-700 mb-2",children:"Queixa Principal"}),s.jsx("p",{className:"text-gray-800 whitespace-pre-wrap",children:o.chief_complaint})]}),o.history_present_illness&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-700 mb-2",children:"Histria da Doena Atual"}),s.jsx("p",{className:"text-gray-800 whitespace-pre-wrap",children:o.history_present_illness})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.past_medical_history&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-700 mb-2",children:"Antecedentes Pessoais"}),s.jsx("p",{className:"text-gray-800 whitespace-pre-wrap",children:o.past_medical_history})]}),o.family_history&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-700 mb-2",children:"Antecedentes Familiares"}),s.jsx("p",{className:"text-gray-800 whitespace-pre-wrap",children:o.family_history})]}),o.medications&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-700 mb-2",children:"Medicaes em Uso"}),s.jsx("p",{className:"text-gray-800 whitespace-pre-wrap",children:o.medications})]}),o.allergies&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-700 mb-2",children:"Alergias"}),s.jsx("p",{className:"text-gray-800 whitespace-pre-wrap",children:o.allergies})]})]}),o.social_history&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-700 mb-2",children:"Histria Social"}),s.jsx("p",{className:"text-gray-800 whitespace-pre-wrap",children:o.social_history})]}),o.review_systems&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-700 mb-2",children:"Reviso de Sistemas"}),s.jsx("p",{className:"text-gray-800 whitespace-pre-wrap",children:o.review_systems})]})]})]}),o.physical_examination&&s.jsxs(Ee,{children:[s.jsx(He,{children:s.jsxs(Ke,{className:"flex items-center gap-2",children:[s.jsx(Wi,{className:"h-5 w-5"}),"Exame Fsico"]})}),s.jsx(Ue,{children:s.jsx("p",{className:"text-gray-800 whitespace-pre-wrap",children:o.physical_examination})})]}),o.diagnoses.length>0&&s.jsxs(Ee,{children:[s.jsx(He,{children:s.jsxs(Ke,{className:"flex items-center gap-2",children:[s.jsx(FB,{className:"h-5 w-5"}),"Diagnsticos"]})}),s.jsx(Ue,{children:s.jsx("div",{className:"space-y-3",children:o.diagnoses.map((h,m)=>s.jsx("div",{className:"flex items-start gap-3 p-3 border rounded-lg",children:s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("p",{className:"font-medium",children:h.diagnosis_text}),h.primary_diagnosis&&s.jsx(At,{variant:"default",className:"text-xs",children:"Principal"})]}),h.diagnosis_code&&s.jsxs("p",{className:"text-sm text-gray-600",children:["CID: ",h.diagnosis_code]})]})},h.id||m))})})]}),o.exams.length>0&&s.jsxs(Ee,{children:[s.jsx(He,{children:s.jsxs(Ke,{className:"flex items-center gap-2",children:[s.jsx(Zs,{className:"h-5 w-5"}),"Exames Solicitados"]})}),s.jsx(Ue,{children:s.jsx("div",{className:"space-y-3",children:o.exams.map((h,m)=>s.jsxs("div",{className:"p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsx("h4",{className:"font-medium",children:h.exam_type}),d(h.status)]}),h.exam_date&&s.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Data: ",yr(new Date(h.exam_date),"dd/MM/yyyy",{locale:xs})]}),h.result&&s.jsxs("div",{className:"mb-2",children:[s.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Resultado:"}),s.jsx("p",{className:"text-sm text-gray-800",children:h.result})]}),h.notes&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Observaes:"}),s.jsx("p",{className:"text-sm text-gray-800",children:h.notes})]})]},h.id||m))})})]}),o.prescriptions.length>0&&s.jsxs(Ee,{children:[s.jsx(He,{children:s.jsxs(Ke,{className:"flex items-center gap-2",children:[s.jsx(mr,{className:"h-5 w-5"}),"Prescries Mdicas"]})}),s.jsx(Ue,{children:s.jsx("div",{className:"space-y-3",children:o.prescriptions.map((h,m)=>s.jsxs("div",{className:"p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsxs("h4",{className:"font-medium",children:["Prescrio #",m+1]}),s.jsx(At,{variant:h.status==="active"?"default":"secondary",children:h.status==="active"?"Ativa":"Inativa"})]}),s.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Criada em: ",yr(new Date(h.created_at),"dd/MM/yyyy 's' HH:mm",{locale:xs})]}),h.memed_prescription_id&&s.jsxs("p",{className:"text-sm text-gray-600",children:["ID Memed: ",h.memed_prescription_id]})]},h.id||m))})})]}),o.assessment_plan&&s.jsxs(Ee,{children:[s.jsx(He,{children:s.jsxs(Ke,{className:"flex items-center gap-2",children:[s.jsx(mr,{className:"h-5 w-5"}),"Avaliao e Plano Teraputico"]})}),s.jsx(Ue,{children:s.jsx("p",{className:"text-gray-800 whitespace-pre-wrap",children:o.assessment_plan})})]}),o.notes&&s.jsxs(Ee,{children:[s.jsx(He,{children:s.jsx(Ke,{children:"Observaes Adicionais"})}),s.jsx(Ue,{children:s.jsx("p",{className:"text-gray-800 whitespace-pre-wrap",children:o.notes})})]})]}):s.jsxs("div",{className:"text-center p-8",children:[s.jsx("p",{children:"Pronturio no encontrado"}),s.jsxs(ne,{onClick:r,className:"mt-4",children:[s.jsx(zi,{className:"h-4 w-4 mr-2"}),"Voltar"]})]})},V3=b.memo(()=>{const{toast:e}=ir(),[t,r]=b.useState("dashboard"),[a,n]=b.useState(null),[i,o]=b.useState(null),[A,l]=b.useState(""),[c,d]=b.useState("all"),[h,m]=b.useState("all"),[u,p]=b.useState("all"),[g,y]=b.useState(),[x,B]=b.useState(),[j,w]=b.useState("date"),[N,I]=b.useState("desc"),[U,D]=b.useState(!1),[L,P]=b.useState([]),[S,E]=b.useState([]),[Q,V]=b.useState([]),ae=b.useMemo(()=>[{title:"Pronturios Hoje",value:L.filter(xe=>{const Te=new Date().toISOString().split("T")[0];return xe.record_date.split("T")[0]===Te}).length,change:"+2 desde ontem",trend:"up",icon:s.jsx(Xt,{className:"h-5 w-5"}),color:"text-blue-600"},{title:"Pacientes Ativos",value:new Set(L.map(xe=>xe.patient_id)).size,change:"+5 este ms",trend:"up",icon:s.jsx(Xs,{className:"h-5 w-5"}),color:"text-green-600"},{title:"Consultas Pendentes",value:L.filter(xe=>xe.status==="pending").length,change:"-3 desde ontem",trend:"down",icon:s.jsx(Yr,{className:"h-5 w-5"}),color:"text-orange-600"},{title:"Taxa de Concluso",value:L.length>0?`${Math.round(L.filter(xe=>xe.status==="completed").length/L.length*100)}%`:"0%",change:"+12% este ms",trend:"up",icon:s.jsx(di,{className:"h-5 w-5"}),color:"text-purple-600"}],[L]),Y=b.useMemo(()=>{let xe=[...L];return A&&(xe=xe.filter(Te=>{var Xe,Qe,Ye;return Te.patient.name.toLowerCase().includes(A.toLowerCase())||((Xe=Te.doctor.full_name)==null?void 0:Xe.toLowerCase().includes(A.toLowerCase()))||((Qe=Te.notes)==null?void 0:Qe.toLowerCase().includes(A.toLowerCase()))||((Ye=Te.chief_complaint)==null?void 0:Ye.toLowerCase().includes(A.toLowerCase()))})),c!=="all"&&(xe=xe.filter(Te=>Te.status===c)),h!=="all"&&(xe=xe.filter(Te=>Te.patient_id===h)),u!=="all"&&(xe=xe.filter(Te=>Te.doctor_id===u)),g&&(xe=xe.filter(Te=>new Date(Te.record_date)>=g)),x&&(xe=xe.filter(Te=>new Date(Te.record_date)<=x)),xe.sort((Te,Xe)=>{let Qe,Ye;switch(j){case"date":Qe=new Date(Te.record_date),Ye=new Date(Xe.record_date);break;case"patient":Qe=Te.patient.name,Ye=Xe.patient.name;break;case"doctor":Qe=Te.doctor.full_name||"",Ye=Xe.doctor.full_name||"";break;case"status":Qe=Te.status,Ye=Xe.status;break;default:return 0}return N==="asc"?Qe>Ye?1:-1:Qe<Ye?1:-1}),xe},[L,A,c,h,u,g,x,j,N]);b.useEffect(()=>{q(),K(),Z()},[]),b.useEffect(()=>{we()},[L,A,c,h,u,g,x,j,N]);const q=()=>Ae(void 0,null,function*(){try{D(!0);const{data:xe,error:Te}=yield et.from("medical_records").select(`
          *,
          patient:patients(*),
          doctor:profiles!medical_records_doctor_id_fkey(*)
        `).order("record_date",{ascending:!1});if(Te)throw Te;P(xe||[]),fe(xe||[])}catch(xe){console.error("Error loading records:",xe),e({title:"Erro",description:"Erro ao carregar pronturios.",variant:"destructive"})}finally{D(!1)}}),K=()=>Ae(void 0,null,function*(){try{const{data:xe,error:Te}=yield et.from("patients").select("*").order("name");if(Te)throw Te;E(xe||[])}catch(xe){console.error("Error loading patients:",xe)}}),Z=()=>Ae(void 0,null,function*(){try{const{data:xe,error:Te}=yield et.from("profiles").select("*").eq("role","doctor").order("full_name");if(Te)throw Te;V(xe||[])}catch(xe){console.error("Error loading doctors:",xe)}}),fe=xe=>{const Te=new Date;Te.setHours(0,0,0,0),xe.filter(Xe=>{const Qe=new Date(Xe.record_date);return Qe.setHours(0,0,0,0),Qe.getTime()===Te.getTime()})},we=()=>{let xe=[...L];if(A){const Te=A.toLowerCase();xe=xe.filter(Xe=>{var Qe,Ye,We;return((Qe=Xe.chief_complaint)==null?void 0:Qe.toLowerCase().includes(Te))||((Ye=Xe.assessment_plan)==null?void 0:Ye.toLowerCase().includes(Te))||Xe.patient.name.toLowerCase().includes(Te)||((We=Xe.doctor.full_name)==null?void 0:We.toLowerCase().includes(Te))})}if(c!=="all"&&(xe=xe.filter(Te=>Te.status===c)),h!=="all"&&(xe=xe.filter(Te=>Te.patient_id===h)),u!=="all"&&(xe=xe.filter(Te=>Te.doctor_id===u)),g&&(xe=xe.filter(Te=>new Date(Te.record_date)>=g)),x){const Te=new Date(x);Te.setHours(23,59,59,999),xe=xe.filter(Xe=>new Date(Xe.record_date)<=Te)}xe.sort((Te,Xe)=>{var We,xt;let Qe,Ye;switch(j){case"date":Qe=new Date(Te.record_date),Ye=new Date(Xe.record_date);break;case"patient":Qe=Te.patient.name.toLowerCase(),Ye=Xe.patient.name.toLowerCase();break;case"doctor":Qe=((We=Te.doctor.full_name)==null?void 0:We.toLowerCase())||"",Ye=((xt=Xe.doctor.full_name)==null?void 0:xt.toLowerCase())||"";break;case"status":Qe=Te.status,Ye=Xe.status;break;default:return 0}return Qe<Ye?N==="asc"?-1:1:Qe>Ye?N==="asc"?1:-1:0})},T=()=>{l(""),d("all"),m("all"),p("all"),y(void 0),B(void 0),w("date"),I("desc")},G=xe=>{j===xe?I(N==="asc"?"desc":"asc"):(w(xe),I("asc"))},X=xe=>j!==xe?null:N==="asc"?s.jsx(SE,{className:"h-4 w-4 ml-1"}):s.jsx(_E,{className:"h-4 w-4 ml-1"}),se=xe=>{o(xe||null),n(null),r("new")},le=xe=>{n(xe),r("edit")},de=xe=>{n(xe),r("view")},Ne=xe=>{n(xe),r("view"),q(),e({title:"Sucesso!",description:"Pronturio salvo com sucesso."})},je=()=>{r("dashboard"),n(null),o(null)},Ie=()=>{r("history"),n(null)},Oe=()=>Ae(void 0,null,function*(){D(!0),yield q(),yield K(),yield Z(),e({title:"Dados atualizados",description:"As informaes foram atualizadas com sucesso."})}),ue=xe=>{switch(xe){case"up":return s.jsx(di,{className:"h-4 w-4 text-green-500"});case"down":return s.jsx(di,{className:"h-4 w-4 text-red-500 rotate-180"});default:return s.jsx(Tr,{className:"h-4 w-4 text-gray-500"})}},ke=xe=>{const Te={draft:{label:"Rascunho",variant:"secondary",color:"bg-yellow-100 text-yellow-800"},completed:{label:"Concludo",variant:"default",color:"bg-green-100 text-green-800"},archived:{label:"Arquivado",variant:"outline",color:"bg-gray-100 text-gray-800"}},Xe=Te[xe]||Te.draft;return s.jsx(At,{variant:Xe.variant,className:Xe.color,children:Xe.label})},ge=()=>s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto p-4 sm:p-6 space-y-6 sm:space-y-8",children:[s.jsxs("div",{className:"relative overflow-hidden rounded-xl sm:rounded-2xl bg-gradient-to-r from-blue-600 via-purple-600 to-indigo-600 p-4 sm:p-8 text-white shadow-2xl",children:[s.jsx("div",{className:"absolute inset-0 bg-black/10"}),s.jsxs("div",{className:"relative z-10 flex flex-col gap-4 sm:gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold tracking-tight",children:"Pronturios Mdicos"}),s.jsx("p",{className:"text-blue-100 text-sm sm:text-base lg:text-lg max-w-2xl",children:"Sistema completo para gerenciamento de pronturios mdicos, prescries e histrico de pacientes"})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full sm:w-auto",children:[s.jsxs(ne,{onClick:Oe,variant:"secondary",size:"default",disabled:U,className:"bg-white/20 hover:bg-white/30 text-white border-white/30 w-full sm:w-auto",children:[s.jsx(vm,{className:`h-4 w-4 sm:h-5 sm:w-5 mr-2 ${U?"animate-spin":""}`}),"Atualizar"]}),s.jsxs(ne,{onClick:()=>se(),size:"default",className:"bg-white text-blue-600 hover:bg-blue-50 shadow-lg w-full sm:w-auto",children:[s.jsx(Xr,{className:"h-4 w-4 sm:h-5 sm:w-5 mr-2"}),"Novo Pronturio"]})]})]}),s.jsx("div",{className:"hidden sm:block absolute -top-4 -right-4 w-24 h-24 bg-white/10 rounded-full blur-xl"}),s.jsx("div",{className:"hidden sm:block absolute -bottom-8 -left-8 w-32 h-32 bg-white/5 rounded-full blur-2xl"})]}),s.jsx(Ee,{className:"shadow-lg border-0 bg-white/80 backdrop-blur-sm",children:s.jsx(Ue,{className:"p-4 sm:p-6",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Xo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4 sm:h-5 sm:w-5"}),s.jsx(_e,{placeholder:"Buscar por paciente, mdico, queixa...",value:A,onChange:xe=>l(xe.target.value),className:"pl-10 sm:pl-12 h-10 sm:h-12 text-sm sm:text-lg border-gray-200 focus:border-blue-500 focus:ring-blue-500"}),A&&s.jsx(ne,{variant:"ghost",size:"sm",className:"absolute right-2 top-1/2 transform -translate-y-1/2",onClick:()=>l(""),children:s.jsx(ja,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-3 sm:gap-4",children:[s.jsxs(kt,{value:c,onValueChange:d,children:[s.jsxs(Et,{className:"h-10 text-sm",children:[s.jsx(lp,{className:"h-4 w-4 mr-2 flex-shrink-0"}),s.jsx(Lt,{placeholder:"Status"})]}),s.jsxs(Ut,{children:[s.jsx(Se,{value:"all",children:"Todos os Status"}),s.jsx(Se,{value:"draft",children:"Rascunho"}),s.jsx(Se,{value:"completed",children:"Concludo"}),s.jsx(Se,{value:"archived",children:"Arquivado"})]})]}),s.jsxs(kt,{value:h,onValueChange:m,children:[s.jsxs(Et,{className:"h-10 text-sm",children:[s.jsx(Or,{className:"h-4 w-4 mr-2 flex-shrink-0"}),s.jsx(Lt,{placeholder:"Paciente"})]}),s.jsxs(Ut,{children:[s.jsx(Se,{value:"all",children:"Todos os Pacientes"}),S.map(xe=>s.jsx(Se,{value:xe.id,children:s.jsx("span",{className:"truncate",children:xe.name})},xe.id))]})]}),s.jsxs(kt,{value:u,onValueChange:p,children:[s.jsxs(Et,{className:"h-10 text-sm",children:[s.jsx(Wi,{className:"h-4 w-4 mr-2 flex-shrink-0"}),s.jsx(Lt,{placeholder:"Mdico"})]}),s.jsxs(Ut,{children:[s.jsx(Se,{value:"all",children:"Todos os Mdicos"}),Q.map(xe=>s.jsx(Se,{value:xe.id,children:s.jsxs("span",{className:"truncate",children:["Dr(a). ",xe.full_name]})},xe.id))]})]}),s.jsxs(_c,{children:[s.jsx(Sc,{asChild:!0,children:s.jsxs(ne,{variant:"outline",className:"h-10 justify-start text-sm",children:[s.jsx(Us,{className:"h-4 w-4 mr-2 flex-shrink-0"}),s.jsx("span",{className:"truncate",children:g?yr(g,"dd/MM/yyyy",{locale:xs}):"Data inicial"})]})}),s.jsx(Al,{className:"w-auto p-0",align:"start",children:s.jsx(Go,{mode:"single",selected:g,onSelect:y,initialFocus:!0})})]}),s.jsxs(_c,{children:[s.jsx(Sc,{asChild:!0,children:s.jsxs(ne,{variant:"outline",className:"h-10 justify-start text-sm",children:[s.jsx(Us,{className:"h-4 w-4 mr-2 flex-shrink-0"}),s.jsx("span",{className:"truncate",children:x?yr(x,"dd/MM/yyyy",{locale:xs}):"Data final"})]})}),s.jsx(Al,{className:"w-auto p-0",align:"start",children:s.jsx(Go,{mode:"single",selected:x,onSelect:B,initialFocus:!0})})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[s.jsxs("div",{className:"flex flex-wrap gap-2 w-full sm:w-auto",children:[s.jsxs(ne,{variant:"outline",size:"sm",onClick:()=>G("date"),className:"flex items-center text-xs sm:text-sm",children:["Data",X("date")]}),s.jsxs(ne,{variant:"outline",size:"sm",onClick:()=>G("patient"),className:"flex items-center text-xs sm:text-sm",children:["Paciente",X("patient")]}),s.jsxs(ne,{variant:"outline",size:"sm",onClick:()=>G("status"),className:"flex items-center text-xs sm:text-sm",children:["Status",X("status")]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto",children:[s.jsx(ne,{variant:"outline",size:"sm",onClick:T,className:"text-xs sm:text-sm",children:"Limpar Filtros"}),s.jsxs(At,{variant:"secondary",className:"px-3 py-1 text-xs sm:text-sm justify-center sm:justify-start",children:[Y.length," resultado(s)"]})]})]})]})})}),s.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-6",children:ae.map((xe,Te)=>s.jsxs(Ee,{className:"relative overflow-hidden border-0 shadow-lg hover:shadow-xl transition-all duration-300 group cursor-pointer",children:[s.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${xe.color} opacity-5 group-hover:opacity-10 transition-opacity`}),s.jsxs(Ue,{className:"p-3 sm:p-6 relative z-10",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2 sm:mb-4",children:[s.jsx("div",{className:`p-2 sm:p-3 rounded-lg sm:rounded-xl bg-gradient-to-br ${xe.color} text-white shadow-lg`,children:s.jsx("div",{className:"h-4 w-4 sm:h-5 sm:w-5",children:xe.icon})}),s.jsx("div",{className:"hidden sm:block",children:ue(xe.trend)})]}),s.jsxs("div",{className:"space-y-1 sm:space-y-2",children:[s.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-600 uppercase tracking-wide line-clamp-2",children:xe.title}),s.jsx("p",{className:"text-xl sm:text-3xl font-bold text-gray-900",children:xe.value}),s.jsxs("p",{className:"text-xs sm:text-sm text-gray-500 flex items-center gap-1 line-clamp-1",children:[s.jsx("span",{className:"sm:hidden",children:ue(xe.trend)}),xe.change]})]})]})]},Te))}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 sm:gap-6",children:[s.jsx(Ee,{className:"group cursor-pointer hover:shadow-xl transition-all duration-300 border-0 shadow-lg bg-gradient-to-br from-blue-50 to-indigo-50 hover:from-blue-100 hover:to-indigo-100",onClick:()=>se(),children:s.jsxs(Ue,{className:"p-6 sm:p-8 text-center",children:[s.jsx("div",{className:"mx-auto w-12 h-12 sm:w-16 sm:h-16 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl sm:rounded-2xl flex items-center justify-center mb-4 sm:mb-6 group-hover:scale-110 transition-transform shadow-lg",children:s.jsx(Xr,{className:"h-6 w-6 sm:h-8 sm:w-8 text-white"})}),s.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-900 mb-2 sm:mb-3",children:"Novo Pronturio"}),s.jsx("p",{className:"text-sm sm:text-base text-gray-600 mb-3 sm:mb-4",children:"Criar um novo pronturio mdico completo para um paciente"}),s.jsxs("div",{className:"flex items-center justify-center text-blue-600 font-medium group-hover:gap-3 gap-2 transition-all text-sm sm:text-base",children:["Comear agora",s.jsx(oi,{className:"h-4 w-4 group-hover:translate-x-1 transition-transform"})]})]})}),s.jsx(Ee,{className:"group cursor-pointer hover:shadow-xl transition-all duration-300 border-0 shadow-lg bg-gradient-to-br from-green-50 to-emerald-50 hover:from-green-100 hover:to-emerald-100",onClick:()=>r("history"),children:s.jsxs(Ue,{className:"p-6 sm:p-8 text-center",children:[s.jsx("div",{className:"mx-auto w-12 h-12 sm:w-16 sm:h-16 bg-gradient-to-br from-green-500 to-green-600 rounded-xl sm:rounded-2xl flex items-center justify-center mb-4 sm:mb-6 group-hover:scale-110 transition-transform shadow-lg",children:s.jsx(gm,{className:"h-6 w-6 sm:h-8 sm:w-8 text-white"})}),s.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-900 mb-2 sm:mb-3",children:"Histrico Completo"}),s.jsx("p",{className:"text-sm sm:text-base text-gray-600 mb-3 sm:mb-4",children:"Visualizar e pesquisar todos os pronturios existentes"}),s.jsxs("div",{className:"flex items-center justify-center text-green-600 font-medium group-hover:gap-3 gap-2 transition-all text-sm sm:text-base",children:["Ver histrico",s.jsx(oi,{className:"h-4 w-4 group-hover:translate-x-1 transition-transform"})]})]})}),s.jsx(Ee,{className:"group cursor-pointer hover:shadow-xl transition-all duration-300 border-0 shadow-lg bg-gradient-to-br from-purple-50 to-violet-50 hover:from-purple-100 hover:to-violet-100 md:col-span-1 col-span-1",children:s.jsxs(Ue,{className:"p-6 sm:p-8 text-center",children:[s.jsx("div",{className:"mx-auto w-12 h-12 sm:w-16 sm:h-16 bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl sm:rounded-2xl flex items-center justify-center mb-4 sm:mb-6 group-hover:scale-110 transition-transform shadow-lg",children:s.jsx(Xo,{className:"h-6 w-6 sm:h-8 sm:w-8 text-white"})}),s.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-900 mb-2 sm:mb-3",children:"Busca Avanada"}),s.jsx("p",{className:"text-sm sm:text-base text-gray-600 mb-3 sm:mb-4",children:"Encontrar pronturios com filtros avanados e inteligentes"}),s.jsxs("div",{className:"flex items-center justify-center text-purple-600 font-medium group-hover:gap-3 gap-2 transition-all text-sm sm:text-base",children:["Buscar agora",s.jsx(oi,{className:"h-4 w-4 group-hover:translate-x-1 transition-transform"})]})]})})]}),s.jsxs(Ee,{className:"shadow-xl border-0 bg-white/90 backdrop-blur-sm",children:[s.jsx(He,{className:"pb-4 p-4 sm:p-6",children:s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[s.jsxs(Ke,{className:"text-xl sm:text-2xl font-bold flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-lg text-white",children:s.jsx(Yr,{className:"h-5 w-5 sm:h-6 sm:w-6"})}),"Pronturios Recentes"]}),s.jsxs(ne,{variant:"outline",size:"sm",onClick:()=>r("history"),className:"text-xs sm:text-sm",children:["Ver todos",s.jsx(oi,{className:"h-4 w-4 ml-2"})]})]})}),s.jsx(Ue,{className:"p-4 sm:p-6 pt-0",children:U?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-sm sm:text-base",children:"Carregando pronturios..."})]})}):Y.length===0?s.jsxs("div",{className:"text-center py-12 text-gray-500",children:[s.jsx(Xt,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),s.jsx("p",{className:"mb-4 text-sm sm:text-base",children:"Nenhum pronturio encontrado"}),s.jsxs(ne,{onClick:()=>se(),size:"sm",children:[s.jsx(Xr,{className:"h-4 w-4 mr-2"}),"Criar Primeiro Pronturio"]})]}):s.jsx("div",{className:"space-y-3 sm:space-y-4",children:Y.slice(0,5).map(xe=>s.jsx(Ee,{className:"hover:shadow-md transition-shadow border border-gray-100",children:s.jsx(Ue,{className:"p-3 sm:p-4",children:s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start gap-3 sm:gap-4",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-3 mb-2",children:[s.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 truncate",children:xe.patient.name}),ke(xe.status)]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 sm:gap-4 text-xs sm:text-sm text-gray-600 mb-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Us,{className:"h-4 w-4 flex-shrink-0"}),s.jsx("span",{className:"truncate",children:yr(new Date(xe.record_date),"dd/MM/yyyy 's' HH:mm",{locale:xs})})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Or,{className:"h-4 w-4 flex-shrink-0"}),s.jsxs("span",{className:"truncate",children:["Dr(a). ",xe.doctor.full_name]})]})]}),xe.chief_complaint&&s.jsxs("div",{className:"mb-2",children:[s.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-700",children:"Queixa Principal:"}),s.jsx("p",{className:"text-xs sm:text-sm text-gray-600 line-clamp-2",children:xe.chief_complaint})]})]}),s.jsxs("div",{className:"flex gap-2 w-full sm:w-auto justify-end",children:[s.jsxs(ne,{variant:"outline",size:"sm",onClick:()=>de(xe.id),className:"flex-1 sm:flex-none",children:[s.jsx(Zs,{className:"h-4 w-4 sm:mr-0 mr-2"}),s.jsx("span",{className:"sm:hidden",children:"Ver"})]}),s.jsxs(ne,{variant:"outline",size:"sm",onClick:()=>le(xe.id),className:"flex-1 sm:flex-none",children:[s.jsx(rl,{className:"h-4 w-4 sm:mr-0 mr-2"}),s.jsx("span",{className:"sm:hidden",children:"Editar"})]})]})]})})},xe.id))})})]})]})}),J=()=>{switch(t){case"new":return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50",children:s.jsx(P5,{patientId:i||void 0,onSave:Ne,onCancel:je})});case"edit":return a?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50",children:s.jsx(P5,{recordId:a,onSave:Ne,onCancel:je})}):null;case"view":return a?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50",children:s.jsx(vz,{recordId:a,onEdit:le,onBack:Ie})}):null;case"history":return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs(ne,{onClick:je,variant:"outline",className:"mb-4",children:[s.jsx(oi,{className:"h-4 w-4 mr-2 rotate-180"}),"Voltar ao Dashboard"]}),s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Histrico de Pronturios"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Visualize e gerencie todos os pronturios mdicos"})]}),s.jsx(xz,{onViewRecord:de,onEditRecord:le,onNewRecord:se})]})});default:return ge()}};return s.jsxs("div",{className:"min-h-screen",children:[t!=="dashboard"&&s.jsx("div",{className:"bg-white/80 backdrop-blur-sm border-b border-gray-200 sticky top-0 z-40",children:s.jsx("div",{className:"max-w-7xl mx-auto px-6 py-4",children:s.jsxs("nav",{className:"flex items-center space-x-3 text-sm",children:[s.jsxs("button",{onClick:je,className:"flex items-center gap-2 text-blue-600 hover:text-blue-800 transition-colors font-medium",children:[s.jsx(Xt,{className:"h-4 w-4"}),"Pronturios"]}),s.jsx(oi,{className:"h-4 w-4 text-gray-400"}),s.jsxs("span",{className:"text-gray-900 font-medium",children:[t==="new"&&"Novo Pronturio",t==="edit"&&"Editar Pronturio",t==="view"&&"Visualizar Pronturio",t==="history"&&"Histrico"]})]})})}),s.jsx("main",{className:"relative",children:J()})]})});V3.displayName="MedicalRecords";const wz=e=>{const[t,r]=b.useState([]),[a,n]=b.useState([]),[i,o]=b.useState(!0),{toast:A}=ir(),l=()=>Ae(void 0,null,function*(){try{const{data:g,error:y}=yield et.from("medications").select("*").eq("patient_id",e).eq("is_active",!0).order("created_at",{ascending:!1});if(y)throw y;r(g||[])}catch(g){console.error("Erro ao buscar medicamentos:",g),A({title:"Erro",description:"No foi possvel carregar os medicamentos",variant:"destructive"})}}),c=()=>Ae(void 0,null,function*(){try{const{data:g,error:y}=yield et.from("medication_administrations").select("*").eq("patient_id",e).gte("scheduled_time",new Date().toISOString().split("T")[0]).order("scheduled_time",{ascending:!0});if(y)throw y;n(g||[])}catch(g){console.error("Erro ao buscar administraes:",g),A({title:"Erro",description:"No foi possvel carregar as administraes",variant:"destructive"})}}),d=g=>Ae(void 0,null,function*(){try{const{data:y,error:x}=yield et.from("medications").insert([M(_({},g),{patient_id:e})]).select().single();if(x)throw x;return yield h(y.id,g.times,g.start_date,g.end_date),yield l(),yield c(),A({title:"Sucesso",description:"Medicamento adicionado com sucesso"}),y}catch(y){throw console.error("Erro ao adicionar medicamento:",y),A({title:"Erro",description:"No foi possvel adicionar o medicamento",variant:"destructive"}),y}}),h=(g,y,x,B)=>Ae(void 0,null,function*(){try{const j=[],w=new Date(x),N=B?new Date(B):new Date(Date.now()+30*24*60*60*1e3);for(let U=new Date(w);U<=N;U.setDate(U.getDate()+1))for(const D of y){const[L,P]=D.split(":"),S=new Date(U);S.setHours(parseInt(L),parseInt(P),0,0),j.push({medication_id:g,patient_id:e,scheduled_time:S.toISOString(),status:"pending"})}const{error:I}=yield et.from("medication_administrations").insert(j);if(I)throw I}catch(j){throw console.error("Erro ao criar administraes programadas:",j),j}}),m=(g,y)=>Ae(void 0,null,function*(){try{const{error:x}=yield et.from("medication_administrations").update({status:"administered",administered_at:new Date().toISOString(),notes:y}).eq("id",g);if(x)throw x;yield c(),A({title:"Sucesso",description:"Medicamento marcado como administrado"})}catch(x){console.error("Erro ao marcar como administrado:",x),A({title:"Erro",description:"No foi possvel marcar o medicamento como administrado",variant:"destructive"})}}),u=(g,y)=>Ae(void 0,null,function*(){try{const{error:x}=yield et.from("medications").update(y).eq("id",g);if(x)throw x;yield l(),A({title:"Sucesso",description:"Medicamento atualizado com sucesso"})}catch(x){console.error("Erro ao atualizar medicamento:",x),A({title:"Erro",description:"No foi possvel atualizar o medicamento",variant:"destructive"})}}),p=g=>Ae(void 0,null,function*(){try{const{error:y}=yield et.from("medications").update({is_active:!1}).eq("id",g);if(y)throw y;yield l(),A({title:"Sucesso",description:"Medicamento removido com sucesso"})}catch(y){console.error("Erro ao remover medicamento:",y),A({title:"Erro",description:"No foi possvel remover o medicamento",variant:"destructive"})}});return b.useEffect(()=>{e&&Ae(void 0,null,function*(){o(!0),yield Promise.all([l(),c()]),o(!1)})},[e]),{medications:t,administrations:a,loading:i,addMedication:d,updateMedication:u,removeMedication:p,markAsAdministered:m,refetch:()=>Promise.all([l(),c()])}},bz=({isOpen:e,onClose:t,onDataReceived:r})=>{const[a,n]=b.useState(""),[i,o]=b.useState(""),[A,l]=b.useState(!1),c=b.useRef(null),{toast:d}=ir(),h=b.useRef(null),m=()=>`qr_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,u=w=>Ae(void 0,null,function*(){try{const I=`${window.location.origin}/mobile-capture/${w}`,U=c.current;U&&(yield fm.toCanvas(U,I,{width:300,margin:2,color:{dark:"#000000",light:"#FFFFFF"}}));const D=yield fm.toDataURL(I,{width:300,margin:2});n(D),p(I)}catch(N){console.error("Erro ao gerar QR Code:",N),d({title:"Erro",description:"No foi possvel gerar o QR Code",variant:"destructive"})}}),p=w=>{d({title:"QR Code Gerado",description:"Escaneie o QR Code com seu celular ou acesse manualmente a URL exibida",variant:"default"}),navigator.clipboard&&navigator.clipboard.writeText(w).catch(()=>{})},g=w=>{l(!0),h.current=setInterval(()=>Ae(void 0,null,function*(){try{const N=localStorage.getItem(`qr_session_${w}`);if(N){const I=JSON.parse(N);r(I),localStorage.removeItem(`qr_session_${w}`),l(!1),t(),d({title:"Sucesso",description:"Dados da receita recebidos com sucesso!",variant:"default"})}}catch(N){console.error("Erro ao verificar dados:",N)}}),2e3)},y=()=>{h.current&&(clearInterval(h.current),h.current=null),l(!1)},x=()=>{const N=`${window.location.origin}/mobile-capture/${i}`;window.open(N,"_blank")?d({title:"Link Aberto",description:"O link foi aberto em uma nova aba. Se estiver no celular, use essa aba para capturar a receita.",variant:"default"}):(B(),d({title:"Bloqueio de Pop-up",description:"No foi possvel abrir automaticamente. URL copiada para rea de transferncia.",variant:"default"}))},B=()=>Ae(void 0,null,function*(){try{const N=`${window.location.origin}/mobile-capture/${i}`;yield navigator.clipboard.writeText(N),d({title:"Copiado",description:"URL copiada para a rea de transferncia",variant:"default"})}catch(w){d({title:"Erro",description:"No foi possvel copiar a URL",variant:"destructive"})}}),j=()=>{y();const w=m();o(w),u(w),g(w)};return b.useEffect(()=>{if(e){const w=m();o(w),u(w),g(w)}else y(),n(""),o("");return()=>{y()}},[e]),b.useEffect(()=>()=>{y()},[]),s.jsx(Rn,{open:e,onOpenChange:t,children:s.jsxs(wn,{className:"sm:max-w-md",children:[s.jsx(bn,{children:s.jsxs(yn,{className:"flex items-center justify-between",children:["Capturar Receita - QR Code",s.jsx(ne,{variant:"ghost",size:"sm",onClick:t,className:"h-6 w-6 p-0",children:s.jsx(ja,{className:"h-4 w-4"})})]})}),s.jsxs("div",{className:"flex flex-col items-center space-y-4 p-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Escaneie o QR Code com seu celular para capturar a receita mdica"}),s.jsx("p",{className:"text-xs text-blue-600",children:' Dica: Clique em "Abrir no Celular" para acesso direto'})]}),s.jsx("div",{className:"border-2 border-gray-200 rounded-lg p-4 bg-white",children:s.jsx("canvas",{ref:c,className:"max-w-full h-auto"})}),A&&s.jsxs("div",{className:"flex items-center space-x-2 text-blue-600",children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600"}),s.jsx("span",{className:"text-sm",children:"Aguardando captura..."})]}),s.jsxs("div",{className:"grid grid-cols-1 gap-2 w-full",children:[s.jsxs(ne,{onClick:x,className:"w-full",size:"lg",children:[s.jsx(LB,{className:"h-4 w-4 mr-2"}),"Abrir no Celular"]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs(ne,{variant:"outline",size:"sm",onClick:B,className:"flex-1",children:[s.jsx(Nd,{className:"h-4 w-4 mr-2"}),"Copiar URL"]}),s.jsxs(ne,{variant:"outline",size:"sm",onClick:j,className:"flex-1",children:[s.jsx(vm,{className:"h-4 w-4 mr-2"}),"Atualizar"]})]})]}),s.jsxs("div",{className:"text-xs text-gray-500 text-center",children:[s.jsx("p",{children:"Ou acesse manualmente:"}),s.jsxs("p",{className:"font-mono break-all",children:[window.location.origin,"/mobile-capture/",i]})]})]})]})})},yz=()=>{const[e,t]=b.useState({isMobile:!1,isTablet:!1,isDesktop:!0,userAgent:"",screenWidth:0,screenHeight:0});return b.useEffect(()=>{const r=()=>{const n=navigator.userAgent.toLowerCase(),i=window.innerWidth,o=window.innerHeight,A=/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i,l=/ipad|android(?!.*mobile)|tablet/i,c=i<=768,d=i>768&&i<=1024,h=A.test(n),m=l.test(n),u=h||c&&!m,p=m||d&&!h;t({isMobile:u,isTablet:p,isDesktop:!u&&!p,userAgent:n,screenWidth:i,screenHeight:o})};r();const a=()=>{r()};return window.addEventListener("resize",a),()=>{window.removeEventListener("resize",a)}},[]),e},Bz=({patientId:e,patientName:t})=>{const{toast:r}=ir(),{isDesktop:a}=yz(),{medications:n,administrations:i,loading:o,addMedication:A,updateMedication:l,removeMedication:c,markAsAdministered:d}=wz(e),[h,m]=b.useState(new Date().toISOString().split("T")[0]),[u,p]=b.useState(!1),[g,y]=b.useState(!1),[x,B]=b.useState(!1),[j,w]=b.useState({name:"",dose:"",frequency:"once_daily",times:["08:00"],instructions:"",is_active:!0}),N=[{value:"once_daily",label:"Uma vez ao dia",times:["08:00"]},{value:"twice_daily",label:"Duas vezes ao dia",times:["08:00","20:00"]},{value:"three_times_daily",label:"Trs vezes ao dia",times:["08:00","14:00","20:00"]},{value:"four_times_daily",label:"Quatro vezes ao dia",times:["06:00","12:00","18:00","22:00"]},{value:"every_6_hours",label:"A cada 6 horas",times:["06:00","12:00","18:00","00:00"]},{value:"every_8_hours",label:"A cada 8 horas",times:["08:00","16:00","00:00"]},{value:"every_12_hours",label:"A cada 12 horas",times:["08:00","20:00"]},{value:"as_needed",label:"Se necessrio",times:[]},{value:"custom",label:"Personalizado",times:[]}],I=Y=>{var q;return((q=N.find(K=>K.value===Y))==null?void 0:q.label)||Y},U=Y=>{const q=N.find(K=>K.value===Y);q&&w(K=>M(_({},K),{frequency:Y,times:q.times}))},D=()=>{w(Y=>M(_({},Y),{times:[...Y.times,"08:00"]}))},L=Y=>{w(q=>M(_({},q),{times:q.times.filter((K,Z)=>Z!==Y)}))},P=(Y,q)=>{w(K=>M(_({},K),{times:K.times.map((Z,fe)=>fe===Y?q:Z)}))},S=()=>Ae(void 0,null,function*(){if(!j.name||!j.dose){r({title:"Erro",description:"Nome e dose so obrigatrios.",variant:"destructive"});return}try{yield A(M(_({},j),{patient_id:e,start_date:new Date().toISOString().split("T")[0]})),w({name:"",dose:"",frequency:"once_daily",times:["08:00"],instructions:"",is_active:!0}),p(!1),r({title:"Medicamento adicionado",description:`${j.name} foi adicionado ao plano de medicao.`,variant:"default"})}catch(Y){r({title:"Erro",description:"No foi possvel adicionar o medicamento.",variant:"destructive"})}}),E=Y=>Ae(void 0,null,function*(){try{yield c(Y),r({title:"Medicamento removido",description:"O medicamento foi removido do plano.",variant:"default"})}catch(q){r({title:"Erro",description:"No foi possvel remover o medicamento.",variant:"destructive"})}}),Q=(Y,q,K)=>i.some(Z=>{const fe=new Date(Z.scheduled_time).toISOString().split("T")[0],we=new Date(Z.scheduled_time).toTimeString().slice(0,5);return Z.medication_id===Y.id&&we===q&&fe===K&&Z.status==="administered"}),V=(Y,q)=>Ae(void 0,null,function*(){try{const K=i.find(Z=>{const fe=new Date(Z.scheduled_time).toISOString().split("T")[0],we=new Date(Z.scheduled_time).toTimeString().slice(0,5);return Z.medication_id===Y.id&&we===q&&fe===h&&Z.status==="pending"});K?(yield d(K.id),r({title:"Administrao registrada",description:`${Y.name} s ${q} foi marcado como administrado.`,variant:"default"})):r({title:"Erro",description:"No foi possvel encontrar a administrao pendente.",variant:"destructive"})}catch(K){r({title:"Erro",description:"No foi possvel registrar a administrao.",variant:"destructive"})}}),ae=Y=>{if(Y.medications&&Y.medications.length>0){const q=Y.medications[0];w({name:q.name||"",dose:q.dose||"",frequency:q.frequency||"once_daily",times:q.times||["08:00"],instructions:q.instructions||"",is_active:!0}),p(!0)}y(!1)};return o?s.jsxs("div",{className:"flex items-center justify-center p-8",children:[s.jsx(Ms,{className:"w-8 h-8 animate-spin"}),s.jsx("span",{className:"ml-2",children:"Carregando plano de medicao..."})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Plano de Medicao"}),s.jsxs("p",{className:"text-gray-600",children:["Paciente: ",t]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs(ne,{onClick:()=>a?B(!0):y(!0),variant:"outline",className:"flex items-center space-x-2",children:[s.jsx(On,{className:"w-4 h-4"}),s.jsx("span",{children:"Capturar Receita"})]}),s.jsxs(Rn,{open:u,onOpenChange:p,children:[s.jsx(Bx,{asChild:!0,children:s.jsxs(ne,{children:[s.jsx(Xr,{className:"w-4 h-4 mr-2"}),"Adicionar Medicamento"]})}),s.jsxs(wn,{className:"max-w-2xl",children:[s.jsxs(bn,{children:[s.jsx(yn,{children:"Adicionar Novo Medicamento"}),s.jsx(Yo,{children:"Preencha as informaes do medicamento para adicionar ao plano de tratamento."})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"name",children:"Nome do Medicamento"}),s.jsx(_e,{id:"name",value:j.name,onChange:Y=>w(q=>M(_({},q),{name:Y.target.value})),placeholder:"Ex: Paracetamol"})]}),s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"dose",children:"Dose"}),s.jsx(_e,{id:"dose",value:j.dose,onChange:Y=>w(q=>M(_({},q),{dose:Y.target.value})),placeholder:"Ex: 500mg"})]})]}),s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"frequency",children:"Frequncia"}),s.jsxs(kt,{value:j.frequency,onValueChange:U,children:[s.jsx(Et,{children:s.jsx(Lt,{})}),s.jsx(Ut,{children:N.map(Y=>s.jsx(Se,{value:Y.value,children:Y.label},Y.value))})]})]}),(j.frequency==="custom"||j.frequency==="as_needed")&&s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx(ie,{children:"Horrios"}),s.jsxs(ne,{type:"button",variant:"outline",size:"sm",onClick:D,children:[s.jsx(Xr,{className:"w-4 h-4 mr-1"}),"Adicionar Horrio"]})]}),s.jsx("div",{className:"space-y-2",children:j.times.map((Y,q)=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(_e,{type:"time",value:Y,onChange:K=>P(q,K.target.value),className:"flex-1"}),j.times.length>1&&s.jsx(ne,{type:"button",variant:"outline",size:"sm",onClick:()=>L(q),children:s.jsx(ha,{className:"w-4 h-4"})})]},q))})]}),s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"instructions",children:"Instrues (opcional)"}),s.jsx(_e,{id:"instructions",value:j.instructions,onChange:Y=>w(q=>M(_({},q),{instructions:Y.target.value})),placeholder:"Ex: Tomar aps as refeies"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ju,{id:"is_active",checked:j.is_active,onCheckedChange:Y=>w(q=>M(_({},q),{is_active:!!Y}))}),s.jsx(ie,{htmlFor:"is_active",children:"Medicamento ativo"})]})]}),s.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[s.jsx(ne,{variant:"outline",onClick:()=>p(!1),children:"Cancelar"}),s.jsxs(ne,{onClick:S,children:[s.jsx(Xr,{className:"w-4 h-4 mr-2"}),s.jsx("span",{children:"Adicionar"})]})]})]})]})]})]}),s.jsxs(Ee,{children:[s.jsx(He,{children:s.jsxs(Ke,{className:"flex items-center space-x-2",children:[s.jsx(Us,{className:"w-5 h-5"}),s.jsx("span",{children:"Filtrar por Data"})]})}),s.jsx(Ue,{children:s.jsx(_e,{type:"date",value:h,onChange:Y=>m(Y.target.value),className:"max-w-xs"})})]}),s.jsx("div",{className:"space-y-4",children:n.length===0?s.jsx(Ee,{children:s.jsxs(Ue,{className:"flex flex-col items-center justify-center py-12",children:[s.jsx(mr,{className:"w-12 h-12 text-gray-400 mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nenhum medicamento cadastrado"}),s.jsx("p",{className:"text-gray-500 text-center mb-4",children:"Adicione medicamentos ao plano de tratamento do paciente"}),s.jsxs(ne,{onClick:()=>p(!0),children:[s.jsx(Xr,{className:"w-4 h-4 mr-2"}),"Adicionar Primeiro Medicamento"]})]})}):n.map(Y=>s.jsxs(Ee,{className:"overflow-hidden",children:[s.jsx(He,{className:"pb-3",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs(Ke,{className:"flex items-center space-x-2",children:[s.jsx(mr,{className:"w-5 h-5 text-blue-600"}),s.jsx("span",{children:Y.name}),s.jsx(At,{variant:Y.is_active?"default":"secondary",children:Y.is_active?"Ativo":"Inativo"})]}),s.jsxs(St,{className:"mt-1",children:[Y.dose,"  ",I(Y.frequency),Y.instructions&&s.jsx("span",{className:"block text-sm text-gray-600 mt-1",children:Y.instructions})]})]}),s.jsx("div",{className:"flex items-center space-x-2",children:s.jsx(ne,{variant:"ghost",size:"sm",onClick:()=>E(Y.id),children:s.jsx(ha,{className:"w-4 h-4"})})})]})}),s.jsx(Ue,{children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[s.jsx(Yr,{className:"w-4 h-4"}),s.jsx("span",{children:"Horrios de administrao:"})]}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:Y.times.map((q,K)=>{const Z=Q(Y,q,h);return s.jsxs("div",{className:`p-3 rounded-lg border-2 transition-colors ${Z?"border-green-200 bg-green-50":"border-gray-200 bg-gray-50"}`,children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"font-medium",children:q}),s.jsx(ne,{size:"sm",variant:Z?"default":"outline",onClick:()=>!Z&&V(Y,q),disabled:Z,className:"ml-2",children:Z?s.jsx(Wo,{className:"w-4 h-4"}):s.jsx(MB,{className:"w-4 h-4"})})]}),s.jsx("p",{className:"text-xs mt-1",children:Z?"Administrado":"Pendente"})]},K)})})]})})]},Y.id))}),s.jsxs(Ee,{children:[s.jsx(He,{children:s.jsxs(Ke,{className:"flex items-center space-x-2",children:[s.jsx(Tr,{className:"w-5 h-5"}),s.jsx("span",{children:"Resumo do Dia"}),s.jsxs("span",{className:"text-sm font-normal text-gray-500",children:["(",new Date(h).toLocaleDateString("pt-BR"),")"]})]})}),s.jsx(Ue,{children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[s.jsx("p",{className:"text-2xl font-bold text-green-600",children:n.reduce((Y,q)=>Y+q.times.filter(K=>Q(q,K,h)).length,0)}),s.jsx("p",{className:"text-sm text-green-700",children:"Administradas"})]}),s.jsxs("div",{className:"text-center p-4 bg-orange-50 rounded-lg",children:[s.jsx("p",{className:"text-2xl font-bold text-orange-600",children:n.reduce((Y,q)=>Y+q.times.filter(K=>!Q(q,K,h)).length,0)}),s.jsx("p",{className:"text-sm text-orange-700",children:"Pendentes"})]})]})})]}),s.jsx(aw,{isOpen:g,onClose:()=>y(!1),onDataExtracted:ae}),s.jsx(bz,{isOpen:x,onClose:()=>B(!1),onDataReceived:ae})]})},jz=({onPatientSelect:e,selectedPatientId:t,className:r=""})=>{const[a,n]=b.useState([]),[i,o]=b.useState([]),[A,l]=b.useState(!0),[c,d]=b.useState(""),[h,m]=b.useState("patient"),[u,p]=b.useState(new Set);b.useEffect(()=>{g()},[]);const g=()=>Ae(void 0,null,function*(){try{l(!0);const{data:w,error:N}=yield et.from("patients").select("*").order("name");if(N)throw N;const{data:I,error:U}=yield et.from("profiles").select("*").order("full_name");if(U)throw U;const{data:D,error:L}=yield et.from("medical_records").select("patient_id, doctor_id");if(L)throw L;const P=new Map;D==null||D.forEach(E=>{var Q;P.has(E.patient_id)||P.set(E.patient_id,new Set),(Q=P.get(E.patient_id))==null||Q.add(E.doctor_id)});const S=(w||[]).map(E=>M(_({},E),{doctors:(I||[]).filter(Q=>{var V;return(V=P.get(E.id))==null?void 0:V.has(Q.id)})}));n(S),o(I||[])}catch(w){console.error("Erro ao carregar dados:",w)}finally{l(!1)}}),y=b.useMemo(()=>c?a.filter(w=>{var U;const N=w.name.toLowerCase().includes(c.toLowerCase())||((U=w.full_name)==null?void 0:U.toLowerCase().includes(c.toLowerCase())),I=w.doctors.some(D=>{var L;return((L=D.full_name)==null?void 0:L.toLowerCase().includes(c.toLowerCase()))||D.email.toLowerCase().includes(c.toLowerCase())});return N||I}):a,[a,c]),x=b.useMemo(()=>{if(h==="patient"){const w=new Map;return y.forEach(N=>{var U;const I=N.name.charAt(0).toUpperCase();w.has(I)||w.set(I,[]),(U=w.get(I))==null||U.push(N)}),Array.from(w.entries()).sort(([N],[I])=>N.localeCompare(I))}else{const w=new Map;return y.forEach(N=>{var I;N.doctors.length===0?(w.has("Sem mdico atribudo")||w.set("Sem mdico atribudo",[]),(I=w.get("Sem mdico atribudo"))==null||I.push(N)):N.doctors.forEach(U=>{var L;const D=U.full_name||U.email;w.has(D)||w.set(D,[]),(L=w.get(D))==null||L.push(N)})}),Array.from(w.entries()).sort(([N],[I])=>N.localeCompare(I))}},[y,h]),B=w=>{const N=new Set(u);N.has(w)?N.delete(w):N.add(w),p(N)},j=w=>{const N=new Date,I=new Date(w);let U=N.getFullYear()-I.getFullYear();const D=N.getMonth()-I.getMonth();return(D<0||D===0&&N.getDate()<I.getDate())&&U--,U};return A?s.jsx(Ee,{className:r,children:s.jsx(Ue,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-center py-8",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),s.jsx("span",{className:"ml-2",children:"Carregando pacientes..."})]})})}):s.jsx(Ee,{className:r,children:s.jsx(Ue,{className:"p-4",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(Xo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsx(_e,{placeholder:"Buscar por paciente ou mdico...",value:c,onChange:w=>d(w.target.value),className:"pl-10"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(ne,{variant:h==="patient"?"default":"outline",size:"sm",onClick:()=>m("patient"),className:"flex items-center gap-2",children:[s.jsx(Or,{className:"h-4 w-4"}),"Por Paciente"]}),s.jsxs(ne,{variant:h==="doctor"?"default":"outline",size:"sm",onClick:()=>m("doctor"),className:"flex items-center gap-2",children:[s.jsx(Xs,{className:"h-4 w-4"}),"Por Mdico"]})]})]}),s.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:x.length===0?s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(Xs,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),s.jsx("p",{children:"Nenhum paciente encontrado"})]}):x.map(([w,N])=>s.jsxs("div",{className:"border rounded-lg",children:[s.jsx("button",{onClick:()=>B(w),className:"w-full flex items-center justify-between p-3 hover:bg-gray-50 transition-colors",children:s.jsxs("div",{className:"flex items-center gap-2",children:[u.has(w)?s.jsx(Mu,{className:"h-4 w-4"}):s.jsx(Tu,{className:"h-4 w-4"}),s.jsx("span",{className:"font-medium",children:w}),s.jsx(At,{variant:"secondary",className:"ml-2",children:N.length})]})}),u.has(w)&&s.jsx("div",{className:"border-t",children:N.map(I=>s.jsx("button",{onClick:()=>e(I),className:`w-full text-left p-3 hover:bg-blue-50 transition-colors border-b last:border-b-0 ${t===I.id?"bg-blue-100 border-blue-200":""}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-gray-900",children:I.name}),s.jsxs("div",{className:"text-sm text-gray-600",children:[j(I.birth_date)," anos",I.bed&&`  Leito ${I.bed}`]}),h==="patient"&&I.doctors.length>0&&s.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Mdicos: ",I.doctors.map(U=>U.full_name||U.email).join(", ")]})]}),t===I.id&&s.jsx(At,{variant:"default",className:"ml-2",children:"Selecionado"})]})},I.id))})]},w))}),s.jsxs("div",{className:"text-sm text-gray-500 pt-2 border-t",children:["Total: ",y.length," paciente",y.length!==1?"s":"",c&&` (filtrado de ${a.length})`]})]})})})},M5=()=>{const{patientId:e}=ll(),t=Zr(),{patients:r,loading:a}=xi(),[n,i]=b.useState(null),[o,A]=b.useState(!1);b.useEffect(()=>{if(e&&r.length>0){const d=r.find(h=>h.id===e);i(d||null)}else e||A(!0)},[e,r]);const l=d=>{i(d),A(!1),t(`/medication-plan/${d.id}`,{replace:!0})},c=()=>{A(!0),i(null)};return!e||o?s.jsxs("div",{className:"container mx-auto p-4",children:[s.jsxs("div",{className:"mb-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[s.jsx(Xs,{className:"h-8 w-8 text-blue-600"}),"Plano de Medicao"]}),s.jsxs(ne,{variant:"outline",onClick:()=>t("/patients"),children:[s.jsx(zi,{className:"h-4 w-4 mr-2"}),"Voltar para Pacientes"]})]}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Selecione um paciente para visualizar e gerenciar seu plano de medicao."})]}),s.jsx(jz,{onPatientSelect:l,selectedPatientId:n==null?void 0:n.id,className:"max-w-4xl mx-auto"})]}):a?s.jsx("div",{className:"container mx-auto p-4",children:s.jsxs("div",{className:"flex items-center justify-center py-8",children:[s.jsx(Ms,{className:"h-8 w-8 animate-spin mr-2"}),s.jsx("span",{children:"Carregando informaes do paciente..."})]})}):n?s.jsxs("div",{className:"container mx-auto p-4",children:[s.jsx("div",{className:"mb-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(ne,{variant:"outline",onClick:()=>t("/patients"),className:"mb-4",children:[s.jsx(zi,{className:"h-4 w-4 mr-2"}),"Voltar para Pacientes"]}),s.jsxs(ne,{variant:"outline",onClick:c,className:"mb-4",children:[s.jsx(Xs,{className:"h-4 w-4 mr-2"}),"Trocar Paciente"]})]})}),s.jsx(Bz,{patientId:n.id,patientName:n.name})]}):s.jsx("div",{className:"container mx-auto p-4",children:s.jsxs("div",{className:"text-center py-8",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Paciente no encontrado"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"O paciente solicitado no foi encontrado."}),s.jsxs(ne,{onClick:()=>t("/patients"),children:[s.jsx(zi,{className:"h-4 w-4 mr-2"}),"Voltar para Lista de Pacientes"]})]})})};function Cz(){const[e,t]=b.useState(""),[r,a]=b.useState(""),[n,i]=b.useState(!1),[o,A]=b.useState(!1),[l,c]=b.useState(""),d=Zr(),{toast:h}=ir(),{login:m,isAuthenticated:u,isLoading:p}=Ca();b.useEffect(()=>{!p&&u&&d("/",{replace:!0})},[u,p,d]);const g=[{email:"admin@hospital.com",password:"admin123",role:"admin",name:"Administrador Sistema",hospital:"Hospital Central"},{email:"amir.charruf@hospital.com",password:"amir123",role:"doctor",name:"Dr. Amir Charruf",hospital:"Hospital Central"},{email:"maria.santos@hospital.com",password:"enfermeira123",role:"nurse",name:"Enf Maria Santos",hospital:"Hospital Central"}],y=x=>Ae(this,null,function*(){x.preventDefault(),A(!0),c(""),yield new Promise(j=>setTimeout(j,1e3));const B=g.find(j=>j.email===e&&j.password===r);if(B){const j={id:Date.now().toString(),email:B.email,name:B.name,role:B.role,hospital:B.hospital,isAuthenticated:!0};m(j),h({title:"Login realizado com sucesso!",description:`Bem-vindo(a), ${B.name}`}),d("/",{replace:!0})}else c("Email ou senha incorretos. Tente novamente.");A(!1)});return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-white to-red-50 p-4",children:s.jsxs("div",{className:"w-full max-w-md space-y-6",children:[s.jsxs("div",{className:"text-center space-y-2",children:[s.jsx("div",{className:"mx-auto w-20 h-20 bg-white rounded-full flex items-center justify-center shadow-lg border border-red-100",children:s.jsx(Bu,{size:"md"})}),s.jsx("h1",{className:"text-2xl font-bold text-red-900",children:"MediCare"}),s.jsx("p",{className:"text-red-700",children:"Sistema de Gesto Hospitalar"})]}),s.jsxs(Ee,{className:"shadow-xl border-red-100 bg-white",children:[s.jsxs(He,{className:"space-y-1 bg-gradient-to-r from-red-800 to-red-900 text-white rounded-t-lg",children:[s.jsx(Ke,{className:"text-2xl text-center text-white",children:"Entrar"}),s.jsx(St,{className:"text-center text-red-100",children:"Digite suas credenciais para acessar o sistema"})]}),s.jsxs(Ue,{className:"p-6",children:[s.jsxs("form",{onSubmit:y,className:"space-y-4",children:[l&&s.jsx(en,{variant:"destructive",className:"border-red-200 bg-red-50",children:s.jsx(tn,{className:"text-red-800",children:l})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ie,{htmlFor:"email",className:"text-red-900 font-medium",children:"Email"}),s.jsxs("div",{className:"relative",children:[s.jsx(Or,{className:"absolute left-3 top-3 h-4 w-4 text-red-400"}),s.jsx(_e,{id:"email",type:"email",placeholder:"seu.email@hospital.com",value:e,onChange:x=>t(x.target.value),className:"pl-10 border-red-200 focus:border-red-500 focus:ring-red-500",required:!0})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ie,{htmlFor:"password",className:"text-red-900 font-medium",children:"Senha"}),s.jsxs("div",{className:"relative",children:[s.jsx(Gi,{className:"absolute left-3 top-3 h-4 w-4 text-red-400"}),s.jsx(_e,{id:"password",type:n?"text":"password",placeholder:"Digite sua senha",value:r,onChange:x=>a(x.target.value),className:"pl-10 pr-10 border-red-200 focus:border-red-500 focus:ring-red-500",required:!0}),s.jsx(ne,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-red-50",onClick:()=>i(!n),children:n?s.jsx(tl,{className:"h-4 w-4 text-red-400"}):s.jsx(Zs,{className:"h-4 w-4 text-red-400"})})]})]}),s.jsx(ne,{type:"submit",className:"w-full bg-gradient-to-r from-red-800 to-red-900 hover:from-red-900 hover:to-red-950 text-white font-medium py-2.5",disabled:o,children:o?"Entrando...":"Entrar"})]}),s.jsxs("div",{className:"mt-6 p-4 bg-red-50 rounded-lg border border-red-100",children:[s.jsx("h3",{className:"text-sm font-medium text-red-900 mb-2",children:"Credenciais de Demonstrao:"}),s.jsxs("div",{className:"space-y-2 text-xs text-red-700",children:[s.jsxs("div",{children:[s.jsx("strong",{children:"Administrador:"})," admin@hospital.com / admin123"]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Mdico:"})," amir.charruf@hospital.com / amir123"]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Enfermeiro:"})," maria.santos@hospital.com / enfermeira123"]})]})]})]})]}),s.jsx("div",{className:"text-center text-sm text-red-600",children:" 2024 MediCare. Todos os direitos reservados."})]})})}const Nz=()=>{const e=La();return b.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),s.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-100",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),s.jsx("p",{className:"mb-4 text-xl text-gray-600",children:"Oops! Page not found"}),s.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/80",children:"Return to Home"})]})})},z3=({children:e,patient:t,permissions:r,currentPage:a})=>{const n=Zr(),{patientId:i,token:o}=ll(),[A,l]=b.useState(!1),c=[{id:"dashboard",label:"Painel",icon:kE,path:`/family/${i}/${o}/dashboard`},{id:"care",label:"Cuidados",icon:Tr,path:`/family/${i}/${o}/care`,disabled:!(r!=null&&r.canEdit)},{id:"medical",label:"Pronturio",icon:Xt,path:`/family/${i}/${o}/medical`}],d=()=>{n("/family/login")};return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsxs("header",{className:"bg-white border-b border-gray-200 sticky top-0 z-50",children:[s.jsx("div",{className:"px-4 py-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center overflow-hidden",children:t.photo?s.jsx("img",{src:t.photo,alt:t.full_name,className:"w-full h-full object-cover"}):s.jsx(Or,{className:"w-4 h-4 text-blue-600"})}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("h1",{className:"text-sm font-semibold text-gray-900 truncate",children:t.full_name}),s.jsxs("div",{className:"flex items-center space-x-2 text-xs text-gray-500",children:[s.jsxs("span",{children:["Leito ",t.bed]}),s.jsx("span",{children:""}),s.jsx("span",{children:new Date(t.birth_date).toLocaleDateString()})]})]})]}),s.jsxs("div",{className:"hidden md:flex items-center space-x-2",children:[c.map(h=>s.jsxs(ne,{variant:a===h.id?"default":"ghost",size:"sm",onClick:()=>n(h.path),disabled:h.disabled,className:"flex items-center space-x-1",children:[s.jsx(h.icon,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden lg:inline",children:h.label})]},h.id)),s.jsxs(ne,{variant:"ghost",size:"sm",onClick:d,className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:[s.jsx(ix,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden lg:inline ml-1",children:"Sair"})]})]}),s.jsx(ne,{variant:"ghost",size:"sm",className:"md:hidden",onClick:()=>l(!A),children:A?s.jsx(ja,{className:"w-4 h-4"}):s.jsx(PE,{className:"w-4 h-4"})})]})}),A&&s.jsx("div",{className:"md:hidden border-t border-gray-200 bg-white",children:s.jsxs("div",{className:"px-4 py-2 space-y-1",children:[c.map(h=>s.jsxs(ne,{variant:a===h.id?"default":"ghost",size:"sm",onClick:()=>{n(h.path),l(!1)},disabled:h.disabled,className:"w-full justify-start",children:[s.jsx(h.icon,{className:"w-4 h-4 mr-2"}),h.label]},h.id)),s.jsxs(ne,{variant:"ghost",size:"sm",onClick:d,className:"w-full justify-start text-red-600 hover:text-red-700 hover:bg-red-50",children:[s.jsx(ix,{className:"w-4 h-4 mr-2"}),"Sair"]})]})})]}),s.jsx("main",{className:"flex-1",children:e}),s.jsx("footer",{className:"bg-white border-t border-gray-200 py-2",children:s.jsx("div",{className:"px-4",children:s.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(Qr,{className:"w-3 h-3 text-red-500"}),s.jsx("span",{children:"MediCare Family"})]}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(Us,{className:"w-3 h-3"}),s.jsx("span",{children:new Date().toLocaleDateString()})]})]})})})]})},_z=({patient:e,permissions:t,onClose:r,onSave:a})=>{const[n,i]=b.useState({type:"",occurred_at:(()=>{const p=new Date,g=p.getTimezoneOffset()*6e4;return new Date(p.getTime()-g).toISOString().slice(0,16)})(),volume_ml:"",meal_desc:"",med_name:"",med_dose:"",bathroom_type:"",notes:""}),[o,A]=b.useState(!1),{addEvent:l}=ul(),{toast:c}=ir(),h=t?[{value:"drink",label:"Lquidos",icon:Jo,color:"text-blue-600",permission:"canRegisterLiquids"},{value:"meal",label:"Alimentao",icon:sl,color:"text-orange-600",permission:"canRegisterMeals"},{value:"med",label:"Medicamentos",icon:mr,color:"text-green-600",permission:"canRegisterMedications"},{value:"bathroom",label:"Banheiro",icon:Lv,color:"text-gray-600",permission:"canRegisterActivities"},{value:"note",label:"Anotaes",icon:Tr,color:"text-purple-600",permission:"canRegisterActivities"}].filter(p=>t[p.permission]):[],m=p=>Ae(void 0,null,function*(){if(p.preventDefault(),!t||!t.canEdit){c({title:"Acesso Negado",description:"Voc no tem permisso para registrar cuidados. Seu acesso  somente leitura.",variant:"destructive"});return}if(!n.type){c({title:"Erro",description:"Selecione o tipo de cuidado",variant:"destructive"});return}A(!0);try{yield l({patient_id:e.id,type:n.type,occurred_at:n.occurred_at,volume_ml:n.volume_ml?parseInt(n.volume_ml):void 0,meal_desc:n.meal_desc||void 0,med_name:n.med_name||void 0,med_dose:n.med_dose||void 0,bathroom_type:n.bathroom_type||void 0,notes:n.notes||void 0}),c({title:"Sucesso",description:"Registro de cuidado adicionado com sucesso"}),a(),r()}catch(g){c({title:"Erro",description:"Erro ao salvar registro de cuidado",variant:"destructive"})}finally{A(!1)}}),u=()=>{switch(n.type){case"drink":return s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"volume_ml",children:"Volume (ml)"}),s.jsx(_e,{id:"volume_ml",type:"number",placeholder:"Ex: 250",value:n.volume_ml,onChange:p=>i(g=>M(_({},g),{volume_ml:p.target.value})),disabled:!t||!t.canEdit})]})});case"meal":return s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"meal_desc",children:"Descrio da Refeio"}),s.jsx(_e,{id:"meal_desc",placeholder:"Ex: Almoo - Arroz, feijo, frango",value:n.meal_desc,onChange:p=>i(g=>M(_({},g),{meal_desc:p.target.value})),disabled:!t||!t.canEdit})]})});case"med":return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"med_name",children:"Nome do Medicamento"}),s.jsx(_e,{id:"med_name",placeholder:"Ex: Dipirona",value:n.med_name,onChange:p=>i(g=>M(_({},g),{med_name:p.target.value})),disabled:!t||!t.canEdit})]}),s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"med_dose",children:"Dosagem"}),s.jsx(_e,{id:"med_dose",placeholder:"Ex: 500mg",value:n.med_dose,onChange:p=>i(g=>M(_({},g),{med_dose:p.target.value})),disabled:!t||!t.canEdit})]})]});case"bathroom":return s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"bathroom_type",children:"Tipo"}),s.jsxs(kt,{value:n.bathroom_type,onValueChange:p=>i(g=>M(_({},g),{bathroom_type:p})),disabled:!t||!t.canEdit,children:[s.jsx(Et,{children:s.jsx(Lt,{placeholder:"Selecione o tipo"})}),s.jsxs(Ut,{children:[s.jsx(Se,{value:"urine",children:"Urina"}),s.jsx(Se,{value:"stool",children:"Fezes"}),s.jsx(Se,{value:"mixed",children:"Ambos"})]})]})]})});default:return null}};return s.jsxs(Ee,{className:"medical-card",children:[s.jsx(He,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[s.jsx("div",{className:"w-12 h-12 rounded-full overflow-hidden border-2 border-primary/20 flex-shrink-0",children:e.photo?s.jsx("img",{src:e.photo,alt:`Foto de ${e.full_name}`,className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full bg-gradient-to-br from-primary/10 to-primary/20 flex items-center justify-center",children:s.jsx(Qr,{className:"h-6 w-6 text-primary/60"})})}),s.jsxs("div",{children:[s.jsxs(Ke,{className:"flex items-center gap-2",children:[s.jsx(Qr,{className:"h-5 w-5 text-red-500"}),"Registrar Cuidado"]}),s.jsxs(St,{children:["Adicionar novo registro de cuidado para ",e.full_name]})]})]}),s.jsx(ne,{variant:"ghost",size:"icon",onClick:r,children:s.jsx(ja,{className:"h-4 w-4"})})]})}),s.jsxs(Ue,{children:[t&&!t.canEdit&&s.jsxs("div",{className:"mb-4 p-4 bg-yellow-50 border border-yellow-200 rounded-md",children:[s.jsxs("div",{className:"flex items-center gap-2 text-yellow-800",children:[s.jsx(Tr,{className:"h-4 w-4"}),s.jsx("span",{className:"font-medium",children:"Acesso Somente Leitura"})]}),s.jsx("p",{className:"text-sm text-yellow-700 mt-1",children:"Voc tem permisso apenas para visualizar os dados. Para registrar cuidados, solicite acesso de edio."})]}),s.jsxs("form",{onSubmit:m,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"type",children:"Tipo de Cuidado *"}),s.jsxs(kt,{value:n.type,onValueChange:p=>i(g=>M(_({},g),{type:p})),disabled:!t||!t.canEdit,children:[s.jsx(Et,{children:s.jsx(Lt,{placeholder:"Selecione o tipo de cuidado"})}),s.jsx(Ut,{children:h.map(p=>{const g=p.icon;return s.jsx(Se,{value:p.value,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(g,{className:`h-4 w-4 ${p.color}`}),p.label]})},p.value)})})]})]}),s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"occurred_at",children:"Data e Hora *"}),s.jsx(_e,{id:"occurred_at",type:"datetime-local",value:n.occurred_at,onChange:p=>i(g=>M(_({},g),{occurred_at:p.target.value})),disabled:!t||!t.canEdit,required:!0})]}),u(),s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"notes",children:"Observaes"}),s.jsx(Ar,{id:"notes",placeholder:"Observaes adicionais sobre o cuidado...",value:n.notes,onChange:p=>i(g=>M(_({},g),{notes:p.target.value})),disabled:!t||!t.canEdit,rows:3})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsx(ne,{type:"submit",disabled:o||!t||!t.canEdit,className:"flex-1",children:o?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Salvando..."]}):s.jsxs(s.Fragment,{children:[s.jsx(hn,{className:"h-4 w-4 mr-2"}),"Salvar Registro"]})}),s.jsx(ne,{type:"button",variant:"outline",onClick:r,children:"Cancelar"})]})]})]})]})},Sz=({patient:e,permissions:t})=>{const[r,a]=b.useState(""),[n,i]=b.useState("all"),[o,A]=b.useState(!1),{events:l,refetch:c}=ul(e.id),d=x=>{switch(x){case"drink":return Jo;case"med":return mr;case"note":return Tr;case"meal":return sl;case"bathroom":return Lv;default:return Qr}},h=x=>{switch(x){case"drink":return"text-primary";case"med":return"text-secondary";case"note":return"text-accent";case"meal":return"text-muted-foreground";case"bathroom":return"text-muted-foreground";default:return"text-foreground"}},m=x=>{switch(x){case"drink":return"Lquidos";case"med":return"Medicamentos";case"note":return"Anotaes";case"meal":return"Alimentao";case"bathroom":return"Banheiro";default:return"Outros"}},u=x=>{switch(x){case"drink":return"bg-primary/10 text-primary border-primary/20";case"med":return"bg-secondary/10 text-secondary border-secondary/20";case"note":return"bg-accent/10 text-accent border-accent/20";case"meal":return"bg-muted text-muted-foreground border-muted";case"bathroom":return"bg-muted text-muted-foreground border-muted";default:return"bg-muted text-muted-foreground border-muted"}},y=l.filter(x=>x.patient_id===e.id).filter(x=>{const j=(x.notes||x.med_name||x.meal_desc||"").toLowerCase().includes(r.toLowerCase()),w=n==="all"||x.type===n;return j&&w}).sort((x,B)=>new Date(B.occurred_at||B.created_at).getTime()-new Date(x.occurred_at||x.created_at).getTime());return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Registros de Cuidados"}),s.jsxs("p",{className:"text-muted-foreground",children:["Histrico de cuidados para ",e.full_name]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[!(t!=null&&t.canEdit)&&t&&s.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground bg-muted/50 px-3 py-2 rounded-lg",children:[s.jsx(Zs,{className:"h-4 w-4"}),s.jsx("span",{className:"text-sm",children:"Modo visualizao"})]}),t!=null&&t.canEdit?s.jsxs(ne,{onClick:()=>A(!0),className:"bg-blue-600 hover:bg-blue-700 text-white",children:[s.jsx(Xr,{className:"h-4 w-4 mr-2"}),"Adicionar Cuidado"]}):t&&s.jsxs(ne,{disabled:!0,variant:"outline",className:"opacity-50 cursor-not-allowed",title:"Voc no tem permisso para registrar cuidados",children:[s.jsx(Gi,{className:"h-4 w-4 mr-2"}),"Sem Permisso"]})]})]}),o&&s.jsx(_z,{patient:e,permissions:t,onClose:()=>A(!1),onSave:()=>{c(),A(!1)}}),s.jsx(Ee,{className:"medical-card",children:s.jsx(Ue,{className:"pt-6",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(Xo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),s.jsx(_e,{placeholder:"Buscar registros...",value:r,onChange:x=>a(x.target.value),className:"pl-10"})]}),s.jsxs(kt,{value:n,onValueChange:i,children:[s.jsxs(Et,{className:"w-full md:w-[200px]",children:[s.jsx(lp,{className:"h-4 w-4 mr-2"}),s.jsx(Lt,{placeholder:"Categoria"})]}),s.jsxs(Ut,{children:[s.jsx(Se,{value:"all",children:"Todas as categorias"}),s.jsx(Se,{value:"drink",children:"Lquidos"}),s.jsx(Se,{value:"med",children:"Medicamentos"}),s.jsx(Se,{value:"meal",children:"Alimentao"}),s.jsx(Se,{value:"note",children:"Anotaes"}),s.jsx(Se,{value:"bathroom",children:"Banheiro"})]})]})]})})}),t&&!t.canEdit&&s.jsx(Ee,{className:"medical-card border-l-4 border-l-primary bg-primary/5",children:s.jsx(Ue,{className:"pt-6",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(UB,{className:"h-5 w-5 text-primary mt-0.5"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-primary mb-1",children:"Acesso Somente Leitura"}),s.jsx("p",{className:"text-sm text-primary/80",children:"Voc pode visualizar todos os registros de cuidados, mas no pode adicionar novos registros. Para registrar cuidados, solicite acesso de editor ao responsvel pelo paciente."})]})]})})}),s.jsx("div",{className:"space-y-4",children:y.length===0?s.jsx(Ee,{className:"medical-card",children:s.jsxs(Ue,{className:"py-12 text-center",children:[s.jsx(Qr,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:"Nenhum registro encontrado"}),s.jsx("p",{className:"text-muted-foreground",children:r||n!=="all"?"No foram encontrados registros com os filtros aplicados.":"Ainda no h registros de cuidados para este paciente."}),(t==null?void 0:t.canEdit)&&s.jsxs(ne,{onClick:()=>A(!0),className:"mt-4 bg-blue-600 hover:bg-blue-700 text-white",children:[s.jsx(Xr,{className:"h-4 w-4 mr-2"}),"Adicionar Primeiro Registro"]})]})}):y.map(x=>{const B=d(x.type);return s.jsxs(Ee,{className:"medical-card",children:[s.jsx(He,{className:"pb-3",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`p-2 rounded-lg bg-muted ${h(x.type)}`,children:s.jsx(B,{className:"h-4 w-4"})}),s.jsxs("div",{children:[s.jsx(Ke,{className:"text-base font-medium text-foreground",children:x.med_name||x.meal_desc||x.notes||m(x.type)}),s.jsxs(St,{className:"flex items-center gap-2 mt-1",children:[s.jsx(Us,{className:"h-3 w-3"}),new Date(x.occurred_at||x.created_at).toLocaleDateString("pt-BR"),s.jsx(Yr,{className:"h-3 w-3 ml-2"}),new Date(x.occurred_at||x.created_at).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit",timeZone:"America/Sao_Paulo"})]})]})]}),s.jsx(At,{className:u(x.type),children:m(x.type)})]})}),x.notes&&s.jsx(Ue,{className:"pt-0",children:s.jsx("div",{className:"bg-muted/50 p-3 rounded-md",children:s.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.jsx("strong",{children:"Observaes:"})," ",x.notes]})})})]},x.id)})})]})},Fz=({patientId:e})=>{const[t,r]=b.useState([]),[a,n]=b.useState(!0),[i,o]=b.useState(null),[A,l]=b.useState(new Set);b.useEffect(()=>{e&&Ae(void 0,null,function*(){try{n(!0),o(null);const{data:w,error:N}=yield et.from("medical_records").select(`
            *,
            doctor:profiles!medical_records_doctor_id_fkey(full_name, specialty)
          `).eq("patient_id",e).order("record_date",{ascending:!1});if(N){console.error("Supabase error:",N);const I=c(e);r(I)}else if(w&&w.length>0)r(w);else{console.log("No medical records found in database, using test data");const I=c(e);r(I)}}catch(w){console.error("Error fetching medical records:",w);const N=c(e);r(N),o(null)}finally{n(!1)}})},[e]);const c=j=>[{id:"test-record-1",patient_id:j,doctor_id:"test-doctor-1",record_date:new Date().toISOString(),chief_complaint:"Dor no peito e falta de ar",assessment_plan:"Suspeita de angina. Solicitar ECG e enzimas cardacas. Orientaes sobre mudanas no estilo de vida. Iniciar terapia com betabloqueador.",medications:JSON.stringify([{name:"cido Acetilsaliclico (AAS)",dosage:"100mg",frequency:"1x ao dia",duration:"Uso contnuo",instructions:"Tomar pela manh, aps o caf da manh",indication:"Preveno cardiovascular",route:"Oral"},{name:"Atenolol",dosage:"50mg",frequency:"1x ao dia",duration:"Uso contnuo",instructions:"Tomar pela manh, em jejum",indication:"Controle da presso arterial e frequncia cardaca",route:"Oral"}]),allergies:"Penicilina (rash cutneo), Dipirona (broncoespasmo)",physical_examination:"Paciente em bom estado geral, corado, hidratado, anictrico. Ausculta cardaca: ritmo regular em 2 tempos, bulhas normofonticas, sem sopros. Ausculta pulmonar: murmrio vesicular presente bilateralmente, sem rudos adventcios. Abdome: plano, flcido, indolor, sem visceromegalias.",history_present_illness:"Paciente refere dor precordial em aperto h 2 dias, com irradiao para brao esquerdo e mandbula, associada a dispneia aos esforos moderados. Nega sudorese fria ou nuseas. Dor com intensidade 7/10, melhora parcial com repouso.",past_medical_history:"Hipertenso arterial sistmica h 5 anos, em uso irregular de medicao. Dislipidemia diagnosticada h 2 anos. Nega diabetes, cardiopatias prvias ou cirurgias.",family_history:"Pai com infarto agudo do miocrdio aos 60 anos, me hipertensa e diabtica. Av paterno faleceu por AVC aos 75 anos.",social_history:"Ex-tabagista (parou h 1 ano, carga tabgica de 20 maos/ano), etilismo social espordico, sedentrio. Trabalha como contador, alto nvel de estresse.",review_systems:"Nega febre, nuseas, vmitos, palpitaes, sncope, edema de membros inferiores, ortopneia ou dispneia paroxstica noturna.",notes:"Paciente orientado sobre a importncia da adeso medicamentosa e mudanas no estilo de vida. Solicitados exames complementares. Agendado retorno em 15 dias para reavaliao.",status:"completed",created_at:new Date().toISOString(),updated_at:new Date().toISOString(),vital_signs:JSON.stringify({blood_pressure_systolic:140,blood_pressure_diastolic:90,heart_rate:85,respiratory_rate:16,temperature:36.5,oxygen_saturation:98,weight:78.5,height:175,bmi:25.6,pain_scale:7}),diagnostic_codes:JSON.stringify([{code:"I20.9",description:"Angina pectoris, no especificada",type:"CID10"},{code:"I10",description:"Hipertenso essencial",type:"CID10"},{code:"E78.5",description:"Hiperlipidemia no especificada",type:"CID10"}]),lab_results:JSON.stringify([{test_name:"Troponina I",result:"0.02",reference_range:"< 0.04",unit:"ng/mL",status:"normal",date:new Date().toISOString()},{test_name:"CK-MB",result:"3.2",reference_range:"< 6.3",unit:"ng/mL",status:"normal",date:new Date().toISOString()},{test_name:"Colesterol Total",result:"240",reference_range:"< 200",unit:"mg/dL",status:"abnormal",date:new Date().toISOString()},{test_name:"LDL",result:"160",reference_range:"< 100",unit:"mg/dL",status:"abnormal",date:new Date().toISOString()}]),procedures:JSON.stringify(["ECG de 12 derivaes","Raio-X de trax"]),follow_up_instructions:"Retornar em 15 dias para reavaliao. Procurar atendimento de urgncia se houver piora da dor ou novos sintomas.",next_appointment:new Date(Date.now()+15*24*60*60*1e3).toISOString(),referrals:JSON.stringify([{specialty:"Cardiologia",doctor:"Dr. Pedro Cardoso",reason:"Avaliao especializada e possvel cateterismo"}]),imaging_studies:JSON.stringify([{type:"Ecocardiograma",status:"Solicitado",date:new Date().toISOString()},{type:"Teste ergomtrico",status:"Solicitado",date:new Date().toISOString()}]),consultation_type:"presencial",has_prescription:!0,has_certificate:!0,doctor:{full_name:"Dr. Joo Silva",specialty:"Cardiologia"}},{id:"test-record-2",patient_id:j,doctor_id:"test-doctor-2",record_date:new Date(Date.now()-7*24*60*60*1e3).toISOString(),chief_complaint:"Consulta de rotina - acompanhamento de hipertenso",assessment_plan:"Hipertenso arterial controlada. Manter medicaes atuais. Orientaes sobre dieta e exerccios. Retorno em 3 meses.",medications:JSON.stringify([{name:"Losartana Potssica",dosage:"50mg",frequency:"1x ao dia",duration:"Uso contnuo",instructions:"Tomar pela manh, preferencialmente no mesmo horrio",indication:"Controle da presso arterial",route:"Oral"},{name:"Sinvastatina",dosage:"20mg",frequency:"1x ao dia",duration:"Uso contnuo",instructions:"Tomar  noite, aps o jantar",indication:"Controle do colesterol",route:"Oral"}]),allergies:"Nenhuma alergia medicamentosa conhecida",physical_examination:"Paciente em bom estado geral. Ausculta cardiovascular e pulmonar sem alteraes. Abdome sem alteraes. Extremidades sem edema.",history_present_illness:"Consulta de acompanhamento de rotina. Paciente assintomtico, aderente ao tratamento medicamentoso.",past_medical_history:"Hipertenso arterial sistmica h 6 anos, dislipidemia h 3 anos. Nega outras comorbidades.",family_history:"Me diabtica tipo 2, av paterno com AVC, av materna hipertensa",social_history:"No fuma, etilismo social espordico (1-2 doses/semana), pratica caminhada 3x/semana por 30 minutos",review_systems:"Sem queixas. Nega cefaleia, tontura, dor precordial, dispneia, palpitaes ou edema",notes:"Paciente aderente ao tratamento. Exames laboratoriais dentro da normalidade. Orientado sobre manuteno do estilo de vida saudvel.",status:"completed",created_at:new Date(Date.now()-7*24*60*60*1e3).toISOString(),updated_at:new Date(Date.now()-7*24*60*60*1e3).toISOString(),vital_signs:JSON.stringify({blood_pressure_systolic:130,blood_pressure_diastolic:80,heart_rate:72,respiratory_rate:14,temperature:36.2,oxygen_saturation:99,weight:76.2,height:175,bmi:24.9,pain_scale:0}),diagnostic_codes:JSON.stringify([{code:"I10",description:"Hipertenso essencial",type:"CID10"},{code:"E78.5",description:"Hiperlipidemia no especificada",type:"CID10"}]),lab_results:JSON.stringify([{test_name:"Glicemia de jejum",result:"92",reference_range:"70-99",unit:"mg/dL",status:"normal",date:new Date(Date.now()-3*24*60*60*1e3).toISOString()},{test_name:"Colesterol Total",result:"180",reference_range:"< 200",unit:"mg/dL",status:"normal",date:new Date(Date.now()-3*24*60*60*1e3).toISOString()},{test_name:"Creatinina",result:"1.0",reference_range:"0.7-1.3",unit:"mg/dL",status:"normal",date:new Date(Date.now()-3*24*60*60*1e3).toISOString()}]),follow_up_instructions:"Manter medicaes, dieta hipossdica e exerccios regulares. Retorno em 3 meses.",next_appointment:new Date(Date.now()+90*24*60*60*1e3).toISOString(),consultation_type:"online",has_prescription:!0,has_certificate:!1,doctor:{full_name:"Dra. Maria Santos",specialty:"Clnica Geral"}},{id:"test-record-3",patient_id:j,doctor_id:"test-doctor-3",record_date:new Date(Date.now()-14*24*60*60*1e3).toISOString(),chief_complaint:"Dor abdominal e nuseas h 3 dias",assessment_plan:"Gastrite aguda. Prescrio de protetor gstrico e orientaes dietticas. Acompanhamento em 7 dias.",medications:JSON.stringify([{name:"Omeprazol",dosage:"20mg",frequency:"1x ao dia",duration:"30 dias",instructions:"Tomar em jejum, 30 minutos antes do caf da manh",indication:"Proteo gstrica",route:"Oral"},{name:"Domperidona",dosage:"10mg",frequency:"3x ao dia",duration:"7 dias",instructions:"Tomar 15 minutos antes das refeies principais",indication:"Controle de nuseas e melhora do esvaziamento gstrico",route:"Oral"}]),allergies:"Nenhuma alergia conhecida",physical_examination:"Abdome: dor  palpao superficial e profunda em epigstrio, sem sinais de irritao peritoneal, sem massas palpveis ou visceromegalias. Rudos hidroareos presentes e normais.",history_present_illness:"Dor em queimao em epigstrio h 3 dias, intensidade 6/10, associada a nuseas e pirose. Piora aps alimentao e melhora parcial com anticidos.",past_medical_history:"Episdios espordicos de gastrite nos ltimos 2 anos. Nega lcera pptica, cirurgias abdominais ou outras comorbidades.",family_history:"Me com gastrite crnica, pai sem antecedentes relevantes",social_history:"Stress elevado no trabalho, alimentao irregular com horrios desorganizados, consumo frequente de caf",review_systems:"Nega vmitos, diarreia, febre, perda de peso ou sangramento digestivo",notes:"Orientado sobre alimentao fracionada, evitar alimentos irritantes (caf, lcool, condimentos), controle do stress. Retorno se no houver melhora em 7 dias.",status:"completed",created_at:new Date(Date.now()-14*24*60*60*1e3).toISOString(),updated_at:new Date(Date.now()-14*24*60*60*1e3).toISOString(),vital_signs:JSON.stringify({blood_pressure_systolic:125,blood_pressure_diastolic:78,heart_rate:78,respiratory_rate:16,temperature:36.8,oxygen_saturation:98,weight:72,height:170,bmi:24.9,pain_scale:6}),diagnostic_codes:JSON.stringify([{code:"K29.7",description:"Gastrite no especificada",type:"CID10"},{code:"R11",description:"Nusea e vmitos",type:"CID10"}]),lab_results:JSON.stringify([{test_name:"Hemograma completo",result:"Normal",reference_range:"Valores de referncia",unit:"",status:"normal",date:new Date(Date.now()-12*24*60*60*1e3).toISOString()},{test_name:"PCR",result:"2.1",reference_range:"< 3.0",unit:"mg/L",status:"normal",date:new Date(Date.now()-12*24*60*60*1e3).toISOString()}]),follow_up_instructions:"Dieta leve, evitar irritantes gstricos, retorno em 7 dias ou antes se houver piora dos sintomas.",next_appointment:new Date(Date.now()-7*24*60*60*1e3).toISOString(),consultation_type:"presencial",has_prescription:!0,has_certificate:!0,doctor:{full_name:"Dr. Carlos Oliveira",specialty:"Gastroenterologia"}}],d=j=>{const w=new Set(A);w.has(j)?w.delete(j):w.add(j),l(w)},h=j=>new Date(j).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),m=j=>{if(!j||j.trim()==="")return s.jsx("p",{className:"text-sm text-gray-500",children:"Nenhum medicamento prescrito"});let w=[];try{const N=JSON.parse(j);Array.isArray(N)?w=N:w=[N]}catch(N){w=[{name:j,dosage:"Conforme prescrio",frequency:"Conforme orientao mdica",duration:"Conforme necessrio"}]}return s.jsx("div",{className:"space-y-3",children:w.map((N,I)=>s.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(mr,{className:"h-4 w-4 text-green-600 mt-0.5 flex-shrink-0"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-medium text-green-900",children:N.name}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 mt-2 text-sm text-green-700",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Dosagem:"})," ",N.dosage]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Frequncia:"})," ",N.frequency]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Durao:"})," ",N.duration]}),N.route&&s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Via:"})," ",N.route]})]}),N.indication&&s.jsxs("div",{className:"mt-2 text-sm text-green-700",children:[s.jsx("span",{className:"font-medium",children:"Indicao:"})," ",N.indication]}),N.instructions&&s.jsxs("div",{className:"mt-2 text-sm text-green-700",children:[s.jsx("span",{className:"font-medium",children:"Instrues:"})," ",N.instructions]})]})]})},I))})},u=j=>{if(!j)return null;try{const w=JSON.parse(j);return s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[s.jsxs("h4",{className:"font-medium text-blue-900 mb-3 flex items-center gap-2",children:[s.jsx(PB,{className:"h-4 w-4"}),"Sinais Vitais"]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3 text-sm",children:[w.blood_pressure_systolic&&w.blood_pressure_diastolic&&s.jsxs("div",{className:"bg-white p-2 rounded border",children:[s.jsx("div",{className:"font-medium text-gray-700",children:"Presso Arterial"}),s.jsxs("div",{className:"text-blue-600 font-semibold",children:[w.blood_pressure_systolic,"/",w.blood_pressure_diastolic," mmHg"]})]}),w.heart_rate&&s.jsxs("div",{className:"bg-white p-2 rounded border",children:[s.jsx("div",{className:"font-medium text-gray-700",children:"Frequncia Cardaca"}),s.jsxs("div",{className:"text-blue-600 font-semibold",children:[w.heart_rate," bpm"]})]}),w.temperature&&s.jsxs("div",{className:"bg-white p-2 rounded border",children:[s.jsx("div",{className:"font-medium text-gray-700",children:"Temperatura"}),s.jsxs("div",{className:"text-blue-600 font-semibold",children:[w.temperature,"C"]})]}),w.respiratory_rate&&s.jsxs("div",{className:"bg-white p-2 rounded border",children:[s.jsx("div",{className:"font-medium text-gray-700",children:"Freq. Respiratria"}),s.jsxs("div",{className:"text-blue-600 font-semibold",children:[w.respiratory_rate," irpm"]})]}),w.oxygen_saturation&&s.jsxs("div",{className:"bg-white p-2 rounded border",children:[s.jsx("div",{className:"font-medium text-gray-700",children:"Saturao O"}),s.jsxs("div",{className:"text-blue-600 font-semibold",children:[w.oxygen_saturation,"%"]})]}),w.weight&&s.jsxs("div",{className:"bg-white p-2 rounded border",children:[s.jsx("div",{className:"font-medium text-gray-700",children:"Peso"}),s.jsxs("div",{className:"text-blue-600 font-semibold",children:[w.weight," kg"]})]}),w.height&&s.jsxs("div",{className:"bg-white p-2 rounded border",children:[s.jsx("div",{className:"font-medium text-gray-700",children:"Altura"}),s.jsxs("div",{className:"text-blue-600 font-semibold",children:[w.height," cm"]})]}),w.bmi&&s.jsxs("div",{className:"bg-white p-2 rounded border",children:[s.jsx("div",{className:"font-medium text-gray-700",children:"IMC"}),s.jsxs("div",{className:"text-blue-600 font-semibold",children:[w.bmi," kg/m"]})]}),w.pain_scale!==void 0&&w.pain_scale>0&&s.jsxs("div",{className:"bg-white p-2 rounded border",children:[s.jsx("div",{className:"font-medium text-gray-700",children:"Escala de Dor"}),s.jsxs("div",{className:"text-red-600 font-semibold",children:[w.pain_scale,"/10"]})]})]})]})}catch(w){return null}},p=j=>{if(!j)return null;try{const w=JSON.parse(j);return s.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:[s.jsxs("h4",{className:"font-medium text-purple-900 mb-3 flex items-center gap-2",children:[s.jsx(dx,{className:"h-4 w-4"}),"Cdigos Diagnsticos"]}),s.jsx("div",{className:"space-y-2",children:w.map((N,I)=>s.jsxs("div",{className:"bg-white p-3 rounded border flex items-start gap-3",children:[s.jsx(At,{variant:"outline",className:"text-xs",children:N.type}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-medium text-purple-900",children:N.code}),s.jsx("div",{className:"text-sm text-purple-700",children:N.description})]})]},I))})]})}catch(w){return null}},g=j=>{if(!j)return null;try{const w=JSON.parse(j);return s.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[s.jsxs("h4",{className:"font-medium text-yellow-900 mb-3 flex items-center gap-2",children:[s.jsx(du,{className:"h-4 w-4"}),"Resultados Laboratoriais"]}),s.jsx("div",{className:"space-y-3",children:w.map((N,I)=>s.jsx("div",{className:"bg-white p-3 rounded border",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-medium text-yellow-900",children:N.test_name}),s.jsxs("div",{className:"text-sm text-gray-600 mt-1",children:[s.jsx("span",{className:"font-medium",children:"Resultado:"})," ",N.result," ",N.unit]}),s.jsxs("div",{className:"text-sm text-gray-600",children:[s.jsx("span",{className:"font-medium",children:"Referncia:"})," ",N.reference_range," ",N.unit]}),s.jsx("div",{className:"text-xs text-gray-500 mt-1",children:h(N.date)})]}),s.jsx(At,{variant:N.status==="normal"?"default":N.status==="critical"?"destructive":"secondary",className:"text-xs",children:N.status==="normal"?"Normal":N.status==="critical"?"Crtico":"Alterado"})]})},I))})]})}catch(w){return null}},y=j=>{if(!j)return null;try{const w=JSON.parse(j);return s.jsxs("div",{className:"bg-indigo-50 border border-indigo-200 rounded-lg p-4",children:[s.jsxs("h4",{className:"font-medium text-indigo-900 mb-3 flex items-center gap-2",children:[s.jsx(nx,{className:"h-4 w-4"}),"Procedimentos Realizados"]}),s.jsx("div",{className:"space-y-2",children:w.map((N,I)=>s.jsxs("div",{className:"bg-white p-2 rounded border text-sm text-indigo-700",children:[" ",N]},I))})]})}catch(w){return null}},x=j=>{if(!j)return null;try{const w=JSON.parse(j);return s.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:[s.jsxs("h4",{className:"font-medium text-orange-900 mb-3 flex items-center gap-2",children:[s.jsx(di,{className:"h-4 w-4"}),"Encaminhamentos"]}),s.jsx("div",{className:"space-y-3",children:w.map((N,I)=>s.jsxs("div",{className:"bg-white p-3 rounded border",children:[s.jsx("div",{className:"font-medium text-orange-900",children:N.specialty}),N.doctor&&s.jsxs("div",{className:"text-sm text-orange-700 mt-1",children:[s.jsx("span",{className:"font-medium",children:"Mdico:"})," ",N.doctor]}),N.reason&&s.jsxs("div",{className:"text-sm text-orange-700 mt-1",children:[s.jsx("span",{className:"font-medium",children:"Motivo:"})," ",N.reason]})]},I))})]})}catch(w){return null}},B=j=>{if(!j)return null;try{const w=JSON.parse(j);return s.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[s.jsxs("h4",{className:"font-medium text-gray-900 mb-3 flex items-center gap-2",children:[s.jsx(XA,{className:"h-4 w-4"}),"Exames de Imagem"]}),s.jsx("div",{className:"space-y-3",children:w.map((N,I)=>s.jsx("div",{className:"bg-white p-3 rounded border",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-medium text-gray-900",children:N.type}),s.jsx("div",{className:"text-xs text-gray-500 mt-1",children:h(N.date)})]}),s.jsx(At,{variant:"outline",className:"text-xs",children:N.status})]})},I))})]})}catch(w){return null}};return a?s.jsx(Ee,{className:"w-full",children:s.jsx(Ue,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-center py-8",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),s.jsx("span",{className:"ml-2 text-gray-600",children:"Carregando pronturio..."})]})})}):i?s.jsx(Ee,{className:"w-full",children:s.jsx(Ue,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-center py-8 text-red-600",children:[s.jsx(gc,{className:"h-5 w-5 mr-2"}),s.jsx("span",{children:i})]})})}):t.length===0?s.jsx(Ee,{className:"w-full",children:s.jsx(Ue,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-center py-8 text-gray-500",children:[s.jsx(Xt,{className:"h-5 w-5 mr-2"}),s.jsx("span",{children:"Nenhum registro mdico encontrado"})]})})}):s.jsxs("div",{className:"w-full space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[s.jsx(Wi,{className:"h-5 w-5 text-blue-600"}),s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Pronturio Mdico"}),s.jsxs(At,{variant:"secondary",className:"ml-2",children:[t.length," ",t.length===1?"registro":"registros"]})]}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute left-4 top-0 bottom-0 w-0.5 bg-gray-200"}),t.map((j,w)=>{const N=A.has(j.id);return s.jsxs("div",{className:"relative flex gap-4 pb-8",children:[s.jsx("div",{className:"relative z-10 flex-shrink-0",children:s.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center",children:s.jsx(Us,{className:"h-4 w-4 text-white"})})}),s.jsx("div",{className:"flex-1 min-w-0",children:s.jsxs(Ee,{className:"w-full",children:[s.jsx(He,{className:"pb-3",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs(Ke,{className:"text-lg flex items-center gap-2",children:[s.jsx("span",{children:h(j.record_date)}),s.jsx(At,{variant:j.status==="active"?"default":"secondary",className:"text-xs",children:j.status==="active"?"Ativo":"Inativo"})]}),j.doctor&&s.jsxs("div",{className:"flex items-center gap-2 mt-2 text-sm text-gray-600",children:[s.jsx(Or,{className:"h-4 w-4"}),s.jsx("span",{className:"font-medium",children:j.doctor.full_name}),j.doctor.specialty&&s.jsxs(s.Fragment,{children:[s.jsx("span",{children:""}),s.jsx("span",{children:j.doctor.specialty})]})]}),s.jsxs("div",{className:"flex items-center justify-between mt-3",children:[s.jsx("div",{className:"flex items-center gap-2",children:j.consultation_type&&s.jsx(At,{variant:"outline",className:`text-xs ${j.consultation_type==="online"?"border-blue-500 text-blue-700 bg-blue-50":"border-green-500 text-green-700 bg-green-50"}`,children:j.consultation_type==="online"?s.jsxs(s.Fragment,{children:[s.jsx(RE,{className:"h-3 w-3 mr-1"}),"Online"]}):s.jsxs(s.Fragment,{children:[s.jsx(Xs,{className:"h-3 w-3 mr-1"}),"Presencial"]})})}),s.jsxs("div",{className:"flex items-center gap-2",children:[j.has_prescription&&s.jsx(ne,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-blue-600 hover:text-blue-800 hover:bg-blue-50",title:"Baixar Prescrio Mdica",onClick:()=>{console.log("Download prescrio para registro:",j.id)},children:s.jsx(Ba,{className:"h-4 w-4"})}),j.has_certificate&&s.jsx(ne,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-green-600 hover:text-green-800 hover:bg-green-50",title:"Baixar Atestado Mdico",onClick:()=>{console.log("Download atestado para registro:",j.id)},children:s.jsx(Ba,{className:"h-4 w-4"})})]})]})]}),s.jsx(ne,{variant:"ghost",size:"sm",onClick:()=>d(j.id),className:"ml-2",children:N?s.jsx(SB,{className:"h-4 w-4"}):s.jsx(Mu,{className:"h-4 w-4"})})]})}),s.jsxs(Ue,{className:"pt-0",children:[j.chief_complaint&&s.jsxs("div",{className:"mb-4",children:[s.jsxs("h4",{className:"font-medium text-gray-900 mb-2 flex items-center gap-2",children:[s.jsx(Xt,{className:"h-4 w-4"}),"Queixa Principal"]}),s.jsx("p",{className:"text-sm text-gray-700 bg-gray-50 p-3 rounded-lg",children:j.chief_complaint})]}),N&&s.jsxs("div",{className:"space-y-4",children:[s.jsx(Xv,{}),j.vital_signs&&u(j.vital_signs),j.assessment_plan&&s.jsxs("div",{children:[s.jsxs("h4",{className:"font-medium text-gray-900 mb-2 flex items-center gap-2",children:[s.jsx(Tr,{className:"h-4 w-4"}),"Avaliao e Plano"]}),s.jsx("p",{className:"text-sm text-gray-700 bg-blue-50 p-3 rounded-lg",children:j.assessment_plan})]}),j.diagnostic_codes&&p(j.diagnostic_codes),s.jsxs("div",{children:[s.jsxs("h4",{className:"font-medium text-gray-900 mb-3 flex items-center gap-2",children:[s.jsx(mr,{className:"h-4 w-4"}),"Medicamentos"]}),m(j.medications)]}),j.lab_results&&g(j.lab_results),j.procedures&&y(j.procedures),j.physical_examination&&s.jsxs("div",{children:[s.jsxs("h4",{className:"font-medium text-gray-900 mb-2 flex items-center gap-2",children:[s.jsx(Wi,{className:"h-4 w-4"}),"Exame Fsico"]}),s.jsx("p",{className:"text-sm text-gray-700 bg-gray-50 p-3 rounded-lg",children:j.physical_examination})]}),j.allergies&&s.jsxs("div",{children:[s.jsxs("h4",{className:"font-medium text-gray-900 mb-2 flex items-center gap-2",children:[s.jsx(gc,{className:"h-4 w-4 text-red-500"}),"Alergias"]}),s.jsx("p",{className:"text-sm text-red-700 bg-red-50 p-3 rounded-lg border border-red-200",children:j.allergies})]}),j.referrals&&x(j.referrals),j.imaging_studies&&B(j.imaging_studies),j.follow_up_instructions&&s.jsxs("div",{children:[s.jsxs("h4",{className:"font-medium text-gray-900 mb-2 flex items-center gap-2",children:[s.jsx(nx,{className:"h-4 w-4"}),"Instrues de Acompanhamento"]}),s.jsx("p",{className:"text-sm text-gray-700 bg-green-50 p-3 rounded-lg border border-green-200",children:j.follow_up_instructions})]}),j.next_appointment&&s.jsxs("div",{children:[s.jsxs("h4",{className:"font-medium text-gray-900 mb-2 flex items-center gap-2",children:[s.jsx(Us,{className:"h-4 w-4"}),"Prxima Consulta"]}),s.jsx("p",{className:"text-sm text-gray-700 bg-blue-50 p-3 rounded-lg border border-blue-200",children:h(j.next_appointment)})]}),j.notes&&s.jsxs("div",{children:[s.jsxs("h4",{className:"font-medium text-gray-900 mb-2 flex items-center gap-2",children:[s.jsx(Xt,{className:"h-4 w-4"}),"Observaes"]}),s.jsx("p",{className:"text-sm text-gray-700 bg-gray-50 p-3 rounded-lg",children:j.notes})]}),(j.history_present_illness||j.past_medical_history||j.family_history||j.social_history)&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[j.history_present_illness&&s.jsxs("div",{children:[s.jsx("h5",{className:"font-medium text-gray-900 mb-2 text-sm",children:"Histria da Doena Atual"}),s.jsx("p",{className:"text-xs text-gray-600 bg-gray-50 p-2 rounded",children:j.history_present_illness})]}),j.past_medical_history&&s.jsxs("div",{children:[s.jsx("h5",{className:"font-medium text-gray-900 mb-2 text-sm",children:"Histria Mdica Pregressa"}),s.jsx("p",{className:"text-xs text-gray-600 bg-gray-50 p-2 rounded",children:j.past_medical_history})]}),j.family_history&&s.jsxs("div",{children:[s.jsx("h5",{className:"font-medium text-gray-900 mb-2 text-sm",children:"Histria Familiar"}),s.jsx("p",{className:"text-xs text-gray-600 bg-gray-50 p-2 rounded",children:j.family_history})]}),j.social_history&&s.jsxs("div",{children:[s.jsx("h5",{className:"font-medium text-gray-900 mb-2 text-sm",children:"Histria Social"}),s.jsx("p",{className:"text-xs text-gray-600 bg-gray-50 p-2 rounded",children:j.social_history})]})]}),j.review_systems&&s.jsxs("div",{children:[s.jsxs("h4",{className:"font-medium text-gray-900 mb-2 flex items-center gap-2",children:[s.jsx(Qr,{className:"h-4 w-4"}),"Reviso de Sistemas"]}),s.jsx("p",{className:"text-sm text-gray-700 bg-gray-50 p-3 rounded-lg",children:j.review_systems})]}),s.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500 pt-2 border-t",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Yr,{className:"h-3 w-3"}),s.jsxs("span",{children:["Criado: ",h(j.created_at)]})]}),j.updated_at!==j.created_at&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Yr,{className:"h-3 w-3"}),s.jsxs("span",{children:["Atualizado: ",h(j.updated_at)]})]})]})]})]})]})})]},j.id)})]})]})},Ez=({patientId:e,permissions:t})=>{const[r,a]=b.useState([]),[n,i]=b.useState(!0),[o,A]=b.useState(null),[l,c]=b.useState(null);b.useEffect(()=>{const u=()=>Ae(void 0,null,function*(){try{i(!0),A(null);const{data:p,error:g}=yield et.from("medical_record_attachments").select(`
            id,
            medical_record_id,
            file_name,
            file_path,
            file_size,
            attachment_type,
            created_at,
            updated_at,
            medical_record:medical_records!inner(
              id,
              record_date,
              profiles!medical_records_doctor_id_fkey(
                full_name,
                specialty
              )
            )
          `).eq("medical_record.patient_id",e).eq("attachment_type","prescription").order("created_at",{ascending:!1});g?(console.error("Erro ao buscar receitas:",g),A("Erro ao carregar receitas mdicas")):a(p||[])}catch(p){console.error("Erro ao buscar receitas:",p),A("Erro ao carregar receitas mdicas")}finally{i(!1)}});e&&(t!=null&&t.canView)&&u()},[e,t]);const d=u=>Ae(void 0,null,function*(){try{if(c(u.id),u.file_path){const{data:p,error:g}=yield et.storage.from("medical-attachments").download(u.file_path);if(g)throw g;const y=URL.createObjectURL(p),x=document.createElement("a");x.href=y,x.download=u.file_name,document.body.appendChild(x),x.click(),document.body.removeChild(x),URL.revokeObjectURL(y)}else throw new Error("Arquivo no encontrado")}catch(p){console.error("Erro ao baixar receita:",p),A("Erro ao baixar receita mdica")}finally{c(null)}}),h=u=>{if(u===0)return"0 Bytes";const p=1024,g=["Bytes","KB","MB","GB"],y=Math.floor(Math.log(u)/Math.log(p));return parseFloat((u/Math.pow(p,y)).toFixed(2))+" "+g[y]},m=u=>new Date(u).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"});return t!=null&&t.canView?n?s.jsxs(Ee,{children:[s.jsx(He,{children:s.jsxs(Ke,{className:"flex items-center gap-2",children:[s.jsx(mr,{className:"h-5 w-5"}),"Receitas Mdicas"]})}),s.jsx(Ue,{children:s.jsxs("div",{className:"flex items-center justify-center py-8",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),s.jsx("span",{className:"ml-2 text-gray-600",children:"Carregando receitas..."})]})})]}):o?s.jsxs(en,{variant:"destructive",children:[s.jsx(Ts,{className:"h-4 w-4"}),s.jsx(tn,{children:o})]}):s.jsxs(Ee,{children:[s.jsx(He,{children:s.jsxs(Ke,{className:"flex items-center gap-2",children:[s.jsx(mr,{className:"h-5 w-5"}),"Receitas Mdicas",s.jsxs(At,{variant:"outline",className:"ml-auto",children:[r.length," ",r.length===1?"receita":"receitas"]})]})}),s.jsxs(Ue,{children:[r.length===0?s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(mr,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{className:"text-lg font-medium mb-2",children:"Nenhuma receita mdica encontrada"}),s.jsx("p",{className:"text-sm",children:"As receitas mdicas anexadas pelos mdicos aparecero aqui."})]}):s.jsx("div",{className:"space-y-4",children:r.map(u=>{var p,g;return s.jsx(Ee,{className:"border-l-4 border-l-green-500",children:s.jsx(Ue,{className:"p-4",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Xt,{className:"h-5 w-5 text-green-600"}),s.jsx("h3",{className:"font-medium text-gray-900",children:u.file_name}),s.jsx(At,{variant:"outline",className:"text-xs bg-green-50 text-green-700 border-green-200",children:"Receita Mdica"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-gray-600 mb-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Us,{className:"h-4 w-4"}),s.jsxs("span",{children:["Consulta: ",m(((p=u.medical_record)==null?void 0:p.record_date)||u.created_at)]})]}),((g=u.medical_record)==null?void 0:g.profiles)&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Or,{className:"h-4 w-4"}),s.jsxs("span",{children:["Dr(a). ",u.medical_record.profiles.full_name,u.medical_record.profiles.specialty&&` - ${u.medical_record.profiles.specialty}`]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Xt,{className:"h-4 w-4"}),s.jsxs("span",{children:["Tamanho: ",h(u.file_size)]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Yr,{className:"h-4 w-4"}),s.jsxs("span",{children:["Anexado: ",m(u.created_at)]})]})]})]}),s.jsx("div",{className:"flex flex-col gap-2 ml-4",children:s.jsx(ne,{variant:"outline",size:"sm",onClick:()=>d(u),disabled:l===u.id,className:"w-full",children:l===u.id?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600 mr-2"}),"Baixando..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Ba,{className:"h-4 w-4 mr-2"}),"Download"]})})})]})})},u.id)})}),r.length>0&&s.jsx("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg border border-blue-200",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Rr,{className:"h-5 w-5 text-blue-600 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-blue-900 mb-1",children:"Informaes Importantes"}),s.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[s.jsx("li",{children:" As receitas mdicas so anexadas pelos mdicos durante as consultas"}),s.jsx("li",{children:" Voc pode baixar e imprimir as receitas para uso na farmcia"}),s.jsx("li",{children:" Mantenha sempre as receitas originais para controle"}),s.jsx("li",{children:" Em caso de dvidas, entre em contato com o mdico responsvel"})]})]})]})})]})]}):s.jsxs(en,{children:[s.jsx(Ts,{className:"h-4 w-4"}),s.jsx(tn,{children:"Voc no tem permisso para visualizar receitas mdicas."})]})},ex=b.memo(()=>{const e=Zr(),t=La(),{patientId:r,token:a}=ll(),{validateTokenWithData:n,getPermissions:i}=Wu(),{events:o,loading:A}=ul(),[l,c]=b.useState(null),[d,h]=b.useState(null),[m,u]=b.useState(!0),[p,g]=b.useState(null),y=t.pathname.includes("/medical")?"medical":t.pathname.includes("/care")?"care":"dashboard";b.useEffect(()=>{Ae(void 0,null,function*(){try{if(!r||!a){e("/family/login");return}const E=yield n(r,a);if(!E.isValid||!E.patient||!E.tokenData){e("/family/login");return}h(E.tokenData),c(E.patient)}catch(E){console.error("Validation error:",E),g("Erro ao validar acesso"),e("/family/login")}finally{u(!1)}})},[e,n,r,a]);const x=S=>{const Q={drink:Jo,med:mr,meal:sl,note:Xt,bathroom:Qr,humor:Gd}[S]||Xt;return s.jsx(Q,{className:"h-4 w-4"})};if(m)return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Qr,{className:"h-8 w-8 text-blue-600 animate-pulse mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Carregando..."})]})});if(p||!l||!d)return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-50 to-pink-100 flex items-center justify-center p-4",children:s.jsx(Ee,{className:"w-full max-w-md",children:s.jsxs(Ue,{className:"pt-6 text-center",children:[s.jsx(zE,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Acesso Negado"}),s.jsx("p",{className:"text-gray-600 mb-4",children:p||"Token invlido ou expirado"}),s.jsx(ne,{onClick:()=>e("/family/login"),className:"w-full",children:"Fazer Login"})]})})});const B=b.useMemo(()=>d?i(d.role):{canView:!1,canEdit:!1,canRegisterLiquids:!1,canRegisterMedications:!1,canRegisterMeals:!1,canRegisterActivities:!1},[d,i]),j=b.useMemo(()=>l?o.filter(S=>S.patient_id===l.id):[],[o,l]),w=b.useMemo(()=>j.filter(S=>S.type==="mood").sort((S,E)=>new Date(E.occurred_at||E.created_at).getTime()-new Date(S.occurred_at||S.created_at).getTime())[0],[j]),N=b.useMemo(()=>{const S=new Date().toISOString().split("T")[0];return j.filter(E=>{var Q;return(Q=E.occurred_at||E.created_at)==null?void 0:Q.startsWith(S)})},[j]),I=b.useMemo(()=>({liquids:N.filter(S=>S.type==="feeding").length,medications:N.filter(S=>S.type==="diaper").length,meals:N.filter(S=>S.type==="sleep").length,notes:N.filter(S=>S.type==="bathroom").length,humor:N.filter(S=>S.type==="mood").length}),[N]),U=S=>({feeding:"Alimentao",diaper:"Fralda",sleep:"Sono",bathroom:"Banheiro",mood:"Humor"})[S]||S,D=()=>s.jsxs("div",{className:"space-y-6",children:[w&&s.jsxs(Ee,{className:"border-l-4 border-l-blue-500",children:[s.jsx(He,{children:s.jsxs(Ke,{className:"flex items-center gap-2",children:[s.jsx(Gd,{className:"h-5 w-5 text-blue-500"}),"Estado de Humor Atual"]})}),s.jsx(Ue,{children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"text-3xl font-bold text-blue-600",children:w.humor_scale||w.happiness_scale||"N/A"}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("p",{className:"text-sm text-gray-600",children:["Registrado em ",new Date(w.created_at).toLocaleString("pt-BR")]}),w.humor_notes&&s.jsx("p",{className:"text-sm mt-1 text-gray-700",children:w.humor_notes})]})]})})]}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[{label:"Lquidos",value:I.liquids,icon:Jo,color:"text-blue-500"},{label:"Medicamentos",value:I.medications,icon:mr,color:"text-purple-500"},{label:"Refeies",value:I.meals,icon:sl,color:"text-green-500"},{label:"Anotaes",value:I.notes,icon:Xt,color:"text-orange-500"},{label:"Humor",value:I.humor,icon:Gd,color:"text-pink-500"}].map(({label:S,value:E,icon:Q,color:V})=>s.jsx(Ee,{children:s.jsx(Ue,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:S}),s.jsx("p",{className:"text-2xl font-bold",children:E})]}),s.jsx(Q,{className:`h-8 w-8 ${V}`})]})})},S))}),B.canView&&s.jsxs(Ee,{children:[s.jsx(He,{children:s.jsx(Ke,{children:"Suas Permisses"})}),s.jsx(Ue,{children:s.jsx("div",{className:"grid grid-cols-2 gap-2",children:B.canEdit&&s.jsxs(At,{variant:"secondary",className:"justify-center",children:[s.jsx(VE,{className:"h-4 w-4 mr-1"}),"Pode Registrar Cuidados"]})})})]}),N.length>0&&s.jsxs(Ee,{children:[s.jsx(He,{children:s.jsx(Ke,{children:"Eventos de Hoje"})}),s.jsx(Ue,{children:s.jsx("div",{className:"space-y-3",children:N.slice(0,5).map(S=>s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[x(S.type),s.jsxs("div",{className:"flex-1",children:[S.type==="mood"?s.jsxs("div",{children:[s.jsxs("p",{className:"font-medium",children:["Humor: ",S.humor_scale||S.happiness_scale]}),S.humor_notes&&s.jsx("p",{className:"text-sm text-gray-600",children:S.humor_notes})]}):s.jsx("p",{className:"font-medium",children:U(S.type)}),s.jsx("p",{className:"text-sm text-gray-500",children:new Date(S.occurred_at||S.created_at).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit",timeZone:"America/Sao_Paulo"})})]})]},S.id))})})]})]}),L=()=>s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[l&&s.jsx("div",{className:"w-16 h-16 rounded-full overflow-hidden border-2 border-gray-200",children:s.jsx("div",{className:"w-full h-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white font-semibold text-xl",children:l.name.charAt(0).toUpperCase()})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold",children:l==null?void 0:l.name}),s.jsx("p",{className:"text-gray-600",children:"Registrar Cuidados"})]})]}),!B.canEdit&&s.jsxs(en,{children:[s.jsx(Ts,{className:"h-4 w-4"}),s.jsx(tn,{children:"Voc no tem permisso para registrar cuidados. Entre em contato com a equipe mdica."})]}),B.canEdit&&s.jsx(Sz,{patient:l,permissions:B})]}),P=()=>s.jsxs("div",{className:"space-y-6",children:[s.jsx(Ez,{patientId:(l==null?void 0:l.id)||"",permissions:B}),s.jsx(Fz,{patientId:(l==null?void 0:l.id)||""})]});return s.jsx(z3,{patient:l,permissions:B,currentPage:y==="medical"?"medical":y==="care"?"care":"dashboard",children:s.jsx("div",{className:"p-4 max-w-4xl mx-auto",children:y==="medical"?P():y==="care"?L():D()})})}),Uz=()=>{const{patientId:e,token:t}=ll(),r=Zr(),{toast:a}=ir(),{addEvent:n,loading:i}=ul(e),{validateTokenWithData:o,getPermissions:A}=Wu();xi();const[l,c]=b.useState(null),[d,h]=b.useState(null),[m,u]=b.useState(!0),[p,g]=b.useState(!1),[y,x]=b.useState(""),[B,j]=b.useState({volume_ml:"",meal_desc:"",med_name:"",med_dose:"",bathroom_type:"",notes:""});b.useState(()=>{Ae(void 0,null,function*(){if(!e||!t){r("/family/login");return}try{const D=yield o(e,t);if(!D.isValid||!D.patient||!D.tokenData){r("/family/login");return}if(c(D.patient),h(A(D.tokenData.role)),!A(D.tokenData.role).canEdit){r(`/family/${e}/${t}/dashboard`);return}}catch(D){r("/family/login")}finally{u(!1)}})});const w=[{id:"drink",label:"Hidratao",icon:Jo,color:"bg-blue-500"},{id:"meal",label:"Alimentao",icon:sl,color:"bg-green-500"},{id:"med",label:"Medicao",icon:mr,color:"bg-purple-500"},{id:"bathroom",label:"Higiene",icon:FE,color:"bg-orange-500"},{id:"note",label:"Observao",icon:Xt,color:"bg-gray-500"}],N=U=>Ae(void 0,null,function*(){if(U.preventDefault(),!!y){g(!0);try{const D={patient_id:e,type:y,occurred_at:new Date().toISOString(),volume_ml:B.volume_ml?parseInt(B.volume_ml):void 0,meal_desc:B.meal_desc||void 0,med_name:B.med_name||void 0,med_dose:B.med_dose||void 0,bathroom_type:B.bathroom_type||void 0,notes:B.notes||void 0};yield n(D),a({title:"Registro adicionado",description:"Cuidado registrado com sucesso!"}),x(""),j({volume_ml:"",meal_desc:"",med_name:"",med_dose:"",bathroom_type:"",notes:""})}catch(D){a({title:"Erro",description:"Erro ao registrar cuidado. Tente novamente.",variant:"destructive"})}finally{g(!1)}}});if(m)return s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Ms,{className:"w-8 h-8 animate-spin mx-auto mb-4 text-blue-600"}),s.jsx("p",{className:"text-gray-600",children:"Carregando..."})]})});if(!l||!d)return s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Ts,{className:"w-8 h-8 mx-auto mb-4 text-red-500"}),s.jsx("p",{className:"text-gray-600",children:"Acesso negado"})]})});const I=()=>{const U=w.find(D=>D.id===y);return s.jsxs(Ee,{children:[s.jsx(He,{className:"pb-4",children:s.jsxs(Ke,{className:"flex items-center space-x-2",children:[U&&s.jsx(U.icon,{className:"w-5 h-5"}),s.jsxs("span",{children:["Registrar ",U==null?void 0:U.label]})]})}),s.jsxs(Ue,{className:"space-y-4",children:[y==="drink"&&s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"volume",children:"Volume (ml)"}),s.jsx(_e,{id:"volume",type:"number",value:B.volume_ml,onChange:D=>j(M(_({},B),{volume_ml:D.target.value})),placeholder:"Ex: 200"})]}),y==="meal"&&s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"meal",children:"Descrio da Refeio"}),s.jsx(Ar,{id:"meal",value:B.meal_desc,onChange:D=>j(M(_({},B),{meal_desc:D.target.value})),placeholder:"Ex: Almoo - arroz, feijo, frango"})]}),y==="med"&&s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"medName",children:"Medicamento"}),s.jsx(_e,{id:"medName",value:B.med_name,onChange:D=>j(M(_({},B),{med_name:D.target.value})),placeholder:"Nome do medicamento"})]}),s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"medDose",children:"Dosagem"}),s.jsx(_e,{id:"medDose",value:B.med_dose,onChange:D=>j(M(_({},B),{med_dose:D.target.value})),placeholder:"Ex: 1 comprimido"})]})]}),y==="bathroom"&&s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"bathType",children:"Tipo de Higiene"}),s.jsxs(kt,{value:B.bathroom_type,onValueChange:D=>j(M(_({},B),{bathroom_type:D})),children:[s.jsx(Et,{children:s.jsx(Lt,{placeholder:"Selecione o tipo"})}),s.jsxs(Ut,{children:[s.jsx(Se,{value:"banho",children:"Banho"}),s.jsx(Se,{value:"escovacao",children:"Escovao"}),s.jsx(Se,{value:"troca",children:"Troca de Roupa"}),s.jsx(Se,{value:"outro",children:"Outro"})]})]})]}),s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"notes",children:"Observaes"}),s.jsx(Ar,{id:"notes",value:B.notes,onChange:D=>j(M(_({},B),{notes:D.target.value})),placeholder:"Observaes adicionais (opcional)",rows:2})]}),s.jsxs("div",{className:"flex space-x-2 pt-2",children:[s.jsx(ne,{type:"submit",disabled:p,className:"flex-1",children:p?s.jsxs(s.Fragment,{children:[s.jsx(Ms,{className:"w-4 h-4 mr-2 animate-spin"}),"Salvando..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Rr,{className:"w-4 h-4 mr-2"}),"Registrar"]})}),s.jsx(ne,{type:"button",variant:"outline",onClick:()=>x(""),children:"Cancelar"})]})]})]})};return s.jsx(z3,{patient:l,permissions:d,currentPage:"care",children:s.jsxs("div",{className:"p-4 max-w-2xl mx-auto space-y-6",children:[!y&&s.jsxs(Ee,{children:[s.jsx(He,{children:s.jsxs(Ke,{className:"flex items-center space-x-2",children:[s.jsx(Xr,{className:"w-5 h-5"}),s.jsx("span",{children:"Selecionar Tipo de Cuidado"})]})}),s.jsx(Ue,{children:s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:w.map(U=>s.jsxs(ne,{variant:"outline",className:"h-auto p-4 justify-start",onClick:()=>x(U.id),children:[s.jsx("div",{className:`w-8 h-8 rounded-full ${U.color} flex items-center justify-center mr-3`,children:s.jsx(U.icon,{className:"w-4 h-4 text-white"})}),s.jsx("span",{children:U.label})]},U.id))})})]}),y&&s.jsx("form",{onSubmit:N,children:I()}),s.jsx(Ee,{className:"bg-blue-50 border-blue-200",children:s.jsx(Ue,{className:"p-4",children:s.jsxs("div",{className:"flex items-start space-x-2",children:[s.jsx(Yr,{className:"w-4 h-4 text-blue-600 mt-0.5"}),s.jsxs("div",{className:"text-sm text-blue-800",children:[s.jsx("p",{className:"font-medium mb-1",children:"Dica:"}),s.jsx("p",{children:"Registre os cuidados imediatamente aps realiz-los para maior preciso."})]})]})})})]})})},Iz=()=>{const e=Zr(),{toast:t}=ir(),{authenticateFamily:r}=Wu(),[a,n]=b.useState(""),[i,o]=b.useState(""),[A,l]=b.useState(!1),[c,d]=b.useState(!1),[h,m]=b.useState({}),u=()=>{const g={};return a.trim()||(g.username="Nome de usurio  obrigatrio"),i.trim()||(g.password="Senha  obrigatria"),m(g),Object.keys(g).length===0},p=g=>Ae(void 0,null,function*(){if(g.preventDefault(),!!u()){d(!0);try{const y=yield r(a,i);y&&y.token&&y.patient?(t({title:"Login realizado",description:`Bem-vindo! Acesso ao painel de ${y.patient.full_name}`}),e(`/family/${y.token.patient_id}/${y.token.token}/dashboard`)):m({general:"Credenciais invlidas"})}catch(y){m({general:"Erro ao fazer login. Verifique suas credenciais."})}finally{d(!1)}}});return s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"w-full max-w-md",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("div",{className:"w-16 h-16 bg-blue-600 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(Qr,{className:"w-8 h-8 text-white"})}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"MediCare Family"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Acesso ao painel familiar"})]}),s.jsxs(Ee,{children:[s.jsx(He,{children:s.jsxs(Ke,{className:"flex items-center space-x-2",children:[s.jsx(i2,{className:"w-5 h-5"}),s.jsx("span",{children:"Entrar"})]})}),s.jsx(Ue,{children:s.jsxs("form",{onSubmit:p,className:"space-y-4",children:[h.general&&s.jsxs("div",{className:"flex items-center space-x-2 p-3 bg-red-50 border border-red-200 rounded-lg",children:[s.jsx(Ts,{className:"w-4 h-4 text-red-600"}),s.jsx("span",{className:"text-sm text-red-700",children:h.general})]}),s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"username",children:"Nome de Usurio"}),s.jsxs("div",{className:"relative",children:[s.jsx(Or,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),s.jsx(_e,{id:"username",type:"text",value:a,onChange:g=>n(g.target.value),placeholder:"Seu nome de usurio",className:`pl-10 ${h.username?"border-red-300":""}`})]}),h.username&&s.jsx("p",{className:"text-sm text-red-600 mt-1",children:h.username})]}),s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"password",children:"Senha"}),s.jsxs("div",{className:"relative",children:[s.jsx(Gi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),s.jsx(_e,{id:"password",type:A?"text":"password",value:i,onChange:g=>o(g.target.value),placeholder:"Sua senha",className:`pl-10 pr-10 ${h.password?"border-red-300":""}`}),s.jsx(ne,{type:"button",variant:"ghost",size:"sm",className:"absolute right-1 top-1/2 transform -translate-y-1/2 h-8 w-8 p-0",onClick:()=>l(!A),children:A?s.jsx(tl,{className:"w-4 h-4"}):s.jsx(Zs,{className:"w-4 h-4"})})]}),h.password&&s.jsx("p",{className:"text-sm text-red-600 mt-1",children:h.password})]}),s.jsx(ne,{type:"submit",className:"w-full",disabled:c,children:c?s.jsxs(s.Fragment,{children:[s.jsx(Ms,{className:"w-4 h-4 mr-2 animate-spin"}),"Entrando..."]}):s.jsxs(s.Fragment,{children:[s.jsx(i2,{className:"w-4 h-4 mr-2"}),"Entrar"]})})]})})]}),s.jsx("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:s.jsxs("div",{className:"flex items-start space-x-2",children:[s.jsx(tA,{className:"w-4 h-4 text-blue-600 mt-0.5"}),s.jsxs("div",{className:"text-sm text-blue-800",children:[s.jsx("p",{className:"font-medium mb-1",children:"Acesso Seguro"}),s.jsx("p",{children:"Suas credenciais so protegidas e criptografadas."})]})]})})]})})},Qz=()=>{const e=Zr(),t=[{icon:s.jsx(Qr,{className:"h-6 w-6"}),title:"Cuidados Personalizados",description:"Registre e acompanhe cuidados especficos para cada paciente"},{icon:s.jsx(Xs,{className:"h-6 w-6"}),title:"Acesso Familiar",description:"Familiares podem acompanhar o progresso com tokens seguros"},{icon:s.jsx(Xt,{className:"h-6 w-6"}),title:"Relatrios Detalhados",description:"Gere relatrios completos de cuidados e medicaes"},{icon:s.jsx(lu,{className:"h-6 w-6"}),title:"Dashboard Intuitivo",description:"Visualize dados importantes de forma clara e organizada"},{icon:s.jsx(tA,{className:"h-6 w-6"}),title:"Segurana Total",description:"Dados protegidos com criptografia e controle de acesso"},{icon:s.jsx(Yr,{className:"h-6 w-6"}),title:"Histrico Completo",description:"Mantenha registro detalhado de todos os cuidados"}],r=["Interface intuitiva e fcil de usar","Acesso multiplataforma (web, tablet, mobile)","Relatrios em PDF personalizveis","Sistema de notificaes inteligente","Backup automtico na nuvem","Suporte tcnico especializado"];return s.jsxs("div",{className:"min-h-screen bg-white",children:[s.jsx("header",{className:"bg-white shadow-sm border-b",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex justify-between items-center py-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"h-12 w-12 bg-white rounded-xl flex items-center justify-center shadow-sm",children:s.jsx(Bu,{size:"lg"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"MediCare"}),s.jsx("p",{className:"text-sm text-primary font-medium",children:"DEMO"})]})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("button",{onClick:()=>e("/demo/login"),className:"text-gray-600 hover:text-gray-900 font-medium",children:"J tenho conta"}),s.jsx("button",{onClick:()=>e("/demo/login"),className:"bg-primary text-primary-foreground px-4 py-2 rounded-lg font-medium hover:bg-primary-hover transition-colors",children:"Entrar na Demo"})]})]})})}),s.jsx("section",{className:"bg-gradient-to-br from-blue-50 to-indigo-100 py-20",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"inline-flex items-center space-x-2 bg-primary/10 text-primary px-4 py-2 rounded-full text-sm font-medium mb-6",children:[s.jsx(cx,{className:"h-4 w-4"}),s.jsx("span",{children:"Demonstrao Gratuita  7 Dias"})]}),s.jsxs("h1",{className:"text-4xl md:text-6xl font-bold text-gray-900 mb-6",children:["Cuidados de Sade",s.jsx("span",{className:"text-primary block",children:"Simplificados"})]}),s.jsx("p",{className:"text-xl text-gray-600 mb-8 max-w-3xl mx-auto",children:"Teste o MediCare gratuitamente por 7 dias. Gerencie cuidados de pacientes, compartilhe informaes com familiares e gere relatrios profissionais."}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[s.jsxs("button",{onClick:()=>e("/demo/signup"),className:"bg-primary text-white px-8 py-4 rounded-lg font-semibold hover:bg-primary/90 transition-colors flex items-center justify-center space-x-2 text-lg",children:[s.jsx("span",{children:"Comear Demo Gratuito"}),s.jsx(oi,{className:"h-5 w-5"})]}),s.jsx("button",{onClick:()=>e("/demo/login"),className:"bg-white text-gray-700 px-8 py-4 rounded-lg font-semibold hover:bg-gray-50 border border-gray-300 transition-colors text-lg",children:"Fazer Login"})]}),s.jsxs("div",{className:"mt-8 flex items-center justify-center space-x-6 text-sm text-gray-500",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Rr,{className:"h-4 w-4 text-green-500"}),s.jsx("span",{children:"Sem carto de crdito"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Rr,{className:"h-4 w-4 text-green-500"}),s.jsx("span",{children:"Acesso completo"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Rr,{className:"h-4 w-4 text-green-500"}),s.jsx("span",{children:"7 dias grtis"})]})]})]})})}),s.jsx("section",{className:"py-20 bg-white",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Funcionalidades Principais"}),s.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Descubra como o MediCare pode transformar o cuidado de pacientes"})]}),s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:t.map((a,n)=>s.jsxs("div",{className:"bg-gray-50 rounded-2xl p-6 hover:shadow-lg transition-shadow",children:[s.jsx("div",{className:"h-12 w-12 bg-primary/10 rounded-xl flex items-center justify-center text-primary mb-4",children:a.icon}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:a.title}),s.jsx("p",{className:"text-gray-600",children:a.description})]},n))})]})}),s.jsx("section",{className:"py-20 bg-gray-50",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-6",children:["Por que escolher o",s.jsx("span",{className:"text-primary block",children:"MediCare?"})]}),s.jsx("div",{className:"space-y-4",children:r.map((a,n)=>s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Rr,{className:"h-5 w-5 text-green-500 flex-shrink-0"}),s.jsx("span",{className:"text-gray-700",children:a})]},n))}),s.jsx("div",{className:"mt-8",children:s.jsxs("button",{onClick:()=>e("/demo/signup"),className:"bg-primary text-white px-6 py-3 rounded-lg font-semibold hover:bg-primary/90 transition-colors flex items-center space-x-2",children:[s.jsx("span",{children:"Experimentar Agora"}),s.jsx(oi,{className:"h-5 w-5"})]})})]}),s.jsx("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"h-16 w-16 bg-yellow-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(Of,{className:"h-8 w-8 text-yellow-600"})}),s.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Demo Completo"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Acesso total a todas as funcionalidades por 7 dias. Teste com dados reais e veja como pode melhorar seu trabalho."}),s.jsxs("div",{className:"bg-primary/10 rounded-lg p-4 mb-6",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Durao:"}),s.jsx("span",{className:"font-semibold text-primary",children:"7 dias completos"})]}),s.jsxs("div",{className:"flex items-center justify-between text-sm mt-2",children:[s.jsx("span",{className:"text-gray-600",children:"Funcionalidades:"}),s.jsx("span",{className:"font-semibold text-primary",children:"100% liberadas"})]}),s.jsxs("div",{className:"flex items-center justify-between text-sm mt-2",children:[s.jsx("span",{className:"text-gray-600",children:"Suporte:"}),s.jsx("span",{className:"font-semibold text-primary",children:"Includo"})]})]}),s.jsx("button",{onClick:()=>e("/demo/signup"),className:"w-full bg-primary text-white py-3 rounded-lg font-semibold hover:bg-primary/90 transition-colors",children:"Comear Demo"})]})})]})})}),s.jsx("section",{className:"py-20 bg-primary",children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[s.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:"Pronto para comear?"}),s.jsx("p",{className:"text-xl text-primary-foreground/80 mb-8",children:"Crie sua conta demo em menos de 2 minutos e comece a usar imediatamente."}),s.jsx("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:s.jsxs("button",{onClick:()=>e("/demo/signup"),className:"bg-white text-primary px-8 py-4 rounded-lg font-semibold hover:bg-gray-100 transition-colors flex items-center justify-center space-x-2 text-lg",children:[s.jsx("span",{children:"Criar Conta Demo"}),s.jsx(oi,{className:"h-5 w-5"})]})})]})}),s.jsx("footer",{className:"bg-gray-900 text-white py-8",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-4 md:mb-0",children:[s.jsx("div",{className:"h-10 w-10 bg-white rounded-lg flex items-center justify-center shadow-sm",children:s.jsx(Bu,{size:"lg"})}),s.jsx("span",{className:"text-lg font-semibold",children:"MediCare Demo"})]}),s.jsx("div",{className:"text-sm text-gray-400",children:" 2024 MediCare. Ambiente de demonstrao."})]})})})]})},kz=()=>{const[e,t]=b.useState(""),[r,a]=b.useState(""),[n,i]=b.useState(""),[o,A]=b.useState(!1),[l,c]=b.useState(""),[d,h]=b.useState(null),m=Zr(),u=()=>"demo_"+Math.random().toString(36).substring(2)+Date.now().toString(36),p=j=>Ae(void 0,null,function*(){const N=new TextEncoder().encode(j+"demo_salt_2024"),I=yield crypto.subtle.digest("SHA-256",N);return Array.from(new Uint8Array(I)).map(U=>U.toString(16).padStart(2,"0")).join("")}),g=()=>!e||!r||!n?(c("Todos os campos so obrigatrios"),!1):/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)?r.length<6?(c("A senha deve ter pelo menos 6 caracteres"),!1):r!==n?(c("As senhas no coincidem"),!1):!0:(c("Por favor, insira um email vlido"),!1),y=j=>Ae(void 0,null,function*(){if(j.preventDefault(),c(""),h(null),!!g()){A(!0);try{const w=JSON.parse(localStorage.getItem("demo_users")||"[]");if(w.some(P=>P.email===e)){c("Este email j est cadastrado. Tente fazer login ou use outro email."),A(!1);return}const N=u(),I=yield p(r),U=crypto.randomUUID(),D=new Date(Date.now()+7*24*60*60*1e3).toISOString(),L={id:U,email:e,password_hash:I,demo_token:N,created_at:new Date().toISOString(),expires_at:D,is_active:!0};w.push(L),localStorage.setItem("demo_users",JSON.stringify(w)),h(L),localStorage.setItem("demo_token",N),localStorage.setItem("demo_user_id",U),localStorage.setItem("demo_user_email",e),localStorage.setItem("demo_expires_at",L.expires_at)}catch(w){console.error("Erro no cadastro:",w),c("Erro interno. Tente novamente mais tarde.")}finally{A(!1)}}}),x=()=>{d&&m("/demo/dashboard")},B=j=>new Date(j).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"});return d?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:s.jsxs(Ee,{className:"w-full max-w-md",children:[s.jsxs(He,{className:"text-center",children:[s.jsx("div",{className:"mx-auto w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mb-4",children:s.jsx(Rr,{className:"w-6 h-6 text-green-600"})}),s.jsx(Ke,{className:"text-2xl font-bold text-green-700",children:"Conta Demo Criada!"}),s.jsx(St,{children:"Sua conta demo foi criada com sucesso"})]}),s.jsxs(Ue,{className:"space-y-4",children:[s.jsxs("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200",children:[s.jsx("h3",{className:"font-semibold text-green-800 mb-2",children:"Detalhes da sua conta:"}),s.jsxs("div",{className:"space-y-2 text-sm text-green-700",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ox,{className:"w-4 h-4"}),s.jsxs("span",{children:["Email: ",d.email]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Yr,{className:"w-4 h-4"}),s.jsxs("span",{children:["Expira em: ",B(d.expires_at)]})]})]})]}),s.jsxs(en,{children:[s.jsx(Yr,{className:"h-4 w-4"}),s.jsxs(tn,{children:[s.jsx("strong",{children:"Importante:"})," Sua conta demo  vlida por 7 dias. Aps este perodo, todos os dados sero automaticamente removidos."]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(ne,{onClick:x,className:"w-full bg-primary hover:bg-primary/90",size:"lg",children:"Acessar Demo"}),s.jsx(ne,{variant:"outline",onClick:()=>m("/demo/login"),className:"w-full",children:"Fazer Login Depois"})]}),s.jsxs("div",{className:"text-xs text-gray-500 text-center",children:["Token: ",s.jsx("code",{className:"bg-gray-100 px-1 rounded",children:d.demo_token}),s.jsx("br",{}),s.jsx("span",{className:"text-gray-400",children:"Guarde este token para acessar sua conta"})]})]})]})}):s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:s.jsxs(Ee,{className:"w-full max-w-md",children:[s.jsxs(He,{className:"text-center",children:[s.jsx(Ke,{className:"text-2xl font-bold text-gray-900",children:"Criar Conta Demo"}),s.jsx(St,{children:"Teste o MediCare gratuitamente por 7 dias"})]}),s.jsx(Ue,{children:s.jsxs("form",{onSubmit:y,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{htmlFor:"email",className:"text-sm font-medium text-gray-700",children:"Email"}),s.jsxs("div",{className:"relative",children:[s.jsx(ox,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s.jsx(_e,{id:"email",type:"email",placeholder:"seu@email.com",value:e,onChange:j=>t(j.target.value),className:"pl-10",disabled:o})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{htmlFor:"password",className:"text-sm font-medium text-gray-700",children:"Senha"}),s.jsxs("div",{className:"relative",children:[s.jsx(Gi,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s.jsx(_e,{id:"password",type:"password",placeholder:"Mnimo 6 caracteres",value:r,onChange:j=>a(j.target.value),className:"pl-10",disabled:o})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{htmlFor:"confirmPassword",className:"text-sm font-medium text-gray-700",children:"Confirmar Senha"}),s.jsxs("div",{className:"relative",children:[s.jsx(Gi,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s.jsx(_e,{id:"confirmPassword",type:"password",placeholder:"Digite a senha novamente",value:n,onChange:j=>i(j.target.value),className:"pl-10",disabled:o})]})]}),l&&s.jsx(en,{variant:"destructive",children:s.jsx(tn,{children:l})}),s.jsxs("div",{className:"bg-primary/10 p-4 rounded-lg border border-primary/20",children:[s.jsx("h3",{className:"font-semibold text-primary mb-2",children:"O que voc ter acesso:"}),s.jsxs("ul",{className:"text-sm text-primary/80 space-y-1",children:[s.jsx("li",{children:" Gerenciamento completo de pacientes"}),s.jsx("li",{children:" Registro de cuidados e medicamentos"}),s.jsx("li",{children:" Relatrios detalhados"}),s.jsx("li",{children:" Acesso familiar com tokens"}),s.jsx("li",{children:" Interface responsiva"})]})]}),s.jsx(ne,{type:"submit",className:"w-full bg-primary hover:bg-primary/90",disabled:o,size:"lg",children:o?s.jsxs(s.Fragment,{children:[s.jsx(Ms,{className:"mr-2 h-4 w-4 animate-spin"}),"Criando conta..."]}):"Criar Conta Demo"}),s.jsxs("div",{className:"text-center space-y-2",children:[s.jsxs("p",{className:"text-sm text-gray-600",children:["J tem uma conta demo?"," ",s.jsx("button",{type:"button",onClick:()=>m("/demo/login"),className:"text-primary hover:text-primary/80 font-medium",children:"Fazer Login"})]}),s.jsx("p",{className:"text-xs text-gray-500",children:"Conta demo vlida por 7 dias  Dados removidos automaticamente aps expirao"})]})]})})]})})},Lz=()=>{const[e,t]=b.useState(""),[r,a]=b.useState(""),[n,i]=b.useState(!1),[o,A]=b.useState(!1),[l,c]=b.useState(""),d=Zr(),h=u=>Ae(void 0,null,function*(){const g=new TextEncoder().encode(u+"demo_salt_2024"),y=yield crypto.subtle.digest("SHA-256",g);return Array.from(new Uint8Array(y)).map(B=>B.toString(16).padStart(2,"0")).join("")}),m=u=>Ae(void 0,null,function*(){if(u.preventDefault(),c(""),A(!0),!e||!r){c("Por favor, preencha todos os campos."),A(!1);return}try{const p=JSON.parse(localStorage.getItem("demo_users")||"[]"),g=yield h(r),y=p.find(N=>N.email===e&&N.password_hash===g&&N.is_active);if(!y){c("Email ou senha incorretos."),A(!1);return}const x=new Date,B=new Date(y.expires_at);if(x>B){const N=p.map(I=>I.id===y.id?M(_({},I),{is_active:!1}):I);localStorage.setItem("demo_users",JSON.stringify(N)),c("Sua conta demo expirou. Por favor, cadastre-se novamente."),A(!1);return}const j=Math.ceil((B.getTime()-x.getTime())/(1e3*60*60*24));localStorage.setItem("demo_token",y.demo_token),localStorage.setItem("demo_user_id",y.id),localStorage.setItem("demo_expires_at",y.expires_at),localStorage.setItem("demo_days_remaining",j.toString());const w=p.map(N=>N.id===y.id?M(_({},N),{last_login:new Date().toISOString()}):N);localStorage.setItem("demo_users",JSON.stringify(w)),d("/demo/dashboard")}catch(p){console.error("Erro no login:",p),c("Erro interno. Tente novamente.")}finally{A(!1)}});return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:s.jsxs("div",{className:"max-w-md w-full space-y-8",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"mx-auto h-12 w-12 bg-primary rounded-xl flex items-center justify-center mb-4",children:s.jsx(Gi,{className:"h-6 w-6 text-white"})}),s.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Login Demo"}),s.jsx("p",{className:"text-gray-600",children:"Acesse sua conta demo do MediCare"})]}),s.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[l&&s.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg flex items-center space-x-3",children:[s.jsx(Ts,{className:"h-5 w-5 text-red-500 flex-shrink-0"}),s.jsx("span",{className:"text-red-700 text-sm",children:l})]}),s.jsxs("form",{onSubmit:m,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(ox,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{id:"email",type:"email",value:e,onChange:u=>t(u.target.value),className:"block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary transition-colors",placeholder:"seu@email.com",required:!0})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Senha"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(Gi,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{id:"password",type:n?"text":"password",value:r,onChange:u=>a(u.target.value),className:"block w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary transition-colors",placeholder:"Sua senha",required:!0}),s.jsx("button",{type:"button",onClick:()=>i(!n),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:n?s.jsx(tl,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"}):s.jsx(Zs,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"})})]})]}),s.jsx("button",{type:"submit",disabled:o,className:"w-full bg-primary text-white py-3 px-4 rounded-lg font-medium hover:bg-primary/90 focus:ring-2 focus:ring-primary focus:ring-offset-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:o?s.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):s.jsxs(s.Fragment,{children:[s.jsx("span",{children:"Entrar"}),s.jsx(oi,{className:"h-5 w-5"})]})})]}),s.jsxs("div",{className:"mt-6 text-center space-y-2",children:[s.jsxs("p",{className:"text-sm text-gray-600",children:["No tem uma conta demo?"," ",s.jsx("button",{onClick:()=>d("/demo/signup"),className:"text-primary hover:text-primary/80 font-medium",children:"Cadastre-se aqui"})]}),s.jsx("p",{className:"text-sm text-gray-600",children:s.jsx("button",{onClick:()=>d("/"),className:"text-gray-500 hover:text-gray-700",children:" Voltar ao incio"})})]})]}),s.jsx("div",{className:"bg-primary/10 rounded-lg p-4 text-center",children:s.jsxs("div",{className:"flex items-center justify-center space-x-2 text-primary",children:[s.jsx(Rr,{className:"h-5 w-5"}),s.jsx("span",{className:"text-sm font-medium",children:"Acesso demo vlido por 7 dias"})]})})]})})};function Dz(){const[e,t]=b.useState(""),[r,a]=b.useState(""),[n,i]=b.useState(!1),[o,A]=b.useState(!1),[l,c]=b.useState(""),d=Zr(),{toast:h}=ir(),{login:m,isAuthenticated:u,isLoading:p}=Ca();b.useEffect(()=>{!p&&u&&d("/super-admin/dashboard",{replace:!0})},[u,p,d]);const g={email:"superadmin@medicare.com",password:"superadmin123",role:"super_admin",name:"Super Administrador",hospital:"MediCare System"},y=B=>Ae(this,null,function*(){B.preventDefault(),A(!0),c("");try{e===g.email&&r===g.password?(yield m(g),h({title:"Login realizado com sucesso!",description:`Bem-vindo, ${g.name}`}),d("/super-admin/dashboard")):c("Credenciais invlidas para Super Administrador")}catch(j){console.error("Erro no login:",j),c("Erro interno do servidor. Tente novamente.")}finally{A(!1)}}),x=()=>{t(g.email),a(g.password)};return p?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary"})}):s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:s.jsxs("div",{className:"w-full max-w-md space-y-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx(Bu,{}),s.jsx("h1",{className:"mt-6 text-3xl font-bold text-gray-900",children:"Super Admin"}),s.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Acesso exclusivo para Super Administradores"})]}),s.jsxs(Ee,{children:[s.jsxs(He,{className:"space-y-1",children:[s.jsxs(Ke,{className:"text-2xl text-center flex items-center justify-center gap-2",children:[s.jsx(tA,{className:"h-6 w-6 text-red-600"}),"Login Super Admin"]}),s.jsx(St,{className:"text-center",children:"Entre com suas credenciais de Super Administrador"})]}),s.jsx(Ue,{children:s.jsxs("form",{onSubmit:y,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ie,{htmlFor:"email",children:"Email"}),s.jsxs("div",{className:"relative",children:[s.jsx(Or,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s.jsx(_e,{id:"email",type:"email",placeholder:"superadmin@medicare.com",value:e,onChange:B=>t(B.target.value),className:"pl-10",required:!0})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ie,{htmlFor:"password",children:"Senha"}),s.jsxs("div",{className:"relative",children:[s.jsx(Gi,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),s.jsx(_e,{id:"password",type:n?"text":"password",placeholder:"Digite sua senha",value:r,onChange:B=>a(B.target.value),className:"pl-10 pr-10",required:!0}),s.jsx("button",{type:"button",onClick:()=>i(!n),className:"absolute right-3 top-3 text-gray-400 hover:text-gray-600",children:n?s.jsx(tl,{className:"h-4 w-4"}):s.jsx(Zs,{className:"h-4 w-4"})})]})]}),l&&s.jsx(en,{variant:"destructive",children:s.jsx(tn,{children:l})}),s.jsx(ne,{type:"submit",className:"w-full",disabled:o,children:o?"Entrando...":"Entrar"}),s.jsx(ne,{type:"button",variant:"outline",className:"w-full",onClick:x,children:"Preencher Credenciais Demo"})]})})]}),s.jsx("div",{className:"text-center",children:s.jsxs("p",{className:"text-sm text-gray-600",children:["No  Super Admin?"," ",s.jsx("button",{onClick:()=>d("/login"),className:"text-blue-600 hover:text-blue-500 font-medium",children:"Fazer login normal"})]})})]})})}function Pz(){const[e,t]=b.useState(""),[r,a]=b.useState(""),[n,i]=b.useState(!1),[o,A]=b.useState(""),l=Zr(),{toast:c}=ir(),{login:d,isAuthenticated:h,isLoading:m}=Ca();b.useEffect(()=>{!m&&h&&l("/super-admin/dashboard",{replace:!0})},[h,m,l]);const u={email:"superadmin@medicare.com",password:"superadmin123",role:"super_admin",name:"Super Administrador",hospital:"MediCare System"},p=g=>Ae(this,null,function*(){g.preventDefault(),i(!0),A("");try{e===u.email&&r===u.password?(yield d(u),c({title:"Login realizado com sucesso!",description:`Bem-vindo, ${u.name}`}),l("/super-admin/dashboard")):A("Credenciais invlidas para Super Administrador")}catch(y){console.error("Erro no login:",y),A("Erro interno do servidor. Tente novamente.")}finally{i(!1)}});return m?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary"})}):s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"w-full max-w-sm bg-white rounded-lg shadow-md p-6",children:[s.jsxs("div",{className:"text-center mb-6",children:[s.jsx(tA,{className:"h-12 w-12 text-red-600 mx-auto mb-2"}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Super Admin"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Login Simples"})]}),s.jsxs("form",{onSubmit:p,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"email",children:"Email"}),s.jsx(_e,{id:"email",type:"email",placeholder:"superadmin@medicare.com",value:e,onChange:g=>t(g.target.value),required:!0})]}),s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"password",children:"Senha"}),s.jsx(_e,{id:"password",type:"password",placeholder:"Digite sua senha",value:r,onChange:g=>a(g.target.value),required:!0})]}),o&&s.jsx(en,{variant:"destructive",children:s.jsx(tn,{children:o})}),s.jsx(ne,{type:"submit",className:"w-full",disabled:n,children:n?"Entrando...":"Entrar"})]}),s.jsx("div",{className:"mt-4 text-center",children:s.jsx("button",{onClick:()=>l("/super-admin/login"),className:"text-sm text-blue-600 hover:text-blue-500",children:"Login Completo"})})]})})}const Mz=()=>{const e=Zr(),t=[{title:"Clientes Ativos",value:"12",description:"Hospitais usando o sistema",icon:pm,color:"bg-blue-500",change:"+2 este ms"},{title:"Usurios Totais",value:"1,247",description:"Usurios em todos os clientes",icon:Xs,color:"bg-green-500",change:"+89 este ms"},{title:"Uptime do Sistema",value:"99.9%",description:"Disponibilidade nos ltimos 30 dias",icon:Tr,color:"bg-emerald-500",change:"Excelente"},{title:"Configuraes Ativas",value:"45",description:"Personalizaes implementadas",icon:Ru,color:"bg-purple-500",change:"+7 esta semana"}],r=[{title:"Criar Novo Cliente",description:"Adicionar um novo hospital ao sistema",icon:pm,color:"bg-blue-500",onClick:()=>e("/super-admin/create-client")},{title:"Configurar Tema",description:"Personalizar aparncia para clientes",icon:QB,color:"bg-pink-500",onClick:()=>e("/super-admin/client/1/theme")},{title:"Gerenciar Assets",description:"Upload de logos e imagens",icon:XA,color:"bg-orange-500",onClick:()=>e("/super-admin/client/1/assets")},{title:"Testes do Sistema",description:"Executar testes de funcionalidade",icon:du,color:"bg-cyan-500",onClick:()=>e("/super-admin/tests")},{title:"Configurar Credenciais",description:"Gerenciar chaves de API e configuraes",icon:IB,color:"bg-red-500",onClick:()=>e("/super-admin/credentials")},{title:"Backup do Sistema",description:"Realizar backup completo dos dados",icon:Ap,color:"bg-gray-500",onClick:()=>alert("Funcionalidade em desenvolvimento")}];return s.jsx("div",{className:"min-h-screen bg-gray-50 p-4 sm:p-6",children:s.jsxs("div",{className:"max-w-7xl mx-auto space-y-6 px-2 sm:px-0",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-2",children:[s.jsx(tA,{className:"h-8 w-8 text-red-600"}),"Super Admin Dashboard"]}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Painel de controle do sistema MediCare"})]}),s.jsx(At,{variant:"secondary",className:"text-sm",children:"Super Administrador"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:t.map((a,n)=>s.jsxs(Ee,{className:"hover:shadow-lg transition-shadow",children:[s.jsxs(He,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Ke,{className:"text-sm font-medium text-gray-600",children:a.title}),s.jsx("div",{className:`p-2 rounded-full ${a.color}`,children:s.jsx(a.icon,{className:"h-4 w-4 text-white"})})]}),s.jsxs(Ue,{children:[s.jsx("div",{className:"text-2xl font-bold text-gray-900",children:a.value}),s.jsx("p",{className:"text-xs text-gray-600 mt-1",children:a.description}),s.jsx("p",{className:"text-xs text-green-600 mt-2",children:a.change})]})]},n))}),s.jsxs(Ee,{children:[s.jsxs(He,{children:[s.jsx(Ke,{children:"Aes Rpidas"}),s.jsx(St,{children:"Funcionalidades principais do Super Admin"})]}),s.jsx(Ue,{children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:r.map((a,n)=>s.jsxs(ne,{variant:"outline",className:"h-auto p-4 flex flex-col items-start space-y-2 hover:bg-gray-50",onClick:a.onClick,children:[s.jsx("div",{className:`p-2 rounded-full ${a.color}`,children:s.jsx(a.icon,{className:"h-5 w-5 text-white"})}),s.jsxs("div",{className:"text-left",children:[s.jsx("div",{className:"font-medium text-gray-900",children:a.title}),s.jsx("div",{className:"text-sm text-gray-600",children:a.description})]})]},n))})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(Ee,{children:[s.jsxs(He,{children:[s.jsx(Ke,{children:"Status do Sistema"}),s.jsx(St,{children:"Monitoramento em tempo real"})]}),s.jsxs(Ue,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Servidor Principal"}),s.jsx(At,{variant:"default",className:"bg-green-500",children:"Online"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Banco de Dados"}),s.jsx(At,{variant:"default",className:"bg-green-500",children:"Conectado"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"API Externa"}),s.jsx(At,{variant:"default",className:"bg-green-500",children:"Funcionando"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Backup Automtico"}),s.jsx(At,{variant:"secondary",children:"Agendado"})]})]})]}),s.jsxs(Ee,{children:[s.jsxs(He,{children:[s.jsx(Ke,{children:"Atividade Recente"}),s.jsx(St,{children:"ltimas aes no sistema"})]}),s.jsxs(Ue,{className:"space-y-3",children:[s.jsxs("div",{className:"text-sm",children:[s.jsx("div",{className:"font-medium",children:"Novo cliente adicionado"}),s.jsx("div",{className:"text-gray-600",children:"Hospital So Lucas - h 2 horas"})]}),s.jsxs("div",{className:"text-sm",children:[s.jsx("div",{className:"font-medium",children:"Tema personalizado criado"}),s.jsx("div",{className:"text-gray-600",children:"Cliente ID: 12 - h 4 horas"})]}),s.jsxs("div",{className:"text-sm",children:[s.jsx("div",{className:"font-medium",children:"Backup realizado"}),s.jsx("div",{className:"text-gray-600",children:"Backup completo - h 6 horas"})]}),s.jsxs("div",{className:"text-sm",children:[s.jsx("div",{className:"font-medium",children:"Atualizao de sistema"}),s.jsx("div",{className:"text-gray-600",children:"Verso 2.1.3 - ontem"})]})]})]})]})]})})};function Tz(){const e=Zr(),{toast:t}=ir(),[r,a]=b.useState(!1),[n,i]=b.useState({name:"",domain:"",contactEmail:"",contactPhone:"",address:"",plan:"",maxUsers:"",description:""}),o=(l,c)=>{i(d=>M(_({},d),{[l]:c}))},A=l=>Ae(this,null,function*(){l.preventDefault(),a(!0);try{yield new Promise(c=>setTimeout(c,2e3)),t({title:"Cliente criado com sucesso!",description:`${n.name} foi adicionado ao sistema.`}),e("/super-admin/dashboard")}catch(c){t({title:"Erro ao criar cliente",description:"Ocorreu um erro. Tente novamente.",variant:"destructive"})}finally{a(!1)}});return s.jsx("div",{className:"min-h-screen bg-gray-50 p-4 sm:p-6",children:s.jsxs("div",{className:"max-w-4xl mx-auto space-y-6 px-2 sm:px-0",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs(ne,{variant:"outline",size:"sm",onClick:()=>e("/super-admin/dashboard"),children:[s.jsx(zi,{className:"h-4 w-4 mr-2"}),"Voltar"]}),s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-2",children:[s.jsx(pm,{className:"h-8 w-8 text-blue-600"}),"Criar Novo Cliente"]}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Adicionar um novo hospital ou clnica ao sistema"})]})]}),s.jsxs("form",{onSubmit:A,children:[s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(Ee,{children:[s.jsxs(He,{children:[s.jsx(Ke,{children:"Informaes Bsicas"}),s.jsx(St,{children:"Dados principais do cliente"})]}),s.jsxs(Ue,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"name",children:"Nome da Instituio *"}),s.jsx(_e,{id:"name",placeholder:"Hospital So Lucas",value:n.name,onChange:l=>o("name",l.target.value),required:!0})]}),s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"domain",children:"Domnio *"}),s.jsx(_e,{id:"domain",placeholder:"saolucas.medicare.com",value:n.domain,onChange:l=>o("domain",l.target.value),required:!0})]}),s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"contactEmail",children:"Email de Contato *"}),s.jsx(_e,{id:"contactEmail",type:"email",placeholder:"admin@saolucas.com",value:n.contactEmail,onChange:l=>o("contactEmail",l.target.value),required:!0})]}),s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"contactPhone",children:"Telefone"}),s.jsx(_e,{id:"contactPhone",placeholder:"(11) 99999-9999",value:n.contactPhone,onChange:l=>o("contactPhone",l.target.value)})]})]})]}),s.jsxs(Ee,{children:[s.jsxs(He,{children:[s.jsx(Ke,{children:"Configuraes"}),s.jsx(St,{children:"Plano e limitaes do cliente"})]}),s.jsxs(Ue,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"plan",children:"Plano *"}),s.jsxs(kt,{value:n.plan,onValueChange:l=>o("plan",l),children:[s.jsx(Et,{children:s.jsx(Lt,{placeholder:"Selecione um plano"})}),s.jsxs(Ut,{children:[s.jsx(Se,{value:"basic",children:"Bsico (at 50 usurios)"}),s.jsx(Se,{value:"professional",children:"Profissional (at 200 usurios)"}),s.jsx(Se,{value:"enterprise",children:"Enterprise (usurios ilimitados)"})]})]})]}),s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"maxUsers",children:"Mximo de Usurios"}),s.jsx(_e,{id:"maxUsers",type:"number",placeholder:"100",value:n.maxUsers,onChange:l=>o("maxUsers",l.target.value)})]}),s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"address",children:"Endereo"}),s.jsx(Ar,{id:"address",placeholder:"Rua das Flores, 123 - Centro - So Paulo/SP",value:n.address,onChange:l=>o("address",l.target.value),rows:3})]}),s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"description",children:"Descrio"}),s.jsx(Ar,{id:"description",placeholder:"Informaes adicionais sobre o cliente...",value:n.description,onChange:l=>o("description",l.target.value),rows:3})]})]})]})]}),s.jsx(en,{className:"mt-6",children:s.jsxs(tn,{children:[s.jsx("strong",{children:"Importante:"})," Aps criar o cliente, voc poder configurar o tema personalizado, fazer upload de logos e definir outras personalizaes especficas."]})}),s.jsxs("div",{className:"flex justify-end gap-4 mt-6",children:[s.jsx(ne,{type:"button",variant:"outline",onClick:()=>e("/super-admin/dashboard"),children:"Cancelar"}),s.jsx(ne,{type:"submit",disabled:r||!n.name||!n.domain||!n.contactEmail||!n.plan,children:r?"Criando...":s.jsxs(s.Fragment,{children:[s.jsx(hn,{className:"h-4 w-4 mr-2"}),"Criar Cliente"]})})]})]})]})})}function Rz(){const e=Zr(),{clientId:t}=ll(),{toast:r}=ir(),[a,n]=b.useState(!1),[i,o]=b.useState({primaryColor:"#3b82f6",secondaryColor:"#64748b",accentColor:"#10b981",backgroundColor:"#ffffff",textColor:"#1f2937",borderRadius:"8",fontFamily:"Inter",logoUrl:"",faviconUrl:""}),A=(h,m)=>{o(u=>M(_({},u),{[h]:m}))},l=()=>Ae(this,null,function*(){n(!0);try{yield new Promise(h=>setTimeout(h,1500)),r({title:"Tema salvo com sucesso!",description:"As personalizaes foram aplicadas ao cliente."})}catch(h){r({title:"Erro ao salvar tema",description:"Ocorreu um erro. Tente novamente.",variant:"destructive"})}finally{n(!1)}}),c=[{name:"Azul Hospitalar",colors:{primaryColor:"#2563eb",secondaryColor:"#64748b",accentColor:"#10b981",backgroundColor:"#ffffff",textColor:"#1f2937"}},{name:"Verde Sade",colors:{primaryColor:"#059669",secondaryColor:"#6b7280",accentColor:"#3b82f6",backgroundColor:"#ffffff",textColor:"#1f2937"}},{name:"Roxo Moderno",colors:{primaryColor:"#7c3aed",secondaryColor:"#64748b",accentColor:"#f59e0b",backgroundColor:"#ffffff",textColor:"#1f2937"}}],d=h=>{o(m=>_(_({},m),h.colors))};return s.jsx("div",{className:"min-h-screen bg-gray-50 p-4 sm:p-6",children:s.jsxs("div",{className:"max-w-6xl mx-auto space-y-6 px-2 sm:px-0",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs(ne,{variant:"outline",size:"sm",onClick:()=>e("/super-admin/dashboard"),children:[s.jsx(zi,{className:"h-4 w-4 mr-2"}),"Voltar"]}),s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-2",children:[s.jsx(QB,{className:"h-8 w-8 text-purple-600"}),"Configurador de Tema"]}),s.jsxs("p",{className:"text-gray-600 mt-1",children:["Cliente ID: ",t," - Personalize a aparncia do sistema"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsx("div",{className:"space-y-6",children:s.jsxs(E1,{defaultValue:"colors",className:"w-full",children:[s.jsxs(kp,{className:"grid w-full grid-cols-3",children:[s.jsx(Ss,{value:"colors",children:"Cores"}),s.jsx(Ss,{value:"typography",children:"Tipografia"}),s.jsx(Ss,{value:"assets",children:"Assets"})]}),s.jsx(Fs,{value:"colors",className:"space-y-4",children:s.jsxs(Ee,{children:[s.jsxs(He,{children:[s.jsx(Ke,{children:"Paleta de Cores"}),s.jsx(St,{children:"Defina as cores principais do tema"})]}),s.jsxs(Ue,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"primaryColor",children:"Cor Primria"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(_e,{id:"primaryColor",type:"color",value:i.primaryColor,onChange:h=>A("primaryColor",h.target.value),className:"w-16 h-10 p-1"}),s.jsx(_e,{value:i.primaryColor,onChange:h=>A("primaryColor",h.target.value),placeholder:"#3b82f6"})]})]}),s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"secondaryColor",children:"Cor Secundria"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(_e,{id:"secondaryColor",type:"color",value:i.secondaryColor,onChange:h=>A("secondaryColor",h.target.value),className:"w-16 h-10 p-1"}),s.jsx(_e,{value:i.secondaryColor,onChange:h=>A("secondaryColor",h.target.value),placeholder:"#64748b"})]})]}),s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"accentColor",children:"Cor de Destaque"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(_e,{id:"accentColor",type:"color",value:i.accentColor,onChange:h=>A("accentColor",h.target.value),className:"w-16 h-10 p-1"}),s.jsx(_e,{value:i.accentColor,onChange:h=>A("accentColor",h.target.value),placeholder:"#10b981"})]})]}),s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"backgroundColor",children:"Cor de Fundo"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(_e,{id:"backgroundColor",type:"color",value:i.backgroundColor,onChange:h=>A("backgroundColor",h.target.value),className:"w-16 h-10 p-1"}),s.jsx(_e,{value:i.backgroundColor,onChange:h=>A("backgroundColor",h.target.value),placeholder:"#ffffff"})]})]})]}),s.jsxs("div",{className:"pt-4",children:[s.jsx(ie,{children:"Temas Predefinidos"}),s.jsx("div",{className:"grid grid-cols-1 gap-2 mt-2",children:c.map((h,m)=>s.jsx(ne,{variant:"outline",size:"sm",onClick:()=>d(h),className:"justify-start",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:h.colors.primaryColor}}),h.name]})},m))})]})]})]})}),s.jsx(Fs,{value:"typography",className:"space-y-4",children:s.jsxs(Ee,{children:[s.jsxs(He,{children:[s.jsx(Ke,{children:"Tipografia"}),s.jsx(St,{children:"Configure fontes e estilos de texto"})]}),s.jsxs(Ue,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"fontFamily",children:"Famlia da Fonte"}),s.jsxs("select",{id:"fontFamily",value:i.fontFamily,onChange:h=>A("fontFamily",h.target.value),className:"w-full p-2 border rounded-md",children:[s.jsx("option",{value:"Inter",children:"Inter"}),s.jsx("option",{value:"Roboto",children:"Roboto"}),s.jsx("option",{value:"Open Sans",children:"Open Sans"}),s.jsx("option",{value:"Lato",children:"Lato"}),s.jsx("option",{value:"Poppins",children:"Poppins"})]})]}),s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"borderRadius",children:"Raio da Borda (px)"}),s.jsx(_e,{id:"borderRadius",type:"number",value:i.borderRadius,onChange:h=>A("borderRadius",h.target.value),placeholder:"8"})]})]})]})}),s.jsx(Fs,{value:"assets",className:"space-y-4",children:s.jsxs(Ee,{children:[s.jsxs(He,{children:[s.jsx(Ke,{children:"Assets"}),s.jsx(St,{children:"Configure logos e cones personalizados"})]}),s.jsxs(Ue,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"logoUrl",children:"URL do Logo"}),s.jsx(_e,{id:"logoUrl",value:i.logoUrl,onChange:h=>A("logoUrl",h.target.value),placeholder:"https://exemplo.com/logo.png"})]}),s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"faviconUrl",children:"URL do Favicon"}),s.jsx(_e,{id:"faviconUrl",value:i.faviconUrl,onChange:h=>A("faviconUrl",h.target.value),placeholder:"https://exemplo.com/favicon.ico"})]})]})]})})]})}),s.jsxs(Ee,{children:[s.jsxs(He,{children:[s.jsxs(Ke,{className:"flex items-center gap-2",children:[s.jsx(Zs,{className:"h-5 w-5"}),"Preview do Tema"]}),s.jsx(St,{children:"Visualizao das personalizaes aplicadas"})]}),s.jsx(Ue,{children:s.jsxs("div",{className:"border rounded-lg p-6 space-y-4",style:{backgroundColor:i.backgroundColor,color:i.textColor,fontFamily:i.fontFamily},children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-8 h-8 rounded",style:{backgroundColor:i.primaryColor}}),s.jsx("h3",{className:"font-bold",children:"MediCare System"})]}),s.jsxs("div",{className:"p-4 rounded",style:{backgroundColor:i.primaryColor,color:"white",borderRadius:`${i.borderRadius}px`},children:[s.jsx("h4",{className:"font-semibold",children:"Boto Primrio"}),s.jsx("p",{className:"text-sm opacity-90",children:"Exemplo de elemento principal"})]}),s.jsxs("div",{className:"p-4 rounded border",style:{borderColor:i.secondaryColor,borderRadius:`${i.borderRadius}px`},children:[s.jsx("h4",{className:"font-semibold",children:"Card de Contedo"}),s.jsx("p",{className:"text-sm",style:{color:i.secondaryColor},children:"Exemplo de contedo secundrio"})]}),s.jsx("div",{className:"inline-block px-3 py-1 rounded text-sm",style:{backgroundColor:i.accentColor,color:"white",borderRadius:`${i.borderRadius}px`},children:"Badge de Destaque"})]})})]})]}),s.jsxs("div",{className:"flex justify-end gap-4",children:[s.jsx(ne,{variant:"outline",onClick:()=>e("/super-admin/dashboard"),children:"Cancelar"}),s.jsx(ne,{onClick:l,disabled:a,children:a?"Salvando...":s.jsxs(s.Fragment,{children:[s.jsx(hn,{className:"h-4 w-4 mr-2"}),"Salvar Tema"]})})]})]})})}function Oz(){const e=Zr(),{clientId:t}=ll(),{toast:r}=ir(),[a,n]=b.useState(!1),[i,o]=b.useState([{id:"1",name:"logo-principal.png",type:"logo",url:"/placeholder.svg",size:"45 KB",uploadDate:"2024-01-15"},{id:"2",name:"favicon.ico",type:"favicon",url:"/favicon.ico",size:"12 KB",uploadDate:"2024-01-15"},{id:"3",name:"background-login.jpg",type:"background",url:"/placeholder.svg",size:"234 KB",uploadDate:"2024-01-10"}]),A=(h,m)=>Ae(this,null,function*(){var p;const u=(p=h.target.files)==null?void 0:p[0];if(u){n(!0);try{yield new Promise(y=>setTimeout(y,2e3));const g={id:Date.now().toString(),name:u.name,type:m,url:URL.createObjectURL(u),size:`${Math.round(u.size/1024)} KB`,uploadDate:new Date().toISOString().split("T")[0]};o(y=>[...y,g]),r({title:"Upload realizado com sucesso!",description:`${u.name} foi adicionado aos assets.`})}catch(g){r({title:"Erro no upload",description:"Ocorreu um erro. Tente novamente.",variant:"destructive"})}finally{n(!1)}}}),l=h=>{o(m=>m.filter(u=>u.id!==h)),r({title:"Asset removido",description:"O arquivo foi removido com sucesso."})},c=h=>({logo:"Logo",favicon:"Favicon",background:"Imagem de Fundo",icon:"cone",other:"Outro"})[h]||"Desconhecido",d=h=>({logo:"bg-blue-100 text-blue-800",favicon:"bg-green-100 text-green-800",background:"bg-purple-100 text-purple-800",icon:"bg-orange-100 text-orange-800",other:"bg-gray-100 text-gray-800"})[h]||"bg-gray-100 text-gray-800";return s.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:s.jsxs("div",{className:"max-w-6xl mx-auto space-y-6 px-2 sm:px-0",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs(ne,{variant:"outline",size:"sm",onClick:()=>e("/super-admin/dashboard"),children:[s.jsx(zi,{className:"h-4 w-4 mr-2"}),"Voltar"]}),s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-2",children:[s.jsx(XA,{className:"h-8 w-8 text-orange-600"}),"Gerenciador de Assets"]}),s.jsxs("p",{className:"text-gray-600 mt-1",children:["Cliente ID: ",t," - Gerencie logos, cones e imagens"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs(Ee,{className:"lg:col-span-1",children:[s.jsxs(He,{children:[s.jsx(Ke,{children:"Upload de Assets"}),s.jsx(St,{children:"Adicione novos arquivos ao sistema"})]}),s.jsxs(Ue,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"logo-upload",children:"Logo Principal"}),s.jsx(_e,{id:"logo-upload",type:"file",accept:"image/*",onChange:h=>A(h,"logo"),disabled:a}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"PNG, JPG, SVG at 2MB"})]}),s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"favicon-upload",children:"Favicon"}),s.jsx(_e,{id:"favicon-upload",type:"file",accept:".ico,.png",onChange:h=>A(h,"favicon"),disabled:a}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"ICO, PNG 16x16 ou 32x32"})]}),s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"background-upload",children:"Imagem de Fundo"}),s.jsx(_e,{id:"background-upload",type:"file",accept:"image/*",onChange:h=>A(h,"background"),disabled:a}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"JPG, PNG at 5MB"})]}),s.jsxs("div",{children:[s.jsx(ie,{htmlFor:"other-upload",children:"Outros Assets"}),s.jsx(_e,{id:"other-upload",type:"file",accept:"image/*",onChange:h=>A(h,"other"),disabled:a}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Qualquer tipo de imagem"})]}),a&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-blue-600",children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600"}),"Fazendo upload..."]})]})]}),s.jsxs(Ee,{className:"lg:col-span-2",children:[s.jsxs(He,{children:[s.jsx(Ke,{children:"Assets Existentes"}),s.jsx(St,{children:"Arquivos atualmente disponveis para o cliente"})]}),s.jsx(Ue,{children:s.jsxs("div",{className:"space-y-4",children:[i.map(h=>s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-gray-50",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center",children:[s.jsx("img",{src:h.url,alt:h.name,className:"w-8 h-8 object-cover rounded",onError:m=>{var p;const u=m.target;u.style.display="none",(p=u.nextElementSibling)==null||p.classList.remove("hidden")}}),s.jsx(XA,{className:"w-6 h-6 text-gray-400 hidden"})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h4",{className:"font-medium text-gray-900",children:h.name}),s.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${d(h.type)}`,children:c(h.type)})]}),s.jsxs("p",{className:"text-sm text-gray-500",children:[h.size,"  Enviado em ",h.uploadDate]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ne,{variant:"outline",size:"sm",onClick:()=>window.open(h.url,"_blank"),children:s.jsx(Ba,{className:"h-4 w-4"})}),s.jsx(ne,{variant:"outline",size:"sm",onClick:()=>l(h.id),className:"text-red-600 hover:text-red-700",children:s.jsx(ha,{className:"h-4 w-4"})})]})]},h.id)),i.length===0&&s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(XA,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"Nenhum asset encontrado"}),s.jsx("p",{className:"text-sm",children:"Faa upload de arquivos para comear"})]})]})})]})]}),s.jsxs(Ee,{children:[s.jsx(He,{children:s.jsx(Ke,{children:"Diretrizes para Assets"})}),s.jsx(Ue,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Logo Principal"}),s.jsxs("ul",{className:"text-gray-600 space-y-1",children:[s.jsx("li",{children:" Formato: PNG, SVG prefervel"}),s.jsx("li",{children:" Tamanho: 200x60px ideal"}),s.jsx("li",{children:" Fundo transparente"})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Favicon"}),s.jsxs("ul",{className:"text-gray-600 space-y-1",children:[s.jsx("li",{children:" Formato: ICO, PNG"}),s.jsx("li",{children:" Tamanho: 16x16, 32x32px"}),s.jsx("li",{children:" Design simples"})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Imagem de Fundo"}),s.jsxs("ul",{className:"text-gray-600 space-y-1",children:[s.jsx("li",{children:" Formato: JPG, PNG"}),s.jsx("li",{children:" Resoluo: 1920x1080px"}),s.jsx("li",{children:" Otimizada para web"})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Geral"}),s.jsxs("ul",{className:"text-gray-600 space-y-1",children:[s.jsx("li",{children:" Tamanho mximo: 5MB"}),s.jsx("li",{children:" Nomes descritivos"}),s.jsx("li",{children:" Qualidade otimizada"})]})]})]})})]})]})})}var nw="Progress",iw=100,[Hz,Eq]=mi(nw),[Kz,$z]=Hz(nw),q3=b.forwardRef((e,t)=>{const d=e,{__scopeProgress:r,value:a=null,max:n,getValueLabel:i=Vz}=d,o=he(d,["__scopeProgress","value","max","getValueLabel"]);(n||n===0)&&!T5(n)&&console.error(zz(`${n}`,"Progress"));const A=T5(n)?n:iw;a!==null&&!R5(a,A)&&console.error(qz(`${a}`,"Progress"));const l=R5(a,A)?a:null,c=tp(l)?i(l,A):void 0;return s.jsx(Kz,{scope:r,value:l,max:A,children:s.jsx(vr.div,M(_({"aria-valuemax":A,"aria-valuemin":0,"aria-valuenow":tp(l)?l:void 0,"aria-valuetext":c,role:"progressbar","data-state":J3(l,A),"data-value":l!=null?l:void 0,"data-max":A},o),{ref:t}))})});q3.displayName=nw;var G3="ProgressIndicator",W3=b.forwardRef((e,t)=>{var o;const i=e,{__scopeProgress:r}=i,a=he(i,["__scopeProgress"]),n=$z(G3,r);return s.jsx(vr.div,M(_({"data-state":J3(n.value,n.max),"data-value":(o=n.value)!=null?o:void 0,"data-max":n.max},a),{ref:t}))});W3.displayName=G3;function Vz(e,t){return`${Math.round(e/t*100)}%`}function J3(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function tp(e){return typeof e=="number"}function T5(e){return tp(e)&&!isNaN(e)&&e>0}function R5(e,t){return tp(e)&&!isNaN(e)&&e<=t&&e>=0}function zz(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${iw}\`.`}function qz(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${iw} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var X3=q3,Gz=W3;const Y3=b.forwardRef((n,a)=>{var i=n,{className:e,value:t}=i,r=he(i,["className","value"]);return s.jsx(X3,M(_({ref:a,className:ze("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e)},r),{children:s.jsx(Gz,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}))});Y3.displayName=X3.displayName;function Wz(){const e=Zr(),{toast:t}=ir(),[r,a]=b.useState(!1),[n,i]=b.useState(0),[o,A]=b.useState([{id:"1",name:"Conexo com Banco de Dados",status:"pending"},{id:"2",name:"Autenticao de Usurios",status:"pending"},{id:"3",name:"API de Pacientes",status:"pending"},{id:"4",name:"Sistema de Cuidados",status:"pending"},{id:"5",name:"Relatrios e Exportao",status:"pending"},{id:"6",name:"Notificaes",status:"pending"},{id:"7",name:"Backup Automtico",status:"pending"},{id:"8",name:"Segurana e Permisses",status:"pending"}]),l=()=>Ae(this,null,function*(){a(!0),i(0),A(x=>x.map(B=>M(_({},B),{status:"pending"})));for(let x=0;x<o.length;x++){const B=o[x];A(I=>I.map(U=>U.id===B.id?M(_({},U),{status:"running"}):U));const j=Math.random()*2e3+500;yield new Promise(I=>setTimeout(I,j));const w=Math.random()>.1,N=M(_({},B),{status:w?"passed":"failed",duration:Math.round(j),error:w?void 0:"Erro simulado para demonstrao"});A(I=>I.map(U=>U.id===B.id?N:U)),i((x+1)/o.length*100)}a(!1);const g=o.filter(x=>x.status==="passed").length,y=o.length;t({title:"Testes concludos!",description:`${g}/${y} testes passaram com sucesso.`,variant:g===y?"default":"destructive"})}),c=g=>Ae(this,null,function*(){const y=o.find(w=>w.id===g);if(!y)return;A(w=>w.map(N=>N.id===g?M(_({},N),{status:"running"}):N));const x=Math.random()*2e3+500;yield new Promise(w=>setTimeout(w,x));const B=Math.random()>.1,j=M(_({},y),{status:B?"passed":"failed",duration:Math.round(x),error:B?void 0:"Erro simulado para demonstrao"});A(w=>w.map(N=>N.id===g?j:N))}),d=g=>{switch(g){case"passed":return s.jsx(Rr,{className:"h-5 w-5 text-green-500"});case"failed":return s.jsx(ax,{className:"h-5 w-5 text-red-500"});case"running":return s.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-blue-500"});default:return s.jsx(Yr,{className:"h-5 w-5 text-gray-400"})}},h=g=>{switch(g){case"passed":return s.jsx(At,{variant:"default",className:"bg-green-500",children:"Passou"});case"failed":return s.jsx(At,{variant:"destructive",children:"Falhou"});case"running":return s.jsx(At,{variant:"secondary",children:"Executando"});default:return s.jsx(At,{variant:"outline",children:"Pendente"})}},m=o.filter(g=>g.status==="passed").length,u=o.filter(g=>g.status==="failed").length,p=o.length;return s.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:s.jsxs("div",{className:"max-w-6xl mx-auto space-y-6 px-2 sm:px-0",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs(ne,{variant:"outline",size:"sm",onClick:()=>e("/super-admin/dashboard"),children:[s.jsx(zi,{className:"h-4 w-4 mr-2"}),"Voltar"]}),s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-2",children:[s.jsx(du,{className:"h-8 w-8 text-cyan-600"}),"Testes do Sistema"]}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Execute testes automatizados para verificar a integridade do sistema"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx(Ee,{children:s.jsx(Ue,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Total de Testes"}),s.jsx("p",{className:"text-2xl font-bold",children:p})]}),s.jsx(du,{className:"h-8 w-8 text-gray-400"})]})})}),s.jsx(Ee,{children:s.jsx(Ue,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Testes Passaram"}),s.jsx("p",{className:"text-2xl font-bold text-green-600",children:m})]}),s.jsx(Rr,{className:"h-8 w-8 text-green-500"})]})})}),s.jsx(Ee,{children:s.jsx(Ue,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Testes Falharam"}),s.jsx("p",{className:"text-2xl font-bold text-red-600",children:u})]}),s.jsx(ax,{className:"h-8 w-8 text-red-500"})]})})}),s.jsx(Ee,{children:s.jsx(Ue,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Taxa de Sucesso"}),s.jsxs("p",{className:"text-2xl font-bold",children:[p>0?Math.round(m/p*100):0,"%"]})]}),s.jsx("div",{className:"text-2xl",children:""})]})})})]}),s.jsxs(Ee,{children:[s.jsxs(He,{children:[s.jsx(Ke,{children:"Controles de Teste"}),s.jsx(St,{children:"Execute todos os testes ou testes individuais"})]}),s.jsx(Ue,{children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs(ne,{onClick:l,disabled:r,className:"flex items-center gap-2",children:[s.jsx(cx,{className:"h-4 w-4"}),r?"Executando Testes...":"Executar Todos os Testes"]}),r&&s.jsx("div",{className:"flex-1 max-w-md",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Y3,{value:n,className:"flex-1"}),s.jsxs("span",{className:"text-sm text-gray-600",children:[Math.round(n),"%"]})]})})]})})]}),s.jsxs(Ee,{children:[s.jsxs(He,{children:[s.jsx(Ke,{children:"Resultados dos Testes"}),s.jsx(St,{children:"Status detalhado de cada teste do sistema"})]}),s.jsx(Ue,{children:s.jsx("div",{className:"space-y-4",children:o.map(g=>s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-gray-50",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[d(g.status),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900",children:g.name}),g.duration&&s.jsxs("p",{className:"text-sm text-gray-500",children:["Executado em ",g.duration,"ms"]}),g.error&&s.jsx("p",{className:"text-sm text-red-600",children:g.error})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[h(g.status),s.jsx(ne,{variant:"outline",size:"sm",onClick:()=>c(g.id),disabled:g.status==="running"||r,children:s.jsx(cx,{className:"h-4 w-4"})})]})]},g.id))})})]})]})})}const Jz=()=>{const{sessionId:e}=ll(),t=Zr(),{toast:r}=ir(),[a,n]=b.useState(!1),[i,o]=b.useState(!1),[A,l]=b.useState(null),[c,d]=b.useState(!0);b.useEffect(()=>{(!e||!e.startsWith("qr_"))&&(d(!1),r({title:"Sesso Invlida",description:"O QR Code escaneado no  vlido ou expirou",variant:"destructive"}))},[e,r]);const h=u=>Ae(void 0,null,function*(){o(!0),n(!1);try{yield new Promise(p=>setTimeout(p,1e3)),l(u),r({title:"Receita Processada",description:"Dados extrados com sucesso da receita mdica",variant:"default"})}catch(p){console.error("Erro ao processar dados:",p),r({title:"Erro",description:"No foi possvel processar a receita",variant:"destructive"})}finally{o(!1)}}),m=()=>{if(!(!A||!e))try{localStorage.setItem(`qr_session_${e}`,JSON.stringify(A)),r({title:"Dados Enviados",description:"Os dados foram enviados para o sistema desktop",variant:"default"}),setTimeout(()=>{t("/")},2e3)}catch(u){console.error("Erro ao enviar dados:",u),r({title:"Erro",description:"No foi possvel enviar os dados",variant:"destructive"})}};return c?s.jsx("div",{className:"min-h-screen bg-gray-50 p-4",children:s.jsxs("div",{className:"max-w-md mx-auto",children:[s.jsxs(Ee,{children:[s.jsxs(He,{className:"text-center",children:[s.jsx(On,{className:"h-12 w-12 text-blue-500 mx-auto mb-4"}),s.jsx(Ke,{children:"Capturar Receita Mdica"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Use a cmera do seu celular para capturar a receita"})]}),s.jsxs(Ue,{className:"space-y-4",children:[!A&&!i&&s.jsxs(s.Fragment,{children:[s.jsxs(ne,{onClick:()=>n(!0),className:"w-full",size:"lg",children:[s.jsx(On,{className:"h-5 w-5 mr-2"}),"Abrir Cmera"]}),s.jsx("div",{className:"text-center",children:s.jsxs("p",{className:"text-xs text-gray-500",children:["Sesso: ",e]})})]}),i&&s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Processando receita..."})]}),A&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx(Rr,{className:"h-12 w-12 text-green-500 mx-auto mb-4"}),s.jsx("h3",{className:"font-semibold text-green-600",children:"Receita Processada!"})]}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg space-y-2",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Medicamento:"}),s.jsx("p",{className:"text-gray-700",children:A.name})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Dosagem:"}),s.jsx("p",{className:"text-gray-700",children:A.dosage})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Frequncia:"}),s.jsx("p",{className:"text-gray-700",children:A.frequency})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Durao:"}),s.jsx("p",{className:"text-gray-700",children:A.duration})]}),A.instructions&&s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Instrues:"}),s.jsx("p",{className:"text-gray-700",children:A.instructions})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(ne,{onClick:m,className:"w-full",size:"lg",children:[s.jsx(Ji,{className:"h-5 w-5 mr-2"}),"Enviar para Desktop"]}),s.jsx(ne,{onClick:()=>{l(null),n(!0)},variant:"outline",className:"w-full",children:"Capturar Novamente"})]})]})]})]}),a&&s.jsx(aw,{isOpen:a,onClose:()=>n(!1),onDataExtracted:h})]})}):s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:s.jsxs(Ee,{className:"w-full max-w-md",children:[s.jsxs(He,{className:"text-center",children:[s.jsx(Ts,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),s.jsx(Ke,{className:"text-red-600",children:"Sesso Invlida"})]}),s.jsxs(Ue,{className:"text-center",children:[s.jsx("p",{className:"text-gray-600 mb-4",children:"O QR Code escaneado no  vlido ou expirou."}),s.jsx(ne,{onClick:()=>t("/"),className:"w-full",children:"Voltar ao Incio"})]})]})})},Xz=new j6,Yz=()=>{const e=rA(),[t,r]=b.useState(!1),n=La().pathname.startsWith("/family/"),i=!e;return s.jsxs(s.Fragment,{children:[s.jsx(fL,{children:s.jsxs(gI,{children:[s.jsx(gr,{path:"/login",element:s.jsx(Cz,{})}),s.jsx(gr,{path:"/family/login",element:s.jsx(Iz,{})}),s.jsx(gr,{path:"/family/:patientId/:token",element:s.jsx(ex,{})}),s.jsx(gr,{path:"/family/:patientId/:token/dashboard",element:s.jsx(ex,{})}),s.jsx(gr,{path:"/family/:patientId/:token/care",element:s.jsx(Uz,{})}),s.jsx(gr,{path:"/family/:patientId/:token/medical",element:s.jsx(ex,{})}),s.jsx(gr,{path:"/demo",element:s.jsx(Qz,{})}),s.jsx(gr,{path:"/demo/signup",element:s.jsx(kz,{})}),s.jsx(gr,{path:"/demo/login",element:s.jsx(Lz,{})}),s.jsx(gr,{path:"/demo/dashboard",element:s.jsx(E2,{children:s.jsx(ab,{})})}),s.jsx(gr,{path:"/mobile-capture/:sessionId",element:s.jsx(Jz,{})}),s.jsx(gr,{path:"/super-admin/login",element:s.jsx(Dz,{})}),s.jsx(gr,{path:"/super-admin/login-simple",element:s.jsx(Pz,{})}),s.jsx(gr,{path:"/super-admin/dashboard",element:s.jsx(pd,{children:s.jsx(Mz,{})})}),s.jsx(gr,{path:"/super-admin/create-client",element:s.jsx(pd,{children:s.jsx(Tz,{})})}),s.jsx(gr,{path:"/super-admin/client/:clientId/theme",element:s.jsx(pd,{children:s.jsx(Rz,{})})}),s.jsx(gr,{path:"/super-admin/client/:clientId/assets",element:s.jsx(pd,{children:s.jsx(Oz,{})})}),s.jsx(gr,{path:"/super-admin/tests",element:s.jsx(pd,{children:s.jsx(Wz,{})})}),s.jsxs(gr,{path:"/",element:s.jsx(U2,{children:s.jsx(E2,{children:s.jsx(mI,{})})}),children:[s.jsx(gr,{index:!0,element:s.jsx(ab,{})}),s.jsx(gr,{path:"patients",element:s.jsx(G8,{})}),s.jsx(gr,{path:"care",element:s.jsx(ib,{})}),s.jsx(gr,{path:"care/:patientId",element:s.jsx(ib,{})}),s.jsx(gr,{path:"medical-records",element:s.jsx(V3,{})}),s.jsx(gr,{path:"medication-plan",element:s.jsx(M5,{})}),s.jsx(gr,{path:"medication-plan/:patientId",element:s.jsx(M5,{})}),s.jsx(gr,{path:"reports",element:s.jsx(B3,{})}),s.jsx(gr,{path:"settings",element:s.jsx(U2,{requiredRole:"admin",children:s.jsx(MK,{})})}),s.jsx(gr,{path:"*",element:s.jsx(Nz,{})})]})]})}),!i&&s.jsx(pL,{}),!n&&s.jsxs(s.Fragment,{children:[s.jsx(F8,{onClick:()=>r(!0),isOpen:t}),s.jsx(S8,{isOpen:t,onToggle:()=>r(!t)})]})]})},Zz=()=>s.jsx(N6,{client:Xz,children:s.jsxs(YB,{children:[s.jsx(rU,{}),s.jsx(kU,{}),s.jsx(II,{children:s.jsx(CI,{children:s.jsx(Yz,{})})})]})});let O5;function eq(e){e.classList.add("scrolling"),clearTimeout(O5),O5=setTimeout(()=>{e.classList.remove("scrolling")},1e3)}function Cv(){document.querySelectorAll("*").forEach(t=>{const r=t.scrollHeight>t.clientHeight,a=t.scrollWidth>t.clientWidth;(r||a)&&t.addEventListener("scroll",()=>eq(t),{passive:!0})})}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",Cv):Cv();const tq=new MutationObserver(()=>{Cv()});tq.observe(document.body,{childList:!0,subtree:!0});NB(document.getElementById("root")).render(s.jsx(Zz,{}));export{Br as _};
